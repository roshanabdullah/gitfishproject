{"ast":null,"code":"var Sr = Object.defineProperty,\n    os = Object.defineProperties;\nvar ns = Object.getOwnPropertyDescriptors;\nvar Mt = Object.getOwnPropertySymbols;\nvar No = Object.prototype.hasOwnProperty,\n    Fo = Object.prototype.propertyIsEnumerable;\n\nvar Oo = (e, t, r) => t in e ? Sr(e, t, {\n  enumerable: !0,\n  configurable: !0,\n  writable: !0,\n  value: r\n}) : e[t] = r,\n    y = (e, t) => {\n  for (var r in t || (t = {})) No.call(t, r) && Oo(e, r, t[r]);\n\n  if (Mt) for (var r of Mt(t)) Fo.call(t, r) && Oo(e, r, t[r]);\n  return e;\n},\n    D = (e, t) => os(e, ns(t));\n\nvar n = (e, t) => Sr(e, \"name\", {\n  value: t,\n  configurable: !0\n});\n\nvar Ae = e => typeof e == \"symbol\" ? e : e + \"\",\n    N = (e, t) => {\n  var r = {};\n\n  for (var o in e) No.call(e, o) && t.indexOf(o) < 0 && (r[o] = e[o]);\n\n  if (e != null && Mt) for (var o of Mt(e)) t.indexOf(o) < 0 && Fo.call(e, o) && (r[o] = e[o]);\n  return r;\n};\n\nvar as = (e, t) => {\n  for (var r in t) Sr(e, r, {\n    get: t[r],\n    enumerable: !0\n  });\n};\n\nimport * as so from \"react\";\nimport * as ge from \"react\";\nimport { useMemo as eo } from \"react\";\nimport { QueryClientProvider as Xc, QueryClient as eu } from \"react-query\";\nimport * as Le from \"react\";\nimport { useMemo as ls } from \"react\";\nimport { useInRouterContext as ds } from \"react-router-dom\";\nimport { createHashHistory as ps } from \"history\";\nimport * as Uo from \"react\";\nimport { useLayoutEffect as ss, useState as is } from \"react\";\nimport { Router as cs } from \"react-router\";\n\nfunction ko(_ref) {\n  let {\n    basename: e,\n    children: t,\n    history: r\n  } = _ref;\n  let [o, a] = is({\n    action: r.action,\n    location: r.location\n  });\n  return ss(() => r.listen(a), [r]), Uo.createElement(cs, {\n    basename: e,\n    children: t,\n    location: o.location,\n    navigationType: o.action,\n    navigator: r\n  });\n}\n\nn(ko, \"HistoryRouter\");\nimport * as jo from \"react\";\nimport { createContext as us } from \"react\";\nvar St = us(\"\");\nvar Vo = n(_ref2 => {\n  let {\n    children: e,\n    basename: t\n  } = _ref2;\n  return jo.createElement(St.Provider, {\n    value: t\n  }, e);\n}, \"BasenameContextProvider\");\nvar Go = n(_ref3 => {\n  let {\n    history: e,\n    basename: t = \"\",\n    children: r\n  } = _ref3;\n  let o = ds();\n  return Le.createElement(Vo, {\n    basename: o ? t : \"\"\n  }, Le.createElement(o ? ms : fs, {\n    basename: t,\n    history: e\n  }, r));\n}, \"AdminRouter\"),\n    ms = n(_ref4 => {\n  let {\n    children: e\n  } = _ref4;\n  return Le.createElement(Le.Fragment, null, e);\n}, \"DummyRouter\"),\n    fs = n(_ref5 => {\n  let {\n    children: e,\n    history: t\n  } = _ref5;\n  let r = ls(() => t || ps(), [t]);\n  return Le.createElement(ko, {\n    history: r\n  }, e);\n}, \"InternalRouter\");\nvar Gm = n(function (e, t) {\n  let r = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \"edit\";\n  let o = `${e}/${encodeURIComponent(t)}`;\n  return r === \"show\" ? `${o}/show` : o;\n}, \"linkToRecord\");\n\nvar _m = n(function (e, t, r, o) {\n  let a = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : \"\";\n\n  if (typeof e == \"function\") {\n    let s = e(t, r, o);\n    return typeof s == \"string\" ? Ne(`${a}/${s}`) : y({\n      pathname: Ne(`${a}/${s.pathname}`)\n    }, s);\n  }\n\n  switch (e) {\n    case \"list\":\n      return Ne(`${a}/${t}`);\n\n    case \"create\":\n      return Ne(`${a}/${t}/create`);\n\n    case \"edit\":\n      return Ne(`${a}/${t}/${encodeURIComponent(r)}`);\n\n    case \"show\":\n      return Ne(`${a}/${t}/${encodeURIComponent(r)}/show`);\n\n    default:\n      return e;\n  }\n}, \"resolveRedirectTo\"),\n    Ne = n(e => e.replace(\"//\", \"/\"), \"removeDoubleSlashes\");\n\nimport { useContext as ys } from \"react\";\nvar se = n(() => ys(St), \"useBasename\");\nimport { useCallback as gs } from \"react\";\nvar Lt = n(() => {\n  let e = se();\n  return gs(_ref6 => {\n    let {\n      resource: t,\n      id: r,\n      type: o\n    } = _ref6;\n\n    switch (o) {\n      case \"list\":\n        return ie(`${e}/${t}`);\n\n      case \"create\":\n        return ie(`${e}/${t}/create`);\n\n      case \"edit\":\n        return ie(`${e}/${t}/${encodeURIComponent(r)}`);\n\n      case \"show\":\n        return ie(`${e}/${t}/${encodeURIComponent(r)}/show`);\n\n      default:\n        return o;\n    }\n  }, [e]);\n}, \"useCreatePath\"),\n    ie = n(e => e.replace(\"//\", \"/\"), \"removeDoubleSlashes\");\nimport { useCallback as Rs } from \"react\";\nimport { useNavigate as Ps } from \"react-router-dom\";\nimport { parsePath as hs } from \"history\";\nvar ce = n(() => {\n  let e = Ps(),\n      t = se(),\n      r = Lt();\n  return Rs(function (o) {\n    let a = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"\";\n    let s = arguments.length > 2 ? arguments[2] : undefined;\n    let i = arguments.length > 3 ? arguments[3] : undefined;\n    let u = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : {};\n    if (o) {\n      if (typeof o == \"function\") {\n        let c = o(a, s, i),\n            l = typeof c == \"string\" ? `${t}/${c}` : y({\n          pathname: `${t}/${c.pathname}`\n        }, c);\n        e(typeof l == \"string\" ? hs(l) : l, {\n          state: y({\n            _scrollToTop: !0\n          }, u)\n        });\n        return;\n      } else if (typeof o == \"string\" && o.startsWith(\"http\") && window) {\n        window.location.href = o;\n        return;\n      } else {\n        e(r({\n          resource: a,\n          id: s,\n          type: o\n        }), {\n          state: y({\n            _scrollToTop: !0\n          }, u)\n        });\n        return;\n      }\n    } else return;\n  }, [e, t, r]);\n}, \"useRedirect\");\nimport { useEffect as xs } from \"react\";\nimport { useLocation as Cs } from \"react-router-dom\";\nvar Qo = n(() => {\n  let e = Cs();\n  xs(() => {\n    var t;\n    ((t = e.state) == null ? void 0 : t._scrollToTop) && typeof window != \"undefined\" && window.scrollTo(0, 0);\n  }, [e]);\n}, \"useScrollToTop\");\nimport { createContext as Ts } from \"react\";\n\nvar Ms = {\n  id: \"\"\n},\n    Ss = {\n  login: () => Promise.resolve(),\n  logout: () => Promise.resolve(),\n  checkAuth: () => Promise.resolve(),\n  checkError: () => Promise.resolve(),\n  getPermissions: () => Promise.resolve(),\n  getIdentity: () => Promise.resolve(Ms)\n},\n    _o = Ts(Ss);\n\n_o.displayName = \"AuthContext\";\nvar Ye = _o;\nimport { useContext as Ls } from \"react\";\nvar Fe = {\n  loginUrl: \"/login\",\n  afterLoginUrl: \"/\"\n},\n    bs = n(() => Ls(Ye), \"useAuthProvider\"),\n    ee = bs;\nimport { useEffect as wi } from \"react\";\nimport { useCallback as Ei } from \"react\";\nimport { useCallback as mn, useEffect as Mi, useRef as fn } from \"react\";\nvar fe = \"RaStore\",\n    bt = fe.length,\n    Es = n(() => {\n  if (typeof window == \"undefined\" || window.localStorage == null) return !1;\n\n  try {\n    return window.localStorage.setItem(\"test\", \"test\"), window.localStorage.removeItem(\"test\"), !0;\n  } catch {\n    return !1;\n  }\n}, \"testLocalStorage\"),\n    Lr = Es(),\n    pf = n(function () {\n  let e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"1\";\n  let t = {},\n      r = n((a, s) => {\n    Object.keys(t).forEach(i => {\n      !t[i] || t[i].key === a && t[i].callback(s);\n    });\n  }, \"publish\"),\n      o = n(a => {\n    if (a.key.substring(0, bt) !== fe) return;\n    let s = a.key.substring(bt + 1),\n        i = zo(a.newValue);\n    Object.keys(t).forEach(u => {\n      !t[u] || t[u].key === s && (i === null ? t[u].callback(void 0) : t[u].callback(i == null ? void 0 : i));\n    });\n  }, \"onLocalStorageChange\");\n  return {\n    setup: () => {\n      if (Lr) {\n        let a = Re().getItem(`${fe}.version`);\n        a && a !== e && Re().clear(), Re().setItem(`${fe}.version`, e), window.addEventListener(\"storage\", o);\n      }\n    },\n    teardown: () => {\n      Lr && window.removeEventListener(\"storage\", o);\n    },\n\n    getItem(a, s) {\n      let i = zo(Re().getItem(`${fe}.${a}`));\n      return i == null ? s : i;\n    },\n\n    setItem(a, s) {\n      s === void 0 ? Re().removeItem(`${fe}.${a}`) : Re().setItem(`${fe}.${a}`, JSON.stringify(s)), r(a, s);\n    },\n\n    removeItem(a) {\n      Re().removeItem(`${fe}.${a}`), r(a, void 0);\n    },\n\n    reset() {\n      let a = Re();\n\n      for (let s = 0; s < a.length; s++) if (a.key(s).substring(0, bt) === fe) {\n        let i = a.key(s).substring(bt + 1);\n        a.removeItem(a.key(s)), r(i, void 0);\n      }\n    },\n\n    subscribe: (a, s) => {\n      let i = Math.random().toString();\n      return t[i] = {\n        key: a,\n        callback: s\n      }, () => {\n        delete t[i];\n      };\n    }\n  };\n}, \"localStorageStore\"),\n    zo = n(e => {\n  try {\n    return JSON.parse(e);\n  } catch {\n    return e;\n  }\n}, \"tryParse\"),\n    br = class {\n  constructor() {\n    this.valuesMap = new Map();\n  }\n\n  getItem(t) {\n    return this.valuesMap.has(t) ? String(this.valuesMap.get(t)) : null;\n  }\n\n  setItem(t, r) {\n    this.valuesMap.set(t, r);\n  }\n\n  removeItem(t) {\n    this.valuesMap.delete(t);\n  }\n\n  clear() {\n    this.valuesMap.clear();\n  }\n\n  key(t) {\n    if (arguments.length === 0) throw new TypeError(\"Failed to execute 'key' on 'Storage': 1 argument required, but only 0 present.\");\n    return Array.from(this.valuesMap.keys())[t];\n  }\n\n  get length() {\n    return this.valuesMap.size;\n  }\n\n};\nn(br, \"LocalStorageShim\");\nvar vs = new br(),\n    Re = n(() => Lr ? window.localStorage : vs, \"getStorage\");\nimport Ds from \"lodash/set\";\nimport Ho from \"lodash/unset\";\nimport ws from \"lodash/get\";\nvar Et = n(function () {\n  let e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  let t = {},\n      r = n((o, a) => {\n    Object.keys(t).forEach(s => {\n      !t[s] || t[s].key === o && t[s].callback(a);\n    });\n  }, \"publish\");\n  return {\n    setup: () => {},\n    teardown: () => {\n      Object.keys(e).forEach(o => delete e[o]);\n    },\n\n    getItem(o, a) {\n      return ws(e, o, a);\n    },\n\n    setItem(o, a) {\n      Ds(e, o, a), r(o, a);\n    },\n\n    removeItem(o) {\n      Ho(e, o), r(o, void 0);\n    },\n\n    reset() {\n      Object.keys(e).forEach(o => {\n        Ho(e, o), r(o, void 0);\n      });\n    },\n\n    subscribe: (o, a) => {\n      let s = Math.random().toString();\n      return t[s] = {\n        key: o,\n        callback: a\n      }, () => {\n        delete t[s];\n      };\n    }\n  };\n}, \"memoryStore\");\nimport { createContext as Is } from \"react\";\nvar As = Et(),\n    vt = Is(As);\nimport * as Wo from \"react\";\nimport { useEffect as Ns } from \"react\";\nvar Yo = n(_ref7 => {\n  let {\n    value: e,\n    children: t\n  } = _ref7;\n  return Ns(() => (e.setup(), () => {\n    e.teardown();\n  }), [e]), Wo.createElement(vt.Provider, {\n    value: e\n  }, t);\n}, \"StoreContextProvider\");\nimport * as Dt from \"react\";\nimport { useEffect as Os } from \"react\";\nimport { useContext as Fs } from \"react\";\nvar Pe = n(() => Fs(vt), \"useStoreContext\");\nvar wf = n(_ref8 => {\n  let {\n    value: e,\n    name: t,\n    children: r\n  } = _ref8;\n  let {\n    setItem: o\n  } = Pe();\n  return Os(() => {\n    o(t, e);\n  }, [t, o, e]), Dt.createElement(Dt.Fragment, null, r);\n}, \"StoreSetter\");\nimport { useState as xi, useEffect as Ci } from \"react\";\nvar Us = n(e => e.replace(/(\\(|\\))/g, \"\\\\$1\"), \"default\");\nimport * as vr from \"react\";\nimport { memo as ni } from \"react\";\nimport * as qo from \"react\";\nimport Ws from \"lodash/get\";\nimport * as Zo from \"react\";\nimport { useEffect as zs, useState as Bo } from \"react\";\nimport { createContext as ks } from \"react\";\nvar Je = ks({\n  translate: e => e,\n  changeLocale: () => Promise.resolve(),\n  getLocale: () => \"en\"\n});\nJe.displayName = \"I18nContext\";\nimport { useCallback as Gs } from \"react\";\nimport { useContext as Vs } from \"react\";\nimport { createContext as js } from \"react\";\nvar wt = js({\n  notifications: [],\n  addNotification: () => {},\n  takeNotification: () => {},\n  resetNotifications: () => {}\n});\nvar It = n(() => Vs(wt), \"useNotificationContext\");\nvar G = n(() => {\n  let {\n    addNotification: e\n  } = It();\n  return Gs(function (t) {\n    let r = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    let s = r,\n        {\n      type: o = \"info\"\n    } = s,\n        a = N(s, [\"type\"]);\n    e({\n      message: t,\n      type: o,\n      notificationOptions: a\n    });\n  }, [e]);\n}, \"useNotify\");\nimport * as Jo from \"react\";\nimport { useState as Qs, useCallback as Er, useMemo as _s } from \"react\";\nvar $o = n(_ref9 => {\n  let {\n    children: e\n  } = _ref9;\n\n  let [t, r] = Qs([]),\n      o = Er(u => {\n    r(c => [...c, u]);\n  }, []),\n      a = Er(() => {\n    let [u, ...c] = t;\n    return r(c), u;\n  }, [t]),\n      s = Er(() => {\n    r([]);\n  }, []),\n      i = _s(() => ({\n    notifications: t,\n    addNotification: o,\n    takeNotification: a,\n    resetNotifications: s\n  }), [t]);\n\n  return Jo.createElement(wt.Provider, {\n    value: i\n  }, e);\n}, \"NotificationContextProvider\");\nvar At = n(_ref10 => {\n  let {\n    value: e = Hs,\n    children: t\n  } = _ref10;\n  let [r] = ue(\"locale\"),\n      o = G(),\n      [a, s] = Bo(0),\n      [i, u] = Bo(r === e.getLocale());\n  return zs(() => {\n    r && e.getLocale() !== r ? new Promise(c => {\n      c(e.changeLocale(r));\n    }).then(() => {\n      s(c => c + 1), u(!0);\n    }).catch(c => {\n      u(!0), o(\"ra.notification.i18n_error\", {\n        type: \"warning\"\n      }), console.error(c);\n    }) : u(!0);\n  }, [e, r, o]), i ? Zo.createElement(Je.Provider, {\n    value: e,\n    key: a\n  }, t) : null;\n}, \"I18nContextProvider\"),\n    Hs = {\n  translate: e => e,\n  changeLocale: () => Promise.resolve(),\n  getLocale: () => \"en\"\n};\nvar ey = n(_ref11 => {\n  let {\n    translate: e,\n    messages: t,\n    children: r\n  } = _ref11;\n  return qo.createElement(At, {\n    value: {\n      translate: t ? (o, a) => {\n        let s = Ws(t, o);\n        return s ? typeof s == \"function\" ? s(a) : s : a._;\n      } : e,\n      changeLocale: () => Promise.resolve(),\n      getLocale: () => \"en\"\n    }\n  }, r);\n}, \"TestTranslationProvider\");\nimport { createContext as Ys } from \"react\";\nvar Nt = Ys(void 0);\nimport * as Ko from \"react\";\nvar sy = n(_ref12 => {\n  let {\n    children: e,\n    value: t\n  } = _ref12;\n  return Ko.createElement(Nt.Provider, {\n    value: t\n  }, e);\n}, \"TranslatableContextProvider\");\nimport Js from \"lodash/merge\";\nvar ly = n((e, t) => {\n  let {\n    language: r,\n    browserLanguage: o,\n    userLanguage: a\n  } = window.navigator,\n      s = r || o || a || e || Xo;\n  return (t == null ? void 0 : t.fullLocale) ? s : s.split(\"-\")[0];\n}, \"resolveBrowserLocale\"),\n    dy = n(function () {\n  for (var _len = arguments.length, e = new Array(_len), _key = 0; _key < _len; _key++) {\n    e[_key] = arguments[_key];\n  }\n\n  return Js({}, ...e);\n}, \"mergeTranslations\");\nimport { useMemo as Zs } from \"react\";\nimport { useContext as $s } from \"react\";\nvar Ft = n(() => $s(Je), \"useI18nProvider\");\nvar Oe = n(() => {\n  let e = Ft(),\n      t = Zs(() => e.getLocale(), [e]);\n  return ue(\"locale\", t);\n}, \"useLocaleState\");\nvar Cy = n(() => {\n  let [e] = Oe();\n  return e;\n}, \"useLocale\");\nvar Sy = n(() => {\n  let [, e] = Oe();\n  return e;\n}, \"useSetLocale\");\nimport { useState as Ks, useMemo as Xs } from \"react\";\nimport { useCallback as Bs } from \"react\";\n\nvar _ = n(() => {\n  let e = Ft(),\n      t = Bs((r, o) => e.translate(r, o), [e]);\n  return e ? t : qs;\n}, \"useTranslate\"),\n    qs = n(e => e, \"identity\");\n\nvar Fy = n(e => {\n  let [t] = Oe(),\n      {\n    defaultLocale: r = t,\n    locales: o\n  } = e,\n      [a, s] = Ks(r),\n      i = H({}),\n      u = _();\n\n  return Xs(() => ({\n    getSource: function (l) {\n      let m = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : a;\n      return `${l}.${m}`;\n    },\n    getLabel: (l, m) => u(...$e({\n      source: l,\n      resource: i,\n      label: m\n    })),\n    locales: o,\n    selectedLocale: a,\n    selectLocale: s\n  }), [o, i, a, u]);\n}, \"useTranslatable\");\nimport { useContext as ei } from \"react\";\nvar Vy = n(() => {\n  let e = ei(Nt);\n  if (!e) throw new Error(\"useTranslatableContext must be used inside a TranslatableContextProvider\");\n  return e;\n}, \"useTranslatableContext\");\nvar Xo = \"en\";\nimport ti from \"inflection\";\nvar $e = n(e => {\n  if (!e) return [\"\"];\n  let {\n    label: t,\n    resource: r,\n    source: o\n  } = e;\n  return typeof t != \"undefined\" ? [t, {\n    _: t\n  }] : typeof o != \"undefined\" ? [`resources.${r}.fields.${o}`, {\n    _: ti.transform(o, [\"underscore\", \"humanize\"])\n  }] : [\"\"];\n}, \"default\");\nimport { useContext as oi } from \"react\";\nimport { createContext as ri } from \"react\";\nvar Ot = ri(void 0);\nvar H = n(e => {\n  let t = oi(Ot);\n  return e && e.resource || t;\n}, \"useResourceContext\");\nvar en = n(e => {\n  let {\n    source: t,\n    label: r,\n    isRequired: o\n  } = e,\n      a = H(e),\n      s = _();\n\n  return r === !1 || r === \"\" ? null : r && typeof r != \"string\" ? r : vr.createElement(\"span\", null, s(...$e({\n    label: r,\n    resource: a,\n    source: t\n  })), o && vr.createElement(\"span\", {\n    \"aria-hidden\": \"true\"\n  }, \"\\u2009*\"));\n}, \"FieldTitle\");\nen.displayName = \"FieldTitle\";\nvar ai = ni(en);\nimport { isValidElementType as si } from \"react-is\";\nvar ii = n((e, t, r) => {\n  if (e[t] && !si(e[t])) return new Error(`Invalid prop '${t}' supplied to '${r}': the prop is not a valid React component`);\n}, \"default\");\n\nfunction tn(e, t) {\n  return e === t ? e !== 0 || t !== 0 || 1 / e === 1 / t : e !== e && t !== t;\n}\n\nn(tn, \"is\");\nvar rn = n((e, t) => {\n  if (tn(e, t)) return !0;\n  if (typeof e != \"object\" || e === null || typeof t != \"object\" || t === null) return !1;\n  let r = Object.keys(e),\n      o = Object.keys(t);\n  if (r.length !== o.length) return !1;\n\n  for (let a = 0; a < r.length; a++) if (!Object.prototype.hasOwnProperty.call(t, r[a]) || !tn(e[r[a]], t[r[a]])) return !1;\n\n  return !0;\n}, \"shallowEqual\");\nvar ci = n(e => e && Object.prototype.toString.call(e) === \"[object Object]\", \"isObject\"),\n    ui = n(e => e instanceof Date ? !1 : e === \"\" || e === null || e === void 0 || rn(e, {}), \"isEmpty\"),\n    on = n(e => Object.keys(e).reduce((t, r) => {\n  let o = e[r];\n  return ci(e[r]) && (o = on(e[r])), ui(o) ? t : D(y({}, t), {\n    [r]: o\n  });\n}, {}), \"removeEmpty\"),\n    X = on;\nvar nn = n((e, t) => Object.keys(e).reduce((r, o) => o !== t ? Object.assign({}, r, {\n  [o]: e[o]\n}) : r, {}), \"removeKey\"),\n    an = n((e, t) => {\n  let r = t.split(\".\");\n  if (r.length === 1) return nn(e, t);\n  let o = r[0];\n  if (e[o] === void 0) return e;\n  let a = an(e[o], r.slice(1).join(\".\"));\n  return Object.keys(a).length === 0 ? nn(e, o) : Object.assign({}, e, {\n    [o]: a\n  });\n}, \"deepRemoveKey\"),\n    Dr = an;\nimport * as Z from \"react\";\nimport { useState as li } from \"react\";\nvar he = {\n  root: {\n    width: \"100vw\",\n    height: \"100vh\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    fontFamily: '\"Roboto\", sans-serif'\n  },\n  main: {\n    flex: 1,\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    textAlign: \"center\",\n    flexDirection: \"column\",\n    background: \"linear-gradient(135deg, #00023b 0%, #00023b 50%, #313264 100%)\",\n    color: \"white\",\n    fontSize: \"1.5em\",\n    fontWeight: \"bold\"\n  },\n  secondary: {\n    height: \"20vh\",\n    background: \"#e8e8e8\",\n    color: \"black\",\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"space-evenly\"\n  },\n  link: {\n    textAlign: \"center\",\n    width: 150,\n    display: \"block\",\n    textDecoration: \"none\",\n    color: \"black\",\n    opacity: .7\n  },\n  linkHovered: {\n    opacity: 1\n  },\n  image: {\n    width: 50\n  },\n  logo: {\n    height: 100\n  }\n},\n    wr = n(_ref13 => {\n  let {\n    img: e,\n    label: t,\n    href: r\n  } = _ref13;\n  let [o, a] = li(!1);\n  return Z.createElement(\"div\", null, Z.createElement(\"a\", {\n    href: r,\n    style: o ? y(y({}, he.link), he.linkHovered) : he.link,\n    onMouseEnter: () => a(!0),\n    onMouseLeave: () => a(!1)\n  }, Z.createElement(\"img\", {\n    src: e,\n    alt: t,\n    style: he.image\n  }), Z.createElement(\"br\", null), t));\n}, \"Button\"),\n    Ir = n(() => process.env.NODE_ENV === \"production\" ? Z.createElement(\"span\", null) : Z.createElement(\"div\", {\n  style: he.root\n}, Z.createElement(\"div\", {\n  style: he.main\n}, Z.createElement(\"img\", {\n  style: he.logo,\n  src: \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIzLjAuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkNhbHF1ZV8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIKCSB2aWV3Qm94PSIwIDAgMTMxIDEzMSIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMTMxIDEzMTsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8c3R5bGUgdHlwZT0idGV4dC9jc3MiPgoJLnN0MHtmaWxsOiMyMjI0NTg7fQoJLnN0MXtmaWxsOiM1MTUzN0Q7fQoJLnN0MntmaWxsOiNBM0E0Qjk7fQoJLnN0M3tmaWxsOiMwMDAyM0I7fQoJLnN0NHtmaWxsOiNGRkZGRkY7fQoJLnN0NXtlbmFibGUtYmFja2dyb3VuZDpuZXcgICAgO30KPC9zdHlsZT4KPHRpdGxlPkxvZ29fc29tYnJlX2FpPC90aXRsZT4KPGcgaWQ9IlJlY3RhbmdsZV81NiI+Cgk8Zz4KCQk8cmVjdCB4PSIxOS4xIiB5PSIxOSIgdHJhbnNmb3JtPSJtYXRyaXgoMC41IC0wLjg2NiAwLjg2NiAwLjUgLTIzLjkyMjYgODkuNTQ2KSIgY2xhc3M9InN0MCIgd2lkdGg9IjkyLjkiIGhlaWdodD0iOTIuOSIvPgoJCTxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik04MywxMzAuM0wwLjgsODIuOUw0OC4yLDAuN2w4Mi4yLDQ3LjVMODMsMTMwLjN6IE0zLjUsODIuMWw3OC43LDQ1LjVsNDUuNS03OC43TDQ5LDMuNEwzLjUsODIuMXoiLz4KCTwvZz4KPC9nPgo8ZyBpZD0iUmVjdGFuZ2xlXzU2LTIiPgoJPGc+CgkJPHJlY3QgeD0iMTkiIHk9IjE5LjEiIHRyYW5zZm9ybT0ibWF0cml4KDAuODY2IC0wLjUgMC41IDAuODY2IC0yMy45Nzc3IDQxLjUyNykiIGNsYXNzPSJzdDAiIHdpZHRoPSI5Mi45IiBoZWlnaHQ9IjkyLjkiLz4KCQk8cGF0aCBjbGFzcz0ic3QyIiBkPSJNNDcuOSwxMzFMMCw0OEw4My4xLDBsNDgsODMuMUw0Ny45LDEzMXogTTQuMSw0OS4xbDQ1LDc3LjlsNzcuOS00NUw4Miw0LjFMNC4xLDQ5LjF6Ii8+Cgk8L2c+CjwvZz4KPGcgaWQ9IlJlY3RhbmdsZV81Ni0zIj4KCTxnPgoJCTxyZWN0IHg9IjE5LjEiIHk9IjE5IiBjbGFzcz0ic3QzIiB3aWR0aD0iOTIuOSIgaGVpZ2h0PSI5Mi45Ii8+CgkJPHBhdGggY2xhc3M9InN0NCIgZD0iTTExNC41LDExNC41SDE2LjZWMTYuNWg5Ny45VjExNC41eiBNMjEuNiwxMDkuNWg4Ny45VjIxLjVIMjEuNlYxMDkuNXoiLz4KCTwvZz4KPC9nPgo8ZyBpZD0iUmEiPgoJPGcgY2xhc3M9InN0NSI+CgkJPHBhdGggY2xhc3M9InN0NCIgZD0iTTU5LDg2LjdsLTYuNy0xOS4yaC0xLjJIMzguOXYxOS4yaC01LjZWMzguNWgxOC41YzMuNiwwLDYuMywwLjYsOC4xLDEuOGMxLjgsMS4yLDMsMi44LDMuNSw0LjgKCQkJYzAuNSwyLDAuOCw0LjYsMC44LDcuOGMwLDMuNS0wLjQsNi40LTEuMyw4LjdjLTAuOCwyLjMtMi42LDMuOS01LjMsNC44TDY1LDg2LjdINTl6IE01NS43LDYxLjZjMS4yLTAuNywyLTEuNywyLjQtMwoJCQljMC40LTEuMywwLjYtMy4yLDAuNi01LjZjMC0yLjUtMC4yLTQuMy0wLjUtNS42Yy0wLjMtMS4zLTEuMS0yLjItMi4zLTIuOWMtMS4yLTAuNy0zLTEtNS41LTFIMzguOXYxOS4xSDUwCgkJCUM1Mi41LDYyLjYsNTQuNCw2Mi4zLDU1LjcsNjEuNnoiLz4KCQk8cGF0aCBjbGFzcz0ic3Q0IiBkPSJNNzQuMyw4NWMtMS42LTEuNS0yLjUtNC4yLTIuNS04LjJjMC0yLjcsMC4zLTQuOCwwLjktNi4zYzAuNi0xLjUsMS42LTIuNiwzLTMuM2MxLjQtMC43LDMuNC0xLDYtMQoJCQljMS4zLDAsNS4xLDAuMSwxMS40LDAuM3YtMi40YzAtMi45LTAuMi01LTAuNy02LjJjLTAuNS0xLjItMS4zLTItMi42LTIuNGMtMS4yLTAuMy0zLjMtMC41LTYuMy0wLjVjLTEuMywwLTMsMC4xLTQuOSwwLjIKCQkJYy0yLDAuMS0zLjYsMC4zLTQuOCwwLjV2LTQuM2MzLjMtMC43LDcuMS0xLDExLjQtMWMzLjcsMCw2LjUsMC40LDguNCwxLjJjMS44LDAuOCwzLjEsMi4yLDMuOCw0LjFjMC43LDEuOSwxLDQuNywxLDguNHYyMi41aC00LjgKCQkJbC0wLjMtNWgtMC4zYy0wLjgsMi4yLTIuMiwzLjctNC4xLDQuNGMtMS45LDAuNy00LjEsMS4xLTYuNiwxLjFDNzguNiw4Ny4yLDc2LDg2LjUsNzQuMyw4NXogTTg5LjEsODJjMS4yLTAuNCwyLjItMS4yLDIuOC0yLjQKCQkJYzAuOS0xLjgsMS4zLTQuMywxLjMtNy4zdi0yaC0xMGMtMS43LDAtMywwLjItMy44LDAuNWMtMC44LDAuMy0xLjQsMC45LTEuNywxLjhjLTAuMywwLjktMC41LDIuMi0wLjUsNGMwLDEuOCwwLjIsMy4xLDAuNiwzLjkKCQkJYzAuNCwwLjgsMS4xLDEuNCwyLDEuOGMxLDAuMywyLjUsMC41LDQuNSwwLjVDODYuMiw4Mi42LDg3LjgsODIuNCw4OS4xLDgyeiIvPgoJPC9nPgo8L2c+Cjwvc3ZnPgo=\",\n  alt: \"react-admin logo\"\n}), Z.createElement(\"h1\", null, \"Welcome to React-admin\"), Z.createElement(\"div\", null, \"Your application is properly configured.\", Z.createElement(\"br\", null), \"Now you can add a <Resource> as child of <Admin>.\")), Z.createElement(\"div\", {\n  style: he.secondary\n}, Z.createElement(wr, {\n  href: \"https://marmelab.com/react-admin/Readme.html\",\n  img: \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIzLjAuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiIHdpZHRoPSIyNHB4IgoJIGhlaWdodD0iMjRweCIgdmlld0JveD0iMCAwIDI0IDI0IiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCAyNCAyNCIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxnIGlkPSJCb3VuZGluZ19Cb3giPgoJPHJlY3QgZmlsbD0ibm9uZSIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0Ii8+CjwvZz4KPGcgaWQ9IkZsYXQiPgoJPGcgaWQ9InVpX3g1Rl9zcGVjX3g1Rl9oZWFkZXJfY29weV8yIj4KCTwvZz4KCTxnPgoJCTxwYXRoIGQ9Ik0yMSw1Yy0xLjExLTAuMzUtMi4zMy0wLjUtMy41LTAuNWMtMS45NSwwLTQuMDUsMC40LTUuNSwxLjVjLTEuNDUtMS4xLTMuNTUtMS41LTUuNS0xLjVTMi40NSw0LjksMSw2djE0LjY1CgkJCWMwLDAuMjUsMC4yNSwwLjUsMC41LDAuNWMwLjEsMCwwLjE1LTAuMDUsMC4yNS0wLjA1QzMuMSwyMC40NSw1LjA1LDIwLDYuNSwyMGMxLjk1LDAsNC4wNSwwLjQsNS41LDEuNWMxLjM1LTAuODUsMy44LTEuNSw1LjUtMS41CgkJCWMxLjY1LDAsMy4zNSwwLjMsNC43NSwxLjA1YzAuMSwwLjA1LDAuMTUsMC4wNSwwLjI1LDAuMDVjMC4yNSwwLDAuNS0wLjI1LDAuNS0wLjVWNkMyMi40LDUuNTUsMjEuNzUsNS4yNSwyMSw1eiBNMywxOC41VjcKCQkJYzEuMS0wLjM1LDIuMy0wLjUsMy41LTAuNWMxLjM0LDAsMy4xMywwLjQxLDQuNSwwLjk5djExLjVDOS42MywxOC40MSw3Ljg0LDE4LDYuNSwxOEM1LjMsMTgsNC4xLDE4LjE1LDMsMTguNXogTTIxLDE4LjUKCQkJYy0xLjEtMC4zNS0yLjMtMC41LTMuNS0wLjVjLTEuMzQsMC0zLjEzLDAuNDEtNC41LDAuOTlWNy40OWMxLjM3LTAuNTksMy4xNi0wLjk5LDQuNS0wLjk5YzEuMiwwLDIuNCwwLjE1LDMuNSwwLjVWMTguNXoiLz4KCQk8cGF0aCBvcGFjaXR5PSIwLjMiIGQ9Ik0xMSw3LjQ5QzkuNjMsNi45MSw3Ljg0LDYuNSw2LjUsNi41QzUuMyw2LjUsNC4xLDYuNjUsMyw3djExLjVDNC4xLDE4LjE1LDUuMywxOCw2LjUsMTgKCQkJYzEuMzQsMCwzLjEzLDAuNDEsNC41LDAuOTlWNy40OXoiLz4KCTwvZz4KCTxnPgoJCTxwYXRoIGQ9Ik0xNy41LDEwLjVjMC44OCwwLDEuNzMsMC4wOSwyLjUsMC4yNlY5LjI0QzE5LjIxLDkuMDksMTguMzYsOSwxNy41LDljLTEuMjgsMC0yLjQ2LDAuMTYtMy41LDAuNDd2MS41NwoJCQlDMTQuOTksMTAuNjksMTYuMTgsMTAuNSwxNy41LDEwLjV6Ii8+CgkJPHBhdGggZD0iTTE3LjUsMTMuMTZjMC44OCwwLDEuNzMsMC4wOSwyLjUsMC4yNlYxMS45Yy0wLjc5LTAuMTUtMS42NC0wLjI0LTIuNS0wLjI0Yy0xLjI4LDAtMi40NiwwLjE2LTMuNSwwLjQ3djEuNTcKCQkJQzE0Ljk5LDEzLjM2LDE2LjE4LDEzLjE2LDE3LjUsMTMuMTZ6Ii8+CgkJPHBhdGggZD0iTTE3LjUsMTUuODNjMC44OCwwLDEuNzMsMC4wOSwyLjUsMC4yNnYtMS41MmMtMC43OS0wLjE1LTEuNjQtMC4yNC0yLjUtMC4yNGMtMS4yOCwwLTIuNDYsMC4xNi0zLjUsMC40N3YxLjU3CgkJCUMxNC45OSwxNi4wMiwxNi4xOCwxNS44MywxNy41LDE1LjgzeiIvPgoJPC9nPgo8L2c+Cjwvc3ZnPgo=\",\n  label: \"Documentation\"\n}), Z.createElement(wr, {\n  href: \"https://github.com/marmelab/react-admin/tree/master/examples\",\n  img: \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBmaWxsPSJub25lIiBkPSJNMCAwaDI0djI0SDBWMHoiLz48cGF0aCBkPSJNOS40IDE2LjZMNC44IDEybDQuNi00LjZMOCA2bC02IDYgNiA2IDEuNC0xLjR6bTUuMiAwbDQuNi00LjYtNC42LTQuNkwxNiA2bDYgNi02IDYtMS40LTEuNHoiLz48L3N2Zz4=\",\n  label: \"Examples\"\n}), Z.createElement(wr, {\n  href: \"https://stackoverflow.com/questions/tagged/react-admin\",\n  img: \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIzLjAuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiIHdpZHRoPSIyNHB4IgoJIGhlaWdodD0iMjRweCIgdmlld0JveD0iMCAwIDI0IDI0IiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCAyNCAyNCIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxnIGlkPSJCb3VuZGluZ19Cb3giPgoJPHJlY3QgZmlsbD0ibm9uZSIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0Ii8+CjwvZz4KPGcgaWQ9IkZsYXQiPgoJPGcgaWQ9InVpX3g1Rl9zcGVjX3g1Rl9oZWFkZXJfY29weV8yIj4KCTwvZz4KCTxnPgoJCTxjaXJjbGUgb3BhY2l0eT0iMC4zIiBjeD0iOSIgY3k9IjgiIHI9IjIiLz4KCQk8cGF0aCBvcGFjaXR5PSIwLjMiIGQ9Ik05LDE1Yy0yLjcsMC01LjgsMS4yOS02LDIuMDFMMywxOGgxMnYtMUMxNC44LDE2LjI5LDExLjcsMTUsOSwxNXoiLz4KCQk8cGF0aCBkPSJNMTYuNjcsMTMuMTNDMTguMDQsMTQuMDYsMTksMTUuMzIsMTksMTd2M2g0di0zQzIzLDE0LjgyLDE5LjQzLDEzLjUzLDE2LjY3LDEzLjEzeiIvPgoJCTxwYXRoIGQ9Ik0xNSwxMmMyLjIxLDAsNC0xLjc5LDQtNGMwLTIuMjEtMS43OS00LTQtNGMtMC40NywwLTAuOTEsMC4xLTEuMzMsMC4yNEMxNC41LDUuMjcsMTUsNi41OCwxNSw4cy0wLjUsMi43My0xLjMzLDMuNzYKCQkJQzE0LjA5LDExLjksMTQuNTMsMTIsMTUsMTJ6Ii8+CgkJPHBhdGggZD0iTTksMTJjMi4yMSwwLDQtMS43OSw0LTRjMC0yLjIxLTEuNzktNC00LTRTNSw1Ljc5LDUsOEM1LDEwLjIxLDYuNzksMTIsOSwxMnogTTksNmMxLjEsMCwyLDAuOSwyLDJjMCwxLjEtMC45LDItMiwyCgkJCVM3LDkuMSw3LDhDNyw2LjksNy45LDYsOSw2eiIvPgoJCTxwYXRoIGQ9Ik05LDEzYy0yLjY3LDAtOCwxLjM0LTgsNHYzaDE2di0zQzE3LDE0LjM0LDExLjY3LDEzLDksMTN6IE0xNSwxOEgzbDAtMC45OUMzLjIsMTYuMjksNi4zLDE1LDksMTVzNS44LDEuMjksNiwyVjE4eiIvPgoJPC9nPgo8L2c+Cjwvc3ZnPgo=\",\n  label: \"Community\"\n}))), \"default\");\nvar Ze = n((e, t) => {\n  e && process.env.NODE_ENV !== \"production\" && console.warn(t);\n}, \"default\");\nimport { useRef as di, useEffect as pi } from \"react\";\n\nfunction sn(e, t) {\n  let r = di();\n  pi(() => {\n    if (r.current) {\n      let o = Object.keys(y(y({}, r.current), t)),\n          a = {};\n      o.forEach(s => {\n        r.current[s] !== t[s] && (a[s] = {\n          from: r.current[s],\n          to: t[s]\n        });\n      }), Object.keys(a).length && console.log(\"[why-did-you-update]\", e, a);\n    }\n\n    r.current = t;\n  });\n}\n\nn(sn, \"useWhyDidYouUpdate\");\nvar mi = n((e, t) => {\n  if (e) return e;\n\n  switch (t) {\n    case !0:\n      return \"undoable\";\n\n    case !1:\n      return \"pessimistic\";\n\n    default:\n      return \"undoable\";\n  }\n}, \"getMutationMode\");\n\nfunction vg(e) {\n  return t => {\n    e.forEach(r => {\n      typeof r == \"function\" ? r(t) : r != null && (r.current = t);\n    });\n  };\n}\n\nn(vg, \"mergeRefs\");\nimport * as Ue from \"react\";\nimport { useCallback as fi } from \"react\";\nvar yi = typeof window != \"undefined\" ? Ue.useLayoutEffect : Ue.useEffect,\n    cn = n((e, t) => {\n  let r = Ue.useRef(() => {\n    throw new Error(\"Cannot call an event handler while rendering.\");\n  });\n  return yi(() => {\n    r.current = e;\n  }, [e, ...t]), fi(function () {\n    return r.current(...arguments);\n  }, []);\n}, \"useEventCallback\");\nimport { useState as gi, useRef as Ut, useEffect as Be, useCallback as Ri } from \"react\";\nimport Pi from \"lodash/isEqual\";\n\nfunction Q(e) {\n  let [t, r] = gi(e),\n      o = Ut(!1);\n  Be(() => (o.current = !0, () => {\n    o.current = !1;\n  }), []);\n  let a = Ri(s => {\n    if (o.current) return r(s);\n  }, [o, r]);\n  return [t, a];\n}\n\nn(Q, \"useSafeSetState\");\n\nfunction hi(e) {\n  let t = Ut();\n  return Be(() => {\n    t.current = e;\n  }), t.current;\n}\n\nn(hi, \"usePrevious\");\n\nfunction Fg(e, t) {\n  let r = Ut();\n  Be(() => (Pi(o, t) || (r.current = e()), r.current));\n  let o = hi(t);\n}\n\nn(Fg, \"useDeepCompareEffect\");\n\nfunction un() {\n  let e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n  let t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"\";\n  let [r, o] = Q(!1);\n  return Be(() => {\n    o(!1);\n    let a = setTimeout(() => {\n      o(!0);\n    }, e);\n    return () => {\n      clearTimeout(a);\n    };\n  }, [t, e, o]), r;\n}\n\nn(un, \"useTimeout\");\n\nfunction ln() {\n  let e = Ut(!0);\n  return Be(() => (e.current = !0, () => {\n    e.current = !1;\n  }), []), e;\n}\n\nn(ln, \"useIsMounted\");\nvar ue = n((e, t) => {\n  let {\n    getItem: r,\n    setItem: o,\n    subscribe: a\n  } = Pe(),\n      [s, i] = xi(() => r(e, t));\n  Ci(() => {\n    let c = a(e, l => {\n      i(typeof l == \"undefined\" ? t : l);\n    });\n    return () => c();\n  }, [e, a, t]);\n  let u = cn((c, l) => {\n    let m = typeof c == \"function\" ? c(s) : c;\n    o(e, typeof m == \"undefined\" ? typeof l == \"undefined\" ? t : l : m);\n  }, [e, o, t, s]);\n  return [s, u];\n}, \"useStore\");\nimport { useCallback as Ti } from \"react\";\nvar dn = n(e => {\n  let {\n    removeItem: t\n  } = Pe();\n  return Ti(r => t(typeof r == \"undefined\" ? e : r), [t, e]);\n}, \"useRemoveFromStore\");\nvar pn = n(() => {\n  let {\n    reset: e\n  } = Pe();\n  return e;\n}, \"useResetStore\");\nimport { useLocation as Si, useNavigate as Li } from \"react-router-dom\";\nvar bi = n(() => {\n  let e = ee(),\n      t = pn(),\n      r = Li(),\n      o = fn(r),\n      a = Si(),\n      s = fn(a),\n      i = se(),\n      u = ie(`${i}/${Fe.loginUrl}`);\n  Mi(() => {\n    s.current = a, o.current = r;\n  }, [a, r]);\n  let c = mn(function () {\n    let m = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    let f = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : u;\n    let M = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : !0;\n    return e.logout(m).then(T => {\n      if (T === !1) {\n        t();\n        return;\n      }\n\n      let L = (T || f).split(\"?\"),\n          x = {\n        pathname: L[0]\n      },\n          P = {};\n      return M && s.current && s.current.pathname && (P = {\n        state: {\n          nextPathname: s.current.pathname,\n          nextSearch: s.current.search\n        }\n      }), L[1] && (x.search = L[1]), o.current(x, P), t(), T;\n    });\n  }, [e, t, u]),\n      l = mn(m => (r({\n    pathname: u\n  }, {\n    state: {\n      nextPathname: a && a.pathname\n    }\n  }), t(), Promise.resolve()), [t, a, r, u]);\n  return e ? c : l;\n}, \"useLogout\"),\n    be = bi;\nvar ke = n(() => {\n  let e = ee(),\n      t = G(),\n      r = be(),\n      o = se(),\n      a = ie(`${o}/${Fe.loginUrl}`),\n      s = Ei(function () {\n    let i = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    let u = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : !0;\n    let c = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : a;\n    let l = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : !1;\n    return e.checkAuth(i).catch(m => {\n      throw u && (r({}, m && m.redirectTo ? m.redirectTo : c), !(l || m && m.message === !1) && t(Di(m, \"ra.auth.auth_check_error\"), {\n        type: \"warning\"\n      })), m;\n    });\n  }, [e, r, t, a]);\n  return e ? s : vi;\n}, \"useCheckAuth\"),\n    vi = n(() => Promise.resolve(), \"checkAuthWithoutAuthProvider\"),\n    Di = n((e, t) => typeof e == \"string\" ? e : typeof e == \"undefined\" || !e.message ? t : e.message, \"getErrorMessage\");\nvar Ii = {},\n    Ai = n(function () {\n  let e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : Ii;\n  let [t, r] = Q({\n    isLoading: !0,\n    authenticated: !0\n  }),\n      o = ke();\n  return wi(() => {\n    o(e, !1).then(() => r({\n      isLoading: !1,\n      authenticated: !0\n    })).catch(() => r({\n      isLoading: !1,\n      authenticated: !1\n    }));\n  }, [o, e, r]), t;\n}, \"useAuthState\"),\n    Ar = Ai;\nimport { useEffect as Ui } from \"react\";\nimport { useCallback as Ni } from \"react\";\nvar Fi = n(() => Promise.resolve([]), \"getPermissionsWithoutProvider\"),\n    Oi = n(() => {\n  let e = ee(),\n      t = Ni(function () {\n    let r = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    return e.getPermissions(r);\n  }, [e]);\n  return e ? t : Fi;\n}, \"useGetPermissions\"),\n    Ee = Oi;\nvar ki = {},\n    ji = n(function () {\n  let e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : ki;\n  let [t, r] = Q({\n    isLoading: !0\n  }),\n      o = Ee();\n  return Ui(() => {\n    o(e).then(a => {\n      r({\n        isLoading: !1,\n        permissions: a\n      });\n    }).catch(a => {\n      r({\n        isLoading: !1,\n        error: a\n      });\n    });\n  }, [o, e, r]), t;\n}, \"usePermissions\"),\n    Vi = ji;\nimport { useEffect as Gi } from \"react\";\nimport Qi from \"lodash/isEqual\";\nvar _i = {},\n    yn = {\n  \"{}\": void 0\n},\n    zi = n(function () {\n  let e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _i;\n  let t = JSON.stringify(e),\n      [r, o] = Q({\n    permissions: yn[t]\n  }),\n      a = Ee();\n  return Gi(() => {\n    a(e).then(s => {\n      Qi(s, r.permissions) || (yn[t] = s, o({\n        permissions: s\n      }));\n    }).catch(s => {\n      o({\n        error: s\n      });\n    });\n  }, [a, t]), r;\n}, \"usePermissionsOptimized\"),\n    Nr = zi;\nimport { Children as Yi, createElement as Ji } from \"react\";\nimport { useEffect as Hi } from \"react\";\nvar re = n(function () {\n  let e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  let {\n    enabled: t = !0,\n    params: r = Wi\n  } = e,\n      o = ke();\n  Hi(() => {\n    t && o(r).catch(() => {});\n  }, [o, t, r]);\n}, \"useAuthenticated\"),\n    Wi = {};\nvar gn = n(e => Yi.count(e) === 0, \"isEmptyChildren\"),\n    $i = n(e => {\n  let c = e,\n      {\n    authParams: t,\n    children: r,\n    render: o,\n    component: a,\n    staticContext: s\n  } = c,\n      i = N(c, [\"authParams\", \"children\", \"render\", \"component\", \"staticContext\"]);\n  Ze(o && r && !gn(r) || o && a || a && r && !gn(r), \"You should only use one of the `component`, `render` and `children` props in <WithPermissions>\"), re(t);\n  let {\n    permissions: u\n  } = Nr(t);\n  if (a) return Ji(a, y({\n    permissions: u\n  }, i));\n  if (o) return o(y({\n    permissions: u\n  }, i));\n  if (r) return r(y({\n    permissions: u\n  }, i));\n}, \"WithPermissions\"),\n    Fr = $i;\nimport { useCallback as Rn } from \"react\";\nimport { useLocation as Zi, useNavigate as Bi } from \"react-router-dom\";\nvar qi = n(() => {\n  let e = ee(),\n      r = Zi().state,\n      o = Bi(),\n      a = se(),\n      {\n    resetNotifications: s\n  } = It(),\n      i = r && r.nextPathname,\n      u = r && r.nextSearch,\n      c = ie(`${a}/${Fe.afterLoginUrl}`),\n      l = Rn(function () {\n    let f = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    let M = arguments.length > 1 ? arguments[1] : undefined;\n    return e.login(f).then(T => {\n      s();\n      let L = M || i + u || c;\n      return o(L), T;\n    });\n  }, [e, o, i, u, s, c]),\n      m = Rn((f, M) => (s(), o(c), Promise.resolve()), [o, s, c]);\n  return e ? l : m;\n}, \"useLogin\"),\n    Ki = qi;\nimport { useEffect as Xi } from \"react\";\nvar Pn = {\n  id: \"\",\n  fullName: null\n},\n    ec = n(() => {\n  let [e, t] = Q({\n    isLoading: !0\n  }),\n      r = ee();\n  return Xi(() => {\n    r && typeof r.getIdentity == \"function\" ? n(async () => {\n      try {\n        let a = await r.getIdentity();\n        t({\n          isLoading: !1,\n          identity: a || Pn\n        });\n      } catch (a) {\n        t({\n          isLoading: !1,\n          error: a\n        });\n      }\n    }, \"callAuthProvider\")() : t({\n      isLoading: !1,\n      identity: Pn\n    });\n  }, [r, t]), e;\n}, \"useGetIdentity\"),\n    tc = ec;\nimport { useCallback as rc } from \"react\";\nimport { useNavigate as oc } from \"react-router\";\nvar Or,\n    nc = n(() => {\n  let e = ee(),\n      t = be(),\n      r = G(),\n      o = oc(),\n      a = rc((s, i) => e.checkError(s).then(() => !1).catch(async u => {\n    var f;\n    let c = (f = u == null ? void 0 : u.logoutUser) != null ? f : !0;\n    if (Or) return !0;\n    Or = setTimeout(() => {\n      Or = void 0;\n    }, 0), !(i || u && u.message === !1 || s && s.message === !1) && e.checkAuth({}).then(() => {\n      c ? r(hn(u, \"ra.notification.logged_out\"), {\n        type: \"warning\"\n      }) : r(hn(u, \"ra.notification.not_authorized\"), {\n        type: \"warning\"\n      });\n    }).catch(() => {});\n    let m = u && u.redirectTo ? u.redirectTo : s && s.redirectTo ? s.redirectTo : void 0;\n    return c ? t({}, m) : o(m), !0;\n  }), [e, t, r, o]);\n  return e ? a : ac;\n}, \"useLogoutIfAccessDenied\"),\n    ac = n(() => Promise.resolve(!1), \"logoutIfAccessDeniedWithoutProvider\"),\n    hn = n((e, t) => typeof e == \"string\" ? e : typeof e == \"undefined\" || !e.message ? t : e.message, \"getErrorMessage\"),\n    Ur = nc;\nvar xn = \"AUTH_LOGIN\",\n    Cn = \"AUTH_CHECK\",\n    Tn = \"AUTH_ERROR\",\n    Mn = \"AUTH_LOGOUT\",\n    Sn = \"AUTH_GET_PERMISSIONS\";\nvar kr = n(e => {\n  let t = n(function () {\n    for (var _len2 = arguments.length, r = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      r[_key2] = arguments[_key2];\n    }\n\n    return e.apply(null, r);\n  }, \"authProvider\");\n  return t.login = r => e(xn, r), t.logout = r => e(Mn, r), t.checkAuth = r => e(Cn, r), t.checkError = r => e(Tn, r), t.getPermissions = r => e(Sn, r), t;\n}, \"default\");\nimport * as kt from \"react\";\nvar yP = n(e => {\n  let {\n    authParams: t,\n    children: r\n  } = e;\n  return re({\n    params: t\n  }), kt.createElement(kt.Fragment, null, r);\n}, \"Authenticated\");\nvar jr = \"GET_LIST\",\n    Vr = \"GET_ONE\",\n    Gr = \"GET_MANY\",\n    Qr = \"GET_MANY_REFERENCE\",\n    _r = \"CREATE\",\n    zr = \"UPDATE\",\n    Hr = \"UPDATE_MANY\",\n    Wr = \"DELETE\",\n    Yr = \"DELETE_MANY\",\n    Ln = [\"getOne\", \"create\", \"update\"],\n    Jr = [\"getList\", \"getMany\", \"getManyReference\"],\n    bn = [...Jr, \"updateMany\", \"deleteMany\"],\n    En = [\"getList\", \"getManyReference\"],\n    OP = n(e => {\n  switch (e) {\n    case jr:\n      return \"getList\";\n\n    case Vr:\n      return \"getOne\";\n\n    case Gr:\n      return \"getMany\";\n\n    case Qr:\n      return \"getManyReference\";\n\n    case _r:\n      return \"create\";\n\n    case zr:\n      return \"update\";\n\n    case Hr:\n      return \"updateMany\";\n\n    case Wr:\n      return \"delete\";\n\n    case Yr:\n      return \"deleteMany\";\n\n    default:\n      return e;\n  }\n}, \"sanitizeFetchType\");\nvar le = n(() => Promise.resolve(), \"defaultDataProvider\");\n\nle.create = () => Promise.resolve(null);\n\nle.delete = () => Promise.resolve(null);\n\nle.deleteMany = () => Promise.resolve(null);\n\nle.getList = () => Promise.resolve(null);\n\nle.getMany = () => Promise.resolve(null);\n\nle.getManyReference = () => Promise.resolve(null);\n\nle.getOne = () => Promise.resolve(null);\n\nle.update = () => Promise.resolve(null);\n\nle.updateMany = () => Promise.resolve(null);\n\nvar vn = {\n  create: _r,\n  delete: Wr,\n  deleteMany: Yr,\n  getList: jr,\n  getMany: Gr,\n  getManyReference: Qr,\n  getOne: Vr,\n  update: zr,\n  updateMany: Hr\n},\n    sc = n(e => new Proxy(le, {\n  get(r, o) {\n    return (a, s) => {\n      if (Object.keys(vn).includes(o.toString())) {\n        let i = vn[o.toString()];\n        return e(i, a, s);\n      }\n\n      return e(o.toString(), a, s);\n    };\n  },\n\n  apply(r, o, a) {\n    return e.apply(e, a);\n  }\n\n}), \"convertLegacyDataProvider\"),\n    $r = sc;\nimport { createContext as ic } from \"react\";\nvar Dn = ic(null);\nDn.displayName = \"DataProviderContext\";\nvar qe = Dn;\nvar Ke = class extends Error {\n  constructor(t, r) {\n    let o = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n    super(t);\n    this.message = t;\n    this.status = r;\n    this.body = o;\n    Object.setPrototypeOf(this, Ke.prototype), this.name = this.constructor.name, typeof Error.captureStackTrace == \"function\" ? Error.captureStackTrace(this, this.constructor) : this.stack = new Error(t).stack, this.stack = new Error().stack;\n  }\n\n};\nn(Ke, \"HttpError\");\nvar Zr = Ke;\nvar An = {};\nas(An, {\n  createHeadersFromOptions: () => wn,\n  fetchJson: () => uc,\n  flattenObject: () => In,\n  queryParameters: () => lc\n});\nimport { stringify as cc } from \"query-string\";\nvar wn = n(e => {\n  let t = e.headers || new Headers({\n    Accept: \"application/json\"\n  });\n  return !t.has(\"Content-Type\") && !(e && (!e.method || e.method === \"GET\")) && !(e && e.body && e.body instanceof FormData) && t.set(\"Content-Type\", \"application/json\"), e.user && e.user.authenticated && e.user.token && t.set(\"Authorization\", e.user.token), t;\n}, \"createHeadersFromOptions\"),\n    uc = n(function (e) {\n  let t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  let r = wn(t);\n  return fetch(e, D(y({}, t), {\n    headers: r\n  })).then(o => o.text().then(a => ({\n    status: o.status,\n    statusText: o.statusText,\n    headers: o.headers,\n    body: a\n  }))).then(_ref14 => {\n    let {\n      status: o,\n      statusText: a,\n      headers: s,\n      body: i\n    } = _ref14;\n    let u;\n\n    try {\n      u = JSON.parse(i);\n    } catch {}\n\n    return o < 200 || o >= 300 ? Promise.reject(new Zr(u && u.message || a, o, u)) : Promise.resolve({\n      status: o,\n      headers: s,\n      body: i,\n      json: u\n    });\n  });\n}, \"fetchJson\"),\n    lc = cc,\n    dc = n(e => {\n  if (!e) return !1;\n  let t = Array.isArray(e),\n      r = typeof Buffer != \"undefined\" && Buffer.isBuffer(e),\n      o = Object.prototype.toString.call(e) === \"[object Object]\",\n      a = !!Object.keys(e).length;\n  return !t && !r && o && a;\n}, \"isValidObject\"),\n    In = n(function (e) {\n  let t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  return dc(e) ? Object.assign({}, ...Object.keys(e).map(r => In(e[r], t.concat([r])))) : t.length ? {\n    [t.join(\".\")]: e\n  } : e;\n}, \"flattenObject\");\nimport pc from \"eventemitter3\";\nvar ye = new pc();\nvar je = {\n  create: () => Promise.resolve({\n    data: null\n  }),\n  delete: () => Promise.resolve({\n    data: null\n  }),\n  deleteMany: () => Promise.resolve({\n    data: []\n  }),\n  getList: () => Promise.resolve({\n    data: [],\n    total: 0\n  }),\n  getMany: () => Promise.resolve({\n    data: []\n  }),\n  getManyReference: () => Promise.resolve({\n    data: [],\n    total: 0\n  }),\n  getOne: () => Promise.resolve({\n    data: null\n  }),\n  update: () => Promise.resolve({\n    data: null\n  }),\n  updateMany: () => Promise.resolve({\n    data: []\n  })\n};\nvar $P = n(e => new Proxy(je, {\n  get: (t, r) => (o, a) => {\n    if (!(typeof r == \"symbol\" || r === \"then\")) return e(o)[r](o, a);\n  }\n}), \"combineDataProviders\");\nvar BP = n(e => y({\n  getList: () => Promise.resolve({\n    data: [],\n    total: 0\n  }),\n  getOne: () => Promise.resolve({\n    data: void 0\n  }),\n  getMany: () => Promise.resolve({\n    data: []\n  }),\n  getManyReference: () => Promise.resolve({\n    data: [],\n    total: 0\n  }),\n  create: () => Promise.resolve({\n    data: void 0\n  }),\n  update: () => Promise.resolve({\n    data: void 0\n  }),\n  updateMany: () => Promise.resolve({\n    data: []\n  }),\n  delete: () => Promise.resolve({\n    data: void 0\n  }),\n  deleteMany: () => Promise.resolve({\n    data: []\n  })\n}, e), \"testDataProvider\");\nimport { useContext as fc, useMemo as yc } from \"react\";\n\nfunction mc(e, t) {\n  let r = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : console.error;\n  if (!e) throw r(`The dataProvider returned an empty response for '${t}'.`), new Error(\"ra.notification.data_provider_error\");\n  if (!e.hasOwnProperty(\"data\")) throw r(`The response to '${t}' must be like { data: ... }, but the received response does not have a 'data' key. The dataProvider is probably wrong for '${t}'.`), new Error(\"ra.notification.data_provider_error\");\n  if (bn.includes(t) && !Array.isArray(e.data)) throw r(`The response to '${t}' must be like { data : [...] }, but the received data is not an array. The dataProvider is probably wrong for '${t}'`), new Error(\"ra.notification.data_provider_error\");\n  if (Jr.includes(t) && Array.isArray(e.data) && e.data.length > 0 && !e.data[0].hasOwnProperty(\"id\")) throw r(`The response to '${t}' must be like { data : [{ id: 123, ...}, ...] }, but the received data items do not have an 'id' key. The dataProvider is probably wrong for '${t}'`), new Error(\"ra.notification.data_provider_error\");\n  if (Ln.includes(t) && !e.data.hasOwnProperty(\"id\")) throw r(`The response to '${t}' must be like { data: { id: 123, ... } }, but the received data does not have an 'id' key. The dataProvider is probably wrong for '${t}'`), new Error(\"ra.notification.data_provider_error\");\n  if (En.includes(t) && !e.hasOwnProperty(\"total\") && !e.hasOwnProperty(\"pageInfo\")) throw r(`The response to '${t}' must be like  { data: [...], total: 123 }, but the received response does not have a 'total' key. The dataProvider is probably wrong for '${t}'`), new Error(\"ra.notification.data_provider_error\");\n}\n\nn(mc, \"validateResponseFormat\");\nvar Nn = mc;\nvar W = n(() => {\n  let e = fc(qe) || je,\n      t = Ur();\n  return yc(() => new Proxy(e, {\n    get: (o, a) => {\n      if (!(typeof a == \"symbol\" || a === \"then\")) return function () {\n        let i = a.toString();\n        if (typeof e[i] != \"function\") throw new Error(`Unknown dataProvider function: ${i}`);\n\n        try {\n          for (var _len3 = arguments.length, s = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n            s[_key3] = arguments[_key3];\n          }\n\n          return e[i].apply(e, s).then(u => (process.env.NODE_ENV !== \"production\" && Nn(u, i), u)).catch(u => (process.env.NODE_ENV !== \"production\" && console.error(u), t(u).then(c => {\n            if (!c) throw u;\n          })));\n        } catch (u) {\n          throw process.env.NODE_ENV !== \"production\" && console.error(u), new Error(\"The dataProvider threw an error. It should return a rejected Promise instead.\");\n        }\n      };\n    }\n  }), [e, t]);\n}, \"useDataProvider\");\nimport { useEffect as gc, useState as Rc } from \"react\";\nimport { useQueryClient as Pc, QueryObserver as hc } from \"react-query\";\nvar ch = n(function (e) {\n  let t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  let {\n    enabled: r = !0\n  } = t,\n      o = Pc(),\n      [a, s] = Rc(() => r ? o.getQueryData(e) !== void 0 : !1);\n  return gc(() => {\n    if (!!r && o.getQueryData(e) === void 0) {\n      let u = new hc(o, {\n        queryKey: e\n      }).subscribe(c => {\n        s(!c.isLoading), u();\n      });\n      return u;\n    }\n  }, [r, e, o]), a;\n}, \"useIsDataLoaded\");\nimport Xe from \"react\";\nimport { notifyManager as Fn, useQueryClient as xc } from \"react-query\";\nvar ph = n(() => {\n  let e = xc(),\n      t = Xe.useRef(!1),\n      r = Xe.useRef(e.isFetching() > 0),\n      o = Xe.useRef(e.isMutating() > 0),\n      [a, s] = Xe.useState(r.current || o.current);\n  return Xe.useEffect(() => {\n    t.current = !0;\n    let i = e.getQueryCache().subscribe(Fn.batchCalls(() => {\n      t.current && (r.current = e.isFetching() > 0, s(r.current || o.current));\n    })),\n        u = e.getMutationCache().subscribe(Fn.batchCalls(() => {\n      t.current && (o.current = e.isMutating() > 0, s(r.current || o.current));\n    }));\n    return () => {\n      t.current = !1, i(), u();\n    };\n  }, [e]), a;\n}, \"useLoading\");\nimport { useCallback as Cc } from \"react\";\nimport { useQueryClient as Tc } from \"react-query\";\nvar jt = n(() => {\n  let e = Tc();\n  return Cc(() => {\n    e.invalidateQueries();\n  }, [e]);\n}, \"useRefresh\");\nimport { useQuery as Mc } from \"react-query\";\nvar Vt = n((e, _ref15, o) => {\n  let {\n    id: t,\n    meta: r\n  } = _ref15;\n  let a = W();\n  return Mc([e, \"getOne\", {\n    id: String(t),\n    meta: r\n  }], () => a.getOne(e, {\n    id: t,\n    meta: r\n  }).then(_ref16 => {\n    let {\n      data: s\n    } = _ref16;\n    return s;\n  }), o);\n}, \"useGetOne\");\nimport { useQuery as Sc, useQueryClient as Lc } from \"react-query\";\nvar Ve = n(function (e) {\n  let t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  let r = arguments.length > 2 ? arguments[2] : undefined;\n  var m, f, M;\n  let {\n    pagination: o = {\n      page: 1,\n      perPage: 25\n    },\n    sort: a = {\n      field: \"id\",\n      order: \"DESC\"\n    },\n    filter: s = {},\n    meta: i\n  } = t,\n      u = W(),\n      c = Lc(),\n      l = Sc([e, \"getList\", {\n    pagination: o,\n    sort: a,\n    filter: s,\n    meta: i\n  }], () => u.getList(e, {\n    pagination: o,\n    sort: a,\n    filter: s,\n    meta: i\n  }).then(_ref17 => {\n    let {\n      data: T,\n      total: L,\n      pageInfo: x\n    } = _ref17;\n    return {\n      data: T,\n      total: L,\n      pageInfo: x\n    };\n  }), y({\n    onSuccess: _ref18 => {\n      let {\n        data: T\n      } = _ref18;\n      T.forEach(L => {\n        c.setQueryData([e, \"getOne\", {\n          id: String(L.id),\n          meta: i\n        }], x => x != null ? x : L);\n      });\n    }\n  }, r));\n  return l.data ? D(y({}, l), {\n    data: (m = l.data) == null ? void 0 : m.data,\n    total: (f = l.data) == null ? void 0 : f.total,\n    pageInfo: (M = l.data) == null ? void 0 : M.pageInfo\n  }) : l;\n}, \"useGetList\");\nimport { useQuery as bc, useQueryClient as Ec, hashQueryKey as vc } from \"react-query\";\nvar Ih = n(function (e) {\n  let t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  let r = arguments.length > 2 ? arguments[2] : undefined;\n  let {\n    ids: o,\n    meta: a\n  } = t,\n      s = W(),\n      i = Ec(),\n      u = i.getQueryCache();\n  return bc([e, \"getMany\", {\n    ids: o.map(c => String(c)),\n    meta: a\n  }], () => !o || o.length === 0 ? Promise.resolve([]) : s.getMany(e, {\n    ids: o,\n    meta: a\n  }).then(_ref19 => {\n    let {\n      data: c\n    } = _ref19;\n    return c;\n  }), y({\n    placeholderData: () => {\n      let c = o.map(l => {\n        var f, M;\n        let m = vc([e, \"getOne\", {\n          id: String(l),\n          meta: a\n        }]);\n        return (M = (f = u.get(m)) == null ? void 0 : f.state) == null ? void 0 : M.data;\n      });\n      if (!c.some(l => l === void 0)) return c;\n    },\n    onSuccess: c => {\n      c.forEach(l => {\n        i.setQueryData([e, \"getOne\", {\n          id: String(l.id),\n          meta: a\n        }], m => m != null ? m : l);\n      });\n    },\n    retry: !1\n  }, r));\n}, \"useGetMany\");\nimport { useMemo as Dc } from \"react\";\nimport { useQueryClient as wc, useQuery as Ic, hashQueryKey as Ac } from \"react-query\";\nimport Nc from \"lodash/union\";\nvar Ge = n(function (e, t) {\n  let r = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  let o = W(),\n      a = wc(),\n      s = a.getQueryCache(),\n      {\n    ids: i,\n    meta: u\n  } = t,\n      c = Dc(() => {\n    let l = i.map(m => {\n      var M, T;\n      let f = Ac([e, \"getOne\", {\n        id: String(m),\n        meta: u\n      }]);\n      return (T = (M = s.get(f)) == null ? void 0 : M.state) == null ? void 0 : T.data;\n    });\n    if (!l.some(m => m === void 0)) return l;\n  }, [i, s, e, u]);\n  return Ic([e, \"getMany\", {\n    ids: i.map(l => String(l)),\n    meta: u\n  }], () => new Promise((l, m) => !i || i.length === 0 ? l([]) : Oc({\n    resource: e,\n    ids: i,\n    meta: u,\n    resolve: l,\n    reject: m,\n    dataProvider: o,\n    queryClient: a\n  })), y({\n    placeholderData: c,\n    onSuccess: l => {\n      l.forEach(m => {\n        a.setQueryData([e, \"getOne\", {\n          id: String(m.id),\n          meta: u\n        }], f => f != null ? f : m);\n      });\n    },\n    retry: !1\n  }, r));\n}, \"useGetManyAggregate\"),\n    Fc = n(e => {\n  let t = [],\n      r = null;\n  return o => {\n    t.push(o), r && clearTimeout(r), r = setTimeout(() => {\n      r = null, e([...t]), t = [];\n    }, 0);\n  };\n}, \"batch\"),\n    Oc = Fc(e => {\n  let t = e[0].dataProvider,\n      r = e[0].queryClient,\n      o = e.reduce((a, s) => (a[s.resource] || (a[s.resource] = []), a[s.resource].push(s), a), {});\n  Object.keys(o).forEach(a => {\n    let s = o[a],\n        i = s.reduce((c, _ref20) => {\n      let {\n        ids: l\n      } = _ref20;\n      return Nc(c, l);\n    }, []).filter(c => c != null && c !== \"\"),\n        u = s.reduce((c, _ref21) => {\n      let {\n        meta: l\n      } = _ref21;\n      return l || c;\n    }, void 0);\n\n    if (i.length === 0) {\n      s.forEach(_ref22 => {\n        let {\n          resolve: c\n        } = _ref22;\n        c([]);\n      });\n      return;\n    }\n\n    if (s.find(_ref23 => {\n      let {\n        ids: c\n      } = _ref23;\n      return JSON.stringify(c) === JSON.stringify(i);\n    })) {\n      let {\n        dataProvider: c,\n        resource: l,\n        ids: m,\n        meta: f,\n        resolve: M,\n        reject: T\n      } = s[0];\n      c.getMany(l, {\n        ids: m,\n        meta: f\n      }).then(_ref24 => {\n        let {\n          data: L\n        } = _ref24;\n        return L;\n      }).then(M, T);\n      return;\n    }\n\n    r.fetchQuery([a, \"getMany\", {\n      ids: i.map(c => String(c)),\n      meta: u\n    }], () => t.getMany(a, {\n      ids: i,\n      meta: u\n    }).then(_ref25 => {\n      let {\n        data: c\n      } = _ref25;\n      return c;\n    })).then(c => {\n      s.forEach(_ref26 => {\n        let {\n          ids: l,\n          resolve: m\n        } = _ref26;\n        m(c.filter(f => l.includes(f.id)));\n      });\n    }).catch(c => s.forEach(_ref27 => {\n      let {\n        reject: l\n      } = _ref27;\n      return l(c);\n    }));\n  });\n});\nimport { useQuery as Uc, useQueryClient as kc } from \"react-query\";\nvar Gt = n(function (e) {\n  let t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  let r = arguments.length > 2 ? arguments[2] : undefined;\n  var M, T, L;\n  let {\n    target: o,\n    id: a,\n    pagination: s = {\n      page: 1,\n      perPage: 25\n    },\n    sort: i = {\n      field: \"id\",\n      order: \"DESC\"\n    },\n    filter: u = {},\n    meta: c\n  } = t,\n      l = W(),\n      m = kc(),\n      f = Uc([e, \"getManyReference\", {\n    target: o,\n    id: a,\n    pagination: s,\n    sort: i,\n    filter: u,\n    meta: c\n  }], () => l.getManyReference(e, {\n    target: o,\n    id: a,\n    pagination: s,\n    sort: i,\n    filter: u,\n    meta: c\n  }).then(_ref28 => {\n    let {\n      data: x,\n      total: P,\n      pageInfo: R\n    } = _ref28;\n    return {\n      data: x,\n      total: P,\n      pageInfo: R\n    };\n  }), y({\n    onSuccess: _ref29 => {\n      let {\n        data: x\n      } = _ref29;\n      x.forEach(P => {\n        m.setQueryData([e, \"getOne\", {\n          id: String(P.id),\n          meta: c\n        }], R => R != null ? R : P);\n      });\n    }\n  }, r));\n  return f.data ? D(y({}, f), {\n    data: (M = f.data) == null ? void 0 : M.data,\n    total: (T = f.data) == null ? void 0 : T.total,\n    pageInfo: (L = f.data) == null ? void 0 : L.pageInfo\n  }) : f;\n}, \"useGetManyReference\");\nimport { useRef as jc } from \"react\";\nimport { useMutation as Vc, useQueryClient as Gc } from \"react-query\";\nvar On = n(function (e) {\n  let t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  let r = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  let o = W(),\n      a = Gc(),\n      s = jc(t),\n      i = Vc(function () {\n    let {\n      resource: c = e,\n      data: l = s.current.data,\n      meta: m = s.current.meta\n    } = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    return o.create(c, {\n      data: l,\n      meta: m\n    }).then(_ref30 => {\n      let {\n        data: f\n      } = _ref30;\n      return f;\n    });\n  }, D(y({}, r), {\n    onSuccess: function (c) {\n      let l = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      let m = arguments.length > 2 ? arguments[2] : undefined;\n      let {\n        resource: f = e\n      } = l;\n      a.setQueryData([f, \"getOne\", {\n        id: String(c.id)\n      }], c), r.onSuccess && r.onSuccess(c, l, m);\n    }\n  }));\n  return [n(function () {\n    let c = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : e;\n    let l = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    let m = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    let T = m,\n        {\n      returnPromise: f\n    } = T,\n        M = N(T, [\"returnPromise\"]);\n    if (f) return i.mutateAsync(y({\n      resource: c\n    }, l), m);\n    i.mutate(y({\n      resource: c\n    }, l), M);\n  }, \"create\"), i];\n}, \"useCreate\");\nimport { useRef as Br } from \"react\";\nimport { useMutation as Qc, useQueryClient as _c } from \"react-query\";\nvar Un = n(function (e) {\n  let t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  let r = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n  let o = W(),\n      a = _c(),\n      {\n    id: s,\n    data: i,\n    meta: u\n  } = t,\n      P = r,\n      {\n    mutationMode: c = \"pessimistic\"\n  } = P,\n      l = N(P, [\"mutationMode\"]),\n      m = Br(c),\n      f = Br(t),\n      M = Br([]),\n      T = n(_ref31 => {\n    let {\n      resource: R,\n      id: g,\n      data: S\n    } = _ref31;\n    let C = Date.now(),\n        h = m.current === \"undoable\" ? C + 5 * 1e3 : C,\n        E = n(b => {\n      if (!b) return;\n      let v = b.findIndex(I => I.id == g);\n      return v === -1 ? b : [...b.slice(0, v), y(y({}, b[v]), S), ...b.slice(v + 1)];\n    }, \"updateColl\");\n    a.setQueryData([R, \"getOne\", {\n      id: String(g),\n      meta: u\n    }], b => y(y({}, b), S), {\n      updatedAt: h\n    }), a.setQueriesData([R, \"getList\"], b => b && b.data ? {\n      data: E(b.data),\n      total: b.total\n    } : b, {\n      updatedAt: h\n    }), a.setQueriesData([R, \"getMany\"], b => b && b.length > 0 ? E(b) : b, {\n      updatedAt: h\n    }), a.setQueriesData([R, \"getManyReference\"], b => b && b.data ? {\n      data: E(b.data),\n      total: b.total\n    } : b, {\n      updatedAt: h\n    });\n  }, \"updateCache\"),\n      L = Qc(function () {\n    let {\n      resource: R = e,\n      id: g = f.current.id,\n      data: S = f.current.data,\n      meta: C = f.current.meta,\n      previousData: h = f.current.previousData\n    } = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    return o.update(R, {\n      id: g,\n      data: S,\n      previousData: h,\n      meta: C\n    }).then(_ref32 => {\n      let {\n        data: E\n      } = _ref32;\n      return E;\n    });\n  }, D(y({}, l), {\n    onMutate: async R => {\n      if (l.onMutate) {\n        let g = (await l.onMutate(R)) || {};\n        return y({\n          snapshot: M.current\n        }, g);\n      } else return {\n        snapshot: M.current\n      };\n    },\n    onError: function (R) {\n      let g = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      let S = arguments.length > 2 ? arguments[2] : undefined;\n      if ((m.current === \"optimistic\" || m.current === \"undoable\") && S.snapshot.forEach(_ref33 => {\n        let [C, h] = _ref33;\n        a.setQueryData(C, h);\n      }), l.onError) return l.onError(R, g, S);\n    },\n    onSuccess: function (R) {\n      let g = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      let S = arguments.length > 2 ? arguments[2] : undefined;\n\n      if (m.current === \"pessimistic\") {\n        let {\n          resource: C = e,\n          id: h = s\n        } = g;\n        T({\n          resource: C,\n          id: h,\n          data: R\n        }), l.onSuccess && l.onSuccess(R, g, S);\n      }\n    },\n    onSettled: function (R, g) {\n      let S = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      let C = arguments.length > 3 ? arguments[3] : undefined;\n      if ((m.current === \"optimistic\" || m.current === \"undoable\") && C.snapshot.forEach(_ref34 => {\n        let [h] = _ref34;\n        a.invalidateQueries(h);\n      }), l.onSettled) return l.onSettled(R, g, S, C);\n    }\n  }));\n\n  return [n(async function () {\n    let R = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : e;\n    let g = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    let S = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    let {\n      mutationMode: C,\n      returnPromise: h,\n      onSuccess: E,\n      onSettled: b,\n      onError: v\n    } = S;\n    if (f.current = t, C && (m.current = C), h && m.current !== \"pessimistic\" && console.warn(\"The returnPromise parameter can only be used if the mutationMode is set to pessimistic\"), m.current === \"pessimistic\") return h ? L.mutateAsync(y({\n      resource: R\n    }, g), {\n      onSuccess: E,\n      onSettled: b,\n      onError: v\n    }) : L.mutate(y({\n      resource: R\n    }, g), {\n      onSuccess: E,\n      onSettled: b,\n      onError: v\n    });\n    let {\n      id: I = s,\n      data: F = i,\n      meta: A = u\n    } = g,\n        w = a.getQueryData([R, \"getOne\", {\n      id: String(I),\n      meta: A\n    }]),\n        O = [[R, \"getOne\", {\n      id: String(I),\n      meta: A\n    }], [R, \"getList\"], [R, \"getMany\"], [R, \"getManyReference\"]];\n    if (M.current = O.reduce((k, $) => k.concat(a.getQueriesData($)), []), await Promise.all(M.current.map(_ref35 => {\n      let [k] = _ref35;\n      return a.cancelQueries(k);\n    })), T({\n      resource: R,\n      id: I,\n      data: F\n    }), E && setTimeout(() => E(w, y({\n      resource: R\n    }, g), {\n      snapshot: M.current\n    }), 0), l.onSuccess && setTimeout(() => l.onSuccess(w, y({\n      resource: R\n    }, g), {\n      snapshot: M.current\n    }), 0), m.current === \"optimistic\") return L.mutate(y({\n      resource: R\n    }, g), {\n      onSettled: b,\n      onError: v\n    });\n    ye.once(\"end\", _ref36 => {\n      let {\n        isUndo: k\n      } = _ref36;\n      k ? M.current.forEach(_ref37 => {\n        let [$, q] = _ref37;\n        a.setQueryData($, q);\n      }) : L.mutate(y({\n        resource: R\n      }, g), {\n        onSettled: b,\n        onError: v\n      });\n    });\n  }, \"update\"), L];\n}, \"useUpdate\");\nimport { useRef as qr } from \"react\";\nimport { useMutation as zc, useQueryClient as Hc } from \"react-query\";\nvar yx = n(function (e) {\n  let t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  let r = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  let o = W(),\n      a = Hc(),\n      {\n    ids: s,\n    data: i,\n    meta: u\n  } = t,\n      P = r,\n      {\n    mutationMode: c = \"pessimistic\"\n  } = P,\n      l = N(P, [\"mutationMode\"]),\n      m = qr(c),\n      f = qr(t),\n      M = qr([]),\n      T = n(async _ref38 => {\n    let {\n      resource: R,\n      ids: g,\n      data: S,\n      meta: C\n    } = _ref38;\n    let h = m.current === \"undoable\" ? Date.now() + 1e3 * 5 : Date.now(),\n        E = n(b => {\n      if (!b) return;\n      let v = [...b];\n      return g.forEach(I => {\n        let F = b.findIndex(A => A.id == I);\n        F !== -1 && (v = [...v.slice(0, F), y(y({}, v[F]), S), ...v.slice(F + 1)]);\n      }), v;\n    }, \"updateColl\");\n    g.forEach(b => a.setQueryData([R, \"getOne\", {\n      id: String(b),\n      meta: C\n    }], v => y(y({}, v), S), {\n      updatedAt: h\n    })), a.setQueriesData([R, \"getList\"], b => b && b.data ? {\n      data: E(b.data),\n      total: b.total\n    } : b, {\n      updatedAt: h\n    }), a.setQueriesData([R, \"getMany\"], b => b && b.length > 0 ? E(b) : b, {\n      updatedAt: h\n    }), a.setQueriesData([R, \"getManyReference\"], b => b && b.data ? {\n      data: E(b.data),\n      total: b.total\n    } : b, {\n      updatedAt: h\n    });\n  }, \"updateCache\"),\n      L = zc(function () {\n    let {\n      resource: R = e,\n      ids: g = f.current.ids,\n      data: S = f.current.data,\n      meta: C = f.current.meta\n    } = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    return o.updateMany(R, {\n      ids: g,\n      data: S,\n      meta: C\n    }).then(_ref39 => {\n      let {\n        data: h\n      } = _ref39;\n      return h;\n    });\n  }, D(y({}, l), {\n    onMutate: async R => {\n      if (l.onMutate) {\n        let g = (await l.onMutate(R)) || {};\n        return y({\n          snapshot: M.current\n        }, g);\n      } else return {\n        snapshot: M.current\n      };\n    },\n    onError: function (R) {\n      let g = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      let S = arguments.length > 2 ? arguments[2] : undefined;\n      if ((m.current === \"optimistic\" || m.current === \"undoable\") && S.snapshot.forEach(_ref40 => {\n        let [C, h] = _ref40;\n        a.setQueryData(C, h);\n      }), l.onError) return l.onError(R, g, S);\n    },\n    onSuccess: function (R) {\n      let g = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      let S = arguments.length > 2 ? arguments[2] : undefined;\n\n      if (m.current === \"pessimistic\") {\n        let {\n          resource: C = e,\n          ids: h = s,\n          meta: E = u\n        } = g;\n        T({\n          resource: C,\n          ids: h,\n          data: R,\n          meta: E\n        }), l.onSuccess && l.onSuccess(R, g, S);\n      }\n    },\n    onSettled: function (R, g) {\n      let S = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      let C = arguments.length > 3 ? arguments[3] : undefined;\n      if ((m.current === \"optimistic\" || m.current === \"undoable\") && C.snapshot.forEach(_ref41 => {\n        let [h] = _ref41;\n        a.invalidateQueries(h);\n      }), l.onSettled) return l.onSettled(R, g, S, C);\n    }\n  }));\n  return [n(async function () {\n    let R = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : e;\n    let g = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    let S = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    let {\n      mutationMode: C,\n      onSuccess: h,\n      onSettled: E,\n      onError: b\n    } = S;\n    if (f.current = t, C && (m.current = C), m.current === \"pessimistic\") return L.mutate(y({\n      resource: R\n    }, g), {\n      onSuccess: h,\n      onSettled: E,\n      onError: b\n    });\n    let {\n      ids: v = s,\n      data: I = i,\n      meta: F = u\n    } = g,\n        A = [[R, \"getOne\"], [R, \"getList\"], [R, \"getMany\"], [R, \"getManyReference\"]];\n    if (M.current = A.reduce((w, O) => w.concat(a.getQueriesData(O)), []), await Promise.all(M.current.map(_ref42 => {\n      let [w] = _ref42;\n      return a.cancelQueries(w);\n    })), await T({\n      resource: R,\n      ids: v,\n      data: I,\n      meta: F\n    }), h && setTimeout(() => h(v, y({\n      resource: R\n    }, g), {\n      snapshot: M.current\n    }), 0), l.onSuccess && setTimeout(() => l.onSuccess(v, y({\n      resource: R\n    }, g), {\n      snapshot: M.current\n    }), 0), m.current === \"optimistic\") return L.mutate(y({\n      resource: R\n    }, g), {\n      onSettled: E,\n      onError: b\n    });\n    ye.once(\"end\", _ref43 => {\n      let {\n        isUndo: w\n      } = _ref43;\n      w ? M.current.forEach(_ref44 => {\n        let [O, k] = _ref44;\n        a.setQueryData(O, k);\n      }) : L.mutate(y({\n        resource: R\n      }, g), {\n        onSettled: E,\n        onError: b\n      });\n    });\n  }, \"updateMany\"), L];\n}, \"useUpdateMany\");\nimport { useRef as Kr } from \"react\";\nimport { useMutation as Wc, useQueryClient as Yc } from \"react-query\";\nvar Qt = n(function (e) {\n  let t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  let r = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  let o = W(),\n      a = Yc(),\n      {\n    id: s,\n    previousData: i\n  } = t,\n      x = r,\n      {\n    mutationMode: u = \"pessimistic\"\n  } = x,\n      c = N(x, [\"mutationMode\"]),\n      l = Kr(u),\n      m = Kr(t),\n      f = Kr([]),\n      M = n(_ref45 => {\n    let {\n      resource: P,\n      id: R\n    } = _ref45;\n    let g = Date.now(),\n        S = l.current === \"undoable\" ? g + 5 * 1e3 : g,\n        C = n(h => {\n      if (!h) return;\n      let E = h.findIndex(b => b.id == R);\n      return E === -1 ? h : [...h.slice(0, E), ...h.slice(E + 1)];\n    }, \"updateColl\");\n    a.setQueriesData([P, \"getList\"], h => {\n      if (!h || !h.data) return h;\n      let E = C(h.data);\n      return E.length < h.data.length ? {\n        data: E,\n        total: h.total - 1\n      } : h;\n    }, {\n      updatedAt: S\n    }), a.setQueriesData([P, \"getMany\"], h => h && h.length > 0 ? C(h) : h, {\n      updatedAt: S\n    }), a.setQueriesData([P, \"getManyReference\"], h => {\n      if (!h || !h.data) return h;\n      let E = C(h.data);\n      return E.length < h.data.length ? {\n        data: E,\n        total: h.total - 1\n      } : h;\n    }, {\n      updatedAt: S\n    });\n  }, \"updateCache\"),\n      T = Wc(function () {\n    let {\n      resource: P = e,\n      id: R = m.current.id,\n      previousData: g = m.current.previousData,\n      meta: S = m.current.meta\n    } = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    return o.delete(P, {\n      id: R,\n      previousData: g,\n      meta: S\n    }).then(_ref46 => {\n      let {\n        data: C\n      } = _ref46;\n      return C;\n    });\n  }, D(y({}, c), {\n    onMutate: async P => {\n      if (c.onMutate) {\n        let R = (await c.onMutate(P)) || {};\n        return y({\n          snapshot: f.current\n        }, R);\n      } else return {\n        snapshot: f.current\n      };\n    },\n    onError: function (P) {\n      let R = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      let g = arguments.length > 2 ? arguments[2] : undefined;\n      if ((l.current === \"optimistic\" || l.current === \"undoable\") && g.snapshot.forEach(_ref47 => {\n        let [S, C] = _ref47;\n        a.setQueryData(S, C);\n      }), c.onError) return c.onError(P, R, g);\n    },\n    onSuccess: function (P) {\n      let R = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      let g = arguments.length > 2 ? arguments[2] : undefined;\n\n      if (l.current === \"pessimistic\") {\n        let {\n          resource: S = e,\n          id: C = s\n        } = R;\n        M({\n          resource: S,\n          id: C\n        }), c.onSuccess && c.onSuccess(P, R, g);\n      }\n    },\n    onSettled: function (P, R) {\n      let g = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      let S = arguments.length > 3 ? arguments[3] : undefined;\n      if ((l.current === \"optimistic\" || l.current === \"undoable\") && S.snapshot.forEach(_ref48 => {\n        let [C] = _ref48;\n        a.invalidateQueries(C);\n      }), c.onSettled) return c.onSettled(P, R, g, S);\n    }\n  }));\n  return [n(async function () {\n    let P = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : e;\n    let R = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    let g = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    let {\n      mutationMode: S,\n      onSuccess: C,\n      onSettled: h,\n      onError: E\n    } = g;\n    if (m.current = t, S && (l.current = S), l.current === \"pessimistic\") return T.mutate(y({\n      resource: P\n    }, R), {\n      onSuccess: C,\n      onSettled: h,\n      onError: E\n    });\n    let {\n      id: b = s,\n      previousData: v = i\n    } = R,\n        I = [[P, \"getList\"], [P, \"getMany\"], [P, \"getManyReference\"]];\n    if (f.current = I.reduce((F, A) => F.concat(a.getQueriesData(A)), []), await Promise.all(f.current.map(_ref49 => {\n      let [F] = _ref49;\n      return a.cancelQueries(F);\n    })), M({\n      resource: P,\n      id: b\n    }), C && setTimeout(() => C(v, y({\n      resource: P\n    }, R), {\n      snapshot: f.current\n    }), 0), c.onSuccess && setTimeout(() => c.onSuccess(v, y({\n      resource: P\n    }, R), {\n      snapshot: f.current\n    }), 0), l.current === \"optimistic\") return T.mutate(y({\n      resource: P\n    }, R), {\n      onSettled: h,\n      onError: E\n    });\n    ye.once(\"end\", _ref50 => {\n      let {\n        isUndo: F\n      } = _ref50;\n      F ? f.current.forEach(_ref51 => {\n        let [A, w] = _ref51;\n        a.setQueryData(A, w);\n      }) : T.mutate(y({\n        resource: P\n      }, R), {\n        onSettled: h,\n        onError: E\n      });\n    });\n  }, \"mutate\"), T];\n}, \"useDelete\");\nimport { useRef as Xr } from \"react\";\nimport { useMutation as Jc, useQueryClient as $c } from \"react-query\";\nvar Fx = n(function (e) {\n  let t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  let r = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  let o = W(),\n      a = $c(),\n      {\n    ids: s\n  } = t,\n      L = r,\n      {\n    mutationMode: i = \"pessimistic\"\n  } = L,\n      u = N(L, [\"mutationMode\"]),\n      c = Xr(i),\n      l = Xr({}),\n      m = Xr([]),\n      f = n(_ref52 => {\n    let {\n      resource: x,\n      ids: P\n    } = _ref52;\n    let R = Date.now(),\n        g = c.current === \"undoable\" ? R + 5 * 1e3 : R,\n        S = n(C => {\n      if (!C) return;\n      let h = [...C];\n      return P.forEach(E => {\n        let b = h.findIndex(v => v.id == E);\n        b !== -1 && (h = [...h.slice(0, b), ...h.slice(b + 1)]);\n      }), h;\n    }, \"updateColl\");\n    a.setQueriesData([x, \"getList\"], C => {\n      if (!C || !C.data) return C;\n      let h = S(C.data);\n      return h.length < C.data.length ? {\n        data: h,\n        total: C.total - (C.data.length - h.length)\n      } : C;\n    }, {\n      updatedAt: g\n    }), a.setQueriesData([x, \"getMany\"], C => C && C.length > 0 ? S(C) : C, {\n      updatedAt: g\n    }), a.setQueriesData([x, \"getManyReference\"], C => {\n      if (!C || !C.data) return C;\n      let h = S(C.data);\n      return h.length < C.data.length ? {\n        data: h,\n        total: C.total - (C.data.length - h.length)\n      } : C;\n    }, {\n      updatedAt: g\n    });\n  }, \"updateCache\"),\n      M = Jc(function () {\n    let {\n      resource: x = e,\n      ids: P = l.current.ids,\n      meta: R = l.current.meta\n    } = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    return o.deleteMany(x, {\n      ids: P,\n      meta: R\n    }).then(_ref53 => {\n      let {\n        data: g\n      } = _ref53;\n      return g;\n    });\n  }, D(y({}, u), {\n    onMutate: async x => {\n      if (u.onMutate) {\n        let P = (await u.onMutate(x)) || {};\n        return y({\n          snapshot: m.current\n        }, P);\n      } else return {\n        snapshot: m.current\n      };\n    },\n    onError: function (x) {\n      let P = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      let R = arguments.length > 2 ? arguments[2] : undefined;\n      if ((c.current === \"optimistic\" || c.current === \"undoable\") && R.snapshot.forEach(_ref54 => {\n        let [g, S] = _ref54;\n        a.setQueryData(g, S);\n      }), u.onError) return u.onError(x, P, R);\n    },\n    onSuccess: function (x) {\n      let P = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      let R = arguments.length > 2 ? arguments[2] : undefined;\n\n      if (c.current === \"pessimistic\") {\n        let {\n          resource: g = e,\n          ids: S = s\n        } = P;\n        f({\n          resource: g,\n          ids: S\n        }), u.onSuccess && u.onSuccess(x, P, R);\n      }\n    },\n    onSettled: function (x, P) {\n      let R = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      let g = arguments.length > 3 ? arguments[3] : undefined;\n      if ((c.current === \"optimistic\" || c.current === \"undoable\") && g.snapshot.forEach(_ref55 => {\n        let [S] = _ref55;\n        a.invalidateQueries(S);\n      }), u.onSettled) return u.onSettled(x, P, R, g);\n    }\n  }));\n  return [n(async function () {\n    let x = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : e;\n    let P = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    let R = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    let {\n      mutationMode: g,\n      onSuccess: S,\n      onSettled: C,\n      onError: h\n    } = R;\n    if (l.current = t, g && (c.current = g), c.current === \"pessimistic\") return M.mutate(y({\n      resource: x\n    }, P), {\n      onSuccess: S,\n      onSettled: C,\n      onError: h\n    });\n    let {\n      ids: E = s\n    } = P,\n        b = [[x, \"getList\"], [x, \"getMany\"], [x, \"getManyReference\"]];\n    if (m.current = b.reduce((v, I) => v.concat(a.getQueriesData(I)), []), await Promise.all(m.current.map(_ref56 => {\n      let [v] = _ref56;\n      return a.cancelQueries(v);\n    })), f({\n      resource: x,\n      ids: E\n    }), S && setTimeout(() => S(E, y({\n      resource: x\n    }, P), {\n      snapshot: m.current\n    }), 0), u.onSuccess && setTimeout(() => u.onSuccess(E, y({\n      resource: x\n    }, P), {\n      snapshot: m.current\n    }), 0), c.current === \"optimistic\") return M.mutate(y({\n      resource: x\n    }, P), {\n      onSettled: C,\n      onError: h\n    });\n    ye.once(\"end\", _ref57 => {\n      let {\n        isUndo: v\n      } = _ref57;\n      v ? m.current.forEach(_ref58 => {\n        let [I, F] = _ref58;\n        a.setQueryData(I, F);\n      }) : M.mutate(y({\n        resource: x\n      }, P), {\n        onSettled: C,\n        onError: h\n      });\n    });\n  }, \"mutate\"), M];\n}, \"useDeleteMany\");\nimport * as kn from \"react\";\nimport { createContext as Zc, useCallback as Bc, useState as qc } from \"react\";\nimport Kc from \"lodash/isEqual\";\nvar et = Zc([{}, () => {}]),\n    jn = n(_ref59 => {\n  let {\n    definitions: e = {},\n    children: t\n  } = _ref59;\n  let [r, o] = qc(e),\n      a = Bc(s => {\n    o(i => Kc(i[s.name], s) ? i : D(y({}, i), {\n      [s.name]: s\n    }));\n  }, []);\n  return kn.createElement(et.Provider, {\n    value: [r, a]\n  }, t);\n}, \"ResourceDefinitionContextProvider\");\nvar to = n(e => {\n  let {\n    authProvider: t,\n    basename: r,\n    dataProvider: o,\n    i18nProvider: a,\n    store: s,\n    children: i,\n    history: u,\n    queryClient: c\n  } = e;\n  if (!o) throw new Error(`Missing dataProvider prop.\nReact-admin requires a valid dataProvider function to work.`);\n  let l = eo(() => c || new eu(), [c]),\n      m = eo(() => t instanceof Function ? kr(t) : t, [t]),\n      f = eo(() => o instanceof Function ? $r(o) : o, [o]);\n  return ge.createElement(Ye.Provider, {\n    value: m\n  }, ge.createElement(qe.Provider, {\n    value: f\n  }, ge.createElement(Yo, {\n    value: s\n  }, ge.createElement(Xc, {\n    client: l\n  }, ge.createElement(Go, {\n    history: u,\n    basename: r\n  }, ge.createElement(At, {\n    value: a\n  }, ge.createElement($o, null, ge.createElement(jn, null, i))))))));\n}, \"CoreAdminContext\");\nto.defaultProps = {\n  dataProvider: je,\n  store: Et()\n};\nimport * as xe from \"react\";\nimport { useEffect as du, isValidElement as pu, createElement as mu } from \"react\";\nimport { Routes as fu, Route as Qn } from \"react-router-dom\";\nimport * as J from \"react\";\nimport { useState as su, useEffect as iu, Children as cu } from \"react\";\nimport { Navigate as uu, Route as Qe, Routes as no } from \"react-router-dom\";\nimport ou, { Children as nu, Fragment as au, useEffect as ro } from \"react\";\nimport { useCallback as tu, useContext as ru } from \"react\";\nvar Vn = n(() => {\n  let [, e] = ru(et);\n  return tu(function () {\n    for (var _len4 = arguments.length, r = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n      r[_key4] = arguments[_key4];\n    }\n\n    r.forEach(o => {\n      e(o);\n    });\n  }, [e]);\n}, \"useRegisterResource\");\n\nvar Gn = n(e => {\n  let t = Ee(),\n      r = be(),\n      {\n    authenticated: o\n  } = Ar(),\n      a = Vn(),\n      s = _t(e),\n      [i, u] = Q(s.customRoutesWithoutLayout),\n      [c, l] = Q(s.customRoutesWithLayout),\n      [m, f] = Q(s.resources),\n      [M, T] = Q(() => oo(e) ? \"loading\" : m.length > 0 ? \"ready\" : \"empty\");\n\n  return ro(() => {\n    let L = oo(e),\n        x = _t(e);\n\n    l(x.customRoutesWithLayout), u(x.customRoutesWithoutLayout), f(x.resources), T(L ? \"loading\" : x.resources.length > 0 ? \"ready\" : \"empty\");\n  }, [e, l, u, f, T]), ro(() => {\n    let L = n(async P => {\n      let R = n(g => {\n        let S = _t(g);\n\n        l(C => C.concat(S.customRoutesWithLayout)), u(C => C.concat(S.customRoutesWithoutLayout)), f(C => C.concat(S.resources));\n      }, \"updateRoutesAndResources\");\n\n      try {\n        let g = await t(),\n            S = P(g);\n        S.then ? S.then(C => {\n          R(C);\n        }) : R(S), T(\"ready\");\n      } catch (g) {\n        console.error(g), r();\n      }\n    }, \"resolveChildFunction\"),\n        x = oo(e);\n    x && L(x);\n  }, [o, e, r, t, l, u, f, T]), ro(() => {\n    m.forEach(L => {\n      if (typeof L.type.registerResource == \"function\") {\n        let x = L.type.registerResource(L.props);\n        a(x);\n      } else throw new Error(\"When using a custom Resource element, it must have a static registerResource method accepting its props and returning a ResourceDefinition\");\n    });\n  }, [a, m]), {\n    customRoutesWithLayout: c,\n    customRoutesWithoutLayout: i,\n    status: M,\n    resources: m\n  };\n}, \"useConfigureAdminRouterFromChildren\"),\n    oo = n(e => {\n  let r = (Array.isArray(e) ? e : [e]).filter(o => typeof o == \"function\");\n  if (r.length > 1) throw new Error(\"You can only provide one function child to AdminRouter\");\n  return r.length === 0 ? null : r[0];\n}, \"getSingleChildFunction\"),\n    _t = n(e => {\n  let t = [],\n      r = [],\n      o = [];\n  return nu.forEach(e, a => {\n    if (!!ou.isValidElement(a)) {\n      if (a.type === au) {\n        let s = _t(a.props.children);\n\n        t.push(...s.customRoutesWithLayout), r.push(...s.customRoutesWithoutLayout), o.push(...s.resources);\n      }\n\n      if (a.type.raName === \"CustomRoutes\") {\n        let s = a;\n        s.props.noLayout ? r.push(s.props.children) : t.push(s.props.children);\n      } else a.type.raName === \"Resource\" && o.push(a);\n    }\n  }), {\n    customRoutesWithLayout: t,\n    customRoutesWithoutLayout: r,\n    resources: o\n  };\n}, \"getRoutesAndResourceFromNodes\");\n\nvar ao = n(e => {\n  let t = un(1e3);\n  Qo();\n  let r = Lt(),\n      {\n    customRoutesWithLayout: o,\n    customRoutesWithoutLayout: a,\n    status: s,\n    resources: i\n  } = Gn(e.children),\n      {\n    layout: u,\n    catchAll: c,\n    dashboard: l,\n    loading: m,\n    menu: f,\n    requireAuth: M,\n    ready: T,\n    title: L\n  } = e,\n      [x, P] = su(!M),\n      R = ke();\n  return iu(() => {\n    M && R().then(() => {\n      P(!0);\n    }).catch(() => {});\n  }, [R, M]), s === \"empty\" ? J.createElement(T, null) : s === \"loading\" || !x ? J.createElement(no, null, a, t ? J.createElement(Qe, {\n    path: \"*\",\n    element: J.createElement(m, null)\n  }) : J.createElement(Qe, {\n    path: \"*\",\n    element: null\n  })) : J.createElement(no, null, a, J.createElement(Qe, {\n    path: \"/*\",\n    element: J.createElement(\"div\", null, J.createElement(u, {\n      dashboard: l,\n      menu: f,\n      title: L\n    }, J.createElement(no, null, o, cu.map(i, g => J.createElement(Qe, {\n      key: g.props.name,\n      path: `${g.props.name}/*`,\n      element: g\n    })), J.createElement(Qe, {\n      path: \"/\",\n      element: l ? J.createElement(Fr, {\n        authParams: lu,\n        component: l\n      }) : i.length > 0 ? J.createElement(uu, {\n        to: r({\n          resource: i[0].props.name,\n          type: \"list\"\n        })\n      }) : null\n    }), J.createElement(Qe, {\n      path: \"*\",\n      element: J.createElement(c, {\n        title: L\n      })\n    }))))\n  }));\n}, \"CoreAdminRoutes\");\nao.defaultProps = {\n  customRoutes: []\n};\nvar lu = {\n  route: \"dashboard\"\n};\n\nvar yu = n(_ref60 => {\n  let {\n    children: e\n  } = _ref60;\n  return xe.createElement(xe.Fragment, null, e);\n}, \"DefaultLayout\"),\n    _n = n(e => {\n  let {\n    catchAll: t = zn,\n    children: r,\n    dashboard: o,\n    disableTelemetry: a = !1,\n    layout: s = yu,\n    loading: i = zn,\n    loginPage: u = !1,\n    menu: c,\n    ready: l = Ir,\n    title: m = \"React Admin\",\n    requireAuth: f = !1\n  } = e;\n  return du(() => {\n    if (a || process.env.NODE_ENV !== \"production\" || typeof window == \"undefined\" || typeof window.location == \"undefined\" || typeof Image == \"undefined\") return;\n    let M = new Image();\n    M.src = `https://react-admin-telemetry.marmelab.com/react-admin-telemetry?domain=${window.location.hostname}`;\n  }, [a]), xe.createElement(fu, null, u !== !1 && u !== !0 ? xe.createElement(Qn, {\n    path: \"/login\",\n    element: gu(u)\n  }) : null, xe.createElement(Qn, {\n    path: \"/*\",\n    element: xe.createElement(ao, {\n      catchAll: t,\n      dashboard: o,\n      layout: s,\n      loading: i,\n      menu: c,\n      requireAuth: f,\n      ready: l,\n      title: m\n    }, r)\n  }));\n}, \"CoreAdminUI\"),\n    gu = n(e => pu(e) ? e : mu(e), \"createOrGetElement\"),\n    zn = n(() => null, \"Noop\");\n\nvar JC = n(e => {\n  let {\n    authProvider: t,\n    basename: r,\n    catchAll: o,\n    children: a,\n    dashboard: s,\n    dataProvider: i,\n    disableTelemetry: u,\n    history: c,\n    i18nProvider: l,\n    queryClient: m,\n    layout: f,\n    loading: M,\n    loginPage: T,\n    menu: L,\n    requireAuth: x,\n    title: P = \"React Admin\"\n  } = e;\n  return so.createElement(to, {\n    authProvider: t,\n    basename: r,\n    dataProvider: i,\n    i18nProvider: l,\n    queryClient: m,\n    history: c\n  }, so.createElement(_n, {\n    layout: f,\n    dashboard: s,\n    disableTelemetry: u,\n    menu: L,\n    catchAll: o,\n    title: P,\n    loading: M,\n    loginPage: T,\n    requireAuth: x\n  }, a));\n}, \"CoreAdmin\");\nvar Ru = n(e => null, \"CustomRoutes\");\nRu.raName = \"CustomRoutes\";\nimport * as ne from \"react\";\nimport { isValidElement as Ht } from \"react\";\nimport { Route as Wt, Routes as Pu } from \"react-router-dom\";\nimport * as Hn from \"react\";\nvar zt = n(_ref61 => {\n  let {\n    children: e,\n    value: t\n  } = _ref61;\n  return t ? Hn.createElement(Ot.Provider, {\n    value: t\n  }, e) : e;\n}, \"ResourceContextProvider\");\nvar Wn = n(e => {\n  let {\n    create: t,\n    edit: r,\n    list: o,\n    name: a,\n    show: s\n  } = e;\n  return ne.createElement(zt, {\n    value: a\n  }, ne.createElement(Pu, null, t && ne.createElement(Wt, {\n    path: \"create/*\",\n    element: Ht(t) ? t : ne.createElement(t, null)\n  }), s && ne.createElement(Wt, {\n    path: \":id/show/*\",\n    element: Ht(s) ? s : ne.createElement(s, null)\n  }), r && ne.createElement(Wt, {\n    path: \":id/*\",\n    element: Ht(r) ? r : ne.createElement(r, null)\n  }), o && ne.createElement(Wt, {\n    path: \"/*\",\n    element: Ht(o) ? o : ne.createElement(o, null)\n  })));\n}, \"Resource\");\nWn.raName = \"Resource\";\n\nWn.registerResource = _ref62 => {\n  let {\n    create: e,\n    edit: t,\n    icon: r,\n    list: o,\n    name: a,\n    options: s,\n    show: i\n  } = _ref62;\n  return {\n    name: a,\n    options: s,\n    hasList: !!o,\n    hasCreate: !!e,\n    hasEdit: !!t,\n    hasShow: !!i,\n    icon: r\n  };\n};\n\nimport io from \"inflection\";\nimport { useContext as hu } from \"react\";\nvar Yt = n(() => hu(et)[0], \"useResourceDefinitions\");\nvar Ce = n(() => {\n  let e = _(),\n      t = Yt();\n\n  return function (r) {\n    let o = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 2;\n    let a = t[r];\n    return e(`resources.${r}.name`, {\n      smart_count: o,\n      _: a && a.options && a.options.label ? e(a.options.label, {\n        smart_count: o,\n        _: a.options.label\n      }) : io.humanize(o > 1 ? io.pluralize(r) : io.singularize(r))\n    });\n  };\n}, \"useGetResourceLabel\");\nimport { useMemo as xu } from \"react\";\nimport Cu from \"lodash/defaults\";\nvar Yn = n(e => {\n  let t = H(e),\n      r = Yt(),\n      {\n    hasCreate: o,\n    hasEdit: a,\n    hasList: s,\n    hasShow: i\n  } = e || {};\n  return xu(() => Cu({}, {\n    hasCreate: o,\n    hasEdit: a,\n    hasList: s,\n    hasShow: i\n  }, r[t]), [t, r, o, a, s, i]);\n}, \"useResourceDefinition\");\nimport Tu from \"jsonexport/dist\";\nvar co = n((e, t) => {\n  let r = document.createElement(\"a\");\n  r.style.display = \"none\", document.body.appendChild(r);\n  let o = new Blob([e], {\n    type: \"text/csv;charset=utf-8\"\n  });\n  window.navigator && window.navigator.msSaveOrOpenBlob ? window.navigator.msSaveOrOpenBlob(o, `${t}.csv`) : (r.setAttribute(\"href\", URL.createObjectURL(o)), r.setAttribute(\"download\", `${t}.csv`), r.click());\n}, \"default\");\nvar Mu = n((e, t, r, o) => Tu(e, (a, s) => co(s, o)), \"defaultExporter\"),\n    tt = Mu;\nimport { createContext as Su } from \"react\";\nvar Jn = Su(tt);\nJn.displayName = \"ExporterContext\";\nvar Lu = Jn;\nvar bu = n(e => (t, r, o) => e.getMany(o, {\n  ids: Eu(t, r)\n}).then(_ref63 => {\n  let {\n    data: a\n  } = _ref63;\n  return a.reduce((s, i) => (s[i.id] = i, s), {});\n}), \"fetchRelatedRecords\"),\n    Eu = n((e, t) => Array.from(new Set(e.filter(r => r[t] != null).map(r => r[t]).reduce((r, o) => r.concat(o), []))), \"getRelatedIds\"),\n    vu = bu;\nimport * as Xn from \"react\";\nimport er from \"inflection\";\nvar ve = n(e => e.reduce((t, r) => (Object.keys(r).forEach(o => {\n  if (t[o] || (t[o] = []), r[o] != null) {\n    let a = Array.isArray(r[o]) ? [r[o]] : r[o];\n    t[o] = t[o].concat(a);\n  }\n}), t), {}), \"default\");\nimport { createElement as $n } from \"react\";\nvar uo = class {\n  constructor(t, r, o) {\n    this.type = t;\n    this.props = r;\n    this.children = o;\n  }\n\n  getElement() {\n    let t = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    if (!!this.isDefined()) return this.children ? $n(this.type.component, y(y({}, this.props), t), this.children.length > 0 ? this.children.map((r, o) => r.getElement({\n      key: o\n    })) : this.children.getElement()) : $n(this.type.component, y(y({}, this.props), t));\n  }\n\n  getProps() {\n    return this.props;\n  }\n\n  isDefined() {\n    return !!this.type;\n  }\n\n  getRepresentation() {\n    if (!!this.isDefined()) return this.type.representation ? this.type.representation(this.props, this.children) : `<${this.type.component.displayName || this.type.component.name} source=\"${this.props.source}\" />`;\n  }\n\n};\nn(uo, \"InferredElement\");\nvar z = uo;\nimport { isMatch as Zn, isValid as Du, parseISO as wu } from \"date-fns\";\nvar Iu = n(e => !isNaN(parseFloat(e)) && isFinite(e), \"isNumeric\"),\n    rt = n(e => e.every(Iu), \"valuesAreNumeric\"),\n    Au = n(e => Number.isInteger(e) || !isNaN(parseInt(e)), \"isInteger\"),\n    ot = n(e => e.every(Au), \"valuesAreInteger\"),\n    Nu = n(e => typeof e == \"boolean\", \"isBoolean\"),\n    Jt = n(e => e.every(Nu), \"valuesAreBoolean\");\n\nvar Fu = n(e => typeof e == \"string\", \"isString\"),\n    $t = n(e => e.every(Fu), \"valuesAreString\"),\n    Ou = /<([A-Z][A-Z0-9]*)\\b[^>]*>(.*?)<\\/\\1>/i,\n    Uu = n(e => !e || Ou.test(e), \"isHtml\"),\n    Zt = n(e => e.every(Uu), \"valuesAreHtml\"),\n    ku = /http(s*):\\/\\/.*/i,\n    ju = n(e => !e || ku.test(e), \"isUrl\"),\n    Bn = n(e => e.every(ju), \"valuesAreUrl\"),\n    Vu = /http(s*):\\/\\/.*\\.(jpeg|jpg|jfif|pjpeg|pjp|png|svg|gif|webp|apng|bmp|ico|cur|tif|tiff)/i,\n    Gu = n(e => !e || Vu.test(e), \"isImageUrl\"),\n    qn = n(e => e.every(Gu), \"valuesAreImageUrl\"),\n    Qu = /@{1}/,\n    _u = n(e => !e || Qu.test(e), \"isEmail\"),\n    Kn = n(e => e.every(_u), \"valuesAreEmail\"),\n    zu = n(e => Array.isArray(e), \"isArray\"),\n    Bt = n(e => e.every(zu), \"valuesAreArray\"),\n    Hu = n(e => !e || e instanceof Date, \"isDate\"),\n    qt = n(e => e.every(Hu), \"valuesAreDate\"),\n    Wu = n(e => !e || typeof e == \"string\" && (Zn(e, \"MM/dd/yyyy\") || Zn(e, \"MM/dd/yy\") || Du(wu(e))), \"isDateString\"),\n    Kt = n(e => e.every(Wu), \"valuesAreDateString\"),\n    nt = n(e => Object.prototype.toString.call(e) === \"[object Object]\", \"isObject\"),\n    Xt = n(e => e.every(nt), \"valuesAreObject\");\n\nvar Yu = n(() => Xn.createElement(\"span\", null, \";\"), \"DefaultComponent\"),\n    ae = {\n  type: Yu,\n  representation: () => \"<DefaultComponent />\"\n},\n    Ju = {\n  array: ae,\n  boolean: ae,\n  date: ae,\n  email: ae,\n  id: ae,\n  number: ae,\n  reference: ae,\n  referenceArray: ae,\n  richText: ae,\n  string: ae,\n  url: ae\n},\n    te = n((e, t) => typeof t[e] != \"undefined\", \"hasType\"),\n    lo = n(function (e) {\n  let t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  let r = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : Ju;\n  if (e === \"id\" && te(\"id\", r)) return new z(r.id, {\n    source: e\n  });\n\n  if (e.substr(e.length - 3) === \"_id\" && te(\"reference\", r)) {\n    let o = er.pluralize(e.substr(0, e.length - 3));\n    return r.reference && new z(r.reference, {\n      source: e,\n      reference: o\n    }, new z(r.referenceChild));\n  }\n\n  if (e.substr(e.length - 2) === \"Id\" && te(\"reference\", r)) {\n    let o = er.pluralize(e.substr(0, e.length - 2));\n    return r.reference && new z(r.reference, {\n      source: e,\n      reference: o\n    }, new z(r.referenceChild));\n  }\n\n  if (e.substr(e.length - 4) === \"_ids\" && te(\"referenceArray\", r)) {\n    let o = er.pluralize(e.substr(0, e.length - 4));\n    return r.referenceArray && new z(r.referenceArray, {\n      source: e,\n      reference: o\n    }, new z(r.referenceArrayChild));\n  }\n\n  if (e.substr(e.length - 3) === \"Ids\" && te(\"referenceArray\", r)) {\n    let o = er.pluralize(e.substr(0, e.length - 3));\n    return r.referenceArray && new z(r.referenceArray, {\n      source: e,\n      reference: o\n    }, new z(r.referenceArrayChild));\n  }\n\n  if (t.length === 0) return new z(r.string, {\n    source: e\n  });\n\n  if (Bt(t)) {\n    if (nt(t[0][0]) && te(\"array\", r)) {\n      let o = ve(t.reduce((a, s) => a.concat(s), []));\n      return r.array && new z(r.array, {\n        source: e\n      }, Object.keys(o).map(a => lo(a, o[a], r)));\n    }\n\n    return new z(r.string, {\n      source: e\n    });\n  }\n\n  if (Jt(t) && te(\"boolean\", r)) return new z(r.boolean, {\n    source: e\n  });\n  if (qt(t) && te(\"date\", r)) return new z(r.date, {\n    source: e\n  });\n  if ($t(t)) return e === \"email\" && te(\"email\", r) ? new z(r.email, {\n    source: e\n  }) : e === \"url\" && te(\"url\", r) ? new z(r.url, {\n    source: e\n  }) : Kt(t) && te(\"date\", r) ? new z(r.date, {\n    source: e\n  }) : Zt(t) && te(\"richText\", r) ? new z(r.richText, {\n    source: e\n  }) : new z(r.string, {\n    source: e\n  });\n  if ((ot(t) || rt(t)) && te(\"number\", r)) return new z(r.number, {\n    source: e\n  });\n\n  if (Xt(t)) {\n    let o = Object.keys(t[0]).shift(),\n        a = t.map(s => s[o]);\n    return lo(`${e}.${o}`, a, r);\n  }\n\n  return new z(r.string, {\n    source: e\n  });\n}, \"inferElementFromValues\"),\n    ea = lo;\nvar $u = n((e, t) => {\n  let r = ve(e);\n  return Object.keys(r).reduce((o, a) => o.concat(ea(a, r[a], t)), []).filter(o => o.isDefined());\n}, \"default\");\nimport tr from \"inflection\";\nvar WT = [\"array\", \"boolean\", \"date\", \"email\", \"id\", \"image\", \"number\", \"reference\", \"referenceChild\", \"referenceArray\", \"referenceArrayChild\", \"richText\", \"string\", \"url\", \"object\"],\n    ta = n(function (e) {\n  let t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  if (e === \"id\") return {\n    type: \"id\",\n    props: {\n      source: e\n    }\n  };\n  if (e.substr(e.length - 3) === \"_id\") return {\n    type: \"reference\",\n    props: {\n      source: e,\n      reference: tr.pluralize(e.substr(0, e.length - 3))\n    },\n    children: {\n      type: \"referenceChild\"\n    }\n  };\n  if (e.substr(e.length - 2) === \"Id\") return {\n    type: \"reference\",\n    props: {\n      source: e,\n      reference: tr.pluralize(e.substr(0, e.length - 2))\n    },\n    children: {\n      type: \"referenceChild\"\n    }\n  };\n  if (e.substr(e.length - 4) === \"_ids\") return {\n    type: \"referenceArray\",\n    props: {\n      source: e,\n      reference: tr.pluralize(e.substr(0, e.length - 4))\n    },\n    children: {\n      type: \"referenceArrayChild\"\n    }\n  };\n  if (e.substr(e.length - 3) === \"Ids\") return {\n    type: \"referenceArray\",\n    props: {\n      source: e,\n      reference: tr.pluralize(e.substr(0, e.length - 3))\n    },\n    children: {\n      type: \"referenceArrayChild\"\n    }\n  };\n  if (t.length === 0) return e === \"email\" ? {\n    type: \"email\",\n    props: {\n      source: e\n    }\n  } : e === \"url\" ? {\n    type: \"url\",\n    props: {\n      source: e\n    }\n  } : {\n    type: \"string\",\n    props: {\n      source: e\n    }\n  };\n\n  if (Bt(t)) {\n    if (nt(t[0][0])) {\n      let r = ve(t.reduce((o, a) => o.concat(a), []));\n      return {\n        type: \"array\",\n        props: {\n          source: e\n        },\n        children: Object.keys(r).map(o => ta(o, r[o]))\n      };\n    }\n\n    return {\n      type: \"string\",\n      props: {\n        source: e\n      }\n    };\n  }\n\n  if (Jt(t)) return {\n    type: \"boolean\",\n    props: {\n      source: e\n    }\n  };\n  if (qt(t)) return {\n    type: \"date\",\n    props: {\n      source: e\n    }\n  };\n  if ($t(t)) return e === \"email\" || Kn(t) ? {\n    type: \"email\",\n    props: {\n      source: e\n    }\n  } : e === \"url\" || Bn(t) ? qn(t) ? {\n    type: \"image\",\n    props: {\n      source: e\n    }\n  } : {\n    type: \"url\",\n    props: {\n      source: e\n    }\n  } : Kt(t) ? {\n    type: \"date\",\n    props: {\n      source: e\n    }\n  } : Zt(t) ? {\n    type: \"richText\",\n    props: {\n      source: e\n    }\n  } : ot(t) || rt(t) ? {\n    type: \"number\",\n    props: {\n      source: e\n    }\n  } : {\n    type: \"string\",\n    props: {\n      source: e\n    }\n  };\n  if (ot(t) || rt(t)) return {\n    type: \"number\",\n    props: {\n      source: e\n    }\n  };\n\n  if (Xt(t)) {\n    let r = Object.keys(t[0]).shift(),\n        o = t.map(a => a[r]);\n    return ta(`${e}.${r}`, o);\n  }\n\n  return {\n    type: \"string\",\n    props: {\n      source: e\n    }\n  };\n}, \"inferTypeFromValues\");\nimport { useEffect as Zu, useRef as ra, useCallback as Bu } from \"react\";\nimport qu from \"lodash/debounce\";\nimport Ku from \"lodash/isEqual\";\nvar Xu = n(e => ({\n  q: e\n}), \"defaultFilterToQuery\"),\n    el = n(_ref64 => {\n  let {\n    filterToQuery: e = Xu,\n    permanentFilter: t = {},\n    debounceTime: r = 500\n  } = _ref64;\n  let o = ra(t),\n      a = ra(),\n      [s, i] = Q(y(y({}, t), e(\"\"))),\n      u = JSON.stringify(t);\n  Zu(() => {\n    Ku(o.current, t) || (o.current = t, i(y(y({}, t), e(a.current))));\n  }, [u, o, e]);\n  let c = Bu(qu(l => {\n    i(y(y({}, t), e(l))), a.current = l;\n  }, r), [u]);\n  return {\n    filter: s,\n    setFilter: c\n  };\n}, \"default\");\nimport { useReducer as ol, useEffect as nl, useRef as al, useCallback as mo } from \"react\";\nimport tl from \"lodash/set\";\nvar at = \"SET_SORT\",\n    oe = \"ASC\",\n    rr = \"DESC\",\n    _e = \"SET_PAGE\",\n    st = \"SET_PER_PAGE\",\n    De = \"SET_FILTER\",\n    it = \"SHOW_FILTER\",\n    ct = \"HIDE_FILTER\",\n    rl = n(e => e === rr ? oe : rr, \"oppositeOrder\"),\n    or = n((e, t) => {\n  switch (t.type) {\n    case at:\n      return t.payload.field === e.sort ? D(y({}, e), {\n        order: rl(e.order),\n        page: 1\n      }) : D(y({}, e), {\n        sort: t.payload.field,\n        order: t.payload.order || oe,\n        page: 1\n      });\n\n    case _e:\n      return D(y({}, e), {\n        page: t.payload\n      });\n\n    case st:\n      return D(y({}, e), {\n        page: 1,\n        perPage: t.payload\n      });\n\n    case De:\n      return D(y({}, e), {\n        page: 1,\n        filter: t.payload.filter,\n        displayedFilters: t.payload.displayedFilters ? t.payload.displayedFilters : e.displayedFilters\n      });\n\n    case it:\n      return e.displayedFilters && e.displayedFilters[t.payload.filterName] ? e : D(y({}, e), {\n        filter: typeof t.payload.defaultValue != \"undefined\" ? tl(e.filter, t.payload.filterName, t.payload.defaultValue) : e.filter,\n        displayedFilters: D(y({}, e.displayedFilters), {\n          [t.payload.filterName]: !0\n        })\n      });\n\n    case ct:\n      return D(y({}, e), {\n        filter: X(Dr(e.filter, t.payload)),\n        displayedFilters: e.displayedFilters ? Object.keys(e.displayedFilters).reduce((r, o) => o !== t.payload ? D(y({}, r), {\n          [o]: !0\n        }) : r, {}) : e.displayedFilters\n      });\n\n    default:\n      return e;\n  }\n}, \"queryReducer\"),\n    po = or;\nvar sl = n((e, t) => {\n  switch (t.type) {\n    case \"SET_SORT\":\n      return t.payload;\n\n    case \"SET_SORT_FIELD\":\n      {\n        let r = t.payload,\n            o = e.field === r ? e.order === oe ? rr : oe : oe;\n        return {\n          field: r,\n          order: o\n        };\n      }\n\n    case \"SET_SORT_ORDER\":\n      {\n        let r = t.payload;\n        return D(y({}, e), {\n          order: r\n        });\n      }\n\n    default:\n      return e;\n  }\n}, \"sortReducer\"),\n    il = {\n  field: \"id\",\n  order: \"DESC\"\n},\n    cl = n(function () {\n  let e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : il;\n  let [t, r] = ol(sl, e),\n      o = al(!0);\n  return nl(() => {\n    if (o.current) {\n      o.current = !1;\n      return;\n    }\n\n    r({\n      type: \"SET_SORT\",\n      payload: e\n    });\n  }, [e.field, e.order]), {\n    setSort: mo(a => r({\n      type: \"SET_SORT\",\n      payload: a\n    }), [r]),\n    setSortField: mo(a => r({\n      type: \"SET_SORT_FIELD\",\n      payload: a\n    }), [r]),\n    setSortOrder: mo(a => r({\n      type: \"SET_SORT_ORDER\",\n      payload: a\n    }), [r]),\n    sort: t\n  };\n}, \"useSortState\"),\n    ut = cl;\nimport { useEffect as ul, useReducer as ll, useCallback as oa, useRef as dl } from \"react\";\nvar pl = n((e, t) => y(y({}, e), t), \"paginationReducer\"),\n    ml = {\n  page: 1,\n  perPage: 25\n},\n    lt = n(function () {\n  let e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  let [t, r] = ll(pl, y(y({}, ml), e)),\n      o = dl(!0),\n      a = oa(i => r({\n    perPage: i,\n    page: 1\n  }), []),\n      s = oa(i => r({\n    page: i\n  }), []);\n  return ul(() => {\n    if (o.current) {\n      o.current = !1;\n      return;\n    }\n\n    a(e.perPage || 25);\n  }, [e.perPage, a]), {\n    page: t.page,\n    perPage: t.perPage,\n    pagination: t,\n    setPage: s,\n    setPerPage: a,\n    setPagination: r\n  };\n}, \"default\");\nimport * as fl from \"react\";\nvar yl = n((e, t, r) => {\n  let o = Object.keys(r),\n      a = t.filter(s => !o.includes(s));\n  if (a.length > 0) throw new Error(`<${e}> component is not properly configured, some essential props are missing.\nBe sure to pass the props from the parent. Example:\n\nconst My${e} = props => (\n    <${e} {...props}></${e}>\n);\n\nThe missing props are: ${a.join(\", \")}`);\n}, \"useCheckMinimumRequiredProps\");\nimport { useCallback as gl } from \"react\";\nvar Rl = n(e => {\n  let {\n    record: t,\n    redirect: r = \"list\",\n    onClick: o,\n    mutationOptions: a\n  } = e,\n      s = H(e),\n      i = G(),\n      u = nr(s),\n      c = ce(),\n      [l, {\n    isLoading: m\n  }] = Qt(),\n      f = gl(M => {\n    M.stopPropagation(), l(s, {\n      id: t.id,\n      previousData: t\n    }, y({\n      onSuccess: () => {\n        i(\"ra.notification.deleted\", {\n          type: \"info\",\n          messageArgs: {\n            smart_count: 1\n          },\n          undoable: !0\n        }), u([t.id]), c(r, s);\n      },\n      onError: T => {\n        i(typeof T == \"string\" ? T : T.message || \"ra.notification.http_error\", {\n          type: \"warning\",\n          messageArgs: {\n            _: typeof T == \"string\" ? T : T && T.message ? T.message : void 0\n          }\n        });\n      },\n      mutationMode: \"undoable\"\n    }, a)), typeof o == \"function\" && o(M);\n  }, [l, a, i, o, t, c, r, s, u]);\n  return {\n    isLoading: m,\n    handleDelete: f\n  };\n}, \"useDeleteWithUndoController\"),\n    Pl = Rl;\nimport { useState as hl, useCallback as xl } from \"react\";\nvar Cl = n(e => {\n  let {\n    record: t,\n    redirect: r,\n    mutationMode: o,\n    onClick: a,\n    mutationOptions: s\n  } = e,\n      i = H(e),\n      [u, c] = hl(!1),\n      l = G(),\n      m = nr(i),\n      f = ce(),\n      [M, {\n    isLoading: T\n  }] = Qt(),\n      L = n(R => {\n    c(!0), R.stopPropagation();\n  }, \"handleDialogOpen\"),\n      x = n(R => {\n    c(!1), R.stopPropagation();\n  }, \"handleDialogClose\"),\n      P = xl(R => {\n    R.stopPropagation(), M(i, {\n      id: t.id,\n      previousData: t\n    }, y({\n      onSuccess: () => {\n        c(!1), l(\"ra.notification.deleted\", {\n          type: \"info\",\n          messageArgs: {\n            smart_count: 1\n          },\n          undoable: o === \"undoable\"\n        }), m([t.id]), f(r, i);\n      },\n      onError: g => {\n        c(!1), l(typeof g == \"string\" ? g : g.message || \"ra.notification.http_error\", {\n          type: \"warning\",\n          messageArgs: {\n            _: typeof g == \"string\" ? g : g && g.message ? g.message : void 0\n          }\n        });\n      },\n      mutationMode: o\n    }, s)), typeof a == \"function\" && a(R);\n  }, [M, o, s, l, a, t, f, r, i, m]);\n  return {\n    open: u,\n    isLoading: T,\n    handleDialogOpen: L,\n    handleDialogClose: x,\n    handleDelete: P\n  };\n}, \"useDeleteWithConfirmController\"),\n    Tl = Cl;\nimport * as ca from \"react\";\nimport { useCallback as Ml } from \"react\";\nimport { parse as Sl } from \"query-string\";\nimport { useLocation as Ll } from \"react-router-dom\";\nvar ar = n(function () {\n  let e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var b;\n  let {\n    disableAuthentication: t,\n    record: r,\n    redirect: o,\n    transform: a,\n    mutationOptions: s = {}\n  } = e;\n  re({\n    enabled: !t\n  });\n\n  let i = H(e),\n      {\n    hasEdit: u,\n    hasShow: c\n  } = Yn(e),\n      l = o || El(c, u),\n      m = Ll(),\n      f = _(),\n      M = G(),\n      T = ce(),\n      L = (b = r != null ? r : bl(m)) != null ? b : void 0,\n      v = s,\n      {\n    onSuccess: x,\n    onError: P\n  } = v,\n      R = N(v, [\"onSuccess\", \"onError\"]),\n      [g, {\n    isLoading: S\n  }] = On(i, void 0, R),\n      C = Ml(function (I) {\n    let {\n      onSuccess: F,\n      onError: A,\n      transform: w\n    } = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    return Promise.resolve(w ? w(I) : a ? a(I) : I).then(O => g(i, {\n      data: O\n    }, {\n      onSuccess: F || x || (k => {\n        M(\"ra.notification.created\", {\n          type: \"info\",\n          messageArgs: {\n            smart_count: 1\n          }\n        }), T(l, i, k.id, k);\n      }),\n      onError: A || P || (k => {\n        M(typeof k == \"string\" ? k : k.message || \"ra.notification.http_error\", {\n          type: \"warning\",\n          messageArgs: {\n            _: typeof k == \"string\" ? k : k && k.message ? k.message : void 0\n          }\n        });\n      })\n    }));\n  }, [g, l, M, P, x, T, i, a]),\n      h = Ce(),\n      E = f(\"ra.page.create\", {\n    name: h(i, 1)\n  });\n\n  return {\n    isFetching: !1,\n    isLoading: !1,\n    saving: S,\n    defaultTitle: E,\n    save: C,\n    resource: i,\n    record: L,\n    redirect: l\n  };\n}, \"useCreateController\"),\n    bl = n(_ref65 => {\n  let {\n    state: e,\n    search: t\n  } = _ref65;\n  if (e && e.record) return e.record;\n  if (t) try {\n    let r = Sl(t);\n\n    if (r.source) {\n      if (Array.isArray(r.source)) {\n        console.error(`Failed to parse location search parameter '${t}'. To pre-fill some fields in the Create form, pass a stringified source parameter (e.g. '?source={\"title\":\"foo\"}')`);\n        return;\n      }\n\n      return JSON.parse(r.source);\n    }\n  } catch {\n    console.error(`Failed to parse location search parameter '${t}'. To pre-fill some fields in the Create form, pass a stringified source parameter (e.g. '?source={\"title\":\"foo\"}')`);\n  }\n  return null;\n}, \"getRecordFromLocation\"),\n    El = n((e, t) => t ? \"edit\" : e ? \"show\" : \"list\", \"getDefaultRedirectRoute\");\nimport * as lr from \"react\";\nimport * as na from \"react\";\nimport { createContext as vl } from \"react\";\nvar sr = vl(void 0);\nsr.displayName = \"RecordContext\";\nvar de = n(_ref66 => {\n  let {\n    children: e,\n    value: t\n  } = _ref66;\n  return na.createElement(sr.Provider, {\n    value: t\n  }, e);\n}, \"RecordContextProvider\");\nimport { createContext as Dl } from \"react\";\nvar dt = Dl({\n  record: null,\n  defaultTitle: null,\n  isFetching: null,\n  isLoading: null,\n  redirect: null,\n  resource: null,\n  save: null,\n  saving: null\n});\ndt.displayName = \"CreateContext\";\nimport { createContext as wl } from \"react\";\nvar ir = wl(void 0);\nimport * as aa from \"react\";\nvar cr = n(_ref67 => {\n  let {\n    children: e,\n    value: t\n  } = _ref67;\n  return aa.createElement(ir.Provider, {\n    value: t\n  }, e);\n}, \"SaveContextProvider\");\nimport { useMemo as Il } from \"react\";\nimport Al from \"lodash/pick\";\nvar ur = n(e => Il(() => Al(e, [\"save\", \"saving\", \"mutationMode\"]), [e.save, e.saving, e.mutationMode]), \"usePickSaveContext\");\nimport { useContext as Nl } from \"react\";\nvar sa = n(e => Nl(ir), \"useSaveContext\");\nvar ia = n(_ref68 => {\n  let {\n    children: e,\n    value: t\n  } = _ref68;\n  return lr.createElement(dt.Provider, {\n    value: t\n  }, lr.createElement(cr, {\n    value: D(y({}, ur(t)), {\n      mutationMode: \"pessimistic\"\n    })\n  }, lr.createElement(de, {\n    value: t && t.record\n  }, e)));\n}, \"CreateContextProvider\");\nvar gS = n(r => {\n  var o = r,\n      {\n    children: e\n  } = o,\n      t = N(o, [\"children\"]);\n  return ca.createElement(ia, {\n    value: ar(t)\n  }, e);\n}, \"CreateBase\");\nvar CS = n(r => {\n  var o = r,\n      {\n    children: e\n  } = o,\n      t = N(o, [\"children\"]);\n  let a = ar(t);\n  return e(a);\n}, \"CreateController\");\nimport { useContext as Fl, useMemo as Ol } from \"react\";\nimport Ul from \"lodash/defaults\";\nvar bS = n(e => {\n  let t = Fl(dt);\n  return Ol(() => Ul({}, e != null ? kl(e) : {}, t), [t, e]);\n}, \"useCreateContext\"),\n    kl = n(_ref69 => {\n  let {\n    record: e,\n    defaultTitle: t,\n    isFetching: r,\n    isLoading: o,\n    redirect: a,\n    resource: s,\n    save: i,\n    saving: u\n  } = _ref69;\n  return {\n    record: e,\n    defaultTitle: t,\n    isFetching: r,\n    isLoading: o,\n    redirect: a,\n    resource: s,\n    save: i,\n    saving: u\n  };\n}, \"extractCreateContextProps\");\nimport * as ma from \"react\";\nimport { useCallback as jl } from \"react\";\nimport { useParams as Vl } from \"react-router-dom\";\nvar dr = n(function () {\n  let e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  let {\n    disableAuthentication: t,\n    id: r,\n    mutationMode: o = \"undoable\",\n    mutationOptions: a = {},\n    queryOptions: s = {},\n    redirect: i = ua,\n    transform: u\n  } = e;\n  re({\n    enabled: !t\n  });\n\n  let c = H(e),\n      l = _(),\n      m = G(),\n      f = ce(),\n      M = jt(),\n      {\n    id: T\n  } = Vl(),\n      L = r || decodeURIComponent(T),\n      O = a,\n      {\n    onSuccess: x,\n    onError: P\n  } = O,\n      R = N(O, [\"onSuccess\", \"onError\"]),\n      {\n    data: g,\n    error: S,\n    isLoading: C,\n    isFetching: h,\n    refetch: E\n  } = Vt(c, {\n    id: L\n  }, y({\n    onError: () => {\n      m(\"ra.notification.item_doesnt_exist\", {\n        type: \"warning\"\n      }), f(\"list\", c), M();\n    },\n    refetchOnReconnect: !1,\n    refetchOnWindowFocus: !1,\n    retry: !1\n  }, s));\n\n  if (g && g.id && g.id != L) throw new Error(`useEditController: Fetched record's id attribute (${g.id}) must match the requested 'id' (${L})`);\n  let b = Ce(),\n      v = l(\"ra.page.edit\", {\n    name: b(c, 1),\n    id: L,\n    record: g\n  }),\n      I = {\n    id: L,\n    previousData: g\n  },\n      [F, {\n    isLoading: A\n  }] = Un(c, I, D(y({}, R), {\n    mutationMode: o\n  })),\n      w = jl(function (k) {\n    let {\n      onSuccess: $,\n      onError: q,\n      transform: V\n    } = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    return Promise.resolve(V ? V(k, {\n      previousData: I.previousData\n    }) : u ? u(k, {\n      previousData: I.previousData\n    }) : k).then(U => F(c, {\n      data: U\n    }, {\n      onSuccess: $ || x || (() => {\n        m(\"ra.notification.updated\", {\n          type: \"info\",\n          messageArgs: {\n            smart_count: 1\n          },\n          undoable: o === \"undoable\"\n        }), f(i, c, U.id, U);\n      }),\n      onError: q || P || (j => {\n        m(typeof j == \"string\" ? j : j.message || \"ra.notification.http_error\", {\n          type: \"warning\",\n          messageArgs: {\n            _: typeof j == \"string\" ? j : j && j.message ? j.message : void 0\n          }\n        });\n      })\n    }));\n  }, [o, m, P, x, f, i, c, u, F, I.previousData]);\n  return {\n    defaultTitle: v,\n    error: S,\n    isFetching: h,\n    isLoading: C,\n    mutationMode: o,\n    record: g,\n    redirect: ua,\n    refetch: E,\n    resource: c,\n    save: w,\n    saving: A\n  };\n}, \"useEditController\"),\n    ua = \"list\";\nimport * as pr from \"react\";\nimport { useContext as Gl } from \"react\";\nvar pe = n(e => {\n  let t = Gl(sr);\n  return e && e.record || t;\n}, \"useRecordContext\");\nvar zS = n(_ref70 => {\n  let {\n    render: e\n  } = _ref70;\n  let t = pe();\n  return t ? e(t) : null;\n}, \"WithRecord\");\nimport * as la from \"react\";\nvar da = n(_ref71 => {\n  let {\n    value: e,\n    children: t\n  } = _ref71;\n  return e ? la.createElement(de, {\n    value: e\n  }, t) : t;\n}, \"OptionalRecordContextProvider\");\nimport { createContext as Ql } from \"react\";\nvar pt = Ql({\n  record: null,\n  defaultTitle: null,\n  isFetching: null,\n  isLoading: null,\n  mutationMode: null,\n  redirect: null,\n  refetch: null,\n  resource: null,\n  save: null,\n  saving: null\n});\npt.displayName = \"EditContext\";\nvar pa = n(_ref72 => {\n  let {\n    children: e,\n    value: t\n  } = _ref72;\n  return pr.createElement(pt.Provider, {\n    value: t\n  }, pr.createElement(cr, {\n    value: ur(t)\n  }, pr.createElement(de, {\n    value: t && t.record\n  }, e)));\n}, \"EditContextProvider\");\nvar rL = n(r => {\n  var o = r,\n      {\n    children: e\n  } = o,\n      t = N(o, [\"children\"]);\n  return ma.createElement(pa, {\n    value: dr(t)\n  }, e);\n}, \"EditBase\");\nvar iL = n(r => {\n  var o = r,\n      {\n    children: e\n  } = o,\n      t = N(o, [\"children\"]);\n  let a = dr(t);\n  return e(a);\n}, \"EditController\");\nimport { useContext as _l, useMemo as zl } from \"react\";\nimport Hl from \"lodash/defaults\";\nvar pL = n(e => {\n  let t = _l(pt);\n\n  return zl(() => Hl({}, e != null ? Wl(e) : {}, t), [t, e]);\n}, \"useEditContext\"),\n    Wl = n(_ref73 => {\n  let {\n    data: e,\n    record: t,\n    defaultTitle: r,\n    isFetching: o,\n    isLoading: a,\n    mutationMode: s,\n    redirect: i,\n    resource: u,\n    save: c,\n    saving: l\n  } = _ref73;\n  return {\n    data: t || e,\n    record: t || e,\n    defaultTitle: r,\n    isFetching: o,\n    isLoading: a,\n    mutationMode: s,\n    redirect: i,\n    resource: u,\n    save: c,\n    saving: l\n  };\n}, \"extractEditContextProps\");\nimport jd from \"lodash/get\";\nimport * as fo from \"react\";\nimport { isValidElement as ud, useEffect as ld, useMemo as dd } from \"react\";\nimport { useMemo as Yl } from \"react\";\nvar me = n(e => {\n  let t = `${e}.selectedIds`,\n      [r, o] = ue(t, Jl),\n      a = dn(t),\n      s = Yl(() => ({\n    select: i => {\n      !i || o([...i]);\n    },\n\n    unselect(i) {\n      !i || i.length === 0 || o(u => Array.isArray(u) ? u.filter(c => !i.includes(c)) : []);\n    },\n\n    toggle: i => {\n      typeof i != \"undefined\" && o(u => {\n        if (!Array.isArray(u)) return [...u];\n        let c = u.indexOf(i);\n        return c > -1 ? [...u.slice(0, c), ...u.slice(c + 1)] : [...u, i];\n      });\n    },\n    clearSelection: () => {\n      a();\n    }\n  }), [o, a]);\n  return [r, s];\n}, \"useRecordSelection\"),\n    Jl = [];\nimport { useCallback as we, useMemo as $l, useEffect as Zl, useState as Bl, useRef as ql } from \"react\";\nimport { parse as Kl, stringify as Xl } from \"query-string\";\nimport ed from \"lodash/debounce\";\nimport td from \"lodash/pickBy\";\nimport { useNavigate as rd, useLocation as od } from \"react-router-dom\";\nvar fa = n(_ref74 => {\n  let {\n    resource: e,\n    filterDefaultValues: t,\n    sort: r = cd,\n    perPage: o = 10,\n    debounce: a = 500,\n    disableSyncWithLocation: s = !1\n  } = _ref74;\n  let i = od(),\n      u = rd(),\n      [c, l] = Bl(Pa),\n      m = `${e}.listParams`,\n      [f, M] = ue(m, Pa),\n      T = ql(),\n      L = ln(),\n      x = [i.search, e, JSON.stringify(s ? c : f), JSON.stringify(t), JSON.stringify(r), o, s],\n      P = s ? {} : ad(i),\n      R = $l(() => id({\n    queryFromLocation: P,\n    params: s ? c : f,\n    filterDefaultValues: t,\n    sort: r,\n    perPage: o\n  }), x);\n  Zl(() => {\n    Object.keys(P).length > 0 && M(R);\n  }, [i.search]);\n  let g = we(w => {\n    !L.current || (T.current ? T.current = po(T.current, w) : (T.current = po(R, w), setTimeout(() => {\n      s ? l(T.current) : u({\n        search: `?${Xl(D(y({}, T.current), {\n          filter: JSON.stringify(T.current.filter),\n          displayedFilters: JSON.stringify(T.current.displayedFilters)\n        }))}`\n      }, {\n        state: {\n          _scrollToTop: w.type === _e\n        }\n      }), T.current = void 0;\n    }, 0)));\n  }, x),\n      S = we(w => g({\n    type: at,\n    payload: w\n  }), x),\n      C = we(w => g({\n    type: _e,\n    payload: w\n  }), x),\n      h = we(w => g({\n    type: st,\n    payload: w\n  }), x),\n      E = R.filter || Ra,\n      b = R.displayedFilters || Ra,\n      v = ed((w, O) => {\n    g({\n      type: De,\n      payload: {\n        filter: X(w),\n        displayedFilters: O\n      }\n    });\n  }, a),\n      I = we(function (w, O) {\n    let k = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : !0;\n    return k ? v(w, O) : g({\n      type: De,\n      payload: {\n        filter: X(w),\n        displayedFilters: O\n      }\n    });\n  }, x),\n      F = we(w => {\n    g({\n      type: ct,\n      payload: w\n    });\n  }, x),\n      A = we((w, O) => {\n    g({\n      type: it,\n      payload: {\n        filterName: w,\n        defaultValue: O\n      }\n    });\n  }, x);\n  return [y({\n    displayedFilters: b,\n    filterValues: E,\n    requestSignature: x\n  }, R), {\n    changeParams: g,\n    setPage: C,\n    setPerPage: h,\n    setSort: S,\n    setFilters: I,\n    hideFilter: F,\n    showFilter: A\n  }];\n}, \"useListParams\"),\n    nd = [\"page\", \"perPage\", \"sort\", \"order\", \"filter\", \"displayedFilters\"],\n    ya = n((e, t) => {\n  if (e[t] && typeof e[t] == \"string\") try {\n    e[t] = JSON.parse(e[t]);\n  } catch {\n    delete e[t];\n  }\n}, \"parseObject\"),\n    ad = n(_ref75 => {\n  let {\n    search: e\n  } = _ref75;\n  let t = td(Kl(e), (r, o) => nd.indexOf(o) !== -1);\n  return ya(t, \"filter\"), ya(t, \"displayedFilters\"), t;\n}, \"parseQueryFromLocation\"),\n    sd = n(e => e && e.filter && (Object.keys(e.filter).length > 0 || e.order != null || e.page !== 1 || e.perPage != null || e.sort != null), \"hasCustomParams\"),\n    id = n(_ref76 => {\n  let {\n    queryFromLocation: e,\n    params: t,\n    filterDefaultValues: r,\n    sort: o,\n    perPage: a\n  } = _ref76;\n  let s = Object.keys(e).length > 0 ? e : sd(t) ? y({}, t) : {\n    filter: r || {}\n  };\n  return s.sort || (s.sort = o.field, s.order = o.order), s.perPage == null && (s.perPage = a), s.page == null && (s.page = 1), D(y({}, s), {\n    page: ga(s.page, 1),\n    perPage: ga(s.perPage, 10)\n  });\n}, \"getQuery\"),\n    ga = n((e, t) => {\n  let r = typeof e == \"string\" ? parseInt(e, 10) : e;\n  return isNaN(r) ? t : r;\n}, \"getNumberOrDefault\"),\n    Ra = {},\n    cd = {\n  field: \"id\",\n  order: oe\n},\n    Pa = {};\nvar mr = n(function () {\n  let e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  let {\n    disableAuthentication: t,\n    exporter: r = tt,\n    filterDefaultValues: o,\n    sort: a = pd,\n    perPage: s = 10,\n    filter: i,\n    debounce: u = 500,\n    disableSyncWithLocation: c,\n    queryOptions: l\n  } = e;\n  re({\n    enabled: !t\n  });\n  let m = H(e);\n  if (!m) throw new Error(\"<List> was called outside of a ResourceContext and without a resource prop. You must set the resource prop.\");\n  if (i && ud(i)) throw new Error(\"<List> received a React element as `filter` props. If you intended to set the list filter elements, use the `filters` (with an s) prop instead. The `filter` prop is internal and should not be set by the developer.\");\n\n  let f = _(),\n      M = G(),\n      [T, L] = fa({\n    resource: m,\n    filterDefaultValues: o,\n    sort: a,\n    perPage: s,\n    debounce: u,\n    disableSyncWithLocation: c\n  }),\n      [x, P] = me(m),\n      {\n    data: R,\n    pageInfo: g,\n    total: S,\n    error: C,\n    isLoading: h,\n    isFetching: E,\n    refetch: b\n  } = Ve(m, {\n    pagination: {\n      page: T.page,\n      perPage: T.perPage\n    },\n    sort: {\n      field: T.sort,\n      order: T.order\n    },\n    filter: y(y({}, T.filter), i)\n  }, y({\n    keepPreviousData: !0,\n    retry: !1,\n    onError: A => M((A == null ? void 0 : A.message) || \"ra.notification.http_error\", {\n      type: \"warning\",\n      messageArgs: {\n        _: A == null ? void 0 : A.message\n      }\n    })\n  }, l));\n\n  ld(() => {\n    if (T.page <= 0 || !E && T.page > 1 && R.length === 0) {\n      L.setPage(1);\n      return;\n    }\n\n    if (S == null) return;\n    let A = Math.ceil(S / T.perPage) || 1;\n    !E && T.page > A && L.setPage(A);\n  }, [E, T.page, T.perPage, R, L, S]);\n  let v = dd(() => ({\n    field: T.sort,\n    order: T.order\n  }), [T.sort, T.order]),\n      I = Ce(),\n      F = f(\"ra.page.list\", {\n    name: I(m, 2)\n  });\n  return {\n    sort: v,\n    data: R,\n    defaultTitle: F,\n    displayedFilters: T.displayedFilters,\n    error: C,\n    exporter: r,\n    filter: i,\n    filterValues: T.filterValues,\n    hideFilter: L.hideFilter,\n    isFetching: E,\n    isLoading: h,\n    onSelect: P.select,\n    onToggleItem: P.toggle,\n    onUnselectItems: P.clearSelection,\n    page: T.page,\n    perPage: T.perPage,\n    refetch: b,\n    resource: m,\n    selectedIds: x,\n    setFilters: L.setFilters,\n    setPage: L.setPage,\n    setPerPage: L.setPerPage,\n    setSort: L.setSort,\n    showFilter: L.showFilter,\n    total: S,\n    hasNextPage: g ? g.hasNextPage : S != null ? T.page * T.perPage < S : void 0,\n    hasPreviousPage: g ? g.hasPreviousPage : T.page > 1\n  };\n}, \"useListController\"),\n    pd = {\n  field: \"id\",\n  order: oe\n},\n    ha = [\"sort\", \"data\", \"defaultTitle\", \"displayedFilters\", \"error\", \"exporter\", \"filterValues\", \"hideFilter\", \"isFetching\", \"isLoading\", \"onSelect\", \"onToggleItem\", \"onUnselectItems\", \"page\", \"perPage\", \"refetch\", \"refresh\", \"resource\", \"selectedIds\", \"setFilters\", \"setPage\", \"setPerPage\", \"setSort\", \"showFilter\", \"total\", \"totalPages\"],\n    jL = n(e => ha.reduce((t, r) => D(y({}, t), {\n  [r]: e[r]\n}), {}), \"getListControllerProps\"),\n    VL = n(e => Object.keys(e).filter(t => !ha.includes(t)).reduce((t, r) => D(y({}, t), {\n  [r]: e[r]\n}), {}), \"sanitizeListRestProps\");\nimport * as Rt from \"react\";\nimport { createContext as md } from \"react\";\nvar mt = md({\n  sort: null,\n  data: null,\n  defaultTitle: null,\n  displayedFilters: null,\n  exporter: null,\n  filterValues: null,\n  hasNextPage: null,\n  hasPreviousPage: null,\n  hideFilter: null,\n  isFetching: null,\n  isLoading: null,\n  onSelect: null,\n  onToggleItem: null,\n  onUnselectItems: null,\n  page: null,\n  perPage: null,\n  refetch: null,\n  resource: null,\n  selectedIds: void 0,\n  setFilters: null,\n  setPage: null,\n  setPerPage: null,\n  setSort: null,\n  showFilter: null,\n  total: null\n});\nmt.displayName = \"ListContext\";\nimport { createContext as fd, useMemo as yd } from \"react\";\nimport gd from \"lodash/pick\";\nvar ft = fd({\n  displayedFilters: null,\n  filterValues: null,\n  hideFilter: null,\n  setFilters: null,\n  showFilter: null,\n  resource: null\n}),\n    xa = n(e => yd(() => gd(e, [\"displayedFilters\", \"filterValues\", \"hideFilter\", \"setFilters\", \"showFilter\", \"resource\"]), [e.displayedFilters, e.filterValues, e.hideFilter, e.setFilters, e.showFilter]), \"usePickFilterContext\");\nft.displayName = \"ListFilterContext\";\nimport { createContext as Rd, useMemo as Pd } from \"react\";\nimport hd from \"lodash/pick\";\nvar yt = Rd({\n  sort: null,\n  setSort: null,\n  resource: null\n}),\n    Ca = n(e => Pd(() => hd(e, [\"sort\", \"setSort\", \"resource\"]), [e.sort, e.setSort]), \"usePickSortContext\");\nyt.displayName = \"ListSortContext\";\nimport { createContext as xd, useMemo as Cd } from \"react\";\nimport Td from \"lodash/pick\";\nvar gt = xd({\n  isLoading: null,\n  page: null,\n  perPage: null,\n  setPage: null,\n  setPerPage: null,\n  hasPreviousPage: null,\n  hasNextPage: null,\n  total: void 0,\n  resource: null\n});\ngt.displayName = \"ListPaginationContext\";\nvar Ta = n(e => Cd(() => Td(e, [\"isLoading\", \"hasPreviousPage\", \"hasNextPage\", \"page\", \"perPage\", \"setPage\", \"setPerPage\", \"total\", \"resource\"]), [e.isLoading, e.hasPreviousPage, e.hasNextPage, e.page, e.perPage, e.setPage, e.setPerPage, e.total]), \"usePickPaginationContext\");\nvar Ma = n(_ref77 => {\n  let {\n    value: e,\n    children: t\n  } = _ref77;\n  return Rt.createElement(mt.Provider, {\n    value: e\n  }, Rt.createElement(ft.Provider, {\n    value: xa(e)\n  }, Rt.createElement(yt.Provider, {\n    value: Ca(e)\n  }, Rt.createElement(gt.Provider, {\n    value: Ta(e)\n  }, t))));\n}, \"ListContextProvider\");\nvar ib = n(r => {\n  var o = r,\n      {\n    children: e\n  } = o,\n      t = N(o, [\"children\"]);\n  return fo.createElement(zt, {\n    value: t.resource\n  }, fo.createElement(Ma, {\n    value: mr(t)\n  }, e));\n}, \"ListBase\");\nvar pb = n(r => {\n  var o = r,\n      {\n    children: e\n  } = o,\n      t = N(o, [\"children\"]);\n  let a = mr(t);\n  return e(a);\n}, \"ListController\");\nimport { useCallback as fr, useEffect as yr, useRef as Md } from \"react\";\nimport Pt from \"lodash/get\";\nimport Sd from \"lodash/isEqual\";\nvar Ld = n(() => {\n  throw new Error(\"refetch is not available for a ListContext built from useList based on local data\");\n}, \"refetch\"),\n    gr = n(e => {\n  let {\n    data: t,\n    error: r,\n    filter: o = bd,\n    isFetching: a = !1,\n    isLoading: s = !1,\n    page: i = 1,\n    perPage: u = 1e3,\n    sort: c = Ed\n  } = e,\n      l = H(e),\n      [m, f] = Q(a),\n      [M, T] = Q(s),\n      [L, x] = Q(() => ({\n    data: t,\n    total: t ? t.length : void 0\n  })),\n      {\n    page: P,\n    setPage: R,\n    perPage: g,\n    setPerPage: S\n  } = lt({\n    page: i,\n    perPage: u\n  }),\n      {\n    sort: C,\n    setSort: h\n  } = ut(c),\n      E = fr(V => {\n    h(V), R(1);\n  }, [R, h]),\n      [b, v] = me(l),\n      I = Md(o),\n      [F, A] = Q({}),\n      [w, O] = Q(o),\n      k = fr(V => {\n    A(U => {\n      let Y = U,\n          {\n        [V]: j\n      } = Y;\n      return N(Y, [Ae(V)]);\n    }), O(U => {\n      let Y = U,\n          {\n        [V]: j\n      } = Y;\n      return N(Y, [Ae(V)]);\n    });\n  }, [A, O]),\n      $ = fr((V, U) => {\n    A(j => D(y({}, j), {\n      [V]: !0\n    })), O(j => X(D(y({}, j), {\n      [V]: U\n    })));\n  }, [A, O]),\n      q = fr((V, U) => {\n    O(X(V)), U && A(U), R(1);\n  }, [A, O, R]);\n  return yr(() => {\n    Sd(o, I.current) || (I.current = o, O(o));\n  }), yr(() => {\n    if (s || !t) return;\n    let V = t.filter(j => Object.entries(w).every(_ref78 => {\n      let [B, Y] = _ref78;\n      let K = Pt(j, B);\n      return Array.isArray(K) ? Array.isArray(Y) ? K.some(Tt => Y.includes(Tt)) : K.includes(Y) : Array.isArray(Y) ? Y.includes(K) : Y == K;\n    })),\n        U = V.length;\n    C.field && (V = V.sort((j, B) => Pt(j, C.field) > Pt(B, C.field) ? C.order === \"ASC\" ? 1 : -1 : Pt(j, C.field) < Pt(B, C.field) ? C.order === \"ASC\" ? -1 : 1 : 0)), V = V.slice((P - 1) * g, P * g), x({\n      data: V,\n      total: U\n    });\n  }, [JSON.stringify(t), w, s, P, g, x, C.field, C.order]), yr(() => {\n    a !== m && f(a);\n  }, [a, m, f]), yr(() => {\n    s !== M && T(s);\n  }, [s, M, T]), {\n    sort: C,\n    data: L.data,\n    defaultTitle: \"\",\n    error: r,\n    displayedFilters: F,\n    filterValues: w,\n    hasNextPage: P * g < L.total,\n    hasPreviousPage: P > 1,\n    hideFilter: k,\n    isFetching: m,\n    isLoading: M,\n    onSelect: v.select,\n    onToggleItem: v.toggle,\n    onUnselectItems: v.clearSelection,\n    page: P,\n    perPage: g,\n    resource: void 0,\n    refetch: Ld,\n    selectedIds: b,\n    setFilters: q,\n    setPage: R,\n    setPerPage: S,\n    setSort: E,\n    showFilter: $,\n    total: L.total\n  };\n}, \"useList\"),\n    bd = {},\n    Ed = {\n  field: null,\n  order: null\n};\nimport { useContext as vd, useMemo as Dd } from \"react\";\nimport wd from \"lodash/defaults\";\nvar bb = n(e => {\n  let t = vd(mt);\n  return Dd(() => wd({}, e != null ? Id(e) : {}, t), [t, e]);\n}, \"useListContext\"),\n    Id = n(_ref79 => {\n  let {\n    sort: e,\n    data: t,\n    defaultTitle: r,\n    displayedFilters: o,\n    exporter: a,\n    filterValues: s,\n    hasCreate: i,\n    hideFilter: u,\n    isFetching: c,\n    isLoading: l,\n    onSelect: m,\n    onToggleItem: f,\n    onUnselectItems: M,\n    page: T,\n    perPage: L,\n    refetch: x,\n    resource: P,\n    selectedIds: R,\n    setFilters: g,\n    setPage: S,\n    setPerPage: C,\n    setSort: h,\n    showFilter: E,\n    total: b\n  } = _ref79;\n  return {\n    sort: e,\n    data: t,\n    defaultTitle: r,\n    displayedFilters: o,\n    exporter: a,\n    filterValues: s,\n    hasCreate: i,\n    hideFilter: u,\n    isFetching: c,\n    isLoading: l,\n    onSelect: m,\n    onToggleItem: f,\n    onUnselectItems: M,\n    page: T,\n    perPage: L,\n    refetch: x,\n    resource: P,\n    selectedIds: R,\n    setFilters: g,\n    setPage: S,\n    setPerPage: C,\n    setSort: h,\n    showFilter: E,\n    total: b\n  };\n}, \"extractListContextProps\");\nimport { useContext as Ad } from \"react\";\nvar Ib = n(e => {\n  let t = Ad(ft);\n  return t.hideFilter ? t : (process.env.NODE_ENV !== \"production\" && console.log(\"List components must be used inside a <ListContextProvider>. Relying on props rather than context to get List data and callbacks is deprecated and won't be supported in the next major version of react-admin.\"), e);\n}, \"useListFilterContext\");\nimport { useContext as Nd } from \"react\";\nvar Ub = n(e => {\n  let t = Nd(gt);\n  return t.setPage ? t : (process.env.NODE_ENV !== \"production\" && console.log(\"List components must be used inside a <ListContextProvider>. Relying on props rather than context to get List data and callbacks is deprecated and won't be supported in the next major version of react-admin.\"), e);\n}, \"useListPaginationContext\");\nimport { useContext as Fd } from \"react\";\nvar Qb = n(e => {\n  let t = Fd(yt);\n  return t.setSort ? t : (process.env.NODE_ENV !== \"production\" && console.log(\"List components must be used inside a <ListContextProvider>. Relying on props rather than context to get List data and callbacks is deprecated and won't be supported in the next major version of react-admin.\"), e);\n}, \"useListSortContext\");\nimport { useCallback as Od } from \"react\";\nvar nr = n(e => {\n  let [, {\n    unselect: t\n  }] = me(e);\n  return Od(r => {\n    t(r);\n  }, [t]);\n}, \"useUnselect\");\nimport { useCallback as Ud } from \"react\";\nvar $b = n(e => {\n  let [, {\n    clearSelection: t\n  }] = me(e);\n  return Ud(() => {\n    t();\n  }, [t]);\n}, \"useUnselectAll\");\nimport { useCallback as kd } from \"react\";\nvar Kb = n(function (e, t) {\n  let r = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : !1;\n  let [o, a] = ue(`${e}.datagrid.expanded`, []),\n      s = Array.isArray(o) ? o.map(u => u == t).indexOf(!0) !== -1 : !1,\n      i = kd(() => {\n    a(u => {\n      if (!Array.isArray(u)) return [t];\n      let c = u.findIndex(l => l == t);\n      return c > -1 ? r ? [] : [...u.slice(0, c), ...u.slice(c + 1)] : r ? [t] : [...u, t];\n    });\n  }, [a, t, r]);\n  return [s, i];\n}, \"useExpanded\");\nvar Vd = [],\n    Gd = {},\n    Qd = {\n  field: null,\n  order: null\n},\n    aE = n(e => {\n  let {\n    filter: t = Gd,\n    page: r = 1,\n    perPage: o = 1e3,\n    record: a,\n    reference: s,\n    sort: i = Qd,\n    source: u\n  } = e,\n      c = G(),\n      l = jd(a, u) || Vd,\n      {\n    data: m,\n    error: f,\n    isLoading: M,\n    isFetching: T,\n    refetch: L\n  } = Ge(s, {\n    ids: l\n  }, {\n    onError: P => c(typeof P == \"string\" ? P : P.message || \"ra.notification.http_error\", {\n      type: \"warning\",\n      messageArgs: {\n        _: typeof P == \"string\" ? P : P && P.message ? P.message : void 0\n      }\n    })\n  }),\n      x = gr({\n    data: m,\n    error: f,\n    filter: t,\n    isFetching: T,\n    isLoading: M,\n    page: r,\n    perPage: o,\n    sort: i\n  });\n  return D(y({}, x), {\n    defaultTitle: null,\n    refetch: L,\n    resource: s\n  });\n}, \"useReferenceArrayFieldController\");\nimport _d from \"lodash/get\";\nimport { useCallback as Rr, useEffect as zd, useRef as Hd } from \"react\";\nimport Wd from \"lodash/isEqual\";\nvar Yd = {},\n    gE = n(e => {\n  let {\n    reference: t,\n    record: r,\n    target: o,\n    filter: a = Yd,\n    source: s,\n    page: i,\n    perPage: u,\n    sort: c = {\n      field: \"id\",\n      order: \"DESC\"\n    }\n  } = e,\n      l = G(),\n      {\n    page: m,\n    setPage: f,\n    perPage: M,\n    setPerPage: T\n  } = lt({\n    page: i,\n    perPage: u\n  }),\n      {\n    sort: L,\n    setSort: x\n  } = ut(c),\n      P = Rr(U => {\n    x(U), f(1);\n  }, [f, x]),\n      [R, g] = me(t),\n      S = Hd(a),\n      [C, h] = Q({}),\n      [E, b] = Q(a),\n      v = Rr(U => {\n    h(j => {\n      let K = j,\n          {\n        [U]: B\n      } = K;\n      return N(K, [Ae(U)]);\n    }), b(j => {\n      let K = j,\n          {\n        [U]: B\n      } = K;\n      return N(K, [Ae(U)]);\n    });\n  }, [h, b]),\n      I = Rr((U, j) => {\n    h(B => D(y({}, B), {\n      [U]: !0\n    })), b(B => D(y({}, B), {\n      [U]: j\n    }));\n  }, [h, b]),\n      F = Rr((U, j) => {\n    b(X(U)), h(j), f(1);\n  }, [h, b, f]);\n  zd(() => {\n    Wd(a, S.current) || (S.current = a, b(a));\n  });\n  let {\n    data: A,\n    total: w,\n    pageInfo: O,\n    error: k,\n    isFetching: $,\n    isLoading: q,\n    refetch: V\n  } = Gt(t, {\n    target: o,\n    id: _d(r, s),\n    pagination: {\n      page: m,\n      perPage: M\n    },\n    sort: L,\n    filter: E\n  }, {\n    keepPreviousData: !0,\n    onError: U => l(typeof U == \"string\" ? U : U.message || \"ra.notification.http_error\", {\n      type: \"warning\",\n      messageArgs: {\n        _: typeof U == \"string\" ? U : U && U.message ? U.message : void 0\n      }\n    })\n  });\n  return {\n    sort: L,\n    data: A,\n    defaultTitle: null,\n    displayedFilters: C,\n    error: k,\n    filterValues: E,\n    hideFilter: v,\n    isFetching: $,\n    isLoading: q,\n    onSelect: g.select,\n    onToggleItem: g.toggle,\n    onUnselectItems: g.clearSelection,\n    page: m,\n    perPage: M,\n    refetch: V,\n    resource: t,\n    selectedIds: R,\n    setFilters: F,\n    setPage: f,\n    setPerPage: T,\n    hasNextPage: O ? O.hasNextPage : w != null ? m * M < w : void 0,\n    hasPreviousPage: O ? O.hasPreviousPage : m > 1,\n    setSort: P,\n    showFilter: I,\n    total: w\n  };\n}, \"useReferenceManyFieldController\");\nimport Jd from \"lodash/get\";\nvar CE = n(e => {\n  let {\n    reference: t,\n    record: r,\n    target: o,\n    source: a = \"id\"\n  } = e,\n      s = G(),\n      {\n    data: i,\n    error: u,\n    isFetching: c,\n    isLoading: l,\n    refetch: m\n  } = Gt(t, {\n    target: o,\n    id: Jd(r, a),\n    pagination: {\n      page: 1,\n      perPage: 1\n    },\n    sort: {\n      field: \"id\",\n      order: \"ASC\"\n    },\n    filter: {}\n  }, {\n    enabled: !!r,\n    onError: f => s(typeof f == \"string\" ? f : f.message || \"ra.notification.http_error\", {\n      type: \"warning\",\n      messageArgs: {\n        _: typeof f == \"string\" ? f : f && f.message ? f.message : void 0\n      }\n    })\n  });\n  return {\n    referenceRecord: i ? i[0] : void 0,\n    error: u,\n    isFetching: c,\n    isLoading: l,\n    refetch: m\n  };\n}, \"useReferenceOneFieldController\");\nvar Sa = n(e => e && e.error !== void 0, \"isMatchingReferencesError\"),\n    $d = n(_ref80 => {\n  let {\n    field: e,\n    matchingReferences: t,\n    referenceRecord: r,\n    translate: o = n(a => a, \"translate\")\n  } = _ref80;\n  let a = Sa(t) ? o(t.error, {\n    _: t.error\n  }) : null,\n      s = e.value && !r ? o(\"ra.input.references.single_missing\", {\n    _: \"ra.input.references.single_missing\"\n  }) : null;\n  return {\n    waiting: e.value && s && !t || !e.value && !t,\n    error: e.value && s && a || !e.value && a ? e.value ? s : a : null,\n    warning: s || a,\n    choices: Array.isArray(t) ? t : [r].filter(i => i)\n  };\n}, \"getStatusForInput\"),\n    La = \"REFERENCES_STATUS_READY\",\n    Zd = \"REFERENCES_STATUS_INCOMPLETE\",\n    yo = \"REFERENCES_STATUS_EMPTY\",\n    ba = n((e, t) => !e.value || e.value.length === t.length ? La : t.length > 0 ? Zd : yo, \"getSelectedReferencesStatus\"),\n    Bd = n(_ref81 => {\n  let {\n    field: e,\n    matchingReferences: t,\n    referenceRecords: r,\n    translate: o = n(a => a, \"translate\")\n  } = _ref81;\n  let a = ba(e, r),\n      s = Sa(t) ? o(t.error, {\n    _: t.error\n  }) : null,\n      i = Array.isArray(t) ? r.concat(t.filter(u => r.findIndex(c => c.id === u.id) === -1)) : r;\n  return {\n    waiting: !t && e.value && a === yo || !t && !e.value,\n    error: s && (!e.value || e.value && a === yo) ? o(\"ra.input.references.all_missing\", {\n      _: \"ra.input.references.all_missing\"\n    }) : null,\n    warning: s || e.value && a !== La ? s || o(\"ra.input.references.many_missing\", {\n      _: \"ra.input.references.many_missing\"\n    }) : null,\n    choices: i\n  };\n}, \"getStatusForArrayInput\");\nimport { useCallback as ap, useMemo as sp } from \"react\";\nimport { useWatch as ip } from \"react-hook-form\";\nimport { useCallback as Ie, useMemo as qd, useState as Kd, useRef as Xd } from \"react\";\nimport ep from \"lodash/debounce\";\nvar Pr = n(_ref82 => {\n  let {\n    resource: e,\n    filter: t,\n    sort: r = op,\n    page: o = 1,\n    perPage: a = 10,\n    debounce: s = 500\n  } = _ref82;\n  let [i, u] = Kd(np),\n      c = Xd(),\n      l = [e, JSON.stringify(i), JSON.stringify(t), JSON.stringify(r), o, a],\n      m = qd(() => tp({\n    params: i,\n    filterDefaultValues: t,\n    sort: r,\n    page: o,\n    perPage: a\n  }), l),\n      f = Ie(h => {\n    c.current ? c.current = or(c.current, h) : (c.current = or(m, h), setTimeout(() => {\n      u(c.current), c.current = void 0;\n    }, 0));\n  }, l),\n      M = Ie(h => f({\n    type: at,\n    payload: h\n  }), l),\n      T = Ie(h => f({\n    type: _e,\n    payload: h\n  }), l),\n      L = Ie(h => f({\n    type: st,\n    payload: h\n  }), l),\n      x = m.filter || va,\n      P = m.displayedFilters || va,\n      R = ep((h, E) => {\n    f({\n      type: De,\n      payload: {\n        filter: X(h),\n        displayedFilters: E\n      }\n    });\n  }, s),\n      g = Ie(function (h, E) {\n    let b = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : !0;\n    b ? R(h, E) : f({\n      type: De,\n      payload: {\n        filter: X(h),\n        displayedFilters: E\n      }\n    });\n  }, l),\n      S = Ie(h => {\n    f({\n      type: ct,\n      payload: h\n    });\n  }, l),\n      C = Ie((h, E) => {\n    f({\n      type: it,\n      payload: {\n        filterName: h,\n        defaultValue: E\n      }\n    });\n  }, l);\n  return [y({\n    displayedFilters: P,\n    filterValues: x,\n    requestSignature: l\n  }, m), {\n    changeParams: f,\n    setPage: T,\n    setPerPage: L,\n    setSort: M,\n    setFilters: g,\n    hideFilter: S,\n    showFilter: C\n  }];\n}, \"useReferenceParams\");\nvar tp = n(_ref83 => {\n  let {\n    params: e,\n    filterDefaultValues: t,\n    sort: r,\n    page: o,\n    perPage: a\n  } = _ref83;\n  let s = rp(e) ? y({}, e) : {\n    filter: t || {}\n  };\n  return s.sort || (s.sort = r.field, s.order = r.order), s.page == null && (s.page = o), s.perPage == null && (s.perPage = a), s.page == null && (s.page = 1), D(y({}, s), {\n    page: Ea(s.page, 1),\n    perPage: Ea(s.perPage, 10)\n  });\n}, \"getQuery\"),\n    rp = n(e => e && e.filter && (Object.keys(e.filter).length > 0 || e.order != null || e.page !== 1 || e.perPage != null || e.sort != null), \"hasCustomParams\"),\n    Ea = n((e, t) => {\n  let r = typeof e == \"string\" ? parseInt(e, 10) : e;\n  return isNaN(r) ? t : r;\n}, \"getNumberOrDefault\"),\n    va = {},\n    op = {\n  field: \"id\",\n  order: oe\n},\n    np = {};\nvar NE = n(e => {\n  let {\n    debounce: t,\n    enableGetChoices: r,\n    filter: o,\n    page: a = 1,\n    perPage: s = 25,\n    sort: i = {\n      field: \"id\",\n      order: \"DESC\"\n    },\n    queryOptions: u = {},\n    reference: c,\n    source: l\n  } = e,\n      m = ip({\n    name: l\n  }),\n      {\n    data: f,\n    error: M,\n    isLoading: T,\n    isFetching: L,\n    refetch: x\n  } = Ge(c, {\n    ids: m || cp\n  }, {\n    enabled: m != null && m.length > 0\n  }),\n      [P, R] = Pr({\n    resource: c,\n    page: a,\n    perPage: s,\n    sort: i,\n    debounce: t,\n    filter: o\n  }),\n      g = f ? f.filter(Boolean) : [],\n      S = r ? r(P.filterValues) : !0,\n      {\n    data: C,\n    total: h,\n    pageInfo: E,\n    error: b,\n    isLoading: v,\n    isFetching: I,\n    refetch: F\n  } = Ve(c, {\n    pagination: {\n      page: P.page,\n      perPage: P.perPage\n    },\n    sort: {\n      field: P.sort,\n      order: P.order\n    },\n    filter: y(y({}, P.filter), o)\n  }, y({\n    retry: !1,\n    enabled: S\n  }, u)),\n      A = C && C.length > 0 ? up(C, g) : g.length > 0 ? g : C,\n      w = ap(() => {\n    x(), F();\n  }, [x, F]);\n  return {\n    sort: sp(() => ({\n      field: P.sort,\n      order: P.order\n    }), [P.sort, P.order]),\n    allChoices: A,\n    availableChoices: C,\n    selectedChoices: g,\n    displayedFilters: P.displayedFilters,\n    error: M || b,\n    filter: o,\n    filterValues: P.filterValues,\n    hideFilter: R.hideFilter,\n    isFetching: L || I,\n    isLoading: T || v,\n    page: P.page,\n    perPage: P.perPage,\n    refetch: w,\n    resource: c,\n    setFilters: R.setFilters,\n    setPage: R.setPage,\n    setPerPage: R.setPerPage,\n    setSort: R.setSort,\n    showFilter: R.showFilter,\n    source: l,\n    total: h,\n    hasNextPage: E ? E.hasNextPage : h != null ? P.page * P.perPage < h : void 0,\n    hasPreviousPage: E ? E.hasPreviousPage : P.page > 1\n  };\n}, \"useReferenceArrayInputController\"),\n    cp = [],\n    up = n((e, t) => {\n  let r = [...e],\n      o = e.map(a => a.id);\n  return t.forEach(a => {\n    o.includes(a.id) || (o.push(a.id), r.push(a));\n  }), r;\n}, \"mergeReferences\");\nimport { useCallback as lp, useMemo as dp } from \"react\";\nimport { useWatch as pp } from \"react-hook-form\";\nvar Da = n(_ref84 => {\n  let {\n    reference: e,\n    id: t\n  } = _ref84;\n  let {\n    data: r,\n    error: o,\n    isLoading: a,\n    isFetching: s,\n    refetch: i\n  } = Ge(e, {\n    ids: [t]\n  });\n  return {\n    referenceRecord: o ? void 0 : r ? r[0] : void 0,\n    refetch: i,\n    error: o,\n    isLoading: a,\n    isFetching: s\n  };\n}, \"useReference\");\nvar zE = n(e => {\n  let {\n    debounce: t,\n    enableGetChoices: r,\n    filter: o,\n    page: a = 1,\n    perPage: s = 25,\n    sort: i,\n    queryOptions: u = {},\n    reference: c,\n    source: l\n  } = e,\n      [m, f] = Pr({\n    resource: c,\n    page: a,\n    perPage: s,\n    sort: i,\n    debounce: t,\n    filter: o\n  }),\n      M = pp({\n    name: l\n  }),\n      T = r ? r(m.filterValues) : !0,\n      {\n    data: L = [],\n    total: x,\n    pageInfo: P,\n    isFetching: R,\n    isLoading: g,\n    error: S,\n    refetch: C\n  } = Ve(c, {\n    pagination: {\n      page: m.page,\n      perPage: m.perPage\n    },\n    sort: {\n      field: m.sort,\n      order: m.order\n    },\n    filter: y(y({}, m.filter), o)\n  }, y({\n    enabled: T\n  }, u)),\n      {\n    referenceRecord: h,\n    refetch: E,\n    error: b,\n    isLoading: v,\n    isFetching: I\n  } = Da({\n    id: M,\n    reference: c\n  }),\n      F,\n      A;\n  !h || L.find(k => k.id === M) ? (F = L, A = x) : (F = [h, ...L], A = x == null ? void 0 : x + 1);\n  let w = lp(() => {\n    C(), E();\n  }, [C, E]);\n  return {\n    sort: dp(() => ({\n      field: m.sort,\n      order: m.order\n    }), [m.sort, m.order]),\n    allChoices: F,\n    availableChoices: L,\n    selectedChoices: [h],\n    displayedFilters: m.displayedFilters,\n    error: b || S,\n    filter: m.filter,\n    filterValues: m.filterValues,\n    hideFilter: f.hideFilter,\n    isFetching: I || R,\n    isLoading: v || g,\n    page: m.page,\n    perPage: m.perPage,\n    refetch: w,\n    resource: c,\n    setFilters: f.setFilters,\n    setPage: f.setPage,\n    setPerPage: f.setPerPage,\n    setSort: f.setSort,\n    showFilter: f.showFilter,\n    source: l,\n    total: A,\n    hasNextPage: P ? P.hasNextPage : x != null ? m.page * m.perPage < x : void 0,\n    hasPreviousPage: P ? P.hasPreviousPage : m.page > 1\n  };\n}, \"useReferenceInputController\");\nimport * as Ia from \"react\";\nimport { useParams as mp } from \"react-router-dom\";\nvar hr = n(function () {\n  let e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  let {\n    disableAuthentication: t,\n    id: r,\n    queryOptions: o = {}\n  } = e;\n  re({\n    enabled: !t\n  });\n\n  let a = H(e),\n      s = _(),\n      i = G(),\n      u = ce(),\n      c = jt(),\n      {\n    id: l\n  } = mp(),\n      m = r || decodeURIComponent(l),\n      {\n    data: f,\n    error: M,\n    isLoading: T,\n    isFetching: L,\n    refetch: x\n  } = Vt(a, {\n    id: m\n  }, y({\n    onError: () => {\n      i(\"ra.notification.item_doesnt_exist\", {\n        type: \"warning\"\n      }), u(\"list\", a), c();\n    },\n    retry: !1\n  }, o));\n\n  if (f && f.id && f.id != m) throw new Error(`useShowController: Fetched record's id attribute (${f.id}) must match the requested 'id' (${m})`);\n  let P = Ce();\n  return {\n    defaultTitle: s(\"ra.page.show\", {\n      name: P(a, 1),\n      id: m,\n      record: f\n    }),\n    error: M,\n    isLoading: T,\n    isFetching: L,\n    record: f,\n    refetch: x,\n    resource: a\n  };\n}, \"useShowController\");\nimport * as go from \"react\";\nimport { createContext as fp } from \"react\";\nvar ht = fp({\n  record: null,\n  defaultTitle: null,\n  isFetching: null,\n  isLoading: null,\n  refetch: null,\n  resource: null\n});\nht.displayName = \"ShowContext\";\nvar wa = n(_ref85 => {\n  let {\n    children: e,\n    value: t\n  } = _ref85;\n  return go.createElement(ht.Provider, {\n    value: t\n  }, go.createElement(de, {\n    value: t && t.record\n  }, e));\n}, \"ShowContextProvider\");\nvar pv = n(r => {\n  var o = r,\n      {\n    children: e\n  } = o,\n      t = N(o, [\"children\"]);\n  return Ia.createElement(wa, {\n    value: hr(t)\n  }, e);\n}, \"ShowBase\");\nvar Rv = n(r => {\n  var o = r,\n      {\n    children: e\n  } = o,\n      t = N(o, [\"children\"]);\n  let a = hr(t);\n  return e(a);\n}, \"ShowController\");\nimport { useContext as yp, useMemo as gp } from \"react\";\nimport Rp from \"lodash/defaults\";\nvar Tv = n(e => {\n  let t = yp(ht);\n  return gp(() => Rp({}, e != null ? Pp(e) : {}, t), [t, e]);\n}, \"useShowContext\"),\n    Pp = n(_ref86 => {\n  let {\n    record: e,\n    data: t,\n    defaultTitle: r,\n    isFetching: o,\n    isLoading: a,\n    resource: s\n  } = _ref86;\n  return {\n    record: e || t,\n    data: e || t,\n    defaultTitle: r,\n    isFetching: o,\n    isLoading: a,\n    resource: s\n  };\n}, \"extractShowContextProps\");\nimport * as Aa from \"react\";\nimport { useWatch as hp } from \"react-hook-form\";\nimport xp from \"lodash/get\";\nvar Cp = n(e => {\n  let t = hp();\n  return Aa.createElement(Tp, y({\n    formData: t\n  }, e));\n}, \"FormDataConsumer\"),\n    Tp = n(e => {\n  let f = e,\n      {\n    children: t,\n    form: r,\n    formData: o,\n    source: a,\n    index: s\n  } = f,\n      i = N(f, [\"children\", \"form\", \"formData\", \"source\", \"index\"]),\n      u = o,\n      c,\n      l = !1,\n      m;\n  return typeof s != \"undefined\" ? (u = xp(o, a), c = n(M => (l = !0, `${a}.${M}`), \"getSource\"), m = t(y({\n    formData: o,\n    scopedFormData: u,\n    getSource: c\n  }, i))) : m = t(y({\n    formData: o\n  }, i)), Ze(typeof s != \"undefined\" && m && !l, `You're using a FormDataConsumer inside an ArrayInput and you did not call the getSource function supplied by the FormDataConsumer component. This is required for your inputs to get the proper source.\n\n<ArrayInput source=\"users\">\n    <SimpleFormIterator>\n        <TextInput source=\"name\" />\n\n        <FormDataConsumer>\n            {({\n                formData, // The whole form data\n                scopedFormData, // The data for this item of the ArrayInput\n                getSource, // A function to get the valid source inside an ArrayInput\n                ...rest,\n            }) =>\n                scopedFormData.name ? (\n                    <SelectInput\n                        source={getSource('role')} // Will translate to \"users[0].role\"\n                        choices={[{id: 1, name: 'Admin'}, {id: 2, name: 'User'},\n                        {...rest}\n                    />\n                ) : null\n            }\n        </FormDataConsumer>\n    </SimpleFormIterator>\n</ArrayInput>`), m === void 0 ? null : m;\n}, \"FormDataConsumerView\"),\n    Mp = Cp;\nimport { createContext as Sp } from \"react\";\nvar xt = Sp(void 0);\nimport * as ze from \"react\";\nvar Lp = n(e => {\n  let {\n    error: t\n  } = e,\n      r = _();\n\n  if (t.message) {\n    let {\n      message: o,\n      args: a\n    } = t;\n    return ze.createElement(ze.Fragment, null, r(o, y({\n      _: o\n    }, a)));\n  }\n\n  return ze.createElement(ze.Fragment, null, r(t, {\n    _: t\n  }));\n}, \"ValidationError\"),\n    bp = Lp;\nimport Ro from \"lodash\";\nvar Na = n(function (e) {\n  let t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  return Ro.isObject(e) ? Ro.reduce(e, (r, o, a) => Ro.merge(r, Na(o, [...t, a])), {}) : {\n    [t.join(\".\")]: e\n  };\n}, \"flattenKeys\"),\n    Po = n(e => async t => {\n  let r = await e(t);\n  if (!r || Object.getOwnPropertyNames(r).length === 0) return {\n    values: t,\n    errors: {}\n  };\n  let o = Na(r);\n  return {\n    values: {},\n    errors: Object.keys(o).reduce((a, s) => D(y({}, a), {\n      [s]: {\n        type: \"manual\",\n        message: o[s]\n      }\n    }), {})\n  };\n}, \"getSimpleValidationResolver\");\nimport { createContext as Ep } from \"react\";\nvar xr = Ep(void 0);\nimport * as Fa from \"react\";\nvar tD = n(_ref87 => {\n  let {\n    children: e,\n    value: t\n  } = _ref87;\n  return Fa.createElement(xr.Provider, {\n    value: t\n  }, e);\n}, \"ChoicesContextProvider\");\nimport { useContext as vp, useMemo as Dp } from \"react\";\nvar iD = n(function () {\n  let e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  let t = vp(xr),\n      s = gr({\n    data: e.choices\n  }),\n      {\n    data: r\n  } = s,\n      o = N(s, [\"data\"]);\n  return Dp(() => {\n    var i, u, c, l, m, f, M, T, L, x, P, R, g, S, C, h, E, b, v, I, F, A, w, O, k, $, q, V, U, j, B, Y, K, Mr, Tt, To, Mo, So, Lo, bo, Eo, vo, Do, wo, Io, Ao;\n    return {\n      allChoices: (i = t == null ? void 0 : t.allChoices) != null ? i : r,\n      availableChoices: (c = (u = t == null ? void 0 : t.availableChoices) != null ? u : e.availableChoices) != null ? c : r,\n      selectedChoices: (m = (l = t == null ? void 0 : t.selectedChoices) != null ? l : e.selectedChoices) != null ? m : r,\n      displayedFilters: (M = (f = t == null ? void 0 : t.displayedFilters) != null ? f : e.displayedFilters) != null ? M : o.displayedFilters,\n      error: (L = (T = t == null ? void 0 : t.error) != null ? T : e.error) != null ? L : o.error,\n      filter: (P = (x = t == null ? void 0 : t.filter) != null ? x : e.filter) != null ? P : o.filter,\n      filterValues: (g = (R = t == null ? void 0 : t.filterValues) != null ? R : e.filterValues) != null ? g : o.filterValues,\n      hasNextPage: (C = (S = t == null ? void 0 : t.hasNextPage) != null ? S : e.hasNextPage) != null ? C : o.hasNextPage,\n      hasPreviousPage: (E = (h = t == null ? void 0 : t.hasPreviousPage) != null ? h : e.hasPreviousPage) != null ? E : o.hasPreviousPage,\n      hideFilter: (v = (b = t == null ? void 0 : t.hideFilter) != null ? b : e.hideFilter) != null ? v : o.hideFilter,\n      isFetching: (F = (I = t == null ? void 0 : t.isFetching) != null ? I : e.isFetching) != null ? F : o.isFetching,\n      isLoading: (w = (A = t == null ? void 0 : t.isLoading) != null ? A : e.isLoading) != null ? w : o.isLoading,\n      page: (k = (O = t == null ? void 0 : t.page) != null ? O : e.page) != null ? k : o.page,\n      perPage: (q = ($ = t == null ? void 0 : t.perPage) != null ? $ : e.perPage) != null ? q : o.perPage,\n      refetch: (U = (V = t == null ? void 0 : t.refetch) != null ? V : e.refetch) != null ? U : o.refetch,\n      resource: (B = (j = t == null ? void 0 : t.resource) != null ? j : e.resource) != null ? B : o.resource,\n      setFilters: (K = (Y = t == null ? void 0 : t.setFilters) != null ? Y : e.setFilters) != null ? K : o.setFilters,\n      setPage: (Tt = (Mr = t == null ? void 0 : t.setPage) != null ? Mr : e.setPage) != null ? Tt : o.setPage,\n      setPerPage: (Mo = (To = t == null ? void 0 : t.setPerPage) != null ? To : e.setPerPage) != null ? Mo : o.setPerPage,\n      setSort: (Lo = (So = t == null ? void 0 : t.setSort) != null ? So : e.setSort) != null ? Lo : o.setSort,\n      showFilter: (Eo = (bo = t == null ? void 0 : t.showFilter) != null ? bo : e.showFilter) != null ? Eo : o.showFilter,\n      sort: (Do = (vo = t == null ? void 0 : t.sort) != null ? vo : e.sort) != null ? Do : o.sort,\n      source: (wo = t == null ? void 0 : t.source) != null ? wo : e.source,\n      total: (Ao = (Io = t == null ? void 0 : t.total) != null ? Io : e.total) != null ? Ao : o.total\n    };\n  }, [t, r, o, e]);\n}, \"useChoicesContext\");\nimport * as Ct from \"react\";\nimport { FormProvider as Wp } from \"react-hook-form\";\nimport * as Oa from \"react\";\nimport { useMemo as wp, useRef as Ua } from \"react\";\nvar ka = n(_ref88 => {\n  let {\n    children: e\n  } = _ref88;\n  let t = Ua({}),\n      r = Ua({}),\n      o = wp(() => ({\n    subscribe: (a, s) => (r.current[a] || (r.current[a] = []), r.current[a].push(s), () => {\n      r.current[a] = r.current[a].filter(i => i !== s);\n    }),\n    getGroupFields: a => t.current[a] || [],\n    registerGroup: a => {\n      t.current[a] = t.current[a] || [];\n    },\n    unregisterGroup: a => {\n      delete t[a];\n    },\n    registerField: (a, s) => {\n      s != null && ((t.current[s] || []).includes(a) || (t.current[s] = [...(t.current[s] || []), a], r.current[s] && r.current[s].forEach(i => i())));\n    },\n    unregisterField: (a, s) => {\n      if (s != null) if (!t.current[s]) console.warn(`Invalid form group ${s}`);else {\n        let i = new Set(t.current[s]);\n        i.delete(a), t.current[s] = Array.from(i), r.current[s] && r.current[s].forEach(u => u());\n      }\n    }\n  }), []);\n  return Oa.createElement(xt.Provider, {\n    value: o\n  }, e);\n}, \"FormGroupsProvider\");\nimport { useCallback as Qa, useMemo as zp, useEffect as _a } from \"react\";\nimport { useForm as Hp } from \"react-hook-form\";\nimport Ip from \"lodash/merge\";\n\nfunction He(e, t) {\n  return Ip({}, Ap(e, t), t);\n}\n\nn(He, \"getFormInitialValues\");\n\nfunction Ap(e, t) {\n  return typeof e == \"object\" ? e : typeof e == \"function\" ? e(t) : {};\n}\n\nn(Ap, \"getValues\");\nvar ja = n((e, t) => {\n  let r = n((a, s) => {\n    a.forEach((i, u) => {\n      if (typeof i == \"object\") {\n        o(i, `${s}.${u}.`);\n        return;\n      }\n\n      if (Array.isArray(i)) {\n        r(i, `${s}.${u}.`);\n        return;\n      }\n\n      t(`${s}.${u}`, {\n        type: \"server\",\n        message: i.toString()\n      });\n    });\n  }, \"setErrorFromArray\"),\n      o = n((a, s) => {\n    Object.entries(a).forEach(_ref89 => {\n      let [i, u] = _ref89;\n\n      if (typeof u == \"object\") {\n        o(u, `${s}${i}.`);\n        return;\n      }\n\n      if (Array.isArray(u)) {\n        r(u, `${s}${i}.`);\n        return;\n      }\n\n      t(`${s}${i}`, {\n        type: \"server\",\n        message: u.toString()\n      });\n    });\n  }, \"setErrorFromObject\");\n  o(e, \"\");\n}, \"setSubmissionErrors\");\nimport { useEffect as Np, useState as Fp, useRef as Op } from \"react\";\nimport { useFormState as Up } from \"react-hook-form\";\nvar Va = n(e => {\n  let [t, r] = Fp(!1),\n      {\n    isValid: o,\n    submitCount: a,\n    errors: s\n  } = Up(e ? {\n    control: e\n  } : void 0),\n      i = Op(a);\n  return Np(() => {\n    a > i.current && (i.current = a, Object.keys(s).length > 0 && !o ? r(!0) : r(!1));\n  }, [s, o, a]), t;\n}, \"useIsFormInvalid\");\nimport { useContext as kp, useEffect as jp, useRef as Vp } from \"react\";\nimport { useFormState as Gp } from \"react-hook-form\";\nimport { UNSAFE_NavigationContext as Qp, useLocation as _p } from \"react-router-dom\";\nvar Ga = n((e, t, r) => {\n  let o = kp(Qp).navigator,\n      a = _p(),\n      s = _(),\n      {\n    isSubmitSuccessful: i,\n    isSubmitting: u,\n    dirtyFields: c\n  } = Gp(r ? {\n    control: r\n  } : void 0),\n      l = Object.keys(c).length > 0,\n      m = Vp(t || a.pathname);\n\n  jp(() => {\n    if (!e || !l) return;\n    let f = o.block(M => {\n      let T = M.location.pathname.startsWith(m.current);\n      !u && (T || i || window.confirm(s(\"ra.message.unsaved_changes\"))) && (f(), M.retry());\n    });\n    return f;\n  }, [e, a, o, l, u, i, s]);\n}, \"useWarnWhenUnsavedChanges\");\nvar za = n(e => {\n  let {\n    context: t,\n    criteriaMode: r = \"firstError\",\n    defaultValues: o,\n    delayError: a,\n    formRootPathname: s,\n    mode: i,\n    resolver: u,\n    reValidateMode: c = \"onChange\",\n    onSubmit: l,\n    shouldFocusError: m,\n    shouldUnregister: f,\n    shouldUseNativeValidation: M,\n    warnWhenUnsavedChanges: T,\n    validate: L\n  } = e,\n      x = pe(e),\n      P = sa(),\n      R = zp(() => He(o, x), [JSON.stringify({\n    defaultValues: o,\n    record: x\n  })]),\n      g = u || (L ? Po(L) : void 0),\n      S = Hp({\n    context: t,\n    criteriaMode: r,\n    defaultValues: R,\n    delayError: a,\n    mode: i,\n    reValidateMode: c,\n    resolver: g,\n    shouldFocusError: m,\n    shouldUnregister: f,\n    shouldUseNativeValidation: M\n  });\n\n  _a(() => {\n    if (!x) return;\n    let v = He(o, x);\n    S.reset(v);\n  }, [S.reset, JSON.stringify(x, o)]);\n\n  let C = Va(S.control),\n      h = G();\n  _a(() => {\n    C && h(\"ra.message.invalid_form\", {\n      type: \"warning\"\n    });\n  }, [C, h]), Ga(T, s, S.control);\n  let E = Qa(async v => {\n    let I;\n    l && (I = await l(v)), l == null && (P == null ? void 0 : P.save) && (I = await P.save(v)), I != null && ja(I, S.setError);\n  }, [S, l, P]),\n      b = Qa(v => {\n    v.stopPropagation(), S.handleSubmit(E)(v);\n  }, [S, E]);\n  return {\n    form: S,\n    handleSubmit: E,\n    formHandleSubmit: b,\n    isInvalid: C\n  };\n}, \"useAugmentedForm\");\nvar ZD = n(e => {\n  let {\n    children: t,\n    id: r,\n    className: o,\n    noValidate: a = !1\n  } = e,\n      s = pe(e),\n      {\n    form: i,\n    formHandleSubmit: u\n  } = za(e);\n  return Ct.createElement(da, {\n    value: s\n  }, Ct.createElement(Wp, y({}, i), Ct.createElement(ka, null, Ct.createElement(\"form\", {\n    onSubmit: u,\n    noValidate: a,\n    id: r,\n    className: o\n  }, t))));\n}, \"Form\");\nimport Ha from \"lodash/memoize\";\nvar Yp = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/,\n    Te = n(e => typeof e == \"undefined\" || e === null || e === \"\" || Array.isArray(e) && e.length === 0, \"isEmpty\");\n\nfunction Jp(e) {\n  return e.hasOwnProperty(\"message\");\n}\n\nn(Jp, \"isValidationErrorMessageWithArgs\");\nvar Me = n((e, t, r, o) => typeof e == \"function\" ? e({\n  args: t,\n  value: r,\n  values: o\n}) : t ? {\n  message: e,\n  args: t\n} : e, \"getMessage\"),\n    Se = n(e => Ha(e, function () {\n  for (var _len5 = arguments.length, t = new Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {\n    t[_key5] = arguments[_key5];\n  }\n\n  return JSON.stringify(t);\n}), \"memoize\"),\n    Wa = n(e => typeof e == \"function\", \"isFunction\"),\n    $p = n((e, t) => (r, o, a) => {\n  let s = e(r, o, a);\n  return s ? typeof s == \"string\" || Jp(s) ? s : s.then(i => i || t(r, o, a)) : t(r, o, a);\n}, \"combine2Validators\"),\n    Ya = n(function () {\n  for (var _len6 = arguments.length, e = new Array(_len6), _key6 = 0; _key6 < _len6; _key6++) {\n    e[_key6] = arguments[_key6];\n  }\n\n  return (Array.isArray(e[0]) ? e[0] : e).filter(Wa).reduce($p, () => null);\n}, \"composeValidators\"),\n    KD = n(function () {\n  for (var _len7 = arguments.length, e = new Array(_len7), _key7 = 0; _key7 < _len7; _key7++) {\n    e[_key7] = arguments[_key7];\n  }\n\n  return (t, r, o) => {\n    let a = (Array.isArray(e[0]) ? e[0] : e).filter(Wa);\n\n    for (let s of a) {\n      let i = s(t, r, o);\n      if (i) return i;\n    }\n  };\n}, \"composeSyncValidators\"),\n    XD = Se(function () {\n  let e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"ra.validation.required\";\n  return Object.assign((t, r) => Te(t) ? Me(e, void 0, t, r) : void 0, {\n    isRequired: !0\n  });\n}),\n    ew = Se(function (e) {\n  let t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"ra.validation.minLength\";\n  return (r, o) => !Te(r) && r.length < e ? Me(t, {\n    min: e\n  }, r, o) : void 0;\n}),\n    tw = Se(function (e) {\n  let t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"ra.validation.maxLength\";\n  return (r, o) => !Te(r) && r.length > e ? Me(t, {\n    max: e\n  }, r, o) : void 0;\n}),\n    rw = Se(function (e) {\n  let t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"ra.validation.minValue\";\n  return (r, o) => !Te(r) && r < e ? Me(t, {\n    min: e\n  }, r, o) : void 0;\n}),\n    ow = Se(function (e) {\n  let t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"ra.validation.maxValue\";\n  return (r, o) => !Te(r) && r > e ? Me(t, {\n    max: e\n  }, r, o) : void 0;\n}),\n    nw = Se(function () {\n  let e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"ra.validation.number\";\n  return (t, r) => !Te(t) && isNaN(Number(t)) ? Me(e, void 0, t, r) : void 0;\n}),\n    Zp = Ha(function (e) {\n  let t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"ra.validation.regex\";\n  return (r, o) => !Te(r) && typeof r == \"string\" && !e.test(r) ? Me(t, {\n    pattern: e\n  }, r, o) : void 0;\n}, (e, t) => e.toString() + t),\n    aw = Se(function () {\n  let e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"ra.validation.email\";\n  return Zp(Yp, e);\n}),\n    Bp = n(_ref90 => {\n  let {\n    args: e\n  } = _ref90;\n  return {\n    message: \"ra.validation.oneOf\",\n    args: e\n  };\n}, \"oneOfTypeMessage\"),\n    sw = Se(function (e) {\n  let t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : Bp;\n  return (r, o) => !Te(r) && e.indexOf(r) === -1 ? Me(t, {\n    list: e\n  }, r, o) : void 0;\n}),\n    iw = n(e => e && e.isRequired ? !0 : Array.isArray(e) ? !!e.find(t => t.isRequired) : !1, \"isRequired\");\nimport { createContext as qp } from \"react\";\nvar Cr = qp(void 0);\nimport * as Ja from \"react\";\nimport { useEffect as Xp } from \"react\";\nimport { useContext as Kp } from \"react\";\nvar We = n(() => Kp(xt), \"useFormGroups\");\nvar Pw = n(_ref91 => {\n  let {\n    children: e,\n    name: t\n  } = _ref91;\n  let r = We();\n  return Xp(() => {\n    if (!r || !r.registerGroup || !r.unregisterGroup) {\n      console.warn(\"The FormGroupContextProvider can only be used inside a FormContext such as provided by the SimpleForm and TabbedForm components\");\n      return;\n    }\n\n    return r.registerGroup(t), () => {\n      r.unregisterGroup(t);\n    };\n  }, [r, t]), Ja.createElement(Cr.Provider, {\n    value: t\n  }, e);\n}, \"FormGroupContextProvider\");\nimport { useEffect as em } from \"react\";\nimport { useFormContext as tm } from \"react-hook-form\";\nimport ho from \"lodash/get\";\nvar $a = n(e => {\n  let {\n    defaultValue: t,\n    source: r\n  } = e,\n      o = pe(e),\n      {\n    getValues: a,\n    resetField: s\n  } = tm(),\n      i = ho(o, r),\n      u = ho(a(), r);\n  em(() => {\n    if (t != null && u == null && i == null) {\n      if (r.split(\".\").some(l => rm.test(l))) {\n        let l = r.split(\".\").slice(0, -1).join(\".\");\n        if (ho(a(), l) == null) return;\n      }\n\n      s(r, {\n        defaultValue: t\n      });\n    }\n  });\n}, \"useApplyInputDefaultValues\"),\n    rm = /^\\d+$/;\nimport * as Za from \"react\";\nimport { isValidElement as Ba, useCallback as xo } from \"react\";\nimport Co from \"lodash/get\";\nvar qa = n(_ref92 => {\n  let {\n    optionText: e = \"name\",\n    optionValue: t = \"id\",\n    disableValue: r = \"disabled\",\n    translateChoice: o = !0\n  } = _ref92;\n\n  let a = _(),\n      s = xo(c => {\n    if (Ba(e)) return Za.createElement(de, {\n      value: c\n    }, e);\n    let l = typeof e == \"function\" ? e(c) : Co(c, e);\n    return Ba(l) ? l : o ? a(String(l), {\n      _: l\n    }) : String(l);\n  }, [e, a, o]),\n      i = xo(c => Co(c, t), [t]),\n      u = xo(c => Co(c, r), [r]);\n\n  return {\n    getChoiceText: s,\n    getChoiceValue: i,\n    getDisableValue: u\n  };\n}, \"useChoices\");\nimport { useCallback as om, useEffect as Ka, useState as nm } from \"react\";\nimport Tr from \"lodash/get\";\nimport am from \"lodash/isEqual\";\nimport { useFormState as sm } from \"react-hook-form\";\nvar Uw = n(e => {\n  let {\n    dirtyFields: t,\n    touchedFields: r,\n    errors: o\n  } = sm(),\n      a = We(),\n      [s, i] = nm({\n    errors: void 0,\n    isDirty: !1,\n    isTouched: !1,\n    isValid: !0\n  }),\n      u = om(() => {\n    let l = a.getGroupFields(e).map(f => ({\n      name: f,\n      error: Tr(o, f, void 0),\n      isDirty: Tr(t, f, !1),\n      isValid: Tr(o, f, void 0) == null,\n      isTouched: Tr(r, f, !1)\n    })).filter(f => f != null),\n        m = im(l);\n    i(f => am(f, m) ? f : m);\n  }, [t, o, r, a, e]);\n  return Ka(() => {\n    u();\n  }, [JSON.stringify({\n    dirtyFields: t,\n    errors: o,\n    touchedFields: r\n  }), u]), Ka(() => a.subscribe(e, () => {\n    u();\n  }), [a, e, u]), s;\n}, \"useFormGroup\"),\n    im = n(e => e.reduce((t, r) => {\n  let o = t.errors || {};\n  return r.error && (o[r.name] = r.error), {\n    isDirty: t.isDirty || r.isDirty,\n    errors: o,\n    isTouched: t.isTouched || r.isTouched,\n    isValid: t.isValid && r.isValid\n  };\n}, {\n  isDirty: !1,\n  errors: void 0,\n  isValid: !0,\n  isTouched: !1\n}), \"getFormGroupState\");\nimport { useContext as cm } from \"react\";\nvar Xa = n(() => cm(Cr), \"useFormGroupContext\");\nvar es = n(() => {\n  let e = _();\n\n  return t => {\n    if (t.message != null) {\n      let {\n        message: r,\n        args: o\n      } = t;\n      return e(r, y({\n        _: r\n      }, o));\n    }\n\n    return e(t, {\n      _: t\n    });\n  };\n}, \"useGetValidationErrorMessage\");\nimport { useEffect as um } from \"react\";\nimport { useFormContext as lm } from \"react-hook-form\";\nvar Yw = n((e, t) => {\n  let {\n    reset: r\n  } = lm();\n  um(() => {\n    if (!t) return;\n    let o = He(e, t);\n    r(o);\n  }, [r, JSON.stringify(t, e)]);\n}, \"useInitializeFormWithRecord\");\nimport { useEffect as pm } from \"react\";\nimport { useController as mm, useFormContext as fm } from \"react-hook-form\";\nimport ym from \"lodash/get\";\nvar dm = n(e => e && e.isRequired ? !0 : Array.isArray(e) ? e.some(t => t.isRequired) : !1, \"isRequired\"),\n    ts = dm;\nvar pI = n(e => {\n  let b = e,\n      {\n    defaultValue: t,\n    format: r,\n    id: o,\n    isRequired: a,\n    name: s,\n    onBlur: i,\n    onChange: u,\n    parse: c,\n    source: l,\n    validate: m\n  } = b,\n      f = N(b, [\"defaultValue\", \"format\", \"id\", \"isRequired\", \"name\", \"onBlur\", \"onChange\", \"parse\", \"source\", \"validate\"]),\n      M = s || l,\n      T = Xa(),\n      L = We(),\n      x = pe(),\n      P = es(),\n      R = fm();\n  pm(() => {\n    if (!(!L || T == null)) return L.registerField(l, T), () => {\n      L.unregisterField(l, T);\n    };\n  }, [L, T, l]);\n  let g = Array.isArray(m) ? Ya(m) : m,\n      {\n    field: S,\n    fieldState: C,\n    formState: h\n  } = mm(y({\n    name: M,\n    defaultValue: ym(x, l, t),\n    rules: {\n      validate: async v => {\n        if (!g) return !0;\n        let I = await g(v, R.getValues(), e);\n        return I ? P(I) : !0;\n      }\n    }\n  }, f));\n  $a(e);\n  let E = D(y({}, S), {\n    value: r ? r(S.value) : S.value,\n    onBlur: function () {\n      i && i(...arguments), S.onBlur();\n    },\n    onChange: function () {\n      var F, A, w, O, k, $, q;\n\n      for (var _len8 = arguments.length, v = new Array(_len8), _key8 = 0; _key8 < _len8; _key8++) {\n        v[_key8] = arguments[_key8];\n      }\n\n      u && u(...v);\n      let I = typeof ((A = (F = v[0]) == null ? void 0 : F.target) == null ? void 0 : A.checked) == \"boolean\" && ((O = (w = v[0]) == null ? void 0 : w.target) == null ? void 0 : O.value) === \"on\" ? v[0].target.checked : (q = ($ = (k = v[0]) == null ? void 0 : k.target) == null ? void 0 : $.value) != null ? q : v[0];\n      S.onChange(c ? c(I) : I);\n    }\n  });\n  return {\n    id: o || l,\n    field: E,\n    fieldState: C,\n    formState: h,\n    isRequired: a || ts(m)\n  };\n}, \"useInput\");\nimport { useCallback as gm, isValidElement as Rm } from \"react\";\nimport rs from \"lodash/set\";\nvar CI = n(_ref93 => {\n  let {\n    allowCreate: e,\n    choices: t,\n    createText: r = \"ra.action.create\",\n    createValue: o = \"@@create\",\n    emptyText: a = \"\",\n    emptyValue: s = null,\n    limitChoicesToValue: i,\n    matchSuggestion: u,\n    optionText: c,\n    optionValue: l,\n    selectedItem: m,\n    suggestionLimit: f = 0,\n    translateChoice: M\n  } = _ref93;\n\n  let T = _(),\n      {\n    getChoiceText: L,\n    getChoiceValue: x\n  } = qa({\n    optionText: c,\n    optionValue: l,\n    translateChoice: M\n  }),\n      P = gm(xm({\n    allowCreate: e,\n    choices: t,\n    createText: r,\n    createValue: o,\n    emptyText: T(a, {\n      _: a\n    }),\n    emptyValue: s,\n    getChoiceText: L,\n    getChoiceValue: x,\n    limitChoicesToValue: i,\n    matchSuggestion: u,\n    optionText: c,\n    optionValue: l,\n    selectedItem: m,\n    suggestionLimit: f\n  }), [e, t, r, o, a, s, L, x, i, u, c, l, m, f, T]);\n\n  return {\n    getChoiceText: L,\n    getChoiceValue: x,\n    getSuggestions: P\n  };\n}, \"useSuggestions\"),\n    Pm = n(e => e ? e.replace(/[.*+?^${}()|[\\]\\\\]/g, \"\\\\$&\") : \"\", \"escapeRegExp\"),\n    hm = n(e => function (t, r) {\n  let o = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : !1;\n  let a = e(r),\n      s = Rm(a),\n      i = Pm(t);\n  return s ? !1 : a && !!a.match(new RegExp(o ? `^${i}$` : i, \"i\"));\n}, \"defaultMatchSuggestion\"),\n    xm = n(_ref94 => {\n  let {\n    allowCreate: e = !1,\n    choices: t = [],\n    createText: r = \"ra.action.create\",\n    createValue: o = \"@@create\",\n    emptyText: a = \"\",\n    emptyValue: s = null,\n    optionText: i = \"name\",\n    optionValue: u = \"id\",\n    getChoiceText: c,\n    getChoiceValue: l,\n    limitChoicesToValue: m = !1,\n    matchSuggestion: f = hm(c),\n    selectedItem: M,\n    suggestionLimit: T = 0\n  } = _ref94;\n  return L => {\n    let x = [];\n    M && !Array.isArray(M) && f(L, M) ? m ? x = t.filter(g => l(g) === l(M)) : x = [...t] : x = t.filter(g => f(L, g) || M != null && (Array.isArray(M) ? M.some(S => l(g) === l(S)) : l(g) === l(M))), x = Cm(x, T);\n    let P = x.some(g => f(L, g, !0));\n\n    if (e) {\n      let g = !!M && !Array.isArray(M) ? f(L, M, !0) : !1;\n      !P && !g && x.push(Tm({\n        optionText: i,\n        optionValue: u,\n        text: r,\n        value: o\n      }));\n    }\n\n    return x.filter((g, S) => x.indexOf(g) === S);\n  };\n}, \"getSuggestionsFactory\"),\n    Cm = n(function (e) {\n  let t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  return Number.isInteger(t) && t > 0 ? e.slice(0, t) : e;\n}, \"limitSuggestions\"),\n    Tm = n(_ref95 => {\n  let {\n    optionText: e = \"name\",\n    optionValue: t = \"id\",\n    text: r = \"\",\n    value: o = null\n  } = _ref95;\n  let a = {};\n  return rs(a, t, o), typeof e == \"string\" && rs(a, e, r), a;\n}, \"getSuggestion\");\nvar qI = \"I18N_TRANSLATE\",\n    KI = \"I18N_CHANGE_LOCALE\";\nexport { Cn as AUTH_CHECK, Tn as AUTH_ERROR, Sn as AUTH_GET_PERMISSIONS, xn as AUTH_LOGIN, Mn as AUTH_LOGOUT, Go as AdminRouter, Ye as AuthContext, yP as Authenticated, Vo as BasenameContextProvider, _r as CREATE, xr as ChoicesContext, tD as ChoicesContextProvider, ii as ComponentPropType, JC as CoreAdmin, to as CoreAdminContext, ao as CoreAdminRoutes, _n as CoreAdminUI, gS as CreateBase, dt as CreateContext, ia as CreateContextProvider, CS as CreateController, Ru as CustomRoutes, Xo as DEFAULT_LOCALE, Wr as DELETE, Yr as DELETE_MANY, qe as DataProviderContext, rL as EditBase, pt as EditContext, pa as EditContextProvider, iL as EditController, Lu as ExporterContext, ai as FieldTitle, ZD as Form, Mp as FormDataConsumer, Cr as FormGroupContext, Pw as FormGroupContextProvider, xt as FormGroupsContext, ka as FormGroupsProvider, jr as GET_LIST, Gr as GET_MANY, Qr as GET_MANY_REFERENCE, Vr as GET_ONE, ct as HIDE_FILTER, Zr as HttpError, KI as I18N_CHANGE_LOCALE, qI as I18N_TRANSLATE, Je as I18nContext, At as I18nContextProvider, WT as InferenceTypes, z as InferredElement, ib as ListBase, mt as ListContext, Ma as ListContextProvider, pb as ListController, ft as ListFilterContext, gt as ListPaginationContext, yt as ListSortContext, wt as NotificationContext, $o as NotificationContextProvider, da as OptionalRecordContextProvider, Ir as Ready, sr as RecordContext, de as RecordContextProvider, Wn as Resource, Ot as ResourceContext, zt as ResourceContextProvider, et as ResourceDefinitionContext, jn as ResourceDefinitionContextProvider, De as SET_FILTER, _e as SET_PAGE, st as SET_PER_PAGE, at as SET_SORT, it as SHOW_FILTER, oe as SORT_ASC, rr as SORT_DESC, ir as SaveContext, cr as SaveContextProvider, pv as ShowBase, ht as ShowContext, wa as ShowContextProvider, Rv as ShowController, vt as StoreContext, Yo as StoreContextProvider, wf as StoreSetter, ey as TestTranslationProvider, Nt as TranslatableContext, sy as TranslatableContextProvider, zr as UPDATE, Hr as UPDATE_MANY, bp as ValidationError, Fr as WithPermissions, zS as WithRecord, sw as choices, $p as combine2Validators, $P as combineDataProviders, KD as composeSyncValidators, Ya as composeValidators, kr as convertLegacyAuthProvider, $r as convertLegacyDataProvider, je as defaultDataProvider, tt as defaultExporter, co as downloadCSV, aw as email, Us as escapePath, Jr as fetchActionsWithArrayOfIdentifiedRecordsResponse, bn as fetchActionsWithArrayOfRecordsResponse, Ln as fetchActionsWithRecordResponse, En as fetchActionsWithTotalResponse, vu as fetchRelatedRecords, An as fetchUtils, $u as getElementsFromRecords, $e as getFieldLabelTranslationArgs, im as getFormGroupState, jL as getListControllerProps, mi as getMutationMode, ga as getNumberOrDefault, id as getQuery, bl as getRecordFromLocation, ba as getSelectedReferencesStatus, Po as getSimpleValidationResolver, Bd as getStatusForArrayInput, $d as getStatusForInput, Re as getStorage, xm as getSuggestionsFactory, ve as getValuesFromRecords, sd as hasCustomParams, ta as inferTypeFromValues, ha as injectedProps, iw as isRequired, Gm as linkToRecord, pf as localStorageStore, tw as maxLength, ow as maxValue, Et as memoryStore, vg as mergeRefs, dy as mergeTranslations, ew as minLength, rw as minValue, nw as number, ad as parseQueryFromLocation, or as queryReducer, Zp as regex, ie as removeDoubleSlashes, X as removeEmpty, Dr as removeKey, XD as required, ly as resolveBrowserLocale, _m as resolveRedirectTo, OP as sanitizeFetchType, VL as sanitizeListRestProps, rn as shallowEqual, BP as testDataProvider, ye as undoableEventEmitter, $a as useApplyInputDefaultValues, za as useAugmentedForm, ee as useAuthProvider, Ar as useAuthState, re as useAuthenticated, se as useBasename, ke as useCheckAuth, yl as useCheckMinimumRequiredProps, qa as useChoices, iD as useChoicesContext, On as useCreate, bS as useCreateContext, ar as useCreateController, Lt as useCreatePath, W as useDataProvider, Fg as useDeepCompareEffect, Qt as useDelete, Fx as useDeleteMany, Tl as useDeleteWithConfirmController, Pl as useDeleteWithUndoController, pL as useEditContext, dr as useEditController, cn as useEventCallback, Kb as useExpanded, el as useFilterState, Uw as useFormGroup, Xa as useFormGroupContext, tc as useGetIdentity, Ve as useGetList, Ih as useGetMany, Ge as useGetManyAggregate, Gt as useGetManyReference, Vt as useGetOne, Ee as useGetPermissions, Ce as useGetResourceLabel, es as useGetValidationErrorMessage, Ft as useI18nProvider, Yw as useInitializeFormWithRecord, pI as useInput, ch as useIsDataLoaded, Va as useIsFormInvalid, ln as useIsMounted, gr as useList, bb as useListContext, mr as useListController, Ib as useListFilterContext, Ub as useListPaginationContext, fa as useListParams, Qb as useListSortContext, ph as useLoading, Cy as useLocale, Oe as useLocaleState, Ki as useLogin, be as useLogout, Ur as useLogoutIfAccessDenied, It as useNotificationContext, G as useNotify, lt as usePaginationState, Vi as usePermissions, Nr as usePermissionsOptimized, xa as usePickFilterContext, Ta as usePickPaginationContext, ur as usePickSaveContext, Ca as usePickSortContext, hi as usePrevious, pe as useRecordContext, me as useRecordSelection, ce as useRedirect, Da as useReference, aE as useReferenceArrayFieldController, NE as useReferenceArrayInputController, zE as useReferenceInputController, gE as useReferenceManyFieldController, CE as useReferenceOneFieldController, jt as useRefresh, Vn as useRegisterResource, dn as useRemoveFromStore, pn as useResetStore, H as useResourceContext, Yn as useResourceDefinition, Yt as useResourceDefinitions, Q as useSafeSetState, sa as useSaveContext, Qo as useScrollToTop, Sy as useSetLocale, Tv as useShowContext, hr as useShowController, ut as useSortState, ue as useStore, Pe as useStoreContext, CI as useSuggestions, un as useTimeout, Fy as useTranslatable, Vy as useTranslatableContext, _ as useTranslate, nr as useUnselect, $b as useUnselectAll, Un as useUpdate, yx as useUpdateMany, Ga as useWarnWhenUnsavedChanges, sn as useWhyDidYouUpdate, nd as validQueryParams, Ze as warning };","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;ACAA;AACA;AACA;ACFA;AACA;AACA;AACA;ACHA;AACA;AAEA;;AAMO,kBAIgB;AAAA,MAJO;AAC1BA,eAD0B;AAE1BC,eAF0B;AAG1BC;AAH0B,GAIP;AACnB,MAAM,CAACC,CAAD,EAAQC,CAAR,IAAoBC,GAAS;AAC/BC,YAAQC,EAAQD,MADe;AAE/BE,cAAUD,EAAQC;AAFa,GAAT,CAA1B;AAKA,YAAgB,MAAMD,EAAQE,MAAR,CAAeL,CAAf,CAAtB,EAAgD,CAACG,CAAD,CAAhD,GAGIG,iBAACC,EAAD;AACIX,cAAUY,CADd;AAEIX,cAAUY,CAFd;AAGIL,cAAUL,EAAMK,QAHpB;AAIIM,oBAAgBX,EAAMG,MAJ1B;AAKIS,eAAWR;AALf,IAHJ;AAVY;;AAAAS;ACThB;ACAA;AAEO,IAAMC,KAAkBC,GAAc,EAAd,CAAxB;ADSA,IAAMC,KAA0BH;AAAA,MAAC;AAAEf,eAAF;AAAYD;AAAZ,GAAD;AAAA,SACnCoB,iBAACH,GAAgBI,QAAjB;AAA0BC,WAAOT;AAAjC,KACKD,CADL,CADmC;AAAA,6BAAhC;AFCA,IAAMW,KAAcP,WAIH;AAAA,MAJI;AACxBd,cADwB;AAExBF,kBAAW,EAFa;AAGxBC;AAHwB,GAIJ;AACpB,MAAME,IAAaqB,IAAnB;AAGA,SACIC,iBAACN,EAAD;AAAyBnB,cAAUG,IAAaU,CAAb,GAAwB;AAA3D,KACIY,iBAJOtB,IAAauB,EAAb,GAA2BC,EAIlC;AAAQ3B,cAAUa,CAAlB;AAA4BX,aAASU;AAArC,KACKL,CADL,CADJ,CADJ;AAGa,CAXU,gBAApB;AAAA,IAuBDmB,KAAcV;AAAA,MAAC;AAAEf;AAAF,GAAD;AAAA,SAA2CwB,oCAAGb,CAAH,CAA3C;AAAA,iBAvBb;AAAA,IAyBDe,KAAiBX,WAKqB;AAAA,MALpB;AACpBf,eADoB;AAEpBC;AAFoB,GAKoB;AACxC,MAAMK,IAAeqB,GAAQ,MAAMf,KAAWgB,IAAzB,EAA8C,CAC/DhB,CAD+D,CAA9C,CAArB;AAIA,SAAOY,iBAACK,EAAD;AAAe5B,aAASK;AAAxB,KAAuCK,CAAvC,CAAP;AAA8C,CAV3B,mBAzBhB;AITA,IAAMmB,KAAef,YAACJ,CAAD,EAAWC,CAAX,EAAqC;AAAA,MAAtBN,CAAsB,uEAAX,MAAW;AAC7D,MAAMJ,IAAO,GAAGS,KAAYoB,mBAAmBnB,CAAnB,CAAmB,EAA/C;AAEA,SAAIN,MAAa,MAAb,GACO,GAAGJ,QADV,GAIGA,CAJP;AAIO,CAPiB,iBAArB;;ACEA,IAAM8B,KAAoBjB,YAC7BJ,CAD6B,EAE7BC,CAF6B,EAG7BN,CAH6B,EAI7BJ,CAJ6B,EAMxB;AAAA,MADLC,CACK,uEADc,EACd;;AACL,MAAI,OAAOQ,CAAP,IAAsB,UAA1B,EAAsC;AAClC,QAAMsB,IAAatB,EAAWC,CAAX,EAAqBN,CAArB,EAAyBJ,CAAzB,CAAnB;AACA,WAAO,OAAO+B,CAAP,IAAkB,QAAlB,GACDC,GAAoB,GAAG/B,KAAY8B,GAAnC,CADC,GAEDE;AACIC,gBAAUF,GACN,GAAG/B,KAAY8B,EAAOG,UADhB;AADd,OAIOH,CAJP,CAFN;AASJ;;AAAA,UAAQtB,CAAR;AAAQ,SACC,MADD;AAEA,aAAOuB,GAAoB,GAAG/B,KAAYS,GAAnC,CAAP;;AAA0C,SACzC,QADyC;AAE1C,aAAOsB,GAAoB,GAAG/B,KAAYS,UAAnC,CAAP;;AAA0C,SACzC,MADyC;AAE1C,aAAOsB,GACH,GAAG/B,KAAYS,KAAYmB,mBAAmBzB,CAAnB,CAAmB,EAD3C,CAAP;;AACkD,SAEjD,MAFiD;AAGlD,aAAO4B,GACH,GAAG/B,KAAYS,KAAYmB,mBAAmBzB,CAAnB,CAAmB,OAD3C,CAAP;;AACkD;AAGlD,aAAOK,CAAP;AAdR;AAce,CAhCc,sBAA1B;AAAA,IAoCDuB,KAAsBnB,EAACJ,KAAiBA,EAAK0B,OAAL,CAAa,IAAb,EAAmB,GAAnB,CAAlB,wBApCrB;;ACLP;AAwBO,IAAMC,KAAcvB,QAAMwB,GAAWvB,EAAX,CAAN,gBAApB;ACxBP;AAuCO,IAAMwB,KAAgBzB,QAAM;AAC/B,MAAMJ,IAAW2B,IAAjB;AACA,SAAOG,GACH,SAAsD;AAAA,QAArD;AAAEC,iBAAF;AAAYC,WAAZ;AAAgBC;AAAhB,KAAqD;;AAClD,YAAQ1C,CAAR;AAAQ,WACC,MADD;AAEA,eAAO2C,GAAoB,GAAGlC,KAAYC,GAAnC,CAAP;;AAA0C,WACzC,QADyC;AAE1C,eAAOiC,GACH,GAAGlC,KAAYC,UADZ,CAAP;;AACmB,WAElB,MAFkB;AAGnB,eAAOiC,GACH,GAAGlC,KAAYC,KAAYmB,mBAAmBzB,CAAnB,CAAmB,EAD3C,CAAP;;AACkD,WAEjD,MAFiD;AAGlD,eAAOuC,GACH,GAAGlC,KAAYC,KAAYmB,mBAAmBzB,CAAnB,CAAmB,OAD3C,CAAP;;AACkD;AAGlD,eAAOJ,CAAP;AAhBR;AAgBe,GAlBhB,EAqBH,CAACS,CAAD,CArBG,CAAP;AAqBK,CAvBoB,kBAAtB;AAAA,IAiCMkC,KAAsB9B,EAACJ,KAAiBA,EAAK0B,OAAL,CAAa,IAAb,EAAmB,GAAnB,CAAlB,wBAjC5B;ACvCP;AACA;AACA;AAgCO,IAAMS,KAAc/B,QAAM;AAC7B,MAAMJ,IAAWoC,IAAjB;AAAA,MACMnC,IAAW0B,IADjB;AAAA,MAEMhC,IAAakC,IAFnB;AAIA,SAAOQ,GACH,UACI9C,CADJ,EAMK;AAAA,QAJDC,CAIC,uEAJkB,EAIlB;AAAA,QAHD8B,CAGC;AAAA,QAFDgB,CAEC;AAAA,QADDC,CACC,uEADe,EACf;AACD,QAAKhD,CAAL;AAEO,UAAI,OAAOA,CAAP,IAAsB,UAA1B,EAAsC;AACzC,YAAMiD,IAAajD,EAAWC,CAAX,EAAqB8B,CAArB,EAAyBgB,CAAzB,CAAnB;AAAA,YACMG,IACF,OAAOD,CAAP,IAAkB,QAAlB,GACM,GAAGvC,KAAYuC,GADrB,GAEMhB;AACIC,oBAAU,GAAGxB,KAAYuC,EAAOf;AADpC,WAEOe,CAFP,CAJV;AAQAxC,UACI,OAAOyC,CAAP,IAA0B,QAA1B,GACMC,GAAUD,CAAV,CADN,GAEMA,CAHV,EAII;AACIE,iBAAOnB;AAAEoB,0BAAc;AAAhB,aAAyBL,CAAzB;AADX,SAJJ;AAQA;AAAA,OAjBG,MAiBH,IAEA,OAAOhD,CAAP,IAAsB,QAAtB,IACAA,EAAWsD,UAAX,CAAsB,MAAtB,CADA,IAEAC,MAJA,EAKF;AAGEA,eAAOlD,QAAP,CAAgBmD,IAAhB,GAAuBxD,CAAvB;AACA;AAAA,OATA,MAUG;AAEHS,UAASL,EAAW;AAAEoC,qBAAF;AAAYC,eAAZ;AAAgBC,gBAAM1C;AAAtB,SAAX,CAAT,EAAyD;AACrDoD,iBAAOnB;AAAEoB,0BAAc;AAAhB,aAAyBL,CAAzB;AAD8C,SAAzD;AAGA;AAAA;AAlCJ,WACI;AAAA,GATL,EA6CH,CAACvC,CAAD,EAAWC,CAAX,EAAqBN,CAArB,CA7CG,CAAP;AA6CyB,CAlDF,gBAApB;AClCP;AACA;AAuBO,IAAMqD,KAAiB5C,QAAM;AAChC,MAAMJ,IAAWiD,IAAjB;AACAC,KAAU,MAAM;AA1BpB;AA4Ba,YAASP,KAAT,uBAAwBC,YAAxB,KACD,OAAOE,MAAP,IAAiB,WADhB,IAGDA,OAAOK,QAAP,CAAgB,CAAhB,EAAmB,CAAnB,CAJJ;AAIuB,GAL3B,EAOG,CAACnD,CAAD,CAPH;AAOI,CATsB,mBAAvB;ACxBP;;AAIA,IAAMoD,KAAgC;AAAEpB,MAAI;AAAN,CAAtC;AAAA,IAEMqB,KAAgC;AAClCC,SAAO,MAAMC,QAAQC,OAAR,EADqB;AAElCC,UAAQ,MAAMF,QAAQC,OAAR,EAFoB;AAGlCE,aAAW,MAAMH,QAAQC,OAAR,EAHiB;AAIlCG,cAAY,MAAMJ,QAAQC,OAAR,EAJgB;AAKlCI,kBAAgB,MAAML,QAAQC,OAAR,EALY;AAMlCK,eAAa,MAAMN,QAAQC,OAAR,CAAgBJ,EAAhB;AANe,CAFtC;AAAA,IAWMU,KAAcC,GAA4BV,EAA5B,CAXpB;;AAaAS,GAAYE,WAAZ,GAA0B,aAA1B;AAEA,IAAOC,KAAQH,EAAf;ACnBA;AAKO,IAAMI,KAAoB;AAC7BC,YAAU,QADmB;AAE7BC,iBAAe;AAFc,CAA1B;AAAA,IAQDC,KAAkBjE,QAAoBkE,GAAWL,EAAX,CAApB,oBARjB;AAAA,IAUAM,KAAQF,EAVR;ACLP;ACAA;ACAA;ACOA,IAAMG,KAAW,SAAjB;AAAA,IACMC,KAAeD,GAASE,MAD9B;AAAA,IAIMC,KAAmBvE,QAAM;AAE3B,MAAI,OAAO0C,MAAP,IAAkB,WAAlB,IAAiCA,OAAO8B,YAAP,IAAuB,IAA5D,EACI,OAAO,EAAP;;AAGJ,MAAI;AACA,kBAAOA,YAAP,CAAoBC,OAApB,CAA4B,MAA5B,EAAoC,MAApC,GACA/B,OAAO8B,YAAP,CAAoBE,UAApB,CAA+B,MAA/B,CADA,EAEO,EAFP;AAEO,GAHX,CAGW,MACT;AACE,WAAO,EAAP;AAAO;AAAA,CAXU,qBAJzB;AAAA,IAmBIC,KAAwBJ,IAnB5B;AAAA,IAkCaK,KAAoB5E,cAAkC;AAAA,MAAjCJ,CAAiC,uEAAf,GAAe;AAC/D,MAAMC,IAAiD,EAAvD;AAAA,MACMN,IAAUS,GAACZ,CAAD,EAAc8B,CAAd,KAA6B;AACzC2D,WAAOC,IAAP,CAAYjF,CAAZ,EAA2BkF,OAA3B,CAAmC7C,KAAM;AACjC,OAACrC,EAAcqC,CAAd,CAAL,IACIrC,EAAcqC,CAAd,EAAkB8C,GAAlB,KAA0B5F,CAA1B,IACAS,EAAcqC,CAAd,EAAkB+C,QAAlB,CAA2B/D,CAA3B,CAFJ;AAE+B,KAHnC;AAGmC,GAJvB,YADhB;AAAA,MAYM/B,IAAuBa,EAACZ,KAA8B;AACxD,QAAIA,EAAM4F,GAAN,CAAUE,SAAV,CAAoB,CAApB,EAAuBb,EAAvB,MAAyCD,EAA7C,EACI;AAEJ,QAAMlD,IAAM9B,EAAM4F,GAAN,CAAUE,SAAV,CAAoBb,KAAe,CAAnC,CAAZ;AAAA,QACMnC,IAAQiD,GAAS/F,EAAMgG,QAAf,CADd;AAEAP,WAAOC,IAAP,CAAYjF,CAAZ,EAA2BkF,OAA3B,CAAmC5C,KAAM;AACjC,OAACtC,EAAcsC,CAAd,CAAL,IACItC,EAAcsC,CAAd,EAAkB6C,GAAlB,KAA0B9D,CAA1B,KACIgB,MAAU,IAAV,GAGArC,EAAcsC,CAAd,EAAkB8C,QAAlB,CAA2B,MAA3B,CAHA,GAKApF,EAAcsC,CAAd,EAAkB8C,QAAlB,CACI/C,KAAS,IAAT,GAAgB,MAAhB,GAA4BA,CADhC,CANJ,CADJ;AAQwC,KAT5C;AAS4C,GAfnB,yBAZ7B;AAkCA,SAAO;AACHmD,WAAO,MAAM;AACT,UAAIV,EAAJ,EAA2B;AACvB,YAAMvF,IAAgBkG,KAAaC,OAAb,CAClB,GAAGnB,YADe,CAAtB;AAGAhF,SAAI,IAAiBA,MAAkBQ,CAAnC,IACA0F,KAAaE,KAAb,EADJ,EAGAF,KAAab,OAAb,CAAqB,GAAGL,YAAxB,EAA4CxE,CAA5C,CAHA,EAIA8C,OAAO+C,gBAAP,CAAwB,SAAxB,EAAmCtG,CAAnC,CAJA;AAImC;AAAA,KAVxC;AAaHuG,cAAU,MAAM;AACRf,YACAjC,OAAOiD,mBAAP,CAA2B,SAA3B,EAAsCxG,CAAtC,CADJ;AAC0C,KAf3C;;AAkBHoG,YAAiBnG,CAAjB,EAA8B8B,CAA9B,EAAmD;AAC/C,UAAMgB,IAAmBiD,GACrBG,KAAaC,OAAb,CAAqB,GAAGnB,MAAYhF,GAApC,CADqB,CAAzB;AAIA,aAAO8C,KAAoB,IAApB,GAA2BhB,CAA3B,GAA0CgB,CAAjD;AAAiD,KAvBlD;;AAyBHuC,YAAiBrF,CAAjB,EAA8B8B,CAA9B,EAA8C;AACtCA,YAAU,MAAd,GACIoE,KAAaZ,UAAb,CAAwB,GAAGN,MAAYhF,GAAvC,CADA,GAGAkG,KAAab,OAAb,CACI,GAAGL,MAAYhF,GADnB,EAEIwG,KAAKC,SAAL,CAAe3E,CAAf,CAFJ,CAHJ,EAQA3B,EAAQH,CAAR,EAAa8B,CAAb,CARA;AAQa,KAlCd;;AAoCHwD,eAAWtF,CAAX,EAA8B;AAC1BkG,WAAaZ,UAAb,CAAwB,GAAGN,MAAYhF,GAAvC,GACAG,EAAQH,CAAR,EAAa,MAAb,CADA;AACa,KAtCd;;AAwCH0G,YAAc;AACV,UAAM1G,IAAUkG,IAAhB;;AACA,eAASpE,IAAI,CAAb,EAAgBA,IAAI9B,EAAQkF,MAA5B,EAAoCpD,GAApC,EACI,IAAI9B,EAAQ4F,GAAR,CAAY9D,CAAZ,EAAegE,SAAf,CAAyB,CAAzB,EAA4Bb,EAA5B,MAA8CD,EAAlD,EAA4D;AACxD,YAAMlC,IAAM9C,EAAQ4F,GAAR,CAAY9D,CAAZ,EAAegE,SAAf,CAAyBb,KAAe,CAAxC,CAAZ;AACAjF,UAAQsF,UAAR,CAAmBtF,EAAQ4F,GAAR,CAAY9D,CAAZ,CAAnB,GACA3B,EAAQ2C,CAAR,EAAa,MAAb,CADA;AACa;AAAA,KA9CtB;;AAkDH6D,eAAW,CAAC3G,CAAD,EAAc8B,CAAd,KAAoD;AAC3D,UAAMgB,IAAK8D,KAAKC,MAAL,GAAcC,QAAd,EAAX;AACA,eAAchE,CAAd,IAAoB;AAChB8C,cADgB;AAEhBC;AAFgB,OAApB,EAIO,MAAM;AACT,eAAOpF,EAAcqC,CAAd,CAAP;AAAqB,OALzB;AAKyB;AAzD1B,GAAP;AAyDiC,CA5FJ,sBAlCjC;AAAA,IAoIMiD,KAAWnF,EAACJ,KAAuB;AACrC,MAAI;AACA,WAAOgG,KAAKO,KAAL,CAAWvG,CAAX,CAAP;AAAkB,GADtB,CACsB,MACpB;AACE,WAAOA,CAAP;AAAO;AAAA,CAJE,aApIjB;AAAA,IA2IAwG,WAAuB;AAAvBC,gBAlJA;AAmJI,qBAAiB,IAAIC,GAAJ,EAAjB;AAEA;;AAAAf,UAAQ1F,CAAR,EAAqB;AACjB,WAAI,KAAK0G,SAAL,CAAeC,GAAf,CAAmB3G,CAAnB,IACO4G,OAAO,KAAKF,SAAL,CAAeG,GAAf,CAAmB7G,CAAnB,CAAP,CADP,GAGG,IAHP;AAMJ;;AAAA4E,UAAQ5E,CAAR,EAAqBN,CAArB,EAAoC;AAChC,SAAKgH,SAAL,CAAeI,GAAf,CAAmB9G,CAAnB,EAAwBN,CAAxB;AAGJ;;AAAAmF,aAAW7E,CAAX,EAAwB;AACpB,SAAK0G,SAAL,CAAeK,MAAf,CAAsB/G,CAAtB;AAGJ;;AAAA2F,UAAQ;AACJ,SAAKe,SAAL,CAAef,KAAf;AAGJ;;AAAAR,MAAInF,CAAJ,EAAe;AACX,QAAIgH,UAAUvC,MAAV,KAAqB,CAAzB,EACI,MAAM,IAAIwC,SAAJ,CACF,gFADE,CAAN;AAKJ,WADYC,MAAMC,IAAN,CAAW,KAAKT,SAAL,CAAezB,IAAf,EAAX,EACDjF,CADC,CACZ;AAAW;;AAGX,eAAS;AACT,WAAO,KAAK0G,SAAL,CAAeU,IAAtB;AAAsB;;AAjCP,CA3IvB;AA2IAjH;AAoCA,IAAMkH,KAAgB,IAAId,EAAJ,EAAtB;AAAA,IAEad,KAAatF,QACf2E,KAAwBjC,OAAO8B,YAA/B,GAA8C0C,EAD/B,eAF1B;ACtLA;AACA;AACA;AAqBO,IAAMC,KAAcnH,cAA8B;AAAA,MAA7BJ,CAA6B,uEAAd,EAAc;AACrD,MAAMC,IAAiD,EAAvD;AAAA,MACMN,IAAUS,GAACb,CAAD,EAAcC,CAAd,KAA6B;AACzCyF,WAAOC,IAAP,CAAYjF,CAAZ,EAA2BkF,OAA3B,CAAmC7D,KAAM;AACjC,OAACrB,EAAcqB,CAAd,CAAD,IACArB,EAAcqB,CAAd,EAAkB8D,GAAlB,KAA0B7F,CAA1B,IACAU,EAAcqB,CAAd,EAAkB+D,QAAlB,CAA2B7F,CAA3B,CAFJ;AAE+B,KAHnC;AAGmC,GAJvB,YADhB;AASA,SAAO;AACHiG,WAAO,MAAM,EADV;AAEHK,cAAU,MAAM;AACZb,aAAOC,IAAP,CAAYlF,CAAZ,EAAqBmF,OAArB,CAA6B5F,KAAO,OAAOS,EAAQT,CAAR,CAA3C;AAAmD,KAHpD;;AAKHoG,YAAiBpG,CAAjB,EAA8BC,CAA9B,EAAmD;AAC/C,aAAOgI,GAAIxH,CAAJ,EAAaT,CAAb,EAAkBC,CAAlB,CAAP;AAAyB,KAN1B;;AAQHqF,YAAiBtF,CAAjB,EAA8BC,CAA9B,EAA8C;AAC1CiI,SAAIzH,CAAJ,EAAaT,CAAb,EAAkBC,CAAlB,GACAG,EAAQJ,CAAR,EAAaC,CAAb,CADA;AACa,KAVd;;AAYHsF,eAAWvF,CAAX,EAA8B;AAC1BmI,SAAM1H,CAAN,EAAeT,CAAf,GACAI,EAAQJ,CAAR,EAAa,MAAb,CADA;AACa,KAdd;;AAgBH2G,YAAc;AACVjB,aAAOC,IAAP,CAAYlF,CAAZ,EAAqBmF,OAArB,CAA6B5F,KAAO;AAChCmI,WAAM1H,CAAN,EAAeT,CAAf,GACAI,EAAQJ,CAAR,EAAa,MAAb,CADA;AACa,OAFjB;AAEiB,KAnBlB;;AAsBH4G,eAAW,CAAC5G,CAAD,EAAcC,CAAd,KAAoD;AAC3D,UAAM8B,IAAK8E,KAAKC,MAAL,GAAcC,QAAd,EAAX;AACA,eAAchF,CAAd,IAAoB;AAChB8D,cADgB;AAEhBC;AAFgB,OAApB,EAIO,MAAM;AACT,eAAOpF,EAAcqB,CAAd,CAAP;AAAqB,OALzB;AAKyB;AA7B1B,GAAP;AA6BiC,CAvCV,gBAApB;ACvBP;AAKA,IAAMqG,KAAeJ,IAArB;AAAA,IAEaK,KAAeC,GAAqBF,EAArB,CAF5B;ACLA;AACA;AAIO,IAAMG,KAAuB1H;AAAA,MAAC;AACjCM,WAAOV,CAD0B;AAEjCX;AAFiC,GAAD;AAAA,SAIhC0I,GAAU,OACN/H,EAAMyF,KAAN,IACO,MAAM;AACTzF,MAAM8F,QAAN;AAAM,GAHJ,CAAV,EAKG,CAAC9F,CAAD,CALH,GAQIgI,iBAACJ,GAAanH,QAAd;AAAuBC,WAAOV;AAA9B,KAAsCC,CAAtC,CAZ4B;AAAA,0BAA7B;ACLP;AACA;ACDA;AAOO,IAAMgI,KAAkB7H,QAAM8H,GAAWN,EAAX,CAAN,oBAAxB;AD2BA,IAAMO,KAAc/H,WAAiD;AAAA,MAAhD;AAAEM,YAAF;AAAS0H,WAAT;AAAe/I;AAAf,GAAgD;AACxE,MAAM;AAAEwF;AAAF,MAAcoD,IAApB;AAEA,YAAU,MAAM;AACZ1I,MAAQU,CAAR,EAAcD,CAAd;AAAc,GADlB,EAEG,CAACC,CAAD,EAAOV,CAAP,EAAgBS,CAAhB,CAFH,GAIOqI,oCAAG1I,CAAH,CAJP;AAIU,CAPa,gBAApB;AElCP;ACSA,IAAO2I,KAAQlI,OAAOJ,EAAI0B,OAAJ,CAAY,UAAZ,EAAwB,MAAxB,CAAP,YAAf;ACTA;AACA;ACDA;AACA;ACDA;AACA;ACDA;AAKO,IAAM6G,KAAcC,GAA4B;AACnDC,aAAWzI,KAAKA,CADmC;AAEnD0I,gBAAc,MAAMnF,QAAQC,OAAR,EAF+B;AAGnDmF,aAAW,MAAM;AAHkC,CAA5B,CAApB;AAMPJ,GAAYvE,WAAZ,GAA0B,aAA1B;ACXA;ACAA;ACAA;AAsCO,IAAM4E,KAAsBC,GAAuC;AACtEC,iBAAe,EADuD;AAEtEC,mBAAiB,MAAM,EAF+C;AAGtEC,oBAAkB,MAAM,EAH8C;AAItEC,sBAAoB,MAAM;AAJ4C,CAAvC,CAA5B;ADnCA,IAAMC,KAAyB9I,QAAM+I,GAAWP,EAAX,CAAN,2BAA/B;ADiBA,IAAMQ,IAAYhJ,QAAM;AAC3B,MAAM;AAAE2I;AAAF,MAAsBG,IAA5B;AACA,SAAOG,GACH,UACIpJ,CADJ,EAGK;AAAA,QADDN,CACC,uEAD4D,EAC5D;AACD,QAGI2B,KAHJ;AAAA,QACI;AAAAW,YAAM1C,IAAc;AAApB,QAEA+B,CAHJ;AAAA,QAEO9B,MACH8B,CADG,GADH,MACG,EAFP;AAIAtB,MAAgB;AACZsJ,gBADY;AAEZrH,YAAM1C,CAFM;AAGZgK;AAHY,KAAhB;AAGI,GAZL,EAeH,CAACvJ,CAAD,CAfG,CAAP;AAeK,CAjBgB,cAAlB;AGpBP;AACA;AAKO,IAAMwJ,KAA8BpJ,WAAkB;AAAA,MAAjB;AAAEf;AAAF,GAAiB;;AACzD,MAAM,CAACY,CAAD,EAAgBN,CAAhB,IAAoC8J,GACtC,EADsC,CAA1C;AAAA,MAIMlK,IAAkBmK,GAAanH,KAAsC;AACvE5C,MAAiB6C,KAAiB,CAAC,GAAGA,CAAJ,EAAmBD,CAAnB,CAAlC;AAAqD,GADjC,EAErB,EAFqB,CAJxB;AAAA,MAQM/C,IAAmBkK,GAAY,MAAM;AACvC,QAAM,CAACnH,CAAD,EAAC,GAAiBC,CAAlB,IAA0BvC,CAAhC;AACA,aAAiBuC,CAAjB,GACOD,CADP;AACO,GAHc,EAItB,CAACtC,CAAD,CAJsB,CARzB;AAAA,MAcMqB,IAAqBoI,GAAY,MAAM;AACzC/J,MAAiB,EAAjB;AAAiB,GADM,EAExB,EAFwB,CAd3B;AAAA,MAkBM2C,IAAeqH,GACjB,OAAO;AACHb,oBADG;AAEHC,sBAFG;AAGHC,uBAHG;AAIHC;AAJG,GAAP,CADiB,EAOjB,CAAChJ,CAAD,CAPiB,CAlBrB;;AA4BA,SACI2J,iBAAChB,GAAoBnI,QAArB;AAA8BC,WAAO4B;AAArC,KACKtC,CADL,CADJ;AAES,CA/B8B,gCAApC;ALKA,IAAM6J,KAAsBzJ,YAGH;AAAA,MAHI;AAChCM,eAAQoJ,EADwB;AAEhCzK;AAFgC,GAGJ;AAC5B,MAAM,CAACM,CAAD,IAAWoK,GAAS,QAAT,CAAjB;AAAA,MACMxK,IAAS6J,GADf;AAAA,MAEM,CAAC5J,CAAD,EAAM8B,CAAN,IAAgB0I,GAAS,CAAT,CAFtB;AAAA,MAIM,CAAC1H,CAAD,EAAgBC,CAAhB,IAAkCyH,GACpCrK,MAAWK,EAAM2I,SAAN,EADyB,CAJxC;AASA,YAAU,MAAM;AACRhJ,SAAUK,EAAM2I,SAAN,OAAsBhJ,CAApC,GACI,IAAI4D,OAAJ,CAAYf,KAAW;AAGnBA,QAAQxC,EAAM0I,YAAN,CAAmB/I,CAAnB,CAAR;AAA2B,KAH/B,EAKKsK,IALL,CAKU,MAAM;AAKR3I,QAAOkB,KAAOA,IAAM,CAApB,GACAD,EAAe,EAAf,CADA;AACe,KAXvB,EAaK2H,KAbL,CAaW1H,KAAS;AACZD,QAAe,EAAf,GACAhD,EAAO,4BAAP,EAAqC;AAAE0C,cAAM;AAAR,OAArC,CADA,EAEAkI,QAAQC,KAAR,CAAc5H,CAAd,CAFA;AAEc,KAhBtB,CADA,GAoBAD,EAAe,EAAf,CApBA;AAoBe,GArBvB,EAuBG,CAACvC,CAAD,EAAQL,CAAR,EAAgBJ,CAAhB,CAvBH,GAyBO+C,IACH+H,iBAAC9B,GAAY9H,QAAb;AAAsBC,WAAOV,CAA7B;AAAoCoF,SAAK5F;AAAzC,KACKS,CADL,CADG,GAIH,IA7BJ;AA6BI,CA1C2B,wBAA5B;AAAA,IAkDD6J,KAAqB;AACvBrB,aAAWzI,KAAKA,CADO;AAEvB0I,gBAAc,MAAMnF,QAAQC,OAAR,EAFG;AAGvBmF,aAAW,MAAM;AAHM,CAlDpB;ADNA,IAAM2B,KAA0BlK;AAAA,MAAC;AACpCqI,gBADoC;AAEpC8B,eAFoC;AAGpClL;AAHoC,GAAD;AAAA,SAKnCmL,iBAACX,EAAD;AACInJ,WAAO;AACH+H,iBAAWxI,IACL,CAACV,CAAD,EAAcC,CAAd,KAAgC;AAC5B,YAAM8B,IAAUmJ,GAAUxK,CAAV,EAAoBV,CAApB,CAAhB;AACA,eAAO+B,IACD,OAAOA,CAAP,IAAmB,UAAnB,GACIA,EAAQ9B,CAAR,CADJ,GAEI8B,CAHH,GAID9B,EAAQkL,CAJd;AAIc,OAPb,GASL1K,CAVH;AAWH0I,oBAAc,MAAMnF,QAAQC,OAAR,EAXjB;AAYHmF,iBAAW,MAAM;AAZd;AADX,KAgBKhJ,CAhBL,CALmC;AAAA,6BAAhC;AOLP;AAEO,IAAMgL,KAAsBC,GAC/B,MAD+B,CAA5B;ACFP;AAOO,IAAMC,KAA8BzK;AAAA,MAAC;AACxCf,eADwC;AAExCqB;AAFwC,GAAD;AAAA,SAQnCoK,iBAACH,GAAoBlK,QAArB;AAA8BC,WAAOT;AAArC,KACKD,CADL,CARmC;AAAA,iCAApC;ACPP;AAuCO,IAAM+K,KAAuB3K,GAChCJ,CADgC,EAEhCC,CAFgC,KAGvB;AAGT,MAAM;AACF+K,eADE;AAEFC,sBAFE;AAGFC;AAHE,MAIFpI,OAAO3C,SAJX;AAAA,MAMMmB,IACF3B,KACAJ,CADA,IAEAC,CAFA,IAGAQ,CAHA,IAIAmL,EAXJ;AAaA,SAAO,wBAASC,UAAT,IAAsB9J,CAAtB,GAA+BA,EAAO+J,KAAP,CAAa,GAAb,EAAkB,CAAlB,CAAtC;AAAwD,CAnBxB,yBAA7B;AAAA,IA+CMC,KAAoBlL;AAAA,oCAAIJ,CAAJ;AAAIA,KAAJ;AAAA;;AAAA,SAC7BuL,GAAM,EAAN,EAAU,GAAGvL,CAAb,CAD6B;AAAA,uBA/C1B;ACvCP;ACAA;AAeO,IAAMwL,KAAkBpL,QAAMqL,GAAWlD,EAAX,CAAN,oBAAxB;ADeA,IAAMmD,KAAiBtL,QAAM;AAChC,MAAMJ,IAAewL,IAArB;AAAA,MACMvL,IAAgB0L,GAAQ,MAAM3L,EAAa2I,SAAb,EAAd,EAAwC,CAC1D3I,CAD0D,CAAxC,CADtB;AAIA,SAAO+J,GAAiB,QAAjB,EAA2B9J,CAA3B,CAAP;AAAkC,CALR,mBAAvB;AEVA,IAAM2L,KAAYxL,QAAM;AAC3B,MAAM,CAACJ,CAAD,IAAW0L,IAAjB;AACA,SAAO1L,CAAP;AAAO,CAFc,cAAlB;ACQA,IAAM6L,KAAezL,QAAM;AAC9B,MAAM,GAAGJ,CAAH,IAAgB0L,IAAtB;AACA,SAAO1L,CAAP;AAAO,CAFiB,iBAArB;AC5BP;ACAA;;AAwBO,IAAM0K,IAAetK,QAAiB;AACzC,MAAMJ,IAAewL,IAArB;AAAA,MACMvL,IAAY6L,GACd,CAACnM,CAAD,EAAcJ,CAAd,KACIS,EAAayI,SAAb,CAAuB9I,CAAvB,EAA4BJ,CAA5B,CAFU,EAId,CAACS,CAAD,CAJc,CADlB;AAOA,SAAOA,IAAeC,CAAf,GAA2B8L,EAAlC;AAAkC,CARV,iBAArB;AAAA,IAWDA,KAAW3L,OAAOJ,CAAP,aAXV;;ADFA,IAAMgM,KAAkB5L,EAC3BJ,KAC2B;AAC3B,MAAM,CAACC,CAAD,IAAiByL,IAAvB;AAAA,MACM;AAAEO,uBAAgBhM,CAAlB;AAAgCiM;AAAhC,MAA4ClM,CADlD;AAAA,MAEM,CAACR,CAAD,EAAiB8B,CAAjB,IAAsC6K,GAASxM,CAAT,CAF5C;AAAA,MAGM2C,IAAW8J,EAAmB,EAAnB,CAHjB;AAAA,MAIM7J,IAAYmI,GAJlB;;AA0BA,SApBgB2B,GACZ,OAAO;AACHC,eAAW,UAAC7J,CAAD;AAAA,UAAiB8J,CAAjB,uEAAkC/M,CAAlC;AAAA,aACP,GAAGiD,KAAU8J,GADN;AAAA,KADR;AAGHC,cAAU,CAAC/J,CAAD,EAAiB8J,CAAjB,KACChK,EACH,GAAGkK,GAA6B;AAC5BC,eAD4B;AAE5B3K,iBAF4B;AAG5B4K;AAH4B,KAA7B,CADA,CAJR;AAYHT,cAZG;AAaHU,qBAbG;AAcHC,kBAAcvL;AAdX,GAAP,CADY,EAiBZ,CAAC/B,CAAD,EAAU+C,CAAV,EAAoB9C,CAApB,EAAoC+C,CAApC,CAjBY,CAoBhB;AAHwC,CA1Bb,oBAAxB;AEtBP;AAmCO,IAAMuK,KAAyB1M,QAAgC;AAClE,MAAMJ,IAAU+M,GAAWpC,EAAX,CAAhB;AAEA,MAAI,CAAC3K,CAAL,EACI,MAAM,IAAIgN,KAAJ,CACF,0EADE,CAAN;AAKJ,SAAOhN,CAAP;AAAO,CAT2B,2BAA/B;ACnCA,IAAMmL,KAAiB,IAAvB;ACAP;AAmBA,IAAOsB,KAAQrM,EAACJ,KAAyC;AACrD,MAAI,CAACA,CAAL,EACI,OAAO,CAAC,EAAD,CAAP;AAGJ,MAAM;AAAE2M,YAAF;AAAS5K,eAAT;AAAmB2K;AAAnB,MAA8B1M,CAApC;AAEA,SAAO,OAAOC,CAAP,IAAiB,WAAjB,GACD,CAACA,CAAD,EAAQ;AAAEyK,OAAGzK;AAAL,GAAR,CADC,GAED,OAAOV,CAAP,IAAkB,WAAlB,GACA,CACI,aAAaI,YAAmBJ,GADpC,EAEI;AACImL,OAAGuC,GAAWC,SAAX,CAAqB3N,CAArB,EAA6B,CAAC,YAAD,EAAe,UAAf,CAA7B;AADP,GAFJ,CADA,GAOA,CAAC,EAAD,CATN;AASO,CAhBI,YAAf;ACnBA;ACAA;AAmBO,IAAM4N,KAAkBC,GAAoC,MAApC,CAAxB;ADgBA,IAAMhB,IAAqBhM,EAG9BJ,KACuB;AACvB,MAAMC,IAAUoN,GAAWF,EAAX,CAAhB;AACA,SAAQnN,KAASA,EAAM+B,QAAf,IAA4B9B,CAApC;AAAoC,CANN,uBAA3B;ApBrBA,IAAMqN,KAAalN,EAACJ,KAA2B;AAClD,MAAM;AAAE0M,aAAF;AAAUC,YAAV;AAAiBY;AAAjB,MAAgCvN,CAAtC;AAAA,MACMR,IAAW4M,EAAmBpM,CAAnB,CADjB;AAAA,MAEMsB,IAAYoJ,GAFlB;;AAIA,SAAI/K,MAAU,EAAV,IAAmBA,MAAU,EAA7B,GACO,IADP,GAIAA,KAAS,OAAOA,CAAP,IAAiB,QAA1B,GACOA,CADP,GAKA6N,iBAAC,MAAD,QACKlM,EACG,GAAGmL,GAA6B;AAC5BE,WAAOhN,CADqB;AAE5BoC,eAF4B;AAG5B2K;AAH4B,GAA7B,CADN,CADL,EAQKnN,KAAciO,iBAAC,MAAD;AAAM,mBAAY;AAAlB,KAAyB,SAAzB,CARnB,CATJ;AAiBgD,CAtB1B,eAAnB;AA4BPF,GAAWtJ,WAAX,GAAyB,YAAzB;AAEA,IAAOyJ,KAAQC,GAAKJ,EAAL,CAAf;AsB5CA;AAEA,IAAOK,KAAQvN,GAACJ,CAAD,EAAQC,CAAR,EAAkBN,CAAlB,KAAoC;AAC/C,MAAIK,EAAMC,CAAN,KAAmB,CAAC2N,GAAmB5N,EAAMC,CAAN,CAAnB,CAAxB,EACI,OAAO,IAAI+M,KAAJ,CACH,iBAAiB/M,mBAA0BN,6CADxC,CAAP;AAC+C,CAHxC,YAAf;;ACFA,YAAYK,CAAZ,EAAwBC,CAAxB,EAAoC;AAChC,SAAID,MAAMC,CAAN,GACOD,MAAM,CAAN,IAAWC,MAAM,CAAjB,IAAsB,IAAID,CAAJ,KAAU,IAAIC,CAD3C,GAIOD,MAAMA,CAAN,IAAWC,MAAMA,CAJ5B;AADK;;AAAAG;AASF,IAAMyN,KAAezN,GAACJ,CAAD,EAAYC,CAAZ,KAA0B;AAClD,MAAI6N,GAAG9N,CAAH,EAASC,CAAT,CAAJ,EAAoB,OAAO,EAAP;AAEpB,MACI,OAAOD,CAAP,IAAgB,QAAhB,IACAA,MAAS,IADT,IAEA,OAAOC,CAAP,IAAgB,QAFhB,IAGAA,MAAS,IAJb,EAMI,OAAO,EAAP;AAGJ,MAAMN,IAAQsF,OAAOC,IAAP,CAAYlF,CAAZ,CAAd;AAAA,MACMT,IAAQ0F,OAAOC,IAAP,CAAYjF,CAAZ,CADd;AAGA,MAAIN,EAAM+E,MAAN,KAAiBnF,EAAMmF,MAA3B,EAAmC,OAAO,EAAP;;AAEnC,WAASlF,IAAI,CAAb,EAAgBA,IAAIG,EAAM+E,MAA1B,EAAkClF,GAAlC,EACI,IACI,CAACyF,OAAO8I,SAAP,CAAiBC,cAAjB,CAAgCC,IAAhC,CAAqChO,CAArC,EAA2CN,EAAMH,CAAN,CAA3C,CAAD,IACA,CAACsO,GAAG9N,EAAKL,EAAMH,CAAN,CAAL,CAAH,EAAmBS,EAAKN,EAAMH,CAAN,CAAL,CAAnB,CAFL,EAII,OAAO,EAAP;;AAIR,SAAO,EAAP;AAAO,CA1BiB,iBAArB;ACPP,IAAM0O,KAAW9N,OACbJ,KAAOiF,OAAO8I,SAAP,CAAiBzH,QAAjB,CAA0B2H,IAA1B,CAA+BjO,CAA/B,MAAwC,iBADlC,aAAjB;AAAA,IAGMmO,KAAU/N,OACZJ,aAAeoO,IAAf,GACM,EADN,GAEMpO,MAAQ,EAAR,IACAA,MAAQ,IADR,IAEAA,MAAQ,MAFR,IAGA6N,GAAa7N,CAAb,EAAkB,EAAlB,CANM,YAHhB;AAAA,IAWMqO,KAAcjO,OAChB6E,OAAOC,IAAP,CAAYlF,CAAZ,EAAoBsO,MAApB,CAA2B,CAACrO,CAAD,EAAMN,CAAN,KAAc;AACrC,MAAIJ,IAAQS,EAAOL,CAAP,CAAZ;AAEA,SAAIuO,GAASlO,EAAOL,CAAP,CAAT,MACAJ,IAAQ8O,GAAYrO,EAAOL,CAAP,CAAZ,CADR,GAIGwO,GAAQ5O,CAAR,IAAiBU,CAAjB,GAAuBsO,QAAKtO,CAAL;AAAA,KAAWN,CAAX,GAAiBJ;AAAjB,IAJ9B;AAI+C,CAPnD,EAQG,EARH,CADgB,gBAXpB;AAAA,IAsBOiP,IAAQH,EAtBf;ACFA,IAAMI,KAAYrO,GAACJ,CAAD,EAASC,CAAT,KACdgF,OAAOC,IAAP,CAAYlF,CAAZ,EAAoBsO,MAApB,CAA2B,CAAC3O,CAAD,EAAMJ,CAAN,KACnBA,MAAQU,CAAR,GACOgF,OAAOyJ,MAAP,CAAc,EAAd,EAAkB/O,CAAlB,EAAuB;AAAA,GAAGJ,CAAH,GAASS,EAAOT,CAAP;AAAT,CAAvB,CADP,GAIGI,CALX,EAMG,EANH,CADc,cAAlB;AAAA,IASMgP,KAAgBvO,GAACJ,CAAD,EAASC,CAAT,KAAkB;AACpC,MAAMN,IAAQM,EAAKoL,KAAL,CAAW,GAAX,CAAd;AAEA,MAAI1L,EAAM+E,MAAN,KAAiB,CAArB,EACI,OAAO+J,GAAUzO,CAAV,EAAkBC,CAAlB,CAAP;AAGJ,MAAMV,IAAUI,EAAM,CAAN,CAAhB;AACA,MAAIK,EAAOT,CAAP,MAAoB,MAAxB,EACI,OAAOS,CAAP;AAEJ,MAAMR,IAAOmP,GAAc3O,EAAOT,CAAP,CAAd,EAA+BI,EAAMiP,KAAN,CAAY,CAAZ,EAAeC,IAAf,CAAoB,GAApB,CAA/B,CAAb;AAEA,SAAI5J,OAAOC,IAAP,CAAY1F,CAAZ,EAAkBkF,MAAlB,KAA6B,CAA7B,GACO+J,GAAUzO,CAAV,EAAkBT,CAAlB,CADP,GAIG0F,OAAOyJ,MAAP,CAAc,EAAd,EAAkB1O,CAAlB,EAA0B;AAAA,KAAGT,CAAH,GAAaC;AAAb,GAA1B,CAJP;AAI8C,CAjB5B,kBATtB;AAAA,IA6BOsP,KAAQH,EA7Bf;ACAA;AACA;AAEA,IAAMI,KAAS;AACXC,QAAM;AACFC,WAAO,OADL;AAEFC,YAAQ,OAFN;AAGFC,aAAS,MAHP;AAIFC,mBAAe,QAJb;AAKFC,gBAAY;AALV,GADK;AAQXC,QAAM;AACFC,UAAM,CADJ;AAEFJ,aAAS,MAFP;AAGFK,gBAAY,QAHV;AAIFC,oBAAgB,QAJd;AAKFC,eAAW,QALT;AAMFN,mBAAe,QANb;AAOFO,gBACI,gEARF;AASFC,WAAO,OATL;AAUFC,cAAU,OAVR;AAWFC,gBAAY;AAXV,GARK;AAqBXC,aAAW;AACPb,YAAQ,MADD;AAEPS,gBAAY,SAFL;AAGPC,WAAO,OAHA;AAIPT,aAAS,MAJF;AAKPK,gBAAY,QALL;AAMPC,oBAAgB;AANT,GArBA;AA6BXO,QAAM;AACFN,eAAW,QADT;AAEFT,WAAO,GAFL;AAGFE,aAAS,OAHP;AAIFc,oBAAgB,MAJd;AAKFL,WAAO,OALL;AAMFM,aAAS;AANP,GA7BK;AAqCXC,eAAa;AACTD,aAAS;AADA,GArCF;AAwCXE,SAAO;AACHnB,WAAO;AADJ,GAxCI;AA2CXoB,QAAM;AACFnB,YAAQ;AADN;AA3CK,CAAf;AAAA,IAgDMoB,KAASlQ,YAA0B;AAAA,MAAzB;AAAEmQ,UAAF;AAAO5D,YAAP;AAAc5J;AAAd,GAAyB;AACrC,MAAM,CAACxD,CAAD,EAAUC,CAAV,IAAwBgR,GAAS,EAAT,CAA9B;AACA,SACIC,gBAAC,KAAD,QACIA,gBAAC,GAAD;AACI1N,UAAMpD,CADV;AAEI+Q,WACInR,IACMiC,QAAKuN,GAAOiB,IAAZ,GAAqBjB,GAAOoB,WAA5B,CADN,GAEMpB,GAAOiB,IALrB;AAOIW,kBAAc,MAAMnR,EAAW,EAAX,CAPxB;AAQIoR,kBAAc,MAAMpR,EAAW,EAAX;AARxB,KAUIiR,gBAAC,KAAD;AAAKI,SAAK7Q,CAAV;AAAe8Q,SAAK7Q,CAApB;AAA2ByQ,WAAO3B,GAAOqB;AAAzC,IAVJ,EAWIK,gBAAC,IAAD,OAXJ,EAYKxQ,CAZL,CADJ,CADJ;AAca,CAhBF,WAhDf;AAAA,IAsEO8Q,KAAQ3Q,QACX4Q,QAAQC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GACIT,gBAAC,MAAD,OADJ,GAGIA,gBAAC,KAAD;AAAKC,SAAO3B,GAAOC;AAAnB,GACIyB,gBAAC,KAAD;AAAKC,SAAO3B,GAAOO;AAAnB,GACImB,gBAAC,KAAD;AACIC,SAAO3B,GAAOsB,IADlB;AAEIQ,OAAI,osGAFR;AAGIC,OAAI;AAHR,EADJ,EAMIL,gBAAC,IAAD,QAAI,wBAAJ,CANJ,EAOIA,gBAAC,KAAD,QAAK,0CAAL,EAEIA,gBAAC,IAAD,OAFJ,EAEU,mDAFV,CAPJ,CADJ,EAeIA,gBAAC,KAAD;AAAKC,SAAO3B,GAAOgB;AAAnB,GACIU,gBAACH,EAAD;AACIvN,QAAK,8CADT;AAEIwN,OAAI,wzEAFR;AAGI5D,SAAM;AAHV,EADJ,EAMI8D,gBAACH,EAAD;AACIvN,QAAK,8DADT;AAEIwN,OAAI,gVAFR;AAGI5D,SAAM;AAHV,EANJ,EAWI8D,gBAACH,EAAD;AACIvN,QAAK,wDADT;AAEIwN,OAAI,okDAFR;AAGI5D,SAAM;AAHV,EAXJ,CAfJ,CAJO,YAtEf;ACHA,IAAOwE,KAAQ/Q,GAACJ,CAAD,EAAiBC,CAAjB,KAAqC;AAChDD,GAAI,IAAagR,QAAQC,GAAR,CAAYC,QAAZ,KAAyB,YAAtC,IACA/G,QAAQiH,IAAR,CAAanR,CAAb,CADJ;AACiB,CAFN,YAAf;ACAA;;AAae,YAA4BD,CAA5B,EAAkCC,CAAlC,EAAyC;AAGpD,MAAMN,IAAgB0R,IAAtB;AAEAC,KAAU,MAAM;AACZ,QAAI3R,EAAc4R,OAAlB,EAA2B;AAEvB,UAAMhS,IAAU0F,OAAOC,IAAP,CAAY1D,QAAK7B,EAAc4R,OAAnB,GAA+BtR,CAA/B,CAAZ,CAAhB;AAAA,UAEMT,IAAa,EAFnB;AAIAD,QAAQ4F,OAAR,CAAgB7D,KAAO;AAEnB3B,SAAI,CAAc4R,OAAlB,CAA0BjQ,CAAtB,MAA+BrB,EAAMqB,CAAN,CAAnC,KAEI9B,EAAW8B,CAAX,IAAkB;AACd8F,gBAAMzH,EAAc4R,OAAd,CAAsBjQ,CAAtB,CADQ;AAEdkQ,cAAIvR,EAAMqB,CAAN;AAFU,SAFtB;AAIkB,OANtB,GAYI2D,OAAOC,IAAP,CAAY1F,CAAZ,EAAwBkF,MAAxB,IACAyF,QAAQsH,GAAR,CAAY,sBAAZ,EAAoCzR,CAApC,EAA0CR,CAA1C,CAbJ;AAkBJ;;AAAAG,MAAc4R,OAAd,GAAwBtR,CAAxB;AAAwB,GAzB5B;AALoB;;AAAAG;ACbjB,IAAMsR,KAAkBtR,GAACJ,CAAD,EAAeC,CAAf,KAA4B;AACvD,MAAID,CAAJ,EACI,OAAOA,CAAP;;AAEJ,UAAQC,CAAR;AAAQ,SACC,EADD;AAEA,aAAO,UAAP;;AAAO,SACN,EADM;AAEP,aAAO,aAAP;;AAAO;AAEP,aAAO,UAAP;AANR;AAMe,CAVY,oBAAxB;;ACGA,YACHD,CADG,EAEW;AACd,SAAOC,KAAS;AACZD,MAAKmF,OAAL,CAAaxF,KAAO;AAChB,aAAWA,CAAX,IAAmB,UAAf,GACAA,EAAIM,CAAJ,CADJ,GAEWN,KAAO,IAAP,KACNA,EAAmC4R,OAAnC,GAA6CtR,CADvC,CAFX;AAGkD,KAJtD;AAIsD,GAL1D;AAHY;;AAAAG;ACHhB;AACA;AAGA,IAAMuR,KACF,OAAO7O,MAAP,IAAkB,WAAlB,GAAsC8O,kBAAtC,GAA8DA,YADlE;AAAA,IASaC,KAAmBzR,GAC5BJ,CAD4B,EAE5BC,CAF4B,KAGE;AAC9B,MAAMN,IAAMiS,EAAM,OAAN,CAAwC,MAAM;AACtD,UAAM,IAAI5E,KAAJ,CAAU,+CAAV,CAAN;AAAgB,GADF,CAAlB;AAIA,YAAgB,MAAM;AAClBrN,MAAI4R,OAAJ,GAAcvR,CAAd;AAAc,GADlB,EAGG,CAACA,CAAD,EAAK,GAAGC,CAAR,CAHH,GAKO6R,GAAY;AAAA,WAAmBnS,EAAI4R,OAAJ,CAAY,YAAZ,CAAnB;AAAA,GAAZ,EAAqD,EAArD,CALP;AAK4D,CAbhC,qBAThC;ACHA;AACA;;AAIO,WACHvR,CADG,EAEyC;AAC5C,MAAM,CAACC,CAAD,EAAQN,CAAR,IAAoBoS,GAAS/R,CAAT,CAA1B;AAAA,MAEMT,IAAayS,GAAO,EAAP,CAFnB;AAGAC,KAAU,OACN1S,EAAWgS,OAAX,GAAqB,EAArB,EACO,MAAM;AACThS,MAAWgS,OAAX,GAAqB,EAArB;AAAqB,GAHnB,CAAV,EAKG,EALH;AAMA,MAAM/R,IAAe0S,GACjB5Q,KAAQ;AACJ,QAAI/B,EAAWgS,OAAf,EACI,OAAO5R,EAAS2B,CAAT,CAAP;AAAgB,GAHP,EAMjB,CAAC/B,CAAD,EAAaI,CAAb,CANiB,CAArB;AASA,SAAO,CAACM,CAAD,EAAQT,CAAR,CAAP;AArBY;;AAAAY;;AAwBT,YAAqBJ,CAArB,EAA4B;AAC/B,MAAMC,IAAM+R,IAAZ;AACA,YAAU,MAAM;AACZ/R,MAAIsR,OAAJ,GAAcvR,CAAd;AAAc,GADlB,GAGOC,EAAIsR,OAHX;AAFY;;AAAAnR;;AAQT,YAA8BJ,CAA9B,EAAwCC,CAAxC,EAAgD;AACnD,MAAMN,IAAaqS,IAAnB;AACAC,KAAU,OACDE,GAAQ5S,CAAR,EAAwBU,CAAxB,MACDN,EAAW4R,OAAX,GAAqBvR,GADpB,GAGEL,EAAW4R,OAJZ,CAAV;AAMA,MAAMhS,IAAiB6S,GAAYnS,CAAZ,CAAvB;AARY;;AAAAG;;AAiBT,cAAsC;AAAA,MAAlBJ,CAAkB,uEAAb,CAAa;AAAA,MAAVC,CAAU,uEAAJ,EAAI;AACzC,MAAM,CAACN,CAAD,EAAQJ,CAAR,IAAoB8S,EAAgB,EAAhB,CAA1B;AAEA,YAAU,MAAM;AACZ9S,MAAS,EAAT;AACA,QAAIC,IAAQ8S,WAAW,MAAM;AACzB/S,QAAS,EAAT;AAAS,KADD,EAETS,CAFS,CAAZ;AAIA,WAAO,MAAM;AACTuS,mBAAa/S,CAAb;AAAa,KADjB;AACiB,GAPrB,EASG,CAACS,CAAD,EAAMD,CAAN,EAAUT,CAAV,CATH,GAWOI,CAXP;AAHY;;AAAAS;;AAiBT,cAAwB;AAC3B,MAAMJ,IAAYgS,GAAO,EAAP,CAAlB;AACA,YAAU,OACNhS,EAAUuR,OAAV,GAAoB,EAApB,EACO,MAAM;AACTvR,MAAUuR,OAAV,GAAoB,EAApB;AAAoB,GAHlB,CAAV,EAKG,EALH,GAMOvR,CANP;AAFY;;AAAAI;AlC1BT,IAAM2J,KAAW3J,GACpBJ,CADoB,EAEpBC,CAFoB,KAGA;AACpB,MAAM;AAAE0F,cAAF;AAAWd,cAAX;AAAoBsB;AAApB,MAAkC8B,IAAxC;AAAA,MACM,CAAC3G,CAAD,EAAQgB,CAAR,IAAoBkQ,GAAS,MAAM7S,EAAQK,CAAR,EAAaC,CAAb,CAAf,CAD1B;AAIAwS,KAAU,MAAM;AACZ,QAAMjQ,IAAchD,EAAUQ,CAAV,EAAeyC,KAAY;AAC3CH,QAAS,OAAOG,CAAP,IAAoB,WAApB,GAAkCxC,CAAlC,GAAiDwC,CAA1D;AAA0D,KAD1C,CAApB;AAGA,WAAO,MAAMD,GAAb;AAAa,GAJjB,EAKG,CAACxC,CAAD,EAAMR,CAAN,EAAiBS,CAAjB,CALH;AAOA,MAAMsC,IAAMsP,GACR,CAACrP,CAAD,EAAgBC,CAAhB,KAA2C;AACvC,QAAM8J,IACF,OAAO/J,CAAP,IAAsB,UAAtB,GACMA,EAAWlB,CAAX,CADN,GAEMkB,CAHV;AAOAjD,MACIS,CADJ,EAEI,OAAOuM,CAAP,IAAoB,WAApB,GACM,OAAO9J,CAAP,IAA+B,WAA/B,GACIxC,CADJ,GAEIwC,CAHV,GAIM8J,CANV;AAMU,GAfN,EAkBR,CAACvM,CAAD,EAAMT,CAAN,EAAeU,CAAf,EAA6BqB,CAA7B,CAlBQ,CAAZ;AAoBA,SAAO,CAACA,CAAD,EAAQiB,CAAR,CAAP;AAAe,CAnCK,aAAjB;AmC9CP;AAoBO,IAAMmQ,KAAqBtS,EAACJ,KAAyB;AACxD,MAAM;AAAE8E;AAAF,MAAiBmD,IAAvB;AACA,SAAO0K,GACHhT,CAAC,IACGM,EAAW,OAAON,CAAP,IAAe,WAAf,GAA6BK,CAA7B,GAA2CL,CAAtD,CAFD,EAGH,CAACM,CAAD,EAAaD,CAAb,CAHG,CAAP;AAGiB,CALa,uBAA3B;ACFA,IAAM4S,KAAgBxS,QAAM;AAC/B,MAAM;AAAE8F;AAAF,MAAY+B,IAAlB;AACA,SAAOjI,CAAP;AAAO,CAFkB,kBAAtB;A3CZP;AAoBA,IAAM6S,KAAYzS,QAAc;AAC5B,MAAMJ,IAAeuE,IAArB;AAAA,MACMtE,IAAa2S,IADnB;AAAA,MAEMjT,IAAWmT,IAFjB;AAAA,MAMMvT,IAAcwT,GAAOpT,CAAP,CANpB;AAAA,MAOMH,IAAWwT,IAPjB;AAAA,MAQM1R,IAAcyR,GAAOvT,CAAP,CARpB;AAAA,MASM8C,IAAWX,IATjB;AAAA,MAUMY,IAAWL,GACb,GAAGI,KAAY4B,GAAkBC,UADpB,CAVjB;AAyBA8O,KAAU,MAAM;AACZ3R,MAAYiQ,OAAZ,GAAsB/R,CAAtB,EACAD,EAAYgS,OAAZ,GAAsB5R,CADtB;AACsB,GAF1B,EAGG,CAACH,CAAD,EAAWG,CAAX,CAHH;AAKA,MAAM6C,IAAS0Q,GACX;AAAA,QACI3G,CADJ,uEACa,EADb;AAAA,QAEI4G,CAFJ,uEAEiB5Q,CAFjB;AAAA,QAGI6Q,CAHJ,uEAG0C,EAH1C;AAAA,WAKIpT,EAAayD,MAAb,CAAoB8I,CAApB,EAA4BtC,IAA5B,CAAiCoJ,KAA0B;AACvD,UAAIA,MAA2B,EAA/B,EAAsC;AAClCpT;AAEA;AAIJ;;AAAA,UAAMqT,IACF,MAA0BH,CAA1B,EACF9H,KADE,CACI,GADJ,CADJ;AAAA,UAGMkI,IAA6B;AAC/B9R,kBAAU6R,EAAgB,CAAhB;AADqB,OAHnC;AAAA,UAMIE,IAAqB,EANzB;AAQA,aACIJ,KACA9R,EAAYiQ,OADZ,IAEAjQ,EAAYiQ,OAAZ,CAAoB9P,QAFpB,KAIA+R,IAAqB;AACjB7Q,eAAO;AACH8Q,wBAAcnS,EAAYiQ,OAAZ,CAAoB9P,QAD/B;AAEHiS,sBAAYpS,EAAYiQ,OAAZ,CAAoBoC;AAF7B;AADU,OAJrB,GAWAL,EAAgB,CAAhB,MACAC,EAAYI,MAAZ,GAAqBL,EAAgB,CAAhB,CADrB,CAXA,EAcJ/T,EAAYgS,OAAZ,CAAoBgC,CAApB,EAAiCC,CAAjC,CAdI,EAeJvT,GAfI,EAiBGoT,CAlBP;AAkBO,KAlCX,CALJ;AAAA,GADW,EA0CX,CAACrT,CAAD,EAAeC,CAAf,EAA2BsC,CAA3B,CA1CW,CAAf;AAAA,MA6CME,IAAwByQ,GAC1B3G,MACI5M,EACI;AACI8B,cAAUc;AADd,GADJ,EAII;AACII,WAAO;AACH8Q,oBAAcjU,KAAYA,EAASiC;AADhC;AADX,GAJJ,GAUAxB,GAVA,EAWOsD,QAAQC,OAAR,EAZX,CAD0B,EAe1B,CAACvD,CAAD,EAAaT,CAAb,EAAuBG,CAAvB,EAAiC4C,CAAjC,CAf0B,CA7C9B;AA+DA,SAAOvC,IAAewC,CAAf,GAAwBC,CAA/B;AAA+B,CA9FjB,cAAlB;AAAA,IAiHOmR,KAAQf,EAjHf;ADkBO,IAAMgB,KAAezT,QAAiB;AACzC,MAAMJ,IAAeuE,IAArB;AAAA,MACMtE,IAASmJ,GADf;AAAA,MAEMzJ,IAASiU,IAFf;AAAA,MAGMrU,IAAWoC,IAHjB;AAAA,MAIMnC,IAAW0C,GACb,GAAG3C,KAAY2E,GAAkBC,UADpB,CAJjB;AAAA,MAQM7C,IAAYwS,GACd;AAAA,QACIxR,CADJ,uEACkB,EADlB;AAAA,QAEIC,CAFJ,uEAEsB,EAFtB;AAAA,QAGIC,CAHJ,uEAGiBhD,CAHjB;AAAA,QAIIiD,CAJJ,uEAI0B,EAJ1B;AAAA,WAMIzC,EAAa0D,SAAb,CAAuBpB,CAAvB,EAA+B4H,KAA/B,CAAqCqC,KAAS;AAC1C,YAAIhK,MACA5C,EACI,EADJ,EAEI4M,KAASA,EAAMwH,UAAf,GACMxH,EAAMwH,UADZ,GAEMvR,CAJV,GASA,EAFIC,KACC8J,KAASA,EAAMjD,OAAN,KAAkB,EAChC,KACIrJ,EACI+T,GAAgBzH,CAAhB,EAAuB,0BAAvB,CADJ,EAEI;AAAEtK,cAAM;AAAR,OAFJ,CAXJ,GAgBEsK,CAhBN;AAgBM,KAjBV,CANJ;AAAA,GADc,EA0Bd,CAACvM,CAAD,EAAeL,CAAf,EAAuBM,CAAvB,EAA+BT,CAA/B,CA1Bc,CARlB;AAqCA,SAAOQ,IAAesB,CAAf,GAA2B2S,EAAlC;AAAkC,CAtCV,iBAArB;AAAA,IAyCDA,KAA+B7T,QAAMmD,QAAQC,OAAR,EAAN,iCAzC9B;AAAA,IA8DDwQ,KAAkB5T,GAACJ,CAAD,EAAQC,CAAR,KACpB,OAAOD,CAAP,IAAiB,QAAjB,GACMA,CADN,GAEM,OAAOA,CAAP,IAAiB,WAAjB,IAAgC,CAACA,EAAMsJ,OAAvC,GACArJ,CADA,GAEAD,EAAMsJ,OALQ,oBA9DjB;ADlCP,IAAM4K,KAAc,EAApB;AAAA,IAqCMC,KAAe/T,cAAsC;AAAA,MAArCJ,CAAqC,uEAAvBkU,EAAuB;AACvD,MAAM,CAACjU,CAAD,EAAQN,CAAR,IAAoB0S,EAAgB;AACtC+B,eAAW,EAD2B;AAEtCC,mBAAe;AAFuB,GAAhB,CAA1B;AAAA,MAIM9U,IAAYsU,IAJlB;AAKA,YAAU,MAAM;AACZtU,MAAUS,CAAV,EAAkB,EAAlB,EACKiK,IADL,CACU,MAAMtK,EAAS;AAAEyU,iBAAW,EAAb;AAAoBC,qBAAe;AAAnC,KAAT,CADhB,EAEKnK,KAFL,CAEW,MAAMvK,EAAS;AAAEyU,iBAAW,EAAb;AAAoBC,qBAAe;AAAnC,KAAT,CAFjB;AAE6D,GAHjE,EAIG,CAAC9U,CAAD,EAAYS,CAAZ,EAAoBL,CAApB,CAJH,GAKOM,CALP;AAKO,CAXU,iBArCrB;AAAA,IAmDOqU,KAAQH,EAnDf;A8CVA;ACAA;AAIA,IAAMI,KAAgCnU,QAAMmD,QAAQC,OAAR,CAAgB,EAAhB,CAAN,kCAAtC;AAAA,IAiCMgR,KAAoBpU,QAAsB;AAC5C,MAAMJ,IAAeuE,IAArB;AAAA,MACMtE,IAAiBwU,GACnB;AAAA,QAAC9U,CAAD,uEAAe,EAAf;AAAA,WAAsBK,EAAa4D,cAAb,CAA4BjE,CAA5B,CAAtB;AAAA,GADmB,EAEnB,CAACK,CAAD,CAFmB,CADvB;AAMA,SAAOA,IAAeC,CAAf,GAAgCsU,EAAvC;AAAuC,CAPjB,sBAjC1B;AAAA,IAoDOG,KAAQF,EApDf;ADOA,IAAMG,KAAc,EAApB;AAAA,IAgCMC,KAAiBxU,cAES;AAAA,MAD5BJ,CAC4B,uEADnB2U,EACmB;AAC5B,MAAM,CAAC1U,CAAD,EAAQN,CAAR,IAAoB0S,EAA2C;AACjE+B,eAAW;AADsD,GAA3C,CAA1B;AAAA,MAGM7U,IAAiBmV,IAHvB;AAIA,YAAU,MAAM;AACZnV,MAAeS,CAAf,EACKiK,IADL,CACUzK,KAAe;AACjBG,QAAS;AAAEyU,mBAAW,EAAb;AAAoBS;AAApB,OAAT;AAA6B,KAFrC,EAIK3K,KAJL,CAIW1K,KAAS;AACZG,QAAS;AACLyU,mBAAW,EADN;AAELhK;AAFK,OAAT;AAEI,KAPZ;AAOY,GARhB,EAWG,CAAC7K,CAAD,EAAiBS,CAAjB,EAAyBL,CAAzB,CAXH,GAYOM,CAZP;AAYO,CAnBY,mBAhCvB;AAAA,IAsDO6U,KAAQF,EAtDf;AEXA;AACA;AAUA,IAAMG,KAAc,EAApB;AAAA,IAIMC,KAA4B;AAAE,QAAM;AAAR,CAJlC;AAAA,IA2CMC,KAA0B7U,cAA0B;AAAA,MAAzBJ,CAAyB,uEAAhB+U,EAAgB;AACtD,MAAM9U,IAAM+F,KAAKC,SAAL,CAAejG,CAAf,CAAZ;AAAA,MACM,CAACL,CAAD,EAAQJ,CAAR,IAAoB8S,EAAuB;AAC7CwC,iBAAaG,GAA0B/U,CAA1B;AADgC,GAAvB,CAD1B;AAAA,MAIMT,IAAiBkV,IAJvB;AAKA,YAAU,MAAM;AACZlV,MAAeQ,CAAf,EACKiK,IADL,CACU3I,KAAe;AACjB4T,QAAK,CAAQ5T,CAAR,EAAqB3B,EAAMkV,WAA3B,CAAL,KACIG,GAA0B/U,CAA1B,IAAiCqB,CAAjC,EACA/B,EAAS;AAAEsV;AAAF,OAAT,CAFJ;AAEe,KAJvB,EAOK3K,KAPL,CAOW5I,KAAS;AACZ/B,QAAS;AACL6K;AADK,OAAT;AACI,KATZ;AASY,GAVhB,EAaG,CAAC5K,CAAD,EAAiBS,CAAjB,CAbH,GAeON,CAfP;AAeO,CArBqB,4BA3ChC;AAAA,IAmEOwV,KAAQF,EAnEf;ACXA;ACAA;AA4BO,IAAMG,KAAmBhV,cAE3B;AAAA,MADDJ,CACC,uEAD8C,EAC9C;AACD,MAAM;AAAEqV,iBAAU,EAAZ;AAAkBC,gBAASC;AAA3B,MAA2CvV,CAAjD;AAAA,MACMT,IAAYsU,IADlB;AAEA2B,KAAU,MAAM;AACZvV,KAAI,IACAV,EAAUI,CAAV,EAAkBuK,KAAlB,CAAwB,MAAM,EAA9B,CADJ;AACkC,GAFtC,EAIG,CAAC3K,CAAD,EAAYU,CAAZ,EAAqBN,CAArB,CAJH;AAIwB,CATI,qBAAzB;AAAA,IAiBD4V,KAAc,EAjBb;ADHP,IAAME,KAAkBrV,OAAYsV,GAASC,KAAT,CAAe3V,CAAf,MAA6B,CAAzC,oBAAxB;AAAA,IAoCM4V,KAAkBxV,EAACJ,KAAgC;AACrD,MAOIwC,KAPJ;AAAA,MACI;AAAAqT;AACAxW,eADA;AAEAyW,aAFA;AAGAC,gBAHA;AAIAC;AAJA,MAMAxT,CAPJ;AAAA,MAMOF,MACHE,CADG,GALH,YAKG,EAJH,UAIG,EAHH,QAGG,EAFH,WAEG,EADH,eACG,EANP;AAQA2O,KACK5R,KAAUI,CAAV,IAAsB,CAAC8V,GAAgB9V,CAAhB,CAAvB,IACIJ,KAAUC,CADd,IAEIA,KAAaG,CAAb,IAAyB,CAAC8V,GAAgB9V,CAAhB,CAHnC,EAII,gGAJJ,GAOAyV,GAAiBnV,CAAjB,CAPA;AAQA,MAAM;AAAE4U;AAAF,MAAkBM,GAAwBlV,CAAxB,CAAxB;AAEA,MAAIT,CAAJ,EACI,OAAOyW,GAAczW,CAAd,EAAyBgC;AAAEqT;AAAF,KAAkBvS,CAAlB,CAAzB,CAAP;AAGJ,MAAI/C,CAAJ,EACI,OAAOA,EAAOiC;AAAEqT;AAAF,KAAkBvS,CAAlB,CAAP,CAAP;AAGJ,MAAI3C,CAAJ,EACI,OAAOA,EAAS6B;AAAEqT;AAAF,KAAkBvS,CAAlB,CAAT,CAAP;AAAkC,CA5BlB,oBApCxB;AAAA,IAoEO4T,KAAQN,EApEf;AEzBA;AACA;AA8BA,IAAMO,KAAW/V,QAAa;AAC1B,MAAMJ,IAAeuE,IAArB;AAAA,MAEM5E,IAAgByW,EADL,GACczT,KAF/B;AAAA,MAGMpD,IAAW8W,IAHjB;AAAA,MAIM7W,IAAWmC,IAJjB;AAAA,MAKM;AAAEsH;AAAF,MAAyBC,IAL/B;AAAA,MAMM5G,IAAe3C,KAAiBA,EAAc8T,YANpD;AAAA,MAOMlR,IAAa5C,KAAiBA,EAAc+T,UAPlD;AAAA,MAQMlR,IAAgBN,GAClB,GAAG1C,KAAY0E,GAAkBE,eADf,CARtB;AAAA,MAYM3B,IAAQ6T,GACV;AAAA,QAACnD,CAAD,uEAAe,EAAf;AAAA,QAAmBC,CAAnB;AAAA,WACIpT,EAAasD,KAAb,CAAmB6P,CAAnB,EAA2BlJ,IAA3B,CAAgCoJ,KAAO;AACnC/R;AACA,UAAMgS,IAAcF,KAEd9Q,IAAeC,CAFD,IAEeC,CAFnC;AAGA,eAAS8Q,CAAT,GACOD,CADP;AACO,KANX,CADJ;AAAA,GADU,EAUV,CACIrT,CADJ,EAEIT,CAFJ,EAGI+C,CAHJ,EAIIC,CAJJ,EAKIjB,CALJ,EAMIkB,CANJ,CAVU,CAZd;AAAA,MAgCM+J,IAAuB+J,GACzB,CAACnD,CAAD,EAAIC,CAAJ,MACI9R,KACA/B,EAASiD,CAAT,CADA,EAEOe,QAAQC,OAAR,EAHX,CADyB,EAMzB,CAACjE,CAAD,EAAW+B,CAAX,EAA+BkB,CAA/B,CANyB,CAhC7B;AAyCA,SAAOxC,IAAeyC,CAAf,GAAuB8J,CAA9B;AAA8B,CA1CjB,aAAjB;AAAA,IAuDOgK,KAAQJ,EAvDf;AC/BA;AAKA,IAAMK,KAAkB;AACpBxU,MAAI,EADgB;AAEpByU,YAAU;AAFU,CAAxB;AAAA,IAmCMC,KAAiBtW,QAAM;AACzB,MAAM,CAACJ,CAAD,EAAQC,CAAR,IAAoBoS,EAAuB;AAC7C+B,eAAW;AADkC,GAAvB,CAA1B;AAAA,MAGMzU,IAAe4E,IAHrB;AAIA,YAAU,MAAM;AACZ5E,KAAI,IAAgB,OAAOA,EAAakE,WAApB,IAAoC,UAAxD,GAC6BzD,cAAY;AACjC,UAAI;AACA,YAAMZ,IAAW,MAAMG,EAAakE,WAAb,EAAvB;AACA5D,UAAS;AACLmU,qBAAW,EADN;AAELuC,oBAAUnX,KAAYgX;AAFjB,SAAT;AAE0B,OAJ9B,CAI8B,OAErBhX,CAFqB,EAE5B;AACES,UAAS;AACLmU,qBAAW,EADN;AAELhK;AAFK,SAAT;AAEI;AAAA,KAVa,qBAczB,EAfJ,GAiBInK,EAAS;AACLmU,iBAAW,EADN;AAELuC,gBAAUH;AAFL,KAAT,CAjBJ;AAmBkB,GApBtB,EAuBG,CAAC7W,CAAD,EAAeM,CAAf,CAvBH,GAwBOD,CAxBP;AAwBO,CA7BY,mBAnCvB;AAAA,IAyEO4W,KAAQF,EAzEf;ACLA;AAKA;AAEA,IAAIG,EAAJ;AAAA,IAiCMC,KAA0B1W,QAA4B;AACxD,MAAMJ,IAAeuE,IAArB;AAAA,MACMtE,IAAS2T,IADf;AAAA,MAEMjU,IAASyJ,GAFf;AAAA,MAGM7J,IAAWwX,IAHjB;AAAA,MAIMvX,IAAuBwX,GACzB,CAAC1V,CAAD,EAAcgB,CAAd,KACItC,EACK2D,UADL,CACgBrC,CADhB,EAEK2I,IAFL,CAEU,MAAM,EAFhB,EAGKC,KAHL,CAGW,MAAM3H,CAAN,IAAW;AAlDlC;AAmDoB,QAAMC,IAAa,4BAAGyU,UAAH,gBAAiB,EAApC;AAGA,QAAIJ,EAAJ,EAEI,OAAO,EAAP;AAEJA,SAAQvE,WAAW,MAAM;AACrBuE,WAAQ,MAAR;AAAQ,KADJ,EAEL,CAFK,CAAR,EASI,EAJAvU,KACCC,KAAKA,EAAE+G,OAAF,KAAc,EADpB,IAEChI,KAASA,EAAMgI,OAAN,KAAkB,EAHX,KAOjBtJ,EACK0D,SADL,CACe,EADf,EAEKuG,IAFL,CAEU,MAAM;AACRzH,OAAI,GACA7C,EACIuX,GACI3U,CADJ,EAEI,4BAFJ,CADJ,EAKI;AAAEN,cAAM;AAAR,OALJ,CADA,GASAtC,EACIuX,GACI3U,CADJ,EAEI,gCAFJ,CADJ,EAKI;AAAEN,cAAM;AAAR,OALJ,CATJ;AAcgB,KAjBxB,EAqBKiI,KArBL,CAqBW,MAAM,EArBjB,CAXJ;AAkCA,QAAMqC,IACFhK,KAAKA,EAAEwR,UAAP,GACMxR,EAAEwR,UADR,GAEMzS,KAASA,EAAMyS,UAAf,GACAzS,EAAMyS,UADN,GAEA,MALV;AAOA,WAAIvR,IACAvC,EAAO,EAAP,EAAWsM,CAAX,CADA,GAGAhN,EAASgN,CAAT,CAHA,EAMG,EANP;AAMO,GA1Df,CAFqB,EA8DzB,CAACvM,CAAD,EAAeC,CAAf,EAAuBN,CAAvB,EAA+BJ,CAA/B,CA9DyB,CAJ7B;AAoEA,SAAOS,IACDR,CADC,GAED2X,EAFN;AAEM,CAvEsB,4BAjChC;AAAA,IA2GMA,KAAsC/W,QAAMmD,QAAQC,OAAR,CAAgB,EAAhB,CAAN,wCA3G5C;AAAA,IA4HM0T,KAAkB9W,GAACJ,CAAD,EAAQC,CAAR,KACpB,OAAOD,CAAP,IAAiB,QAAjB,GACMA,CADN,GAEM,OAAOA,CAAP,IAAiB,WAAjB,IAAgC,CAACA,EAAMsJ,OAAvC,GACArJ,CADA,GAEAD,EAAMsJ,OALQ,oBA5HxB;AAAA,IAmIO8N,KAAQN,EAnIf;ACDO,IAAMO,KAAa,YAAnB;AAAA,IACMC,KAAa,YADnB;AAAA,IAEMC,KAAa,YAFnB;AAAA,IAGMC,KAAc,aAHpB;AAAA,IAIMC,KAAuB,sBAJ7B;ACYP,IAAOC,KAAQtX,EAACJ,KAAyD;AACrE,MAAMC,IAAeG;AAAA,uCAAIT,CAAJ;AAAIA,OAAJ;AAAA;;AAAA,WAAaK,EAAmB2X,KAAnB,CAAyB,IAAzB,EAA+BhY,CAA/B,CAAb;AAAA,oBAArB;AACA,WAAa2D,KAAb,GAAqB3D,KAAUK,EAAmBqX,EAAnB,EAA+B1X,CAA/B,CAA/B,EACAM,EAAawD,MAAb,GAAsB9D,KAAUK,EAAmBwX,EAAnB,EAAgC7X,CAAhC,CADhC,EAEAM,EAAayD,SAAb,GAAyB/D,KAAUK,EAAmBsX,EAAnB,EAA+B3X,CAA/B,CAFnC,EAGAM,EAAa0D,UAAb,GAA0BhE,KAASK,EAAmBuX,EAAnB,EAA+B5X,CAA/B,CAHnC,EAIAM,EAAa2D,cAAb,GAA8BjE,KAC1BK,EAAmByX,EAAnB,EAAyC9X,CAAzC,CALJ,EAMOM,CANP;AAMO,CARI,YAAf;AClBA;AAiCO,IAAM2X,KAAgBxX,EAACJ,KAA8B;AACxD,MAAM;AAAE6V,iBAAF;AAAcxW;AAAd,MAA2BW,CAAjC;AACA,YAAiB;AAAEsV,YAAQrV;AAAV,GAAjB,GAGO4X,oCAAGlY,CAAH,CAHP;AAGU,CALe,kBAAtB;ACjCA,IAAMmY,KAAW,UAAjB;AAAA,IACMC,KAAU,SADhB;AAAA,IAEMC,KAAW,UAFjB;AAAA,IAGMC,KAAqB,oBAH3B;AAAA,IAIMC,KAAS,QAJf;AAAA,IAKMC,KAAS,QALf;AAAA,IAMMC,KAAc,aANpB;AAAA,IAOMC,KAAS,QAPf;AAAA,IAQMC,KAAc,aARpB;AAAA,IAUMC,KAAiC,CAAC,QAAD,EAAW,QAAX,EAAqB,QAArB,CAVvC;AAAA,IAWMC,KAAmD,CAC5D,SAD4D,EAE5D,SAF4D,EAG5D,kBAH4D,CAXzD;AAAA,IAgBMC,KAAyC,CAClD,GAAGD,EAD+C,EAElD,YAFkD,EAGlD,YAHkD,CAhB/C;AAAA,IAqBME,KAAgC,CAAC,SAAD,EAAY,kBAAZ,CArBtC;AAAA,IAuBMC,KAAoBvY,EAACJ,KAAsB;AACpD,UAAQA,CAAR;AAAQ,SACC8X,EADD;AAEA,aAAO,SAAP;;AAAO,SACNC,EADM;AAEP,aAAO,QAAP;;AAAO,SACNC,EADM;AAEP,aAAO,SAAP;;AAAO,SACNC,EADM;AAEP,aAAO,kBAAP;;AAAO,SACNC,EADM;AAEP,aAAO,QAAP;;AAAO,SACNC,EADM;AAEP,aAAO,QAAP;;AAAO,SACNC,EADM;AAEP,aAAO,YAAP;;AAAO,SACNC,EADM;AAEP,aAAO,QAAP;;AAAO,SACNC,EADM;AAEP,aAAO,YAAP;;AAAO;AAEP,aAAOtY,CAAP;AApBR;AAoBe,CArBc,sBAvB1B;ACaP,IAAM4Y,KAAsBxY,QAAMmD,QAAQC,OAAR,EAAN,wBAA5B;;AACAoV,GAAoBC,MAApB,GAA6B,MAAMtV,QAAQC,OAAR,CAAgB,IAAhB,CAAnC;;AACAoV,GAAoB5R,MAApB,GAA6B,MAAMzD,QAAQC,OAAR,CAAgB,IAAhB,CAAnC;;AACAoV,GAAoBE,UAApB,GAAiC,MAAMvV,QAAQC,OAAR,CAAgB,IAAhB,CAAvC;;AACAoV,GAAoBG,OAApB,GAA8B,MAAMxV,QAAQC,OAAR,CAAgB,IAAhB,CAApC;;AACAoV,GAAoBI,OAApB,GAA8B,MAAMzV,QAAQC,OAAR,CAAgB,IAAhB,CAApC;;AACAoV,GAAoBK,gBAApB,GAAuC,MAAM1V,QAAQC,OAAR,CAAgB,IAAhB,CAA7C;;AACAoV,GAAoBM,MAApB,GAA6B,MAAM3V,QAAQC,OAAR,CAAgB,IAAhB,CAAnC;;AACAoV,GAAoBO,MAApB,GAA6B,MAAM5V,QAAQC,OAAR,CAAgB,IAAhB,CAAnC;;AACAoV,GAAoBQ,UAApB,GAAiC,MAAM7V,QAAQC,OAAR,CAAgB,IAAhB,CAAvC;;AAEA,IAAM6V,KAAW;AACbR,UAAQX,EADK;AAEblR,UAAQqR,EAFK;AAGbS,cAAYR,EAHC;AAIbS,WAASjB,EAJI;AAKbkB,WAAShB,EALI;AAMbiB,oBAAkBhB,EANL;AAObiB,UAAQnB,EAPK;AAQboB,UAAQhB,EARK;AASbiB,cAAYhB;AATC,CAAjB;AAAA,IAwBMkB,KAA4BlZ,EAC9BJ,KAEc,IAAIuZ,KAAJ,CAAUX,EAAV,EAA+B;AACzC9R,MAAInH,CAAJ,EAAOJ,CAAP,EAAa;AACT,WAAO,CAACC,CAAD,EAAW8B,CAAX,KAAsB;AACzB,UAAI2D,OAAOC,IAAP,CAAYmU,EAAZ,EAAsBG,QAAtB,CAA+Bja,EAAK+G,QAAL,EAA/B,CAAJ,EAAqD;AACjD,YAAMhE,IAAY+W,GAAS9Z,EAAK+G,QAAL,EAAT,CAAlB;AACA,eAAOtG,EAAmBsC,CAAnB,EAA8B9C,CAA9B,EAAwC8B,CAAxC,CAAP;AAGJ;;AAAA,aAAOtB,EAAmBT,EAAK+G,QAAL,EAAnB,EAAoC9G,CAApC,EAA8C8B,CAA9C,CAAP;AAAqD,KANzD;AAMyD,GARpB;;AAWzCqW,QAAMhY,CAAN,EAASJ,CAAT,EAAaC,CAAb,EAAmB;AACf,WAAOQ,EAAmB2X,KAAnB,CAAyB3X,CAAzB,EAA6CR,CAA7C,CAAP;AAAoD;;AAZf,CAA/B,CAHgB,8BAxBlC;AAAA,IA8COia,KAAQH,EA9Cf;ACxBA;AAIA,IAAMI,KAAsBC,GAA4B,IAA5B,CAA5B;AAEAD,GAAoB1V,WAApB,GAAkC,qBAAlC;AAEA,IAAO4V,KAAQF,EAAf;ACRA,uBAAwB1M,KAAxB,CAA8B;AAC1BvG,cACoBxG,CADpB,EAEoBN,CAFpB,EAIE;AAAA,QADkBJ,CAClB,uEADyB,IACzB;AACE,UAAMU,CAAN;AAJgB;AACA;AACA;AAGhBgF,WAAO4U,cAAP,CAAsB,IAAtB,EAA4BC,GAAU/L,SAAtC,GACA,KAAK3F,IAAL,GAAY,KAAK3B,WAAL,CAAiB2B,IAD7B,EAEA,OAAW4E,MAAM+M,iBAAjB,IAAuC,UAAnC,GACA/M,MAAM+M,iBAAN,CAAwB,IAAxB,EAA8B,KAAKtT,WAAnC,CADJ,GAGI,KAAKuT,KAAL,GAAa,IAAIhN,KAAJ,CAAU/M,CAAV,EAAmB+Z,KALpC,EAOA,KAAKA,KAAL,GAAa,IAAIhN,KAAJ,GAAYgN,KAPzB;AAOyB;;AAdH,CAA9B;AAAA5Z;AAkBA,IAAO6Z,KAAQH,EAAf;AClBA;AAAAI;AAAAC;AAAAC;AAAAC;AAAAC;AAAA;AACA;AASO,IAAMC,KAA2Bna,EAACJ,KAA8B;AACnE,MAAMC,IAAkBD,EAAQwa,OAAR,IACpB,IAAIC,OAAJ,CAAY;AACRC,YAAQ;AADA,GAAZ,CADJ;AAIA,SACI,CAACza,EAAe2G,GAAf,CAAmB,cAAnB,CAAD,IACA,EAAE5G,MAAY,CAACA,EAAQ2a,MAAT,IAAmB3a,EAAQ2a,MAAR,KAAmB,KAAlD,CAAF,CADA,IAEA,EAAE3a,KAAWA,EAAQ4a,IAAnB,IAA2B5a,EAAQ4a,IAAR,YAAwBC,QAArD,CAFA,IAIA5a,EAAe8G,GAAf,CAAmB,cAAnB,EAAmC,kBAAnC,CAJA,EAMA/G,EAAQ8a,IAAR,IAAgB9a,EAAQ8a,IAAR,CAAazG,aAA7B,IAA8CrU,EAAQ8a,IAAR,CAAaC,KAA3D,IACA9a,EAAe8G,GAAf,CAAmB,eAAnB,EAAoC/G,EAAQ8a,IAAR,CAAaC,KAAjD,CAPA,EAUG9a,CAXP;AAWO,CAhB6B,6BAAjC;AAAA,IAmBM+a,KAAY5a,YAACJ,CAAD,EAAgC;AAAA,MAA1BC,CAA0B,uEAAP,EAAO;AACrD,MAAMN,IAAiB4a,GAAyBta,CAAzB,CAAvB;AAEA,SAAOgb,MAAMjb,CAAN,EAAWuO,QAAKtO,CAAL;AAAcua,aAAS7a;AAAvB,IAAX,EACFsK,IADE,CACG1K,KACFA,EAAS2b,IAAT,GAAgBjR,IAAhB,CAAqBzK,MAAS;AAC1B2b,YAAQ5b,EAAS4b,MADS;AAE1BC,gBAAY7b,EAAS6b,UAFK;AAG1BZ,aAASjb,EAASib,OAHQ;AAI1BI,UAAMpb;AAJoB,GAAT,CAArB,CAFD,EASFyK,IATE,CASG,UAA2C;AAAA,QAA1C;AAAEkR,eAAF;AAAUC,mBAAV;AAAsBZ,gBAAtB;AAA+BI;AAA/B,KAA0C;AAC7C,QAAIrY,CAAJ;;AACA,QAAI;AACAA,UAAOyD,KAAKO,KAAL,CAAWjE,CAAX,CAAP;AAAkB,KADtB,CACsB,MACpB,CAGF;;AAAA,WAAI/C,IAAS,GAAT,IAAgBA,KAAU,GAA1B,GACOgE,QAAQ8X,MAAR,CACH,IAAIpB,EAAJ,CACK1X,KAAQA,EAAK+G,OAAb,IAAyB9J,CAD9B,EAEID,CAFJ,EAGIgD,CAHJ,CADG,CADP,GASGgB,QAAQC,OAAR,CAAgB;AAAE2X,eAAF;AAAUX,gBAAV;AAAmBI,aAAnB;AAAyBU;AAAzB,KAAhB,CATP;AASgD,GAzBjD,CAAP;AAyBwD,CA5BnC,cAnBlB;AAAA,IAmDMC,KAAkBC,EAnDxB;AAAA,IAqDDC,KAAgBrb,OAAS;AAC3B,MAAI,CAACJ,CAAL,EACI,OAAO,EAAP;AAGJ,MAAMC,IAAUkH,MAAMuU,OAAN,CAAc1b,CAAd,CAAhB;AAAA,MACML,IAAW,OAAOgc,MAAP,IAAkB,WAAlB,IAAiCA,OAAOC,QAAP,CAAgB5b,CAAhB,CADlD;AAAA,MAEMT,IACF0F,OAAO8I,SAAP,CAAiBzH,QAAjB,CAA0B2H,IAA1B,CAA+BjO,CAA/B,MAA0C,iBAH9C;AAAA,MAIMR,IAAU,CAAC,CAACyF,OAAOC,IAAP,CAAYlF,CAAZ,EAAmB0E,MAJrC;AAMA,SAAO,CAACzE,CAAD,IAAY,CAACN,CAAb,IAAyBJ,CAAzB,IAAqCC,CAA5C;AAA4C,CAX1B,kBArDf;AAAA,IAmEMqc,KAAgBzb,YAACJ,CAAD;AAAA,MAAQC,CAAR,uEAAe,EAAf;AAAA,SACrBwb,GAAczb,CAAd,IACOiF,OAAOyJ,MAAP,CACH,EADG,EAEH,GAAGzJ,OAAOC,IAAP,CAAYlF,CAAZ,EAAmB8b,GAAnB,CAAuBnc,KACtBkc,GAAc7b,EAAML,CAAN,CAAd,EAA0BM,EAAK8b,MAAL,CAAY,CAACpc,CAAD,CAAZ,CAA1B,CADD,CAFA,CADP,GAQOM,EAAKyE,MAAL,GAAc;AAAA,KAAGzE,EAAK4O,IAAL,CAAU,GAAV,CAAH,GAAoB7O;AAApB,GAAd,GAA4CA,CAT9B;AAAA,mBAnEtB;ACVP;AAEA,IAAOgc,KAAQ,IAAIC,EAAJ,EAAf;ACFO,IAAMC,KAAsB;AAC/BrD,UAAQ,MAAMtV,QAAQC,OAAR,CAAgB;AAAE2Y,UAAM;AAAR,GAAhB,CADiB;AAE/BnV,UAAQ,MAAMzD,QAAQC,OAAR,CAAgB;AAAE2Y,UAAM;AAAR,GAAhB,CAFiB;AAG/BrD,cAAY,MAAMvV,QAAQC,OAAR,CAAgB;AAAE2Y,UAAM;AAAR,GAAhB,CAHa;AAI/BpD,WAAS,MAAMxV,QAAQC,OAAR,CAAgB;AAAE2Y,UAAM,EAAR;AAAYC,WAAO;AAAnB,GAAhB,CAJgB;AAK/BpD,WAAS,MAAMzV,QAAQC,OAAR,CAAgB;AAAE2Y,UAAM;AAAR,GAAhB,CALgB;AAM/BlD,oBAAkB,MAAM1V,QAAQC,OAAR,CAAgB;AAAE2Y,UAAM,EAAR;AAAYC,WAAO;AAAnB,GAAhB,CANO;AAO/BlD,UAAQ,MAAM3V,QAAQC,OAAR,CAAgB;AAAE2Y,UAAM;AAAR,GAAhB,CAPiB;AAQ/BhD,UAAQ,MAAM5V,QAAQC,OAAR,CAAgB;AAAE2Y,UAAM;AAAR,GAAhB,CARiB;AAS/B/C,cAAY,MAAM7V,QAAQC,OAAR,CAAgB;AAAE2Y,UAAM;AAAR,GAAhB;AATa,CAA5B;ACuBA,IAAME,KAAuBjc,EAChCJ,KAEA,IAAIuZ,KAAJ,CAAU2C,EAAV,EAA+B;AAC3BpV,OAAK,CAAC7G,CAAD,EAASN,CAAT,KACM,CAACJ,CAAD,EAAWC,CAAX,KAAsB;AACzB,QAAI,SAAOG,CAAP,IAAgB,QAAhB,IAA4BA,MAAS,MAArC,CAAJ,EAGA,OAAOK,EAAoBT,CAApB,EAA8BI,CAA9B,EAAoCJ,CAApC,EAA8CC,CAA9C,CAAP;AAAqD;AANlC,CAA/B,CAHgC,yBAA7B;AClBA,IAAM8c,KAAmBlc,EAC5BJ,KAEOwB;AACHuX,WAAS,MAAMxV,QAAQC,OAAR,CAAgB;AAAE2Y,UAAM,EAAR;AAAYC,WAAO;AAAnB,GAAhB,CADZ;AAEHlD,UAAQ,MAAM3V,QAAQC,OAAR,CAAgB;AAAE2Y,UAAM;AAAR,GAAhB,CAFX;AAGHnD,WAAS,MAAMzV,QAAQC,OAAR,CAAgB;AAAE2Y,UAAM;AAAR,GAAhB,CAHZ;AAIHlD,oBAAkB,MAAM1V,QAAQC,OAAR,CAAgB;AAAE2Y,UAAM,EAAR;AAAYC,WAAO;AAAnB,GAAhB,CAJrB;AAKHvD,UAAQ,MAAMtV,QAAQC,OAAR,CAAgB;AAAE2Y,UAAM;AAAR,GAAhB,CALX;AAMHhD,UAAQ,MAAM5V,QAAQC,OAAR,CAAgB;AAAE2Y,UAAM;AAAR,GAAhB,CANX;AAOH/C,cAAY,MAAM7V,QAAQC,OAAR,CAAgB;AAAE2Y,UAAM;AAAR,GAAhB,CAPf;AAQHnV,UAAQ,MAAMzD,QAAQC,OAAR,CAAgB;AAAE2Y,UAAM;AAAR,GAAhB,CARX;AASHrD,cAAY,MAAMvV,QAAQC,OAAR,CAAgB;AAAE2Y,UAAM;AAAR,GAAhB;AATf,GAUAnc,CAVA,CAHqB,qBAAzB;ACLP;;ACOA,YACIA,CADJ,EAEIC,CAFJ,EAIE;AAAA,MADEN,CACF,uEADWwK,QAAQC,KACnB;AACE,MAAI,CAACpK,CAAL,EACI,QAAO,oDAAoDC,KAA3D,GACM,IAAI+M,KAAJ,CAAU,qCAAV,CADN;AAGJ,MAAI,CAAChN,EAASgO,cAAT,CAAwB,MAAxB,CAAL,EACI,QACI,oBAAoB/N,gIAAmIA,KAD3J,GAGM,IAAI+M,KAAJ,CAAU,qCAAV,CAHN;AAKJ,MACIyL,GAAuCe,QAAvC,CAAgDvZ,CAAhD,KACA,CAACkH,MAAMuU,OAAN,CAAc1b,EAASmc,IAAvB,CAFL,EAII,QACI,oBAAoBlc,oHAAuHA,IAD/I,GAGM,IAAI+M,KAAJ,CAAU,qCAAV,CAHN;AAKJ,MACIwL,GAAiDgB,QAAjD,CAA0DvZ,CAA1D,KACAkH,MAAMuU,OAAN,CAAc1b,EAASmc,IAAvB,CADA,IAEAnc,EAASmc,IAAT,CAAczX,MAAd,GAAuB,CAFvB,IAGA,CAAC1E,EAASmc,IAAT,CAAc,CAAd,EAAiBnO,cAAjB,CAAgC,IAAhC,CAJL,EAMI,QACI,oBAAoB/N,mJAAsJA,IAD9K,GAGM,IAAI+M,KAAJ,CAAU,qCAAV,CAHN;AAKJ,MACIuL,GAA+BiB,QAA/B,CAAwCvZ,CAAxC,KACA,CAACD,EAASmc,IAAT,CAAcnO,cAAd,CAA6B,IAA7B,CAFL,EAII,QACI,oBAAoB/N,wIAA2IA,IADnK,GAGM,IAAI+M,KAAJ,CAAU,qCAAV,CAHN;AAKJ,MACI0L,GAA8Bc,QAA9B,CAAuCvZ,CAAvC,KACA,CAACD,EAASgO,cAAT,CAAwB,OAAxB,CADD,IAEA,CAAChO,EAASgO,cAAT,CAAwB,UAAxB,CAHL,EAKI,QACI,oBAAoB/N,gJAAmJA,IAD3K,GAGM,IAAI+M,KAAJ,CAAU,qCAAV,CAHN;AAjDC;;AAAA5M;AAwDT,IAAOmc,KAAQC,EAAf;ADUO,IAAMC,IAAkBrc,QAET;AAClB,MAAMJ,IAAiB0c,GAAW9C,EAAX,KACnBsC,EADJ;AAAA,MAGMjc,IAAuBmX,IAH7B;AAqDA,SAhD0BuF,GAAQ,MACvB,IAAIpD,KAAJ,CAAUvZ,CAAV,EAAwB;AAC3B8G,SAAK,CAACvH,CAAD,EAASC,CAAT,KAAkB;AACnB,UAAI,SAAOA,CAAP,IAAgB,QAAhB,IAA4BA,MAAS,MAArC,CAAJ,EAGA,OAAO,YAAa;AAChB,YAAM8C,IAAO9C,EAAK8G,QAAL,EAAb;AAEA,YAAI,OAAOtG,EAAasC,CAAb,CAAP,IAA8B,UAAlC,EACI,MAAM,IAAI0K,KAAJ,CACF,kCAAkC1K,GADhC,CAAN;;AAKJ,YAAI;AAAA,6CATGhB,CASH;AATGA,aASH;AAAA;;AACA,iBAAOtB,EAAasC,CAAb,EACFqV,KADE,CACI3X,CADJ,EACkBsB,CADlB,EAEF2I,IAFE,CAEG1H,MACEyO,QAAQC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,IACAqL,GAAuBha,CAAvB,EAAiCD,CAAjC,CADA,EAGGC,CAJL,CAFH,EAQF2H,KARE,CAQI3H,MACCyO,QAAQC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,IACA/G,QAAQC,KAAR,CAAc7H,CAAd,CADA,EAGGtC,EAAqBsC,CAArB,EAA4B0H,IAA5B,CACHzH,KAAa;AACT,gBAAI,EAAJ,EACA,MAAMD,CAAN;AAAM,WAHP,CAJJ,CARJ,CAAP;AAesB,SAhB1B,CAgB0B,OAIjBA,CAJiB,EAIxB;AACE,gBAAIyO,QAAQC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,IACA/G,QAAQC,KAAR,CAAc7H,CAAd,CADA,EAGE,IAAIyK,KAAJ,CACF,+EADE,CAHN;AAII;AAAA,OAlCZ;AAkCY;AAvCW,GAAxB,CADe,EA8CvB,CAAChN,CAAD,EAAeC,CAAf,CA9CuB,CAgD1B;AAFkB,CAtDS,oBAAxB;AEzEP;AACA;AAYO,IAAM2c,KAAkBxc,YAC3BJ,CAD2B,EAG1B;AAAA,MADDC,CACC,uEADgC,EAChC;AACD,MAAM;AAAEoV,iBAAU;AAAZ,MAAqBpV,CAA3B;AAAA,MACMV,IAAcsd,IADpB;AAAA,MAEM,CAACrd,CAAD,EAAe8B,CAAf,IAAgCwb,GAAkB,MAC/Cnd,IAGEJ,EAAYwd,YAAZ,CAAyB/c,CAAzB,MAAuC,MAHzC,GACM,EAFuB,CAFtC;AASA,YAAU,MAAM;AACZ,QAAI,EAACL,CAAD,IACAJ,EAAYwd,YAAZ,CAAyB/c,CAAzB,MAAuC,MAD3C,EACsD;AAElD,UAAMuC,IADW,IAAIya,EACD,CADezd,CAAlB,EAA+B;AAAE0d;AAAF,OAC5B,EAAS9W,SAAT,CAAmB3D,KAAU;AAC7ClB,UAAc,CAACkB,EAAO4R,SAAtB,GACA7R,GADA;AACA,OAHa,CACjB;AAIA,aAAOA,CAAP;AAAO;AAAA,GARf,EAUG,CAAC5C,CAAD,EAAUK,CAAV,EAAoBT,CAApB,CAVH,GAYOC,CAZP;AAYO,CAzBoB,oBAAxB;ACbP;AAEA;AAaO,IAAM0d,KAAa9c,QAAe;AACrC,MAAMJ,IAASmd,IAAf;AAAA,MACMld,IAAamd,GAAMC,MAAN,CAAa,EAAb,CADnB;AAAA,MAEM1d,IAAgByd,GAAMC,MAAN,CAAard,EAAOsd,UAAP,KAAsB,CAAnC,CAFtB;AAAA,MAGM/d,IAAgB6d,GAAMC,MAAN,CAAard,EAAOud,UAAP,KAAsB,CAAnC,CAHtB;AAAA,MAKM,CAAC/d,CAAD,EAAY8B,CAAZ,IAA4B8b,GAAMI,QAAN,CAC9B7d,EAAc4R,OAAd,IAAyBhS,EAAcgS,OADT,CALlC;AASA,YAAMkM,SAAN,CAAgB,MAAM;AAClBxd,MAAWsR,OAAX,GAAqB,EAArB;AAEA,QAAMjP,IAAwBtC,EAAO0d,aAAP,GAAuBvX,SAAvB,CAC1BwX,GAAcC,UAAd,CAAyB,MAAM;AACvB3d,QAAWsR,OAAf,KACI5R,EAAc4R,OAAd,GAAwBvR,EAAOsd,UAAP,KAAsB,CAA9C,EACAhc,EACI3B,EAAc4R,OAAd,IAAyBhS,EAAcgS,OAD3C,CAFJ;AAG+C,KAJnD,CAD0B,CAA9B;AAAA,QAWMhP,IAA2BvC,EAAO6d,gBAAP,GAA0B1X,SAA1B,CAC7BwX,GAAcC,UAAd,CAAyB,MAAM;AACvB3d,QAAWsR,OAAf,KACIhS,EAAcgS,OAAd,GAAwBvR,EAAOud,UAAP,KAAsB,CAA9C,EACAjc,EACI3B,EAAc4R,OAAd,IAAyBhS,EAAcgS,OAD3C,CAFJ;AAG+C,KAJnD,CAD6B,CAXjC;AAsBA,WAAO,MAAM;AACTtR,QAAWsR,OAAX,GAAqB,EAArB,EACAjP,GADA,EAEAC,GAFA;AAEA,KAHJ;AAGI,GA5BR,EA8BG,CAACvC,CAAD,CA9BH,GAgCOR,CAhCP;AAgCO,CA1Ce,eAAnB;ACfP;AACA;AAeO,IAAMse,KAAa1d,QAAM;AAC5B,MAAMJ,IAAc+d,IAApB;AACA,SAAOC,GAAY,MAAM;AACrBhe,MAAYie,iBAAZ;AAAY,GADT,EAEJ,CAACje,CAAD,CAFI,CAAP;AAEI,CAJkB,eAAnB;ACfP;AAyCO,IAAMke,KAAY9d,GACrBJ,CADqB,UAGrBT,CAHqB,KAIY;AAAA,MAFjC;AAAEyC,SAAF;AAAMmc;AAAN,GAEiC;AACjC,MAAM3e,IAAeid,GAArB;AACA,SAAO2B,GAIH,CAACpe,CAAD,EAAW,QAAX,EAAqB;AAAEgC,QAAI6E,OAAO5G,CAAP,CAAN;AAAkBke;AAAlB,GAArB,CAJG,EAKH,MACI3e,EACK0Z,MADL,CACwBlZ,CADxB,EACkC;AAAEgC,SAAF;AAAMmc;AAAN,GADlC,EAEKlU,IAFL,CAEU;AAAA,QAAC;AAAEkS;AAAF,KAAD;AAAA,WAAc7a,CAAd;AAAA,GAFV,CAND,EASH/B,CATG,CAAP;AASI,CAfiB,cAAlB;AC1CP;AAoDO,IAAM8e,KAAaje,YACtBJ,CADsB,EAIY;AAAA,MAFlCC,CAEkC,uEAFD,EAEC;AAAA,MADlCN,CACkC;AAxDtC;AAyDI,MAAM;AACF2e,oBAAa;AAAEC,YAAM,CAAR;AAAWC,eAAS;AAApB,KADX;AAEFC,cAAO;AAAEC,aAAO,IAAT;AAAeC,aAAO;AAAtB,KAFL;AAGFC,gBAAS,EAHP;AAIFT;AAJE,MAKFle,CALJ;AAAA,MAMMsC,IAAeka,GANrB;AAAA,MAOMja,IAAcqc,IAPpB;AAAA,MAQMpc,IAASqc,GAKX,CAAC9e,CAAD,EAAW,SAAX,EAAsB;AAAEse,iBAAF;AAAcG,WAAd;AAAoBG,aAApB;AAA4BT;AAA5B,GAAtB,CALW,EAMX,MACI5b,EACKwW,OADL,CACyB/Y,CADzB,EACmC;AAC3Bse,iBAD2B;AAE3BG,WAF2B;AAG3BG,aAH2B;AAI3BT;AAJ2B,GADnC,EAOKlU,IAPL,CAOU;AAAA,QAAC;AAAEkS,aAAF;AAAQC,cAAR;AAAe2C;AAAf,KAAD;AAAA,WAAgC;AAClC5C,aADkC;AAElCC,cAFkC;AAGlC2C;AAHkC,KAAhC;AAAA,GAPV,CAPO,EAmBXvd;AACIwd,eAAW,UAAc;AAAA,UAAb;AAAE7C;AAAF,OAAa;AAErB9I,QAAKlO,OAAL,CAAamO,KAAU;AACnB9Q,UAAYyc,YAAZ,CACI,CAACjf,CAAD,EAAW,QAAX,EAAqB;AAAEgC,cAAI6E,OAAOyM,EAAOtR,EAAd,CAAN;AAAyBmc;AAAzB,SAArB,CADJ,EAEI5K,KAAaA,gBAAaD,CAF9B;AAE8B,OAHlC;AAGkC;AAN1C,KAUO3T,CAVP,CAnBW,CARf;AAyCA,SAAQ8C,EAAO0Z,IAAP,GACF5N,QACO9L,CADP;AAEI0Z,UAAM,OAAOA,IAAP,uBAAaA,IAFvB;AAGIC,WAAO,OAAOD,IAAP,uBAAaC,KAHxB;AAII2C,cAAU,OAAO5C,IAAP,uBAAa4C;AAJ3B,IADE,GAOFtc,CAPN;AAOM,CArDgB,eAAnB;ACpDP;AAmDO,IAAMyc,KAAa9e,YACtBJ,CADsB,EAIY;AAAA,MAFlCC,CAEkC,uEAFD,EAEC;AAAA,MADlCN,CACkC;AAClC,MAAM;AAAEwf,UAAF;AAAOhB;AAAP,MAAgBle,CAAtB;AAAA,MACMqB,IAAemb,GADrB;AAAA,MAEMna,IAAc8c,IAFpB;AAAA,MAGM7c,IAAaD,EAAYob,aAAZ,EAHnB;AAKA,SAAO2B,GACH,CAACrf,CAAD,EAAW,SAAX,EAAsB;AAAEmf,SAAK5f,EAAIuc,GAAJ,CAAQtZ,KAAMqE,OAAOrE,CAAP,CAAd,CAAP;AAAkC2b;AAAlC,GAAtB,CADG,EAEH,MACQ,CAAC5e,CAAD,IAAQA,EAAImF,MAAJ,KAAe,CAAvB,GAEOnB,QAAQC,OAAR,CAAgB,EAAhB,CAFP,GAIGlC,EACF0X,OADE,CACkBhZ,CADlB,EAC4B;AAAEmf,UAAF;AAAOhB;AAAP,GAD5B,EAEFlU,IAFE,CAEG;AAAA,QAAC;AAAEkS;AAAF,KAAD;AAAA,WAAc3Z,CAAd;AAAA,GAFH,CAPR,EAWHhB;AACI8d,qBAAiB,MAAM;AACnB,UAAM9c,IAAUjD,EAAIuc,GAAJ,CAAQrZ,KAAM;AA1E9C;AA2EoB,YAAM8J,IAAYgT,GAAa,CAC3Bvf,CAD2B,EAE3B,QAF2B,EAG3B;AAAEgC,cAAI6E,OAAOpE,CAAP,CAAN;AAAkB0b;AAAlB,SAH2B,CAAb,CAAlB;AAKA,eAAO,YAAWrX,GAAX,CAA2ByF,CAA3B,wBAAuC5J,KAAvC,uBAA8CwZ,IAArD;AAAqD,OANzC,CAAhB;AAQA,UAAI,GAAQqD,IAAR,CAAa/c,KAAUA,MAAW,MAAlC,CAAJ,EAGI,OAAOD,CAAP;AAAO,KAbnB;AAgBIwc,eAAWxc,KAAQ;AAEfA,QAAK2C,OAAL,CAAa1C,KAAU;AACnBH,UAAY2c,YAAZ,CACI,CAACjf,CAAD,EAAW,QAAX,EAAqB;AAAEgC,cAAI6E,OAAOpE,EAAOT,EAAd,CAAN;AAAyBmc;AAAzB,SAArB,CADJ,EAEI5R,KAAaA,gBAAa9J,CAF9B;AAE8B,OAHlC;AAGkC,KArB1C;AAyBIgd,WAAO;AAzBX,KA0BO9f,CA1BP,CAXG,CAAP;AAqCW,CA/CW,eAAnB;ACnDP;AACA;AAOA;AA0DO,IAAM+f,KAAsBtf,YAC/BJ,CAD+B,EAE/BC,CAF+B,EAIG;AAAA,MADlCN,CACkC,uEADc,EACd;AAClC,MAAMJ,IAAekd,GAArB;AAAA,MACMjd,IAAcmgB,IADpB;AAAA,MAEMre,IAAa9B,EAAYke,aAAZ,EAFnB;AAAA,MAGM;AAAEyB,UAAF;AAAOhB;AAAP,MAAgBle,CAHtB;AAAA,MAIMuC,IAAkBod,GAAQ,MAAM;AAClC,QAAMnd,IAAUH,EAAIwZ,GAAJ,CAAQvP,KAAM;AA5EtC;AA6EY,UAAM4G,IAAY0M,GAAa,CAC3B7f,CAD2B,EAE3B,QAF2B,EAG3B;AAAEgC,YAAI6E,OAAO0F,CAAP,CAAN;AAAkB4R;AAAlB,OAH2B,CAAb,CAAlB;AAKA,aAAO,YAAWrX,GAAX,CAA2BqM,CAA3B,wBAAuCxQ,KAAvC,uBAA8CwZ,IAArD;AAAqD,KANzC,CAAhB;AAQA,QAAI,GAAQqD,IAAR,CAAajT,KAAUA,MAAW,MAAlC,CAAJ,EAGI,OAAO9J,CAAP;AAAO,GAZS,EAcrB,CAACH,CAAD,EAAMhB,CAAN,EAAkBtB,CAAlB,EAA4BuC,CAA5B,CAdqB,CAJxB;AAoBA,SAAOud,GACH,CAAC9f,CAAD,EAAW,SAAX,EAAsB;AAAEmf,SAAK7c,EAAIwZ,GAAJ,CAAQrZ,KAAMoE,OAAOpE,CAAP,CAAd,CAAP;AAAkC0b;AAAlC,GAAtB,CADG,EAEH,MACI,IAAI5a,OAAJ,CAAY,CAACd,CAAD,EAAU8J,CAAV,KACJ,CAACjK,CAAD,IAAQA,EAAIoC,MAAJ,KAAe,CAAvB,GAEOjC,EAAQ,EAAR,CAFP,GAKGsd,GAAmB;AACtBhe,eADsB;AAEtBod,UAFsB;AAGtBhB,WAHsB;AAItB3a,cAJsB;AAKtB6X,aALsB;AAMtB2E,mBANsB;AAOtBC;AAPsB,GAAnB,CANX,CAHD,EAmBHze;AACI8d,sBADJ;AAEIN,eAAWvc,KAAQ;AAEfA,QAAK0C,OAAL,CAAaoH,KAAU;AACnB/M,UAAYyf,YAAZ,CACI,CAACjf,CAAD,EAAW,QAAX,EAAqB;AAAEgC,cAAI6E,OAAO0F,EAAOvK,EAAd,CAAN;AAAyBmc;AAAzB,SAArB,CADJ,EAEIhL,KAAaA,gBAAa5G,CAF9B;AAE8B,OAHlC;AAGkC,KAP1C;AAWIkT,WAAO;AAXX,KAYO9f,CAZP,CAnBG,CAAP;AA+BW,CAxDoB,wBAA5B;AAAA,IAyEDugB,KAAQ9f,OAAM;AAChB,MAAIH,IAAe,EAAnB;AAAA,MACIN,IAAU,IADd;AAEA,SAAOJ,KAAO;AACVU,MAAakgB,IAAb,CAAkB5gB,CAAlB,GACII,KAAS4S,aAAa5S,CAAb,CADb,EAEAA,IAAU2S,WAAW,MAAM;AACvB3S,UAAU,IAAV,EACAK,EAAG,CAAC,GAAGC,CAAJ,CAAH,CADA,EAEAA,IAAe,EAFf;AAEe,KAHT,EAIP,CAJO,CAFV;AAMG,GAPP;AAOO,CAVG,UAzEP;AAAA,IAuGD8f,KAAqBG,GAAMlgB,CAAC,IAA6B;AAC3D,MAAMC,IAAeD,EAAM,CAAN,EAASggB,YAA9B;AAAA,MACMrgB,IAAcK,EAAM,CAAN,EAASigB,WAD7B;AAAA,MAYM1gB,IAAkBS,EAAMsO,MAAN,CAAa,CAAC9O,CAAD,EAAM8B,CAAN,MAC5B9B,EAAI8B,EAASS,QAAb,MACDvC,EAAI8B,EAASS,QAAb,IAAyB,EADxB,GAGLvC,EAAI8B,EAASS,QAAb,EAAuBoe,IAAvB,CAA4B7e,CAA5B,CAHK,EAIE9B,CAL0B,CAAb,EAMrB,EANqB,CAZxB;AAuBAyF,SAAOC,IAAP,CAAY3F,CAAZ,EAA6B4F,OAA7B,CAAqC3F,KAAY;AAC7C,QAAM8B,IAAmB/B,EAAgBC,CAAhB,CAAzB;AAAA,QAOM8C,IAAgBhB,EACjBgN,MADiB,CACV,CAAC9L,CAAD;AAAA,UAAM;AAAE2c;AAAF,OAAN;AAAA,aAAkBiB,GAAM5d,CAAN,EAAWC,CAAX,CAAlB;AAAA,KADU,EACyB,EADzB,EAEjBmc,MAFiB,CAEVpc,KAAKA,KAAK,IAAL,IAAaA,MAAM,EAFd,CAPtB;AAAA,QAUMD,IAAajB,EAAiBgN,MAAjB,CACf,CAAC9L,CAAD;AAAA,UAAM;AAAE2b;AAAF,OAAN;AAAA,aAAmB1b,KAAQD,CAA3B;AAAA,KADe,EAEf,MAFe,CAVnB;;AAeA,QAAIF,EAAcoC,MAAd,KAAyB,CAA7B,EAAgC;AAE5BpD,QAAiB6D,OAAjB,CAAyB,UAAiB;AAAA,YAAhB;AAAE3B;AAAF,SAAgB;AACtChB,UAAQ,EAAR;AAAQ,OADZ;AAGA;AAGJ;;AAAA,QACIlB,EAAiB+e,IAAjB,CACI;AAAA,UAAC;AAAElB;AAAF,OAAD;AAAA,aACInZ,KAAKC,SAAL,CAAezD,CAAf,MAAwBwD,KAAKC,SAAL,CAAe3D,CAAf,CAD5B;AAAA,KADJ,CADJ,EAKE;AAIE,UAAM;AACF0d,uBADE;AAEFje,mBAFE;AAGFod,cAHE;AAIFhB,eAJE;AAKF3a,kBALE;AAMF6X;AANE,UAOF/Z,EAAiB,CAAjB,CAPJ;AAQAkB,QACKwW,OADL,CACkBvW,CADlB,EAC4B;AAAE0c,cAAF;AAAOhB;AAAP,OAD5B,EAEKlU,IAFL,CAEU;AAAA,YAAC;AAAEkS;AAAF,SAAD;AAAA,eAAc7I,CAAd;AAAA,OAFV,EAGKrJ,IAHL,CAGUmJ,CAHV,EAGmBC,CAHnB;AAIA;AAOJ;;AAAA1T,MACK2gB,UADL,CAEQ,CACI9gB,CADJ,EAEI,SAFJ,EAGI;AACI2f,WAAK7c,EAAcwZ,GAAd,CAAkBtZ,KAAMqE,OAAOrE,CAAP,CAAxB,CADT;AAEI2b,YAAM5b;AAFV,KAHJ,CAFR,EAUQ,MACItC,EACK+Y,OADL,CACkBxZ,CADlB,EAC4B;AACpB2f,WAAK7c,CADe;AAEpB6b,YAAM5b;AAFc,KAD5B,EAKK0H,IALL,CAKU;AAAA,UAAC;AAAEkS;AAAF,OAAD;AAAA,aAAc3Z,CAAd;AAAA,KALV,CAXZ,EAkBKyH,IAlBL,CAkBUzH,KAAQ;AACVlB,QAAiB6D,OAAjB,CAAyB,UAAsB;AAAA,YAArB;AAAEga,gBAAF;AAAO3b;AAAP,SAAqB;AAC3C+I,UAAQ/J,EAAKoc,MAAL,CAAYzL,KAAU1Q,EAAI+W,QAAJ,CAAarG,EAAOnR,EAApB,CAAtB,CAAR;AAAkD,OADtD;AACsD,KApB9D,EAuBKkI,KAvBL,CAuBW1H,KACHlB,EAAiB6D,OAAjB,CAAyB;AAAA,UAAC;AAAEkW;AAAF,OAAD;AAAA,aAAgB5Y,EAAOD,CAAP,CAAhB;AAAA,KAAzB,CAxBR;AAwBwD,GA5E5D;AA4E4D,CApGrC,CAvGpB;AClEP;AA4DO,IAAM+d,KAAsBngB,YAC/BJ,CAD+B,EAIY;AAAA,MAF3CC,CAE2C,uEAFD,EAEC;AAAA,MAD3CN,CAC2C;AAhE/C;AAiEI,MAAM;AACF6gB,aADE;AAEFxe,SAFE;AAGFsc,oBAAa;AAAEC,YAAM,CAAR;AAAWC,eAAS;AAApB,KAHX;AAIFC,cAAO;AAAEC,aAAO,IAAT;AAAeC,aAAO;AAAtB,KAJL;AAKFC,gBAAS,EALP;AAMFT;AANE,MAOFle,CAPJ;AAAA,MAQMwC,IAAega,GARrB;AAAA,MASMlQ,IAAckU,IATpB;AAAA,MAUMtN,IAASuN,GAKX,CACI1gB,CADJ,EAEI,kBAFJ,EAGI;AAAEwgB,aAAF;AAAUxe,SAAV;AAAcsc,iBAAd;AAA0BG,WAA1B;AAAgCG,aAAhC;AAAwCT;AAAxC,GAHJ,CALW,EAUX,MACI1b,EACKwW,gBADL,CACkCjZ,CADlC,EAC4C;AACpCwgB,aADoC;AAEpCxe,SAFoC;AAGpCsc,iBAHoC;AAIpCG,WAJoC;AAKpCG,aALoC;AAMpCT;AANoC,GAD5C,EASKlU,IATL,CASU;AAAA,QAAC;AAAEkS,aAAF;AAAQC,cAAR;AAAe2C;AAAf,KAAD;AAAA,WAAgC;AAClC5C,aADkC;AAElCC,cAFkC;AAGlC2C;AAHkC,KAAhC;AAAA,GATV,CAXO,EAyBXvd;AACIwd,eAAW,UAAc;AAAA,UAAb;AAAE7C;AAAF,OAAa;AAErB5I,QAAKpO,OAAL,CAAaqO,KAAU;AACnBjH,UAAY0S,YAAZ,CACI,CAACjf,CAAD,EAAW,QAAX,EAAqB;AAAEgC,cAAI6E,OAAO2M,EAAOxR,EAAd,CAAN;AAAyBmc;AAAzB,SAArB,CADJ,EAEIwC,KAAaA,gBAAanN,CAF9B;AAE8B,OAHlC;AAGkC;AAN1C,KAUO7T,CAVP,CAzBW,CAVf;AAiDA,SAAQwT,EAAOgJ,IAAP,GACF5N,QACO4E,CADP;AAEIgJ,UAAM,OAAOA,IAAP,uBAAaA,IAFvB;AAGIC,WAAO,OAAOD,IAAP,uBAAaC,KAHxB;AAII2C,cAAU,OAAO5C,IAAP,uBAAa4C;AAJ3B,IADE,GAOF5L,CAPN;AAOM,CA7DyB,wBAA5B;AC5DP;AACA;AAmEO,IAAMyN,KAAYxgB,YACrBJ,CADqB,EAIS;AAAA,MAF9BC,CAE8B,uEAFuB,EAEvB;AAAA,MAD9BN,CAC8B,uEADU,EACV;AAC9B,MAAMJ,IAAekd,GAArB;AAAA,MACMjd,IAAcqhB,IADpB;AAAA,MAEMvf,IAAYwf,GACd7gB,CADc,CAFlB;AAAA,MAMMqC,IAAWye,GAKb;AAAA,QAAC;AACGhf,gBAAUS,IAAmBxC,CADhC;AAEGmc,YAAM1Z,IAAenB,EAAUiQ,OAAV,CAAkB4K,IAF1C;AAGGgC,YAAM5R,IAAejL,EAAUiQ,OAAV,CAAkB4M;AAH1C,KAAD,uEAII,EAJJ;AAAA,WAKI5e,EACKsZ,MADL,CACwBrW,CADxB,EAC0C;AAClC2Z,YAAM1Z,CAD4B;AAElC0b,YAAM5R;AAF4B,KAD1C,EAKKtC,IALL,CAKU;AAAA,UAAC;AAAEkS;AAAF,OAAD;AAAA,aAAchJ,CAAd;AAAA,KALV,CALJ;AAAA,GALa,EAgBb5E,QACO5O,CADP;AAEIqf,eAAW,UACPxc,CADO,EAIN;AAAA,UAFDC,CAEC,uEAFuD,EAEvD;AAAA,UADD8J,CACC;AACD,UAAM;AAAExK,kBAAUoR,IAAmBnT;AAA/B,UAA4CyC,CAAlD;AACAjD,QAAYyf,YAAZ,CACI,CAAC9L,CAAD,EAAmB,QAAnB,EAA6B;AAAEnR,YAAI6E,OAAOrE,EAAKR,EAAZ;AAAN,OAA7B,CADJ,EAEIQ,CAFJ,GAKI7C,EAAQqf,SAAR,IACArf,EAAQqf,SAAR,CAAkBxc,CAAlB,EAAwBC,CAAxB,EAAmC8J,CAAnC,CANJ;AAMuC;AAd/C,IAhBa,CANjB;AAkEA,SAAO,CAvBQnM,cASV;AAAA,QARDoC,CAQC,uEAR0BxC,CAQ1B;AAAA,QAPDyC,CAOC,uEAPmD,EAOnD;AAAA,QAND8J,CAMC,uEADiC,EACjC;AACD,QAAiD8G,KAAjD;AAAA,QAAQ;AAAA2N;AAAA,QAAyC3N,CAAjD;AAAA,QAA0BD,MAAuBC,CAAvB,GAAlB,eAAkB,EAA1B;AACA,QAAIF,CAAJ,EACI,OAAO7Q,EAAS2e,WAAT,CACHzf;AAAEO,gBAAUS;AAAZ,OAAiCC,CAAjC,CADG,EAEH8J,CAFG,CAAP;AAKJjK,MAAS4e,MAAT,CACI1f;AAAEO,gBAAUS;AAAZ,OAAiCC,CAAjC,CADJ,EAEI2Q,CAFJ;AAEI,GAnBO,WAuBR,EAAS9Q,CAAT,CAAP;AAAgB,CAvEK,cAAlB;ACpEP;AACA;AAyEO,IAAM6e,KAAY/gB,YACrBJ,CADqB,EAIS;AAAA,MAF9BC,CAE8B,uEAFc,EAEd;AAAA,MAD9BN,CAC8B,uEADU,EACV;;AAC9B,MAAMJ,IAAekd,GAArB;AAAA,MACMjd,IAAc4hB,IADpB;AAAA,MAEM;AAAEpf,SAAF;AAAMma,WAAN;AAAYgC;AAAZ,MAAqBle,CAF3B;AAAA,MAGkEuT,KAHlE;AAAA,MAGQ;AAAA6N,sBAAe;AAAf,MAA0D7N,CAHlE;AAAA,MAGyC/Q,MAAyB+Q,CAAzB,GAAjC,cAAiC,EAHzC;AAAA,MAIMjH,IAAO+U,GAAqB9e,CAArB,CAJb;AAAA,MAKM2Q,IAAYmO,GAA0CrhB,CAA1C,CALlB;AAAA,MAMMmT,IAAWkO,GAAiB,EAAjB,CANjB;AAAA,MAQMjO,IAAcjT,YAA4B;AAAA,QAA3B;AAAE2B,iBAAF;AAAYC,WAAZ;AAAgBma;AAAhB,KAA2B;AAG5C,QAAMoF,IAAMnT,KAAKoT,GAAL,EAAZ;AAAA,QACMC,IAAYlV,EAAKgF,OAAL,KAAiB,UAAjB,GAA8BgQ,IAAM,IAAI,GAAxC,GAA+CA,CADjE;AAAA,QAGMG,IAAathB,EAACuhB,KAAsB;AACtC,UAAI,CAACA,CAAL,EAAU;AACV,UAAMC,IAAQD,EAAIE,SAAJ,CAEVC,KAAUA,EAAO9f,EAAP,IAAa+f,CAFb,CAAd;AAIA,aAAIH,MAAU,EAAV,GACOD,CADP,GAGG,CACH,GAAGA,EAAI/S,KAAJ,CAAU,CAAV,EAAagT,CAAb,CADA,EAEHpgB,QAAKmgB,EAAIC,CAAJ,CAAL,GAAoBI,CAApB,CAFG,EAGH,GAAGL,EAAI/S,KAAJ,CAAUgT,IAAQ,CAAlB,CAHA,CAHP;AAMyB,KAZV,eAHnB;AAqBApiB,MAAYyf,YAAZ,CACI,CAAC0B,CAAD,EAAW,QAAX,EAAqB;AAAE3e,UAAI6E,OAAOkb,CAAP,CAAN;AAAkB5D;AAAlB,KAArB,CADJ,EAEKwD,KAAwBngB,QAAKmgB,CAAL,GAAgBK,CAAhB,CAF7B,EAGI;AAAEC;AAAF,KAHJ,GAKAziB,EAAY0iB,cAAZ,CACI,CAACvB,CAAD,EAAW,SAAX,CADJ,EAEIgB,CAAC,IACGA,KAAOA,EAAIxF,IAAX,GACM;AAAEA,YAAMuF,EAAWC,EAAIxF,IAAf,CAAR;AAA8BC,aAAOuF,EAAIvF;AAAzC,KADN,GAEMuF,CALd,EAMI;AAAEM;AAAF,KANJ,CALA,EAaAziB,EAAY0iB,cAAZ,CACI,CAACvB,CAAD,EAAW,SAAX,CADJ,EAEIgB,CAAC,IACGA,KAAQA,EAAKjd,MAAL,GAAc,CAAtB,GAA0Bgd,EAAWC,CAAX,CAA1B,GAA6CA,CAHrD,EAII;AAAEM;AAAF,KAJJ,CAbA,EAmBAziB,EAAY0iB,cAAZ,CACI,CAACvB,CAAD,EAAW,kBAAX,CADJ,EAEIgB,CAAC,IACGA,KAAOA,EAAIxF,IAAX,GACM;AAAEA,YAAMuF,EAAWC,EAAIxF,IAAf,CAAR;AAA8BC,aAAOuF,EAAIvF;AAAzC,KADN,GAEMuF,CALd,EAMI;AAAEM;AAAF,KANJ,CAnBA;AAyBM,GAjDU,gBARpB;AAAA,MA6DM3O,IAAW6O,GAKb;AAAA,QAAC;AACGpgB,gBAAU4e,IAAmB3gB,CADhC;AAEGgC,UAAI+f,IAAa5O,EAAU5B,OAAV,CAAkBvP,EAFtC;AAGGma,YAAM6F,IAAe7O,EAAU5B,OAAV,CAAkB4K,IAH1C;AAIGgC,YAAMoD,IAAepO,EAAU5B,OAAV,CAAkB4M,IAJ1C;AAKGiE,oBAAcX,IAAuBtO,EAAU5B,OAAV,CAAkB6Q;AAL1D,KAAD,uEAMI,EANJ;AAAA,WAOI7iB,EACK4Z,MADL,CACwBwH,CADxB,EAC0C;AAClC3e,UAAI+f,CAD8B;AAElC5F,YAAM6F,CAF4B;AAGlCI,oBAAcX,CAHoB;AAIlCtD,YAAMoD;AAJ4B,KAD1C,EAOKtX,IAPL,CAOU;AAAA,UAAC;AAAEkS;AAAF,OAAD;AAAA,aAAcuF,CAAd;AAAA,KAPV,CAPJ;AAAA,GALa,EAoBbnT,QACO9L,CADP;AAEI4f,cAAU,MACN1B,CADM,IAEL;AACD,UAAIle,EAAqB4f,QAAzB,EAAmC;AAC/B,YAAMN,IACD,OAAMtf,EAAqB4f,QAArB,CAA8B1B,CAA9B,CAAN,KAAmD,EADxD;AAEA,eAAOnf;AACH8gB,oBAAUlP,EAAS7B;AADhB,WAGAwQ,CAHA,CAAP;AAGO,OANX,MAUI,OAAO;AAAEO,kBAAUlP,EAAS7B;AAArB,OAAP;AAA4B,KAfxC;AAkBIgR,aAAS,UACL5B,CADK,EAIJ;AAAA,UAFDoB,CAEC,uEAFuD,EAEvD;AAAA,UADDC,CACC;AAWD,UATI,GAAKzQ,OAAL,KAAiB,YAAjB,IACAhF,EAAKgF,OAAL,KAAiB,UADjB,KAIAyQ,EAAQM,QAAR,CAAiBnd,OAAjB,CAAyB,UAAkB;AAAA,YAAjB,CAACoc,CAAD,EAAME,CAAN,CAAiB;AACvCjiB,UAAYyf,YAAZ,CAAyBsC,CAAzB,EAA8BE,CAA9B;AAA8B,OADlC,CAJA,EASAhf,EAAqB8f,OAAzB,EACI,OAAO9f,EAAqB8f,OAArB,CACH5B,CADG,EAEHoB,CAFG,EAGHC,CAHG,CAAP;AAGI,KArChB;AA0CIhD,eAAW,UACP2B,CADO,EAIN;AAAA,UAFDoB,CAEC,uEAFuD,EAEvD;AAAA,UADDC,CACC;;AACD,UAAIzV,EAAKgF,OAAL,KAAiB,aAArB,EAAoC;AAEhC,YAAM;AACFxP,oBAAUwf,IAAmBvhB,CAD3B;AAEFgC,cAAIyf,IAAangB;AAFf,YAGFygB,CAHJ;AAIA1O,UAAY;AACRtR,oBAAUwf,CADF;AAERvf,cAAIyf,CAFI;AAGRtF;AAHQ,SAAZ,GAMI1Z,EAAqBuc,SAArB,IACAvc,EAAqBuc,SAArB,CACI2B,CADJ,EAEIoB,CAFJ,EAGIC,CAHJ,CAPJ;AAUQ;AAAA,KA/DpB;AAqEIQ,eAAW,UACP7B,CADO,EAEPoB,CAFO,EAKN;AAAA,UAFDC,CAEC,uEAFuD,EAEvD;AAAA,UADDT,CACC;AAWD,UATI,GAAKhQ,OAAL,KAAiB,YAAjB,IACAhF,EAAKgF,OAAL,KAAiB,UADjB,KAIAgQ,EAAQe,QAAR,CAAiBnd,OAAjB,CAAyB,UAAW;AAAA,YAAV,CAACsc,CAAD,CAAU;AAChCjiB,UAAYye,iBAAZ,CAA8BwD,CAA9B;AAA8B,OADlC,CAJA,EASAhf,EAAqB+f,SAAzB,EACI,OAAO/f,EAAqB+f,SAArB,CACH7B,CADG,EAEHoB,CAFG,EAGHC,CAHG,EAIHT,CAJG,CAAP;AAII;AA1FhB,IApBa,CA7DjB;;AA2UA,SAAO,CAzJQnhB,oBASV;AAAA,QARDugB,CAQC,uEAR0B3gB,CAQ1B;AAAA,QAPD+hB,CAOC,uEAPmD,EAOnD;AAAA,QANDC,CAMC,uEAD8D,EAC9D;AACD,QAAM;AACFX,qBADE;AAEFL,sBAFE;AAGFhC,kBAHE;AAIFwD,kBAJE;AAKFD;AALE,QAMFP,CANJ;AAuBA,QAZA7O,EAAU5B,OAAV,GAAoBtR,CAApB,EAEIshB,MACAhV,EAAKgF,OAAL,GAAegQ,CADf,CAFJ,EAMIE,KAAiBlV,EAAKgF,OAAL,KAAiB,aAAlC,IACApH,QAAQiH,IAAR,CACI,wFADJ,CAPJ,EAYI7E,EAAKgF,OAAL,KAAiB,aAArB,EACI,OAAIkQ,IACOnO,EAAS2N,WAAT,CACHzf;AAAEO,gBAAU4e;AAAZ,OAAiCoB,CAAjC,CADG,EAEH;AAAE/C,kBAAF;AAAawD,kBAAb;AAAwBD;AAAxB,KAFG,CADP,GAMGjP,EAAS4N,MAAT,CACH1f;AAAEO,gBAAU4e;AAAZ,OAAiCoB,CAAjC,CADG,EAEH;AAAE/C,kBAAF;AAAawD,kBAAb;AAAwBD;AAAxB,KAFG,CANP;AAYJ,QAAM;AACFvgB,UAAI8f,IAAaxgB,CADf;AAEF6a,YAAMsG,IAAengB,CAFnB;AAGF6b,YAAMuE,IAAengB;AAHnB,QAIFwf,CAJJ;AAAA,QAUMY,IAAiBnjB,EAAYud,YAAZ,CAAqC,CACxD4D,CADwD,EAExD,QAFwD,EAGxD;AAAE3e,UAAI6E,OAAOib,CAAP,CAAN;AAA0B3D,YAAMuE;AAAhC,KAHwD,CAArC,CAVvB;AAAA,QAgBME,IAAY,CACd,CACIjC,CADJ,EAEI,QAFJ,EAGI;AAAE3e,UAAI6E,OAAOib,CAAP,CAAN;AAA0B3D,YAAMuE;AAAhC,KAHJ,CADc,EAMd,CAAC/B,CAAD,EAAmB,SAAnB,CANc,EAOd,CAACA,CAAD,EAAmB,SAAnB,CAPc,EAQd,CAACA,CAAD,EAAmB,kBAAnB,CARc,CAhBlB;AAkFA,QAzCAvN,EAAS7B,OAAT,GAAmBqR,EAAUtU,MAAV,CACf,CAACuU,CAAD,EAAOC,CAAP,KAAgBD,EAAK9G,MAAL,CAAYvc,EAAYujB,cAAZ,CAA2BD,CAA3B,CAAZ,CADD,EAEf,EAFe,CAAnB,EAMA,MAAMvf,QAAQyf,GAAR,CACF5P,EAAS7B,OAAT,CAAiBuK,GAAjB,CAAqB;AAAA,UAAC,CAAC+G,CAAD,CAAD;AAAA,aAAWrjB,EAAYyjB,aAAZ,CAA0BJ,CAA1B,CAAX;AAAA,KAArB,CADE,CANN,EAWAxP,EAAY;AACRtR,gBAAU4e,CADF;AAER3e,UAAI8f,CAFI;AAGR3F,YAAMsG;AAHE,KAAZ,CAXA,EAkBIf,KACApP,WACI,MACIoP,EACIiB,CADJ,EAEInhB;AAAEO,gBAAU4e;AAAZ,OAAiCoB,CAAjC,CAFJ,EAGI;AAAEO,gBAAUlP,EAAS7B;AAArB,KAHJ,CAFR,EAOI,CAPJ,CAnBJ,EA6BI9O,EAAqBuc,SAArB,IACA1M,WACI,MACI7P,EAAqBuc,SAArB,CACI2D,CADJ,EAEInhB;AAAEO,gBAAU4e;AAAZ,OAAiCoB,CAAjC,CAFJ,EAGI;AAAEO,gBAAUlP,EAAS7B;AAArB,KAHJ,CAFR,EAOI,CAPJ,CA9BJ,EAyCIhF,EAAKgF,OAAL,KAAiB,YAArB,EAEI,OAAO+B,EAAS4N,MAAT,CACH1f;AAAEO,gBAAU4e;AAAZ,OAAiCoB,CAAjC,CADG,EAEH;AAAES,kBAAF;AAAaD;AAAb,KAFG,CAAP;AAMAvG,OAAqBkH,IAArB,CAA0B,KAA1B,EAAiC,UAAgB;AAAA,UAAf;AAAEC;AAAF,OAAe;AACzCN,UAEAzP,EAAS7B,OAAT,CAAiBpM,OAAjB,CAAyB,UAAkB;AAAA,YAAjB,CAAC2d,CAAD,EAAMM,CAAN,CAAiB;AACvC5jB,UAAYyf,YAAZ,CAAyB6D,CAAzB,EAA8BM,CAA9B;AAA8B,OADlC,CAFA,GAOA9P,EAAS4N,MAAT,CACI1f;AAAEO,kBAAU4e;AAAZ,SAAiCoB,CAAjC,CADJ,EAEI;AAAES,oBAAF;AAAaD;AAAb,OAFJ,CAPJ;AASqB,KAVzB;AAUyB,GAlJlB,WAyJR,EAASjP,CAAT,CAAP;AAAgB,CAhVK,cAAlB;AC1EP;AACA;AAmEO,IAAM+P,KAAgBjjB,YACzBJ,CADyB,EAIS;AAAA,MAFlCC,CAEkC,uEAFuB,EAEvB;AAAA,MADlCN,CACkC,uEADU,EACV;AAClC,MAAMJ,IAAekd,GAArB;AAAA,MACMjd,IAAc8jB,IADpB;AAAA,MAEM;AAAEnE,UAAF;AAAOhD,WAAP;AAAagC;AAAb,MAAsBle,CAF5B;AAAA,MAGkEuT,KAHlE;AAAA,MAGQ;AAAA6N,sBAAe;AAAf,MAA0D7N,CAHlE;AAAA,MAGyC/Q,MAAyB+Q,CAAzB,GAAjC,cAAiC,EAHzC;AAAA,MAIMjH,IAAOgX,GAAqB/gB,CAArB,CAJb;AAAA,MAKM2Q,IAAYoQ,GACdtjB,CADc,CALlB;AAAA,MAQMmT,IAAWmQ,GAAiB,EAAjB,CARjB;AAAA,MAUMlQ,IAAcjT,kBAUd;AAAA,QAVqB;AACvB2B,iBADuB;AAEvBod,YAFuB;AAGvBhD,aAHuB;AAIvBgC;AAJuB,KAUrB;AAGF,QAAMsD,IACFlV,EAAKgF,OAAL,KAAiB,UAAjB,GAA8BnD,KAAKoT,GAAL,KAAa,MAAO,CAAlD,GAAsDpT,KAAKoT,GAAL,EAD1D;AAAA,QAGME,IAAathB,EAACuhB,KAAsB;AACtC,UAAI,CAACA,CAAL,EAAU;AACV,UAAIC,IAAgB,CAAC,GAAGD,CAAJ,CAApB;AACA,eAAIxc,OAAJ,CAAY2c,KAAM;AAEd,YAAMW,IAAQd,EAAIE,SAAJ,CAAca,KAAUA,EAAO1gB,EAAP,IAAa8f,CAArC,CAAd;AACAW,SAAI,KAAU,EAAd,KAGAb,IAAgB,CACZ,GAAGA,EAAchT,KAAd,CAAoB,CAApB,EAAuB6T,CAAvB,CADS,EAEZjhB,QAAKogB,EAAca,CAAd,CAAL,GAA8BT,CAA9B,CAFY,EAGZ,GAAGJ,EAAchT,KAAd,CAAoB6T,IAAQ,CAA5B,CAHS,CAHhB;AAMmC,OATvC,GAYOb,CAZP;AAYO,KAfQ,eAHnB;AAuBAG,MAAI5c,OAAJ,CAAYwc,KACRniB,EAAYyf,YAAZ,CACI,CAAC0B,CAAD,EAAW,QAAX,EAAqB;AAAE3e,UAAI6E,OAAO8a,CAAP,CAAN;AAAkBxD;AAAlB,KAArB,CADJ,EAEKyD,KAAwBpgB,QAAKogB,CAAL,GAAgBI,CAAhB,CAF7B,EAGI;AAAEC;AAAF,KAHJ,CADJ,GAOAziB,EAAY0iB,cAAZ,CACI,CAACvB,CAAD,EAAW,SAAX,CADJ,EAEIgB,CAAC,IACGA,KAAOA,EAAIxF,IAAX,GACM;AAAEA,YAAMuF,EAAWC,EAAIxF,IAAf,CAAR;AAA8BC,aAAOuF,EAAIvF;AAAzC,KADN,GAEMuF,CALd,EAMI;AAAEM;AAAF,KANJ,CAPA,EAeAziB,EAAY0iB,cAAZ,CACI,CAACvB,CAAD,EAAW,SAAX,CADJ,EAEIgB,CAAC,IACGA,KAAQA,EAAKjd,MAAL,GAAc,CAAtB,GAA0Bgd,EAAWC,CAAX,CAA1B,GAA6CA,CAHrD,EAII;AAAEM;AAAF,KAJJ,CAfA,EAqBAziB,EAAY0iB,cAAZ,CACI,CAACvB,CAAD,EAAW,kBAAX,CADJ,EAEIgB,CAAC,IACGA,KAAOA,EAAIxF,IAAX,GACM;AAAEA,YAAMuF,EAAWC,EAAIxF,IAAf,CAAR;AAA8BC,aAAOuF,EAAIvF;AAAzC,KADN,GAEMuF,CALd,EAMI;AAAEM;AAAF,KANJ,CArBA;AA2BM,GA/DU,gBAVpB;AAAA,MA6EM3O,IAAWkQ,GAKb;AAAA,QAAC;AACGzhB,gBAAU4e,IAAmB3gB,CADhC;AAEGmf,WAAK4C,IAAc5O,EAAU5B,OAAV,CAAkB4N,GAFxC;AAGGhD,YAAM6F,IAAe7O,EAAU5B,OAAV,CAAkB4K,IAH1C;AAIGgC,YAAMoD,IAAepO,EAAU5B,OAAV,CAAkB4M;AAJ1C,KAAD,uEAKI,EALJ;AAAA,WAMI5e,EACK6Z,UADL,CACgBuH,CADhB,EACkC;AAC1BxB,WAAK4C,CADqB;AAE1B5F,YAAM6F,CAFoB;AAG1B7D,YAAMoD;AAHoB,KADlC,EAMKtX,IANL,CAMU;AAAA,UAAC;AAAEkS;AAAF,OAAD;AAAA,aAAcsF,CAAd;AAAA,KANV,CANJ;AAAA,GALa,EAkBblT,QACO9L,CADP;AAEI4f,cAAU,MACN1B,CADM,IAEL;AACD,UAAIle,EAAqB4f,QAAzB,EAAmC;AAC/B,YAAMN,IACD,OAAMtf,EAAqB4f,QAArB,CAA8B1B,CAA9B,CAAN,KAAmD,EADxD;AAEA,eAAOnf;AACH8gB,oBAAUlP,EAAS7B;AADhB,WAGAwQ,CAHA,CAAP;AAGO,OANX,MAUI,OAAO;AAAEO,kBAAUlP,EAAS7B;AAArB,OAAP;AAA4B,KAfxC;AAkBIgR,aAAS,UACL5B,CADK,EAIJ;AAAA,UAFDoB,CAEC,uEAF2D,EAE3D;AAAA,UADDC,CACC;AAWD,UATI,GAAKzQ,OAAL,KAAiB,YAAjB,IACAhF,EAAKgF,OAAL,KAAiB,UADjB,KAIAyQ,EAAQM,QAAR,CAAiBnd,OAAjB,CAAyB,UAAkB;AAAA,YAAjB,CAACoc,CAAD,EAAME,CAAN,CAAiB;AACvCjiB,UAAYyf,YAAZ,CAAyBsC,CAAzB,EAA8BE,CAA9B;AAA8B,OADlC,CAJA,EASAhf,EAAqB8f,OAAzB,EACI,OAAO9f,EAAqB8f,OAArB,CACH5B,CADG,EAEHoB,CAFG,EAGHC,CAHG,CAAP;AAGI,KArChB;AA0CIhD,eAAW,UACP2B,CADO,EAIN;AAAA,UAFDoB,CAEC,uEAF2D,EAE3D;AAAA,UADDC,CACC;;AACD,UAAIzV,EAAKgF,OAAL,KAAiB,aAArB,EAAoC;AAEhC,YAAM;AACFxP,oBAAUwf,IAAmBvhB,CAD3B;AAEFmf,eAAKsC,IAAcngB,CAFjB;AAGF6c,gBAAMuD,IAAenf;AAHnB,YAIFwf,CAJJ;AAKA1O,UAAY;AACRtR,oBAAUwf,CADF;AAERpC,eAAKsC,CAFG;AAGRtF,iBAHQ;AAIRgC,gBAAMuD;AAJE,SAAZ,GAOIjf,EAAqBuc,SAArB,IACAvc,EAAqBuc,SAArB,CACI2B,CADJ,EAEIoB,CAFJ,EAGIC,CAHJ,CARJ;AAWQ;AAAA,KAjEpB;AAuEIQ,eAAW,UACP7B,CADO,EAEPoB,CAFO,EAKN;AAAA,UAFDC,CAEC,uEAF2D,EAE3D;AAAA,UADDT,CACC;AAWD,UATI,GAAKhQ,OAAL,KAAiB,YAAjB,IACAhF,EAAKgF,OAAL,KAAiB,UADjB,KAIAgQ,EAAQe,QAAR,CAAiBnd,OAAjB,CAAyB,UAAW;AAAA,YAAV,CAACsc,CAAD,CAAU;AAChCjiB,UAAYye,iBAAZ,CAA8BwD,CAA9B;AAA8B,OADlC,CAJA,EASAhf,EAAqB+f,SAAzB,EACI,OAAO/f,EAAqB+f,SAArB,CACH7B,CADG,EAEHoB,CAFG,EAGHC,CAHG,EAIHT,CAJG,CAAP;AAII;AA5FhB,IAlBa,CA7EjB;AAgUA,SAAO,CA9HYnhB,oBASd;AAAA,QARDugB,CAQC,uEAR0B3gB,CAQ1B;AAAA,QAPD+hB,CAOC,uEAPuD,EAOvD;AAAA,QANDC,CAMC,uEADqC,EACrC;AACD,QAAM;AAAEX,qBAAF;AAAgBrC,kBAAhB;AAA2BwD,kBAA3B;AAAsCD;AAAtC,QAAkDP,CAAxD;AAWA,QANA7O,EAAU5B,OAAV,GAAoBtR,CAApB,EAEIshB,MACAhV,EAAKgF,OAAL,GAAegQ,CADf,CAFJ,EAMIhV,EAAKgF,OAAL,KAAiB,aAArB,EACI,OAAO+B,EAAS4N,MAAT,CACH1f;AAAEO,gBAAU4e;AAAZ,OAAiCoB,CAAjC,CADG,EAEH;AAAE/C,kBAAF;AAAawD,kBAAb;AAAwBD;AAAxB,KAFG,CAAP;AAMJ,QAAM;AACFpD,WAAKyC,IAActgB,CADjB;AAEF6a,YAAM2F,IAAexf,CAFnB;AAGF6b,YAAMsE,IAAelgB;AAHnB,QAIFwf,CAJJ;AAAA,QAUMW,IAAY,CACd,CAAC/B,CAAD,EAAmB,QAAnB,CADc,EAEd,CAACA,CAAD,EAAmB,SAAnB,CAFc,EAGd,CAACA,CAAD,EAAmB,SAAnB,CAHc,EAId,CAACA,CAAD,EAAmB,kBAAnB,CAJc,CAVlB;AAyEA,QA1CAvN,EAAS7B,OAAT,GAAmBmR,EAAUpU,MAAV,CACf,CAACqU,CAAD,EAAOC,CAAP,KAAgBD,EAAK5G,MAAL,CAAYvc,EAAYujB,cAAZ,CAA2BH,CAA3B,CAAZ,CADD,EAEf,EAFe,CAAnB,EAMA,MAAMrf,QAAQyf,GAAR,CACF5P,EAAS7B,OAAT,CAAiBuK,GAAjB,CAAqB;AAAA,UAAC,CAAC6G,CAAD,CAAD;AAAA,aAAWnjB,EAAYyjB,aAAZ,CAA0BN,CAA1B,CAAX;AAAA,KAArB,CADE,CANN,EAWA,MAAMtP,EAAY;AACdtR,gBAAU4e,CADI;AAEdxB,WAAKyC,CAFS;AAGdzF,YAAM2F,CAHQ;AAId3D,YAAMsE;AAJQ,KAAZ,CAXN,EAmBIhB,KACAnP,WACI,MACImP,EACIG,CADJ,EAEIpgB;AAAEO,gBAAU4e;AAAZ,OAAiCoB,CAAjC,CAFJ,EAGI;AAAEO,gBAAUlP,EAAS7B;AAArB,KAHJ,CAFR,EAOI,CAPJ,CApBJ,EA8BI9O,EAAqBuc,SAArB,IACA1M,WACI,MACI7P,EAAqBuc,SAArB,CACI4C,CADJ,EAEIpgB;AAAEO,gBAAU4e;AAAZ,OAAiCoB,CAAjC,CAFJ,EAGI;AAAEO,gBAAUlP,EAAS7B;AAArB,KAHJ,CAFR,EAOI,CAPJ,CA/BJ,EA0CIhF,EAAKgF,OAAL,KAAiB,YAArB,EAEI,OAAO+B,EAAS4N,MAAT,CACH1f;AAAEO,gBAAU4e;AAAZ,OAAiCoB,CAAjC,CADG,EAEH;AAAES,kBAAF;AAAaD;AAAb,KAFG,CAAP;AAMAvG,OAAqBkH,IAArB,CAA0B,KAA1B,EAAiC,UAAgB;AAAA,UAAf;AAAEC;AAAF,OAAe;AAC7CR,OAAI,GAEAvP,EAAS7B,OAAT,CAAiBpM,OAAjB,CAAyB,UAAkB;AAAA,YAAjB,CAACyd,CAAD,EAAMC,CAAN,CAAiB;AACvCrjB,UAAYyf,YAAZ,CAAyB2D,CAAzB,EAA8BC,CAA9B;AAA8B,OADlC,CAFA,GAOAvP,EAAS4N,MAAT,CACI1f;AAAEO,kBAAU4e;AAAZ,SAAiCoB,CAAjC,CADJ,EAEI;AAAES,oBAAF;AAAaD;AAAb,OAFJ,CAPJ;AASqB,KAVzB;AAUyB,GAvHd,eA8HZ,EAAajP,CAAb,CAAP;AAAoB,CArUK,kBAAtB;ACpEP;AACA;AAqEO,IAAMmQ,KAAYrjB,YACrBJ,CADqB,EAIS;AAAA,MAF9BC,CAE8B,uEAFc,EAEd;AAAA,MAD9BN,CAC8B,uEADU,EACV;AAC9B,MAAMJ,IAAekd,GAArB;AAAA,MACMjd,IAAckkB,IADpB;AAAA,MAEM;AAAE1hB,SAAF;AAAMogB;AAAN,MAAuBniB,CAF7B;AAAA,MAGkEsT,KAHlE;AAAA,MAGQ;AAAA8N,sBAAe;AAAf,MAA0D9N,CAHlE;AAAA,MAGyC/Q,MAAyB+Q,CAAzB,GAAjC,cAAiC,EAHzC;AAAA,MAIM9Q,IAAOkhB,GAAqBphB,CAArB,CAJb;AAAA,MAKMgK,IAAYoX,GAA0C1jB,CAA1C,CALlB;AAAA,MAMMkT,IAAWwQ,GAAiB,EAAjB,CANjB;AAAA,MAQMvQ,IAAchT,YAAsB;AAAA,QAArB;AAAE2B,iBAAF;AAAYC;AAAZ,KAAqB;AAGtC,QAAM+f,IAAM3T,KAAKoT,GAAL,EAAZ;AAAA,QACMQ,IAAYvf,EAAK8O,OAAL,KAAiB,UAAjB,GAA8BwQ,IAAM,IAAI,GAAxC,GAA+CA,CADjE;AAAA,QAGMR,IAAanhB,EAACqhB,KAAsB;AACtC,UAAI,CAACA,CAAL,EAAU;AACV,UAAMC,IAAQD,EAAII,SAAJ,CAEVF,KAAUA,EAAO3f,EAAP,IAAa2e,CAFb,CAAd;AAIA,aAAIe,MAAU,EAAV,GACOD,CADP,GAGG,CAAC,GAAGA,EAAI7S,KAAJ,CAAU,CAAV,EAAa8S,CAAb,CAAJ,EAAyB,GAAGD,EAAI7S,KAAJ,CAAU8S,IAAQ,CAAlB,CAA5B,CAHP;AAGqD,KATtC,eAHnB;AAiBAliB,MAAY0iB,cAAZ,CACI,CAAC1O,CAAD,EAAW,SAAX,CADJ,EAEIiO,CAAC,IAAuB;AACpB,UAAI,CAACA,CAAD,IAAQ,CAACA,EAAItF,IAAjB,EAAuB,OAAOsF,CAAP;AACvB,UAAMC,IAAgBH,EAAWE,EAAItF,IAAf,CAAtB;AAEA,aADuBuF,EAAchd,MAAd,GAAuB+c,EAAItF,IAAJ,CAASzX,MAAhC,GAEjB;AACIyX,cAAMuF,CADV;AAEItF,eAAOqF,EAAIrF,KAAJ,GAAY;AAFvB,OAFiB,GAMjBqF,CALN;AAKM,KAXd,EAaI;AAAEQ;AAAF,KAbJ,GAeAziB,EAAY0iB,cAAZ,CACI,CAAC1O,CAAD,EAAW,SAAX,CADJ,EAEKiO,KACGA,KAAQA,EAAK/c,MAAL,GAAc,CAAtB,GAA0B6c,EAAWE,CAAX,CAA1B,GAA6CA,CAHrD,EAII;AAAEQ;AAAF,KAJJ,CAfA,EAqBAziB,EAAY0iB,cAAZ,CACI,CAAC1O,CAAD,EAAW,kBAAX,CADJ,EAEKiO,KAAuB;AACpB,UAAI,CAACA,CAAD,IAAQ,CAACA,EAAItF,IAAjB,EAAuB,OAAOsF,CAAP;AACvB,UAAMC,IAAgBH,EAAWE,EAAItF,IAAf,CAAtB;AAEA,aADuBuF,EAAchd,MAAd,GAAuB+c,EAAItF,IAAJ,CAASzX,MAAhC,GAEjB;AACIyX,cAAMuF,CADV;AAEItF,eAAOqF,EAAIrF,KAAJ,GAAY;AAFvB,OAFiB,GAMjBqF,CALN;AAKM,KAXd,EAaI;AAAEQ;AAAF,KAbJ,CArBA;AAkCM,GAtDU,gBARpB;AAAA,MAkEM5O,IAAWuQ,GAKb;AAAA,QAAC;AACG7hB,gBAAUyR,IAAmBxT,CADhC;AAEGgC,UAAI2e,IAAapU,EAAUgF,OAAV,CAAkBvP,EAFtC;AAGGogB,oBAAcL,IAAuBxV,EAAUgF,OAAV,CAAkB6Q,YAH1D;AAIGjE,YAAM6D,IAAezV,EAAUgF,OAAV,CAAkB4M;AAJ1C,KAAD,uEAKI,EALJ;AAAA,WAMI5e,EACKyH,MADL,CACwBwM,CADxB,EAC0C;AAClCxR,UAAI2e,CAD8B;AAElCyB,oBAAcL,CAFoB;AAGlC5D,YAAM6D;AAH4B,KAD1C,EAMK/X,IANL,CAMU;AAAA,UAAC;AAAEkS;AAAF,OAAD;AAAA,aAAcoF,CAAd;AAAA,KANV,CANJ;AAAA,GALa,EAkBbhT,QACO/L,CADP;AAEI6f,cAAU,MACN7O,CADM,IAEL;AACD,UAAIhR,EAAqB6f,QAAzB,EAAmC;AAC/B,YAAM1B,IACD,OAAMne,EAAqB6f,QAArB,CAA8B7O,CAA9B,CAAN,KAAmD,EADxD;AAEA,eAAOhS;AACH8gB,oBAAUnP,EAAS5B;AADhB,WAGAoP,CAHA,CAAP;AAGO,OANX,MAUI,OAAO;AAAE2B,kBAAUnP,EAAS5B;AAArB,OAAP;AAA4B,KAfxC;AAkBIgR,aAAS,UACL/O,CADK,EAIJ;AAAA,UAFDmN,CAEC,uEAFuD,EAEvD;AAAA,UADDoB,CACC;AAWD,UATI,GAAKxQ,OAAL,KAAiB,YAAjB,IACA9O,EAAK8O,OAAL,KAAiB,UADjB,KAIAwQ,EAAQO,QAAR,CAAiBnd,OAAjB,CAAyB,UAAkB;AAAA,YAAjB,CAAC6c,CAAD,EAAMT,CAAN,CAAiB;AACvC/hB,UAAYyf,YAAZ,CAAyB+C,CAAzB,EAA8BT,CAA9B;AAA8B,OADlC,CAJA,EASA/e,EAAqB+f,OAAzB,EACI,OAAO/f,EAAqB+f,OAArB,CACH/O,CADG,EAEHmN,CAFG,EAGHoB,CAHG,CAAP;AAGI,KArChB;AA0CI/C,eAAW,UACPxL,CADO,EAIN;AAAA,UAFDmN,CAEC,uEAFuD,EAEvD;AAAA,UADDoB,CACC;;AACD,UAAItf,EAAK8O,OAAL,KAAiB,aAArB,EAAoC;AAEhC,YAAM;AACFxP,oBAAUigB,IAAmBhiB,CAD3B;AAEFgC,cAAIuf,IAAajgB;AAFf,YAGFqf,CAHJ;AAIAvN,UAAY;AACRrR,oBAAUigB,CADF;AAERhgB,cAAIuf;AAFI,SAAZ,GAKI/e,EAAqBwc,SAArB,IACAxc,EAAqBwc,SAArB,CACIxL,CADJ,EAEImN,CAFJ,EAGIoB,CAHJ,CANJ;AASQ;AAAA,KA9DpB;AAoEIS,eAAW,UACPhP,CADO,EAEPmN,CAFO,EAKN;AAAA,UAFDoB,CAEC,uEAFuD,EAEvD;AAAA,UADDC,CACC;AAWD,UATI,GAAKzQ,OAAL,KAAiB,YAAjB,IACA9O,EAAK8O,OAAL,KAAiB,UADjB,KAIAyQ,EAAQM,QAAR,CAAiBnd,OAAjB,CAAyB,UAAW;AAAA,YAAV,CAACoc,CAAD,CAAU;AAChC/hB,UAAYye,iBAAZ,CAA8BsD,CAA9B;AAA8B,OADlC,CAJA,EASA/e,EAAqBggB,SAAzB,EACI,OAAOhgB,EAAqBggB,SAArB,CACHhP,CADG,EAEHmN,CAFG,EAGHoB,CAHG,EAIHC,CAJG,CAAP;AAII;AAzFhB,IAlBa,CAlEjB;AA6SA,SAAO,CAzHQ5hB,oBASV;AAAA,QARDoT,CAQC,uEAR0BxT,CAQ1B;AAAA,QAPD2gB,CAOC,uEAPmD,EAOnD;AAAA,QANDoB,CAMC,uEADqC,EACrC;AACD,QAAM;AAAEV,qBAAF;AAAgBrC,kBAAhB;AAA2BwD,kBAA3B;AAAsCD;AAAtC,QAAkDR,CAAxD;AAWA,QANAxV,EAAUgF,OAAV,GAAoBtR,CAApB,EAEI+hB,MACAvf,EAAK8O,OAAL,GAAeyQ,CADf,CAFJ,EAMIvf,EAAK8O,OAAL,KAAiB,aAArB,EACI,OAAO8B,EAAS6N,MAAT,CACH1f;AAAEO,gBAAUyR;AAAZ,OAAiCmN,CAAjC,CADG,EAEH;AAAE3B,kBAAF;AAAawD,kBAAb;AAAwBD;AAAxB,KAFG,CAAP;AAMJ,QAAM;AACFvgB,UAAI2f,IAAargB,CADf;AAEF8gB,oBAAcR,IAAuBtf;AAFnC,QAGFqe,CAHJ;AAAA,QASMmB,IAAY,CACd,CAACtO,CAAD,EAAmB,SAAnB,CADc,EAEd,CAACA,CAAD,EAAmB,SAAnB,CAFc,EAGd,CAACA,CAAD,EAAmB,kBAAnB,CAHc,CATlB;AAoEA,QAxCAL,EAAS5B,OAAT,GAAmBuQ,EAAUxT,MAAV,CACf,CAACmU,CAAD,EAAOC,CAAP,KAAgBD,EAAK1G,MAAL,CAAYvc,EAAYujB,cAAZ,CAA2BL,CAA3B,CAAZ,CADD,EAEf,EAFe,CAAnB,EAMA,MAAMnf,QAAQyf,GAAR,CACF7P,EAAS5B,OAAT,CAAiBuK,GAAjB,CAAqB;AAAA,UAAC,CAAC2G,CAAD,CAAD;AAAA,aAAWjjB,EAAYyjB,aAAZ,CAA0BR,CAA1B,CAAX;AAAA,KAArB,CADE,CANN,EAWArP,EAAY;AACRrR,gBAAUyR,CADF;AAERxR,UAAI2f;AAFI,KAAZ,CAXA,EAiBIJ,KACAjP,WACI,MACIiP,EACIK,CADJ,EAEIpgB;AAAEO,gBAAUyR;AAAZ,OAAiCmN,CAAjC,CAFJ,EAGI;AAAE2B,gBAAUnP,EAAS5B;AAArB,KAHJ,CAFR,EAOI,CAPJ,CAlBJ,EA4BI/O,EAAqBwc,SAArB,IACA1M,WACI,MACI9P,EAAqBwc,SAArB,CACI4C,CADJ,EAEIpgB;AAAEO,gBAAUyR;AAAZ,OAAiCmN,CAAjC,CAFJ,EAGI;AAAE2B,gBAAUnP,EAAS5B;AAArB,KAHJ,CAFR,EAOI,CAPJ,CA7BJ,EAwCI9O,EAAK8O,OAAL,KAAiB,YAArB,EAEI,OAAO8B,EAAS6N,MAAT,CACH1f;AAAEO,gBAAUyR;AAAZ,OAAiCmN,CAAjC,CADG,EAEH;AAAE6B,kBAAF;AAAaD;AAAb,KAFG,CAAP;AAMAvG,OAAqBkH,IAArB,CAA0B,KAA1B,EAAiC,UAAgB;AAAA,UAAf;AAAEC;AAAF,OAAe;AAC7CV,OAAI,GAEAtP,EAAS5B,OAAT,CAAiBpM,OAAjB,CAAyB,UAAkB;AAAA,YAAjB,CAACud,CAAD,EAAMC,CAAN,CAAiB;AACvCnjB,UAAYyf,YAAZ,CAAyByD,CAAzB,EAA8BC,CAA9B;AAA8B,OADlC,CAFA,GAOAtP,EAAS6N,MAAT,CACI1f;AAAEO,kBAAUyR;AAAZ,SAAiCmN,CAAjC,CADJ,EAEI;AAAE6B,oBAAF;AAAaD;AAAb,OAFJ,CAPA;AASiB,KAVzB;AAUyB,GAlHlB,WAyHR,EAASlP,CAAT,CAAP;AAAgB,CAlTK,cAAlB;ACtEP;AACA;AAuEO,IAAMwQ,KAAgBzjB,YACzBJ,CADyB,EAIS;AAAA,MAFlCC,CAEkC,uEAFc,EAEd;AAAA,MADlCN,CACkC,uEADU,EACV;AAClC,MAAMJ,IAAekd,GAArB;AAAA,MACMjd,IAAcskB,IADpB;AAAA,MAEM;AAAE3E;AAAF,MAAUlf,CAFhB;AAAA,MAGkEqT,KAHlE;AAAA,MAGQ;AAAA+N,sBAAe;AAAf,MAA0D/N,CAHlE;AAAA,MAGyC/Q,MAAyB+Q,CAAzB,GAAjC,cAAiC,EAHzC;AAAA,MAIM9Q,IAAOuhB,GAAqBzhB,CAArB,CAJb;AAAA,MAKMG,IAAYshB,GAA8C,EAA9C,CALlB;AAAA,MAMMxX,IAAWwX,GAAiB,EAAjB,CANjB;AAAA,MAQM5Q,IAAc/S,YAAuB;AAAA,QAAtB;AAAE2B,iBAAF;AAAYod;AAAZ,KAAsB;AAGvC,QAAMwB,IAAMvS,KAAKoT,GAAL,EAAZ;AAAA,QACMO,IAAYvf,EAAK+O,OAAL,KAAiB,UAAjB,GAA8BoP,IAAM,IAAI,GAAxC,GAA+CA,CADjE;AAAA,QAGMqB,IAAa5hB,EAACmhB,KAAsB;AACtC,UAAI,CAACA,CAAL,EAAU;AACV,UAAIE,IAAgB,CAAC,GAAGF,CAAJ,CAApB;AACA,eAAIpc,OAAJ,CAAYuc,KAAM;AACd,YAAMC,IAAQF,EAAcI,SAAd,CAEVD,KAAUA,EAAO5f,EAAP,IAAa0f,CAFb,CAAd;AAIIC,cAAU,EAAV,KAGJF,IAAgB,CACZ,GAAGA,EAAc7S,KAAd,CAAoB,CAApB,EAAuB+S,CAAvB,CADS,EAEZ,GAAGF,EAAc7S,KAAd,CAAoB+S,IAAQ,CAA5B,CAFS,CAHZ;AAK+B,OAVvC,GAaOF,CAbP;AAaO,KAhBQ,eAHnB;AAwBAjiB,MAAY0iB,cAAZ,CACI,CAAC3O,CAAD,EAAW,SAAX,CADJ,EAEKgO,KAAuB;AACpB,UAAI,CAACA,CAAD,IAAQ,CAACA,EAAIpF,IAAjB,EAAuB,OAAOoF,CAAP;AACvB,UAAME,IAAgBO,EAAWT,EAAIpF,IAAf,CAAtB;AAEA,aADuBsF,EAAc/c,MAAd,GAAuB6c,EAAIpF,IAAJ,CAASzX,MAAhC,GAEjB;AACIyX,cAAMsF,CADV;AAEIrF,eACImF,EAAInF,KAAJ,IACCmF,EAAIpF,IAAJ,CAASzX,MAAT,GAAkB+c,EAAc/c,MADjC;AAHR,OAFiB,GAQjB6c,CAPN;AAOM,KAbd,EAeI;AAAEU;AAAF,KAfJ,GAiBAziB,EAAY0iB,cAAZ,CACI,CAAC3O,CAAD,EAAW,SAAX,CADJ,EAEKgO,KACGA,KAAQA,EAAK7c,MAAL,GAAc,CAAtB,GAA0Bsd,EAAWT,CAAX,CAA1B,GAA6CA,CAHrD,EAII;AAAEU;AAAF,KAJJ,CAjBA,EAuBAziB,EAAY0iB,cAAZ,CACI,CAAC3O,CAAD,EAAW,kBAAX,CADJ,EAEKgO,KAAuB;AACpB,UAAI,CAACA,CAAD,IAAQ,CAACA,EAAIpF,IAAjB,EAAuB,OAAOoF,CAAP;AACvB,UAAME,IAAgBO,EAAWT,EAAIpF,IAAf,CAAtB;AAEA,aADuBsF,EAAc/c,MAAd,GAAuB6c,EAAIpF,IAAJ,CAASzX,MAAhC,GAEjB;AACIyX,cAAMsF,CADV;AAEIrF,eACImF,EAAInF,KAAJ,IACCmF,EAAIpF,IAAJ,CAASzX,MAAT,GAAkB+c,EAAc/c,MADjC;AAHR,OAFiB,GAQjB6c,CAPN;AAOM,KAbd,EAeI;AAAEU;AAAF,KAfJ,CAvBA;AAsCM,GAjEU,gBARpB;AAAA,MA6EM7O,IAAW4Q,GAKb;AAAA,QAAC;AACGjiB,gBAAUwR,IAAmBvT,CADhC;AAEGmf,WAAK3L,IAAc/Q,EAAU8O,OAAV,CAAkB4N,GAFxC;AAGGhB,YAAMwC,IAAele,EAAU8O,OAAV,CAAkB4M;AAH1C,KAAD,uEAII,EAJJ;AAAA,WAKI5e,EACKuZ,UADL,CAC4BvF,CAD5B,EAC8C;AACtC4L,WAAK3L,CADiC;AAEtC2K,YAAMwC;AAFgC,KAD9C,EAKK1W,IALL,CAKU;AAAA,UAAC;AAAEkS;AAAF,OAAD;AAAA,aAAc4F,CAAd;AAAA,KALV,CALJ;AAAA,GALa,EAgBbxT,QACOhM,CADP;AAEI8f,cAAU,MACN9O,CADM,IAEL;AACD,UAAIhR,EAAqB8f,QAAzB,EAAmC;AAC/B,YAAM7O,IACD,OAAMjR,EAAqB8f,QAArB,CAA8B9O,CAA9B,CAAN,KAAmD,EADxD;AAEA,eAAO/R;AACH8gB,oBAAU/V,EAASgF;AADhB,WAGAiC,CAHA,CAAP;AAGO,OANX,MAUI,OAAO;AAAE8O,kBAAU/V,EAASgF;AAArB,OAAP;AAA4B,KAfxC;AAkBIgR,aAAS,UACLhP,CADK,EAIJ;AAAA,UAFDC,CAEC,uEAF2D,EAE3D;AAAA,UADDmN,CACC;AAWD,UATI,GAAKpP,OAAL,KAAiB,YAAjB,IACA/O,EAAK+O,OAAL,KAAiB,UADjB,KAIAoP,EAAQ2B,QAAR,CAAiBnd,OAAjB,CAAyB,UAAkB;AAAA,YAAjB,CAAC4c,CAAD,EAAMC,CAAN,CAAiB;AACvCxiB,UAAYyf,YAAZ,CAAyB8C,CAAzB,EAA8BC,CAA9B;AAA8B,OADlC,CAJA,EASAzf,EAAqBggB,OAAzB,EACI,OAAOhgB,EAAqBggB,OAArB,CACHhP,CADG,EAEHC,CAFG,EAGHmN,CAHG,CAAP;AAGI,KArChB;AA0CI3B,eAAW,UACPzL,CADO,EAIN;AAAA,UAFDC,CAEC,uEAF2D,EAE3D;AAAA,UADDmN,CACC;;AACD,UAAIne,EAAK+O,OAAL,KAAiB,aAArB,EAAoC;AAEhC,YAAM;AACFxP,oBAAUggB,IAAmB/hB,CAD3B;AAEFmf,eAAK6C,IAAc1gB;AAFjB,YAGFkS,CAHJ;AAIAL,UAAY;AACRpR,oBAAUggB,CADF;AAER5C,eAAK6C;AAFG,SAAZ,GAKIzf,EAAqByc,SAArB,IACAzc,EAAqByc,SAArB,CACIzL,CADJ,EAEIC,CAFJ,EAGImN,CAHJ,CANJ;AASQ;AAAA,KA9DpB;AAoEI6B,eAAW,UACPjP,CADO,EAEPC,CAFO,EAKN;AAAA,UAFDmN,CAEC,uEAF2D,EAE3D;AAAA,UADDoB,CACC;AAWD,UATI,GAAKxQ,OAAL,KAAiB,YAAjB,IACA/O,EAAK+O,OAAL,KAAiB,UADjB,KAIAwQ,EAAQO,QAAR,CAAiBnd,OAAjB,CAAyB,UAAW;AAAA,YAAV,CAAC6c,CAAD,CAAU;AAChCxiB,UAAYye,iBAAZ,CAA8B+D,CAA9B;AAA8B,OADlC,CAJA,EASAzf,EAAqBigB,SAAzB,EACI,OAAOjgB,EAAqBigB,SAArB,CACHjP,CADG,EAEHC,CAFG,EAGHmN,CAHG,EAIHoB,CAJG,CAAP;AAII;AAzFhB,IAhBa,CA7EjB;AAmTA,SAAO,CAtHQ3hB,oBASV;AAAA,QARDmT,CAQC,uEAR0BvT,CAQ1B;AAAA,QAPDwT,CAOC,uEAPuD,EAOvD;AAAA,QANDmN,CAMC,uEADqC,EACrC;AACD,QAAM;AAAEU,qBAAF;AAAgBrC,kBAAhB;AAA2BwD,kBAA3B;AAAsCD;AAAtC,QAAkD5B,CAAxD;AAWA,QANAle,EAAU8O,OAAV,GAAoBtR,CAApB,EAEI8hB,MACAvf,EAAK+O,OAAL,GAAewQ,CADf,CAFJ,EAMIvf,EAAK+O,OAAL,KAAiB,aAArB,EACI,OAAO6B,EAAS8N,MAAT,CACH1f;AAAEO,gBAAUwR;AAAZ,OAAiCC,CAAjC,CADG,EAEH;AAAEwL,kBAAF;AAAawD,kBAAb;AAAwBD;AAAxB,KAFG,CAAP;AAMJ,QAAM;AAAEpD,WAAKuC,IAAcpgB;AAArB,QAA6BkS,CAAnC;AAAA,QAMMmO,IAAY,CACd,CAACpO,CAAD,EAAmB,SAAnB,CADc,EAEd,CAACA,CAAD,EAAmB,SAAnB,CAFc,EAGd,CAACA,CAAD,EAAmB,kBAAnB,CAHc,CANlB;AAiEA,QAxCAhH,EAASgF,OAAT,GAAmBoQ,EAAUrT,MAAV,CACf,CAACsT,CAAD,EAAOE,CAAP,KAAgBF,EAAK7F,MAAL,CAAYvc,EAAYujB,cAAZ,CAA2BjB,CAA3B,CAAZ,CADD,EAEf,EAFe,CAAnB,EAMA,MAAMve,QAAQyf,GAAR,CACFzW,EAASgF,OAAT,CAAiBuK,GAAjB,CAAqB;AAAA,UAAC,CAAC8F,CAAD,CAAD;AAAA,aAAWpiB,EAAYyjB,aAAZ,CAA0BrB,CAA1B,CAAX;AAAA,KAArB,CADE,CANN,EAWAzO,EAAY;AACRpR,gBAAUwR,CADF;AAER4L,WAAKuC;AAFG,KAAZ,CAXA,EAiBIM,KACA1P,WACI,MACI0P,EACIN,CADJ,EAEIlgB;AAAEO,gBAAUwR;AAAZ,OAAiCC,CAAjC,CAFJ,EAGI;AAAE8O,gBAAU/V,EAASgF;AAArB,KAHJ,CAFR,EAOI,CAPJ,CAlBJ,EA4BIhP,EAAqByc,SAArB,IACA1M,WACI,MACI/P,EAAqByc,SAArB,CACI0C,CADJ,EAEIlgB;AAAEO,gBAAUwR;AAAZ,OAAiCC,CAAjC,CAFJ,EAGI;AAAE8O,gBAAU/V,EAASgF;AAArB,KAHJ,CAFR,EAOI,CAPJ,CA7BJ,EAwCI/O,EAAK+O,OAAL,KAAiB,YAArB,EAEI,OAAO6B,EAAS8N,MAAT,CACH1f;AAAEO,gBAAUwR;AAAZ,OAAiCC,CAAjC,CADG,EAEH;AAAEgP,kBAAF;AAAaD;AAAb,KAFG,CAAP;AAMAvG,OAAqBkH,IAArB,CAA0B,KAA1B,EAAiC,UAAgB;AAAA,UAAf;AAAEC;AAAF,OAAe;AACzCvB,UAEArV,EAASgF,OAAT,CAAiBpM,OAAjB,CAAyB,UAAkB;AAAA,YAAjB,CAAC2c,CAAD,EAAMW,CAAN,CAAiB;AACvCjjB,UAAYyf,YAAZ,CAAyB6C,CAAzB,EAA8BW,CAA9B;AAA8B,OADlC,CAFA,GAOArP,EAAS8N,MAAT,CACI1f;AAAEO,kBAAUwR;AAAZ,SAAiCC,CAAjC,CADJ,EAEI;AAAEgP,oBAAF;AAAaD;AAAb,OAFJ,CAPJ;AASqB,KAVzB;AAUyB,GA/GlB,WAsHR,EAASnP,CAAT,CAAP;AAAgB,CAxTS,kBAAtB;ACxEP;AACA;AACA;AAaO,IAAM6Q,KAA4BC,GAEvC,CAAC,EAAD,EAAK,MAAM,EAAX,CAFuC,CAAlC;AAAA,IAwBMC,KAAoC/jB,YAG3C;AAAA,MAH4C;AAC9CgkB,iBAAapkB,IAAqB,EADY;AAE9CX;AAF8C,GAG5C;AACF,MAAM,CAACM,CAAD,EAAcJ,CAAd,IAA0B8kB,GAC5BrkB,CAD4B,CAAhC;AAAA,MAIMR,IAAgB8kB,GAAahjB,KAA+B;AAC9D/B,MAAS+C,KACLiiB,GAAQjiB,EAAKhB,EAAO8G,IAAZ,CAAR,EAA2B9G,CAA3B,IACMgB,CADN,GAEMiM,QACOjM,CADP;AAAA,OAEKhB,EAAO8G,IAFZ,GAEmB9G;AAFnB,MAHV;AAK6B,GANX,EASnB,EATmB,CAJtB;AAeA,SACIkjB,iBAACP,GAA0BxjB,QAA3B;AACIC,WAAO,CAACf,CAAD,EAAcH,CAAd;AADX,KAGKS,CAHL,CADJ;AAIS,CAvBoC,sCAxB1C;A9F2BA,IAAMuR,KAAmBpR,EAACJ,KAAiC;AAC9D,MAAM;AACFykB,mBADE;AAEFrlB,eAFE;AAGF4gB,mBAHE;AAIF0E,mBAJE;AAKFC,YALE;AAMFtlB,eANE;AAOFC,cAPE;AAQF2gB;AARE,MASFjgB,CATJ;AAWA,MAAI,CAACT,CAAL,EACI,MAAM,IAAIyN,KAAJ,CAAU;AAAA,4DAAV,CAAN;AAIJ,MAAMvK,IAAmBmiB,GAAQ,MAAMpiB,KAAe,IAAIqiB,EAAJ,EAA7B,EAAgD,CACrEriB,CADqE,CAAhD,CAAzB;AAAA,MAIM+J,IAAoBqY,GACtB,MACI3kB,aAAwB6kB,QAAxB,GACMpN,GAA0BzX,CAA1B,CADN,GAEMA,CAJY,EAKtB,CAACA,CAAD,CALsB,CAJ1B;AAAA,MAYMkT,IAAoByR,GACtB,MACIrlB,aAAwBulB,QAAxB,GACMrL,GAA0Bla,CAA1B,CADN,GAEMA,CAJY,EAKtB,CAACA,CAAD,CALsB,CAZ1B;AAoBA,SACIwlB,iBAAC9gB,GAAYxD,QAAb;AAAsBC,WAAO6L;AAA7B,KACIwY,iBAACnL,GAAoBnZ,QAArB;AAA8BC,WAAOyS;AAArC,KACI4R,iBAACjd,EAAD;AAAsBpH,WAAOY;AAA7B,KACIyjB,iBAACC,EAAD;AAAqBC,YAAQxiB;AAA7B,KACIsiB,iBAACpkB,EAAD;AAAarB,aAASiD,CAAtB;AAA+BnD,cAAUO;AAAzC,KACIolB,iBAAClb,EAAD;AAAqBnJ,WAAOlB;AAA5B,KACIulB,iBAACvb,EAAD,QACIub,iBAACZ,EAAD,QACK7hB,CADL,CADJ,CADJ,CADJ,CADJ,CADJ,CADJ,CADJ,CADJ;AASqC,CA9CT,qBAAzB;AA0DPkP,GAAiB0T,YAAjB,GAAgC;AAC5BlF,gBAAc9D,EADc;AAE5ByI,SAAOpd;AAFqB,CAAhC;A+FpGA;AACA;AACA;ACFA;AACA;AACA;ACFA;ACAA;AAKO,IAAM4d,KAAsB/kB,QAAM;AACrC,MAAM,GAAGJ,CAAH,IAA+BolB,GAAWnB,EAAX,CAArC;AAWA,SATyBoB,GACrB,YAAwC;AAAA,uCAApC1lB,CAAoC;AAApCA,OAAoC;AAAA;;AACpCA,MAAUwF,OAAV,CAAkB5F,KAAY;AAC1BS,QAAyBT,CAAzB;AAAyB,KAD7B;AAC6B,GAHZ,EAMrB,CAACS,CAAD,CANqB,CASzB;AAHK,CAT0B,wBAA5B;;ADgCA,IAAMslB,KAAsCllB,EAC/CJ,KACC;AACD,MAAMC,IAAiByU,IAAvB;AAAA,MACM/U,IAAWiU,IADjB;AAAA,MAEM;AAAES;AAAF,MAAoBC,IAF1B;AAAA,MAGM9U,IAAmB2lB,IAHzB;AAAA,MAQM7jB,IAAqBikB,GAA8BvlB,CAA9B,CAR3B;AAAA,MAUM,CACFsC,CADE,EAEFC,CAFE,IAGF8P,EAAgB/Q,EAAmBkkB,yBAAnC,CAbJ;AAAA,MAcM,CAAChjB,CAAD,EAAyBC,CAAzB,IAAsD4P,EACxD/Q,EAAmBmkB,sBADqC,CAd5D;AAAA,MAiBM,CAAClZ,CAAD,EAAY4G,CAAZ,IAA4Bd,EAEhC/Q,EAAmBokB,SAFa,CAjBlC;AAAA,MAqBM,CAACtS,CAAD,EAASC,CAAT,IAAsBhB,EAAmC,MAC3DsT,EAAE,CAAuB3lB,CAAvB,CAAF,GACM,SADJ,GAEIuM,EAAU7H,MAAV,GAAmB,CAAnB,GACA,OADA,GAEA,OALkB,CArB5B;;AA8BA,YAAU,MAAM;AACZ,QAAM4O,IAAgBqS,GAAuB3lB,CAAvB,CAAtB;AAAA,QACMuT,IAAqBgS,GAA8BvlB,CAA9B,CAD3B;;AAEAyC,MAA0B8Q,EAAmBkS,sBAA7C,GACAljB,EACIgR,EAAmBiS,yBADvB,CADA,EAIArS,EAAaI,EAAmBmS,SAAhC,CAJA,EAKArS,EACIC,CAAE,GACI,SADJ,GAEIC,EAAmBmS,SAAnB,CAA6BhhB,MAA7B,GAAsC,CAAtC,GACA,OADA,GAEA,OALV,CALA;AAUU,GAbd,EAeG,CACC1E,CADD,EAECyC,CAFD,EAGCF,CAHD,EAIC4Q,CAJD,EAKCE,CALD,CAfH,GAuBAuS,GAAU,MAAM;AACZ,QAAMtS,IAAuBlT,QACzBoT,CADyB,IAExB;AACD,UAAMmN,IAA2BvgB,OAAS;AACtC,YAAM4hB,IAAqBuD,GAA8BxD,CAA9B,CAA3B;;AACAtf,UAA0B8e,KACtBA,EAASxF,MAAT,CAAgBiG,EAAmByD,sBAAnC,CADJ,GAGAljB,EAA6Bgf,KACzBA,EAASxF,MAAT,CACIiG,EAAmBwD,yBADvB,CADJ,CAHA,EAQArS,EAAaoO,KACTA,EAASxF,MAAT,CAAgBiG,EAAmB0D,SAAnC,CADJ,CARA;AASuC,OAXV,6BAAjC;;AAeA,UAAI;AACA,YAAM3D,IAAc,MAAM9hB,GAA1B;AAAA,YACM+hB,IAAqBxO,EAAUuO,CAAV,CAD3B;AAEAC,SAAK,CAA0C/X,IAA1C,GACA+X,EAA0C/X,IAA1C,CACGsX,KAAoB;AAChBZ,YAAyBY,CAAzB;AAAyB,SAFhC,CADL,GAOIZ,EAAyBqB,CAAzB,CAPJ,EAUA3O,EAAU,OAAV,CAVA;AAUU,OAbd,CAac,OACL0O,CADK,EACZ;AACE5X,gBAAQC,KAAR,CAAc2X,CAAd,GACApiB,GADA;AACA;AAAA,KAlCqB,yBAA7B;AAAA,QAsCM4T,IAAgBoS,GAAuB3lB,CAAvB,CAtCtB;AAuCAuT,KAAI,IACAD,EAAqBC,CAArB,CADJ;AACyB,GAzC7B,EA2CG,CACChU,CADD,EAECS,CAFD,EAGCL,CAHD,EAICM,CAJD,EAKCwC,CALD,EAMCF,CAND,EAOC4Q,CAPD,EAQCE,CARD,CA3CH,CAvBA,EA8EAuS,GAAU,MAAM;AACZrZ,MAAUpH,OAAV,CAAkBmO,KAAY;AAC1B,UACI,OAASA,EAASrR,IAAT,CACJ4jB,gBADL,IAC0B,UAF9B,EAGE;AACE,YAAMtS,IAAeD,EAASrR,IAAT,CAA2D4jB,gBAA3D,CACjBvS,EAASwS,KADQ,CAArB;AAGAtmB,UAAiB+T,CAAjB;AAAiB,OAPrB,MASI,MAAM,IAAIvG,KAAJ,CACF,4IADE,CAAN;AACI,KAXZ;AAWY,GAZhB,EAgBG,CAACxN,CAAD,EAAmB+M,CAAnB,CAhBH,CA9EA,EAgGO;AACHkZ,6BADG;AAEHD,gCAFG;AAGHrK,aAHG;AAIHuK;AAJG,GAhGP;AAoGI,CArI2C,wCAA5C;AAAA,IAkJDC,KAAyBvlB,EAC3BJ,KACiC;AAGjC,MAAML,IAAmB,CAFHwH,MAAMuU,OAAN,CAAc1b,CAAd,IAA0BA,CAA1B,GAAqC,CAACA,CAAD,CAElC,EAAc4e,MAAd,CACrBrf,KAAS,OAAOA,CAAP,IAAiB,UAHR,CAEtB;AAIA,MAAII,EAAiB+E,MAAjB,GAA0B,CAA9B,EACI,MAAM,IAAIsI,KAAJ,CACF,wDADE,CAAN;AAKJ,SAAIrN,EAAiB+E,MAAjB,KAA4B,CAA5B,GACO,IADP,GAIG/E,EAAiB,CAAjB,CAJP;AAIwB,CAnBG,2BAlJxB;AAAA,IAgLD4lB,KAAgCnlB,EAACJ,KAAwB;AAC3D,MAAMC,IAAyB,EAA/B;AAAA,MACMN,IAA4B,EADlC;AAAA,MAEMJ,IAAY,EAFlB;AAGA,YAAS4F,OAAT,CAAiBnF,CAAjB,EAA2BR,KAAW;AAClC,QAAI,EAACumB,GAAMC,cAAN,CAAqBxmB,CAArB,CAAL,EAKA;AAAA,UAAIA,EAAQyC,IAAR,KAAiBgkB,EAArB,EAA+B;AAC3B,YAAM3kB,IAA2BikB,GAC7B/lB,EAAQsmB,KAAR,CAAczmB,QADe,CAAjC;;AAGAY,UAAuBkgB,IAAvB,CACI,GAAG7e,EAAyBmkB,sBADhC,GAGA9lB,EAA0BwgB,IAA1B,CACI,GAAG7e,EAAyBkkB,yBADhC,CAHA,EAMAjmB,EAAU4gB,IAAV,CAAe,GAAG7e,EAAyBokB,SAA3C,CANA;AASJ;;AAAA,UAAKlmB,EAAQyC,IAAR,CAAqBikB,MAArB,KAAgC,cAArC,EAAqD;AACjD,YAAM5kB,IAAsB9B,CAA5B;AAIA8B,SAAI,CAAoBwkB,KAApB,CAA0BK,QAA9B,GACIxmB,EAA0BwgB,IAA1B,CACI7e,EAAoBwkB,KAApB,CAA0BzmB,QAD9B,CADA,GAKAY,EAAuBkgB,IAAvB,CAA4B7e,EAAoBwkB,KAApB,CAA0BzmB,QAAtD,CALJ;AAK0D,OAV9D,MAYYG,EAAQyC,IAAR,CAAqBikB,MAArB,KAAgC,UAAhC,IACR3mB,EAAU4gB,IAAV,CAAe3gB,CAAf,CADQ;AACO;AAAA,GAhCvB,GAoCO;AACHimB,6BADG;AAEHD,gCAFG;AAGHE;AAHG,GApCP;AAuCI,CA3C8B,kCAhL/B;;ADrBA,IAAMU,KAAkBhmB,EAACJ,KAAgC;AAC5D,MAAMC,IAAqBomB,GAAW,GAAX,CAA3B;AACArjB;AACA,MAAMrD,IAAakC,IAAnB;AAAA,MAEM;AACF4jB,6BADE;AAEFD,gCAFE;AAGFrK,aAHE;AAIFuK;AAJE,MAKFJ,GAAoCtlB,EAAMX,QAA1C,CAPJ;AAAA,MASM;AACFinB,YAAQ/jB,CADN;AAEFgkB,cAAU/jB,CAFR;AAGFgkB,gBAHE;AAIFC,aAASla,CAJP;AAKFma,WALE;AAMFC,kBANE;AAOFC,WAAOvT,CAPL;AAQFwT;AARE,MASF7mB,CAlBJ;AAAA,MAoBM,CAACuT,CAAD,EAAYC,CAAZ,IAA4BsT,GAAS,CAAC1T,CAAV,CApBlC;AAAA,MAqBMuN,IAAY9M,IArBlB;AAiCA,SAVAkT,GAAU,MAAM;AACZ3T,KAAI,IACAuN,IACK1W,IADL,CACU,MAAM;AACRuJ,QAAa,EAAb;AAAa,KAFrB,EAIKtJ,KAJL,CAIW,MAAM,EAJjB,CADA;AAKiB,GANzB,EAQG,CAACyW,CAAD,EAAYvN,CAAZ,CARH,GAUI9R,MAAW,OAAX,GACO0lB,gBAAC3T,CAAD,OADP,GAIA/R,MAAW,SAAX,IAAwB,CAACiS,CAAzB,GAEIyT,gBAACC,EAAD,QACKznB,CADL,EAEKS,IACG+mB,gBAACE,EAAD;AAAOC,UAAK,GAAZ;AAAgBC,aAASJ,gBAACza,CAAD;AAAzB,IADH,GAGGya,gBAACE,EAAD;AAAOC,UAAK,GAAZ;AAAgBC,aAAS;AAAzB,IALR,CAFJ,GAcAJ,gBAACC,EAAD,QAIKznB,CAJL,EAKIwnB,gBAACE,EAAD;AACIC,UAAK,IADT;AAEIC,aACIJ,gBAAC,KAAD,QACIA,gBAACzkB,CAAD;AAAQikB,iBAAW/jB,CAAnB;AAA8BikB,YAAMvT,CAApC;AAA0C0T,aAAOvT;AAAjD,OACI0T,gBAACC,EAAD,QACK1nB,CADL,EAEK8nB,GAASvL,GAAT,CAAaxZ,CAAb,EAAwByf,KACrBiF,gBAACE,EAAD;AACI9hB,WAAK2c,EAAS+D,KAAT,CAAe1d,IADxB;AAEI+e,YAAM,GAAGpF,EAAS+D,KAAT,CAAe1d,QAF5B;AAGIgf,eAASrF;AAHb,MADH,CAFL,EASIiF,gBAACE,EAAD;AACIC,YAAK,GADT;AAEIC,eACI3kB,IACIukB,gBAAC9Q,EAAD;AACIL,oBAAYyR,EADhB;AAEIvR,mBAAWtT;AAFf,QADJ,GAKIH,EAAUoC,MAAV,GAAmB,CAAnB,GACAsiB,gBAACO,EAAD;AACI/V,YAAI7R,EAAW;AACXoC,oBACIO,EAAU,CAAV,EAAawjB,KAAb,CAAmB1d,IAFZ;AAGXnG,gBAAM;AAHK,SAAX;AADR,QADA,GAQA;AAhBZ,MATJ,EA4BI+kB,gBAACE,EAAD;AACIC,YAAK,GADT;AAEIC,eAASJ,gBAACxkB,CAAD;AAAUqkB,eAAOvT;AAAjB;AAFb,MA5BJ,CADJ,CADJ;AAHR,IALJ,CAlBJ;AA0D0D,CA9F/B,oBAAxB;AAyGP8S,GAAgBlB,YAAhB,GAA+B;AAC3BsC,gBAAc;AADa,CAA/B;AAaA,IAAMF,KAAoB;AAAEG,SAAO;AAAT,CAA1B;;ADnHA,IAAMC,KAAgBtnB;AAAA,MAAC;AAAEf;AAAF,GAAD;AAAA,SAAmCsoB,oCAAG3nB,CAAH,CAAnC;AAAA,mBAAtB;AAAA,IAmBa4nB,KAAcxnB,EAACJ,KAA4B;AACpD,MAAM;AACFumB,kBAAWsB,EADT;AAEFxoB,eAFE;AAGFmnB,gBAHE;AAIFsB,0BAAmB,EAJjB;AAKFxB,gBAASoB,EALP;AAMFjB,iBAAUoB,EANR;AAOFE,eAAWxlB,IAAY,EAPrB;AAQFmkB,WARE;AASFE,eAAQ7V,EATN;AAUF8V,eAAQ,aAVN;AAWFF,qBAAc;AAXZ,MAYF3mB,CAZJ;AAcA,YAAU,MAAM;AACZ,QACIR,KACAwR,QAAQC,GAAR,CAAYC,QAAZ,KAAyB,YADzB,IAEA,OAAOpO,MAAP,IAAkB,WAFlB,IAGA,OAAOA,OAAOlD,QAAd,IAA2B,WAH3B,IAIA,OAAOooB,KAAP,IAAiB,WALrB,EAOI;AAEJ,QAAM5U,IAAM,IAAI4U,KAAJ,EAAZ;AACA5U,MAAIvC,GAAJ,GAAU,2EAA2E/N,OAAOlD,QAAP,CAAgBqoB,UAArG;AAAqG,GAXzG,EAYG,CAACzoB,CAAD,CAZH,GAeImoB,iBAACO,EAAD,QACK3lB,MAAc,EAAd,IAAuBA,MAAc,EAArC,GACGolB,iBAACQ,EAAD;AAAOhB,UAAK,QAAZ;AAAqBC,aAASgB,GAAmB7lB,CAAnB;AAA9B,IADH,GAEG,IAHR,EAIIolB,iBAACQ,EAAD;AACIhB,UAAK,IADT;AAEIC,aACIO,iBAACvB,EAAD;AACIG,gBAAUtmB,CADd;AAEIumB,iBAAWjnB,CAFf;AAGI+mB,cAAQhlB,CAHZ;AAIImlB,eAASnkB,CAJb;AAKIokB,YAAMlkB,CALV;AAMImkB,mBAAaxT,CANjB;AAOIyT,aAAOnkB,CAPX;AAQIokB,aAAOta;AARX,OAUK5M,CAVL;AAHR,IAJJ,CAfJ;AAgCqB,CA/CE,gBAnB3B;AAAA,IA0EMyoB,KAAqBhoB,OAAOioB,GAAeroB,CAAf,IAAqBA,CAArB,GAA0BsoB,GAActoB,CAAd,CAAjC,uBA1E3B;AAAA,IA4EM6nB,KAAOznB,QAAM,IAAN,SA5Eb;;AhGiEO,IAAMmoB,KAAYnoB,EAACJ,KAA0B;AAChD,MAAM;AACFykB,mBADE;AAEFrlB,eAFE;AAGFmnB,eAHE;AAIFlnB,eAJE;AAKFmnB,gBALE;AAMFxG,mBANE;AAOF8H,uBAPE;AAQFxoB,cARE;AASFolB,mBATE;AAUFzE,kBAVE;AAWFqG,aAXE;AAYFG,cAZE;AAaFsB,gBAbE;AAcFrB,WAdE;AAeFC,kBAfE;AAgBFE,eAAQ;AAhBN,MAiBF7mB,CAjBJ;AAkBA,SACIwoB,iBAAChX,EAAD;AACIiT,kBAAcxkB,CADlB;AAEIb,cAAUO,CAFd;AAGIqgB,kBAAc1d,CAHlB;AAIIoiB,kBAAcjiB,CAJlB;AAKIwd,iBAAa1T,CALjB;AAMIjN,aAASkD;AANb,KAQIgmB,iBAACZ,EAAD;AACItB,YAAQnT,CADZ;AAEIqT,eAAWllB,CAFf;AAGIwmB,sBAAkBvlB,CAHtB;AAIImkB,UAAMpT,CAJV;AAKIiT,cAAUhnB,CALd;AAMIsnB,WAAOrT,CANX;AAOIiT,aAASrT,CAPb;AAQI2U,eAAW1U,CARf;AASIsT,iBAAapT;AATjB,KAWK/T,CAXL,CARJ,CADJ;AAoBa,CAvCQ,cAAlB;AoG3EA,IAAMipB,KAAeroB,EAACJ,KAClB,IADiB,iBAArB;AAIPyoB,GAAavC,MAAb,GAAsB,cAAtB;ACbA;AACA;AACA;ACFA;AAuBO,IAAMwC,KAA0BtoB;AAAA,MAAC;AACpCf,eADoC;AAEpCqB;AAFoC,GAAD;AAAA,SAOnCT,IACI0oB,iBAACxb,GAAgB1M,QAAjB;AAA0BC,WAAOT;AAAjC,KACKD,CADL,CADJ,GAKIA,CAZ+B;AAAA,6BAAhC;ADhBA,IAAM4oB,KAAWxoB,EAACJ,KAAyB;AAC9C,MAAM;AAAE6Y,YAAQ5Y,CAAV;AAAkB4oB,UAAMlpB,CAAxB;AAA8BmpB,UAAMvpB,CAApC;AAA0C6I,WAA1C;AAAgD2gB,UAAMznB;AAAtD,MAA+DtB,CAArE;AAEA,SACIgpB,iBAACN,EAAD;AAAyBhoB,WAAOlB;AAAhC,KACIwpB,iBAACC,EAAD,QACKhpB,KACG+oB,iBAACE,EAAD;AACI/B,UAAK,UADT;AAEIC,aAAS+B,GAAelpB,CAAf,IAAyBA,CAAzB,GAAkC+oB,iBAAC/oB,CAAD;AAF/C,IAFR,EAOKqB,KACG0nB,iBAACE,EAAD;AACI/B,UAAK,YADT;AAEIC,aAAS+B,GAAe7nB,CAAf,IAAuBA,CAAvB,GAA8B0nB,iBAAC1nB,CAAD;AAF3C,IARR,EAaK3B,KACGqpB,iBAACE,EAAD;AACI/B,UAAK,OADT;AAEIC,aAAS+B,GAAexpB,CAAf,IAAuBA,CAAvB,GAA8BqpB,iBAACrpB,CAAD;AAF3C,IAdR,EAmBKJ,KACGypB,iBAACE,EAAD;AACI/B,UAAK,IADT;AAEIC,aAAS+B,GAAe5pB,CAAf,IAAuBA,CAAvB,GAA8BypB,iBAACzpB,CAAD;AAF3C,IApBR,CADJ,CADJ;AAwB2D,CA3BvC,aAAjB;AAmCPqpB,GAAS1C,MAAT,GAAkB,UAAlB;;AAEA0C,GAAS/C,gBAAT,GAA4B;AAAA,MAAC;AACzBhN,aADyB;AAEzBgQ,WAFyB;AAGzBO,WAHyB;AAIzBN,WAJyB;AAKzB1gB,WALyB;AAMzBihB,cANyB;AAOzBN;AAPyB,GAAD;AAAA,SAQN;AAClB3gB,WADkB;AAElBihB,cAFkB;AAGlBC,aAAS,CAAC,CAAC/pB,CAHO;AAIlBgqB,eAAW,CAAC,CAACvpB,CAJK;AAKlBwpB,aAAS,CAAC,CAACvpB,CALO;AAMlBwpB,aAAS,CAAC,CAACnnB,CANO;AAOlB8mB;AAPkB,GARM;AAAA,CAA5B;;AE5CA;ACAA;AAwBO,IAAMM,KAAyBtpB,QAClCupB,GAAW1F,EAAX,EAAsC,CAAtC,CADkC,2BAA/B;ADCA,IAAM2F,KAAsBxpB,QAAwB;AACvD,MAAMJ,IAAY0K,GAAlB;AAAA,MACMzK,IAAcypB,IADpB;;AAGA,SAAO,UAAC/pB,CAAD,EAAyC;AAAA,QAAtBJ,CAAsB,uEAAd,CAAc;AAC5C,QAAMC,IAAqBS,EAAYN,CAAZ,CAA3B;AAmBA,WAjBcK,EAAU,aAAaL,QAAvB,EAAwC;AAClDkqB,mBAAatqB,CADqC;AAElDmL,SACIlL,KACAA,EAAmB6pB,OADnB,IAEA7pB,EAAmB6pB,OAAnB,CAA2B1c,KAF3B,GAGM3M,EAAUR,EAAmB6pB,OAAnB,CAA2B1c,KAArC,EAA4C;AACxCkd,qBAAatqB,CAD2B;AAExCmL,WAAGlL,EAAmB6pB,OAAnB,CAA2B1c;AAFU,OAA5C,CAHN,GAOMmd,GAAWC,QAAX,CACIxqB,IAAQ,CAAR,GACMuqB,GAAWE,SAAX,CAAqBrqB,CAArB,CADN,GAEMmqB,GAAWG,WAAX,CAAuBtqB,CAAvB,CAHV;AAVwC,KAAxC,CAiBd;AAJ+C,GAhBnD;AAgBmD,CApBpB,wBAA5B;AEzBP;AACA;AA2BO,IAAMuqB,KAAwB9pB,EACjCJ,KACqB;AACrB,MAAMC,IAAWmM,EAAmBpM,CAAnB,CAAjB;AAAA,MACML,IAAsB+pB,IAD5B;AAAA,MAEM;AAAEH,gBAAF;AAAaC,cAAb;AAAsBF,cAAtB;AAA+BG;AAA/B,MAA2CzpB,KAAS,EAF1D;AAiBA,SAbmBmqB,GAAQ,MAChBC,GACH,EADG,EAEH;AACIb,gBADJ;AAEIC,cAFJ;AAGIF,cAHJ;AAIIG;AAJJ,GAFG,EAQH9pB,EAAoBM,CAApB,CARG,CADQ,EAWhB,CAACA,CAAD,EAAWN,CAAX,EAAgCJ,CAAhC,EAA2CC,CAA3C,EAAoD8B,CAApD,EAA6DgB,CAA7D,CAXgB,CAanB;AAFgE,CAlB/B,0BAA9B;AC5BP;ACAA,IAAO+nB,KAAQjqB,GAACJ,CAAD,EAAMC,CAAN,KAAmB;AAC9B,MAAMN,IAAW2qB,SAASC,aAAT,CAAuB,GAAvB,CAAjB;AACA5qB,IAAS+Q,KAAT,CAAevB,OAAf,GAAyB,MAAzB,EACAmb,SAAS1P,IAAT,CAAc4P,WAAd,CAA0B7qB,CAA1B,CADA;AAEA,MAAMJ,IAAO,IAAIkrB,IAAJ,CAAS,CAACzqB,CAAD,CAAT,EAAgB;AAAEiC,UAAM;AAAR,GAAhB,CAAb;AAEAa,QAAI,CAAO3C,SAAX,IAAwB2C,OAAO3C,SAAP,CAAiBuqB,gBAArC,GAGA5nB,OAAO3C,SAAP,CAAiBuqB,gBAAjB,CAAkCnrB,CAAlC,EAAwC,GAAGU,OAA3C,CAHJ,IAKIN,EAASgrB,YAAT,CAAsB,MAAtB,EAA8BC,IAAIC,eAAJ,CAAoBtrB,CAApB,CAA9B,GACAI,EAASgrB,YAAT,CAAsB,UAAtB,EAAkC,GAAG1qB,OAArC,CADA,EAEAN,EAASmrB,KAAT,EAPA;AAOS,CAbF,YAAf;ADKA,IAAMC,KAA4B3qB,GAACJ,CAAD,EAAOC,CAAP,EAAUN,CAAV,EAAcJ,CAAd,KAC9ByrB,GAAWhrB,CAAX,EAAiB,CAACR,CAAD,EAAM8B,CAAN,KAAc+oB,GAAY/oB,CAAZ,EAAiB/B,CAAjB,CAA/B,CAD8B,oBAAlC;AAAA,IAGO0rB,KAAQF,EAHf;AELA;AAKA,IAAMG,KAAkBC,GAAgCF,EAAhC,CAAxB;AAEAC,GAAgBlnB,WAAhB,GAA8B,iBAA9B;AAEA,IAAOonB,KAAQF,EAAf;ACKA,IAAMG,KAAsBjrB,EAACJ,KAA+B,CACxDC,CADwD,EAExDN,CAFwD,EAGxDJ,CAHwD,KAKxDS,EACKgZ,OADL,CACazZ,CADb,EACuB;AAAE4f,OAAKmM,GAAcrrB,CAAd,EAAoBN,CAApB;AAAP,CADvB,EAEKsK,IAFL,CAEU;AAAA,MAAC;AAAEkS;AAAF,GAAD;AAAA,SACF3c,EAAK8O,MAAL,CAAY,CAAChN,CAAD,EAAMgB,CAAN,MACRhB,EAAIgB,EAAKN,EAAT,IAAeM,CAAf,EACOhB,CAFC,CAAZ,EAGG,EAHH,CADE;AAAA,CAFV,CALwB,wBAA5B;AAAA,IAoCagqB,KAAgBlrB,GACzBJ,CADyB,EAEzBC,CAFyB,KAIzBkH,MAAMC,IAAN,CACI,IAAImkB,GAAJ,CACIvrB,EACK4e,MADL,CACYjf,KAAUA,EAAOM,CAAP,KAAiB,IADvC,EAEK6b,GAFL,CAESnc,KAAUA,EAAOM,CAAP,CAFnB,EAGKqO,MAHL,CAGY,CAAC3O,CAAD,EAAMJ,CAAN,KAAgBI,EAAIoc,MAAJ,CAAWxc,CAAX,CAH5B,EAG+C,EAH/C,CADJ,CADJ,CAJyB,kBApC7B;AAAA,IAiDOisB,KAAQH,EAjDf;ACdA;AACA;ACyBA,IAAOI,KAAQrrB,EAACJ,KACZA,EAAQsO,MAAR,CAAe,CAACrO,CAAD,EAASN,CAAT,MACXsF,OAAOC,IAAP,CAAYvF,CAAZ,EAAoBwF,OAApB,CAA4B5F,KAAa;AAIrC,MAHKU,EAAOV,CAAP,MACDU,EAAOV,CAAP,IAAoB,EADnB,GAGDI,EAAOJ,CAAP,KAAqB,IAAzB,EAA+B;AAC3B,QAAMC,IAAQ2H,MAAMuU,OAAN,CAAc/b,EAAOJ,CAAP,CAAd,IACR,CAACI,EAAOJ,CAAP,CAAD,CADQ,GAERI,EAAOJ,CAAP,CAFN;AAGAU,MAAOV,CAAP,IAAoBU,EAAOV,CAAP,EAAkBwc,MAAlB,CAAyBvc,CAAzB,CAApB;AAA6C;AAAA,CARrD,GAWOS,CAZI,CAAf,EAaG,EAbH,CADW,YAAf;AC1BA;AAGA,eAAsB;AAClBwG,cACYxG,CADZ,EAEYN,CAFZ,EAGYJ,CAHZ,EAIE;AAHU;AACA;AACA;AAGZ;;AAAAmsB,eAAuB;AAAA,QAAZzrB,CAAY,uEAAJ,EAAI;AACnB,QAAI,EAAC,KAAK0rB,SAAL,EAAL,EAGA,OAAO,KAAKtsB,QAAL,GACDusB,GACI,KAAK3pB,IAAL,CAAU8T,SADd,EAEIvU,QAAK,KAAKskB,KAAV,GAAoB7lB,CAApB,CAFJ,EAGI,KAAKZ,QAAL,CAAcqF,MAAd,GAAuB,CAAvB,GACM,KAAKrF,QAAL,CAAcyc,GAAd,CAAkB,CAACnc,CAAD,EAAQJ,CAAR,KACdI,EAAM+rB,UAAN,CAAiB;AAAEtmB,WAAK7F;AAAP,KAAjB,CADJ,CADN,GAIM,KAAKF,QAAL,CAAcqsB,UAAd,EAPV,CADC,GAUDE,GAAc,KAAK3pB,IAAL,CAAU8T,SAAxB,EAAmCvU,QAAK,KAAKskB,KAAV,GAAoB7lB,CAApB,CAAnC,CAVN;AAaJ;;AAAA4rB,aAAW;AACP,WAAO,KAAK/F,KAAZ;AAGJ;;AAAA6F,cAAY;AACR,WAAO,CAAC,CAAC,KAAK1pB,IAAd;AAGJ;;AAAA6pB,sBAAoB;AAChB,QAAI,EAAC,KAAKH,SAAL,EAAL,EAGA,OAAI,KAAK1pB,IAAL,CAAU8pB,cAAV,GACO,KAAK9pB,IAAL,CAAU8pB,cAAV,CAAyB,KAAKjG,KAA9B,EAAqC,KAAKzmB,QAA1C,CADP,GAGG,IACH,KAAK4C,IAAL,CAAU8T,SAAV,CAAoB/R,WAApB,IAAmC,KAAK/B,IAAL,CAAU8T,SAAV,CAAoB3N,gBAC/C,KAAK0d,KAAL,CAAWpZ,YALvB;AAKuB;;AAzCT,CAAtB;AAAAtM;AA6CA,IAAO4rB,IAAQC,EAAf;AChDA;AAEO,IAAMC,KAAY9rB,EAACJ,KACtB,CAACmsB,MAAMC,WAAWpsB,CAAX,CAAN,CAAD,IAA6BqsB,SAASrsB,CAAT,CADR,cAAlB;AAAA,IAEMssB,KAAmBlsB,EAACJ,KAAkBA,EAAOusB,KAAP,CAAaL,EAAb,CAAnB,qBAFzB;AAAA,IAIMM,KAAYpsB,EAACJ,KACtBysB,OAAOC,SAAP,CAAiB1sB,CAAjB,KAA2B,CAACmsB,MAAMQ,SAAS3sB,CAAT,CAAN,CADP,cAJlB;AAAA,IAMM4sB,KAAmBxsB,EAACJ,KAAkBA,EAAOusB,KAAP,CAAaC,EAAb,CAAnB,qBANzB;AAAA,IAQMK,KAAYzsB,EAACJ,KAAe,OAAOA,CAAP,IAAiB,SAAjC,cARlB;AAAA,IASM8sB,KAAmB1sB,EAACJ,KAAkBA,EAAOusB,KAAP,CAAaM,EAAb,CAAnB,qBATzB;;AAgBA,IAAME,KAAW3sB,EAACJ,KAAe,OAAOA,CAAP,IAAiB,QAAjC,aAAjB;AAAA,IACMgtB,KAAkB5sB,EAACJ,KAAkBA,EAAOusB,KAAP,CAAaQ,EAAb,CAAnB,oBADxB;AAAA,IAGDE,KAAa,uCAHZ;AAAA,IAIMC,KAAS9sB,EAACJ,KAAe,CAACA,CAAD,IAAUitB,GAAWE,IAAX,CAAgBntB,CAAhB,CAA1B,WAJf;AAAA,IAKMotB,KAAgBhtB,EAACJ,KAAkBA,EAAOusB,KAAP,CAAaW,EAAb,CAAnB,kBALtB;AAAA,IAODG,KAAY,kBAPX;AAAA,IAQMC,KAAQltB,EAACJ,KAAe,CAACA,CAAD,IAAUqtB,GAAUF,IAAV,CAAentB,CAAf,CAA1B,UARd;AAAA,IASMutB,KAAentB,EAACJ,KAAkBA,EAAOusB,KAAP,CAAae,EAAb,CAAnB,iBATrB;AAAA,IAWDE,KAAiB,wFAXhB;AAAA,IAYMC,KAAartB,EAACJ,KAAe,CAACA,CAAD,IAAUwtB,GAAeL,IAAf,CAAoBntB,CAApB,CAA1B,eAZnB;AAAA,IAaM0tB,KAAoBttB,EAACJ,KAAkBA,EAAOusB,KAAP,CAAakB,EAAb,CAAnB,sBAb1B;AAAA,IAkBDE,KAAc,MAlBb;AAAA,IAmBMC,KAAUxtB,EAACJ,KAAe,CAACA,CAAD,IAAU2tB,GAAYR,IAAZ,CAAiBntB,CAAjB,CAA1B,YAnBhB;AAAA,IAoBM6tB,KAAiBztB,EAACJ,KAAkBA,EAAOusB,KAAP,CAAaqB,EAAb,CAAnB,mBApBvB;AAAA,IAsBME,KAAU1tB,EAACJ,KAAemH,MAAMuU,OAAN,CAAc1b,CAAd,CAAhB,YAtBhB;AAAA,IAuBM+tB,KAAiB3tB,EAACJ,KAAkBA,EAAOusB,KAAP,CAAauB,EAAb,CAAnB,mBAvBvB;AAAA,IAyBME,KAAS5tB,EAACJ,KAAe,CAACA,CAAD,IAAUA,aAAiBoO,IAA3C,WAzBf;AAAA,IA0BM6f,KAAgB7tB,EAACJ,KAAkBA,EAAOusB,KAAP,CAAayB,EAAb,CAAnB,kBA1BtB;AAAA,IA4BME,KAAe9tB,EAACJ,KACzB,CAACA,CAAD,IACC,OAAOA,CAAP,IAAiB,QAAjB,KACImuB,GAAQnuB,CAAR,EAAe,YAAf,KACGmuB,GAAQnuB,CAAR,EAAe,UAAf,CADH,IAEGouB,GAAQC,GAASruB,CAAT,CAAR,CAHP,CAFuB,iBA5BrB;AAAA,IAmCMsuB,KAAsBluB,EAACJ,KAChCA,EAAOusB,KAAP,CAAa2B,EAAb,CAD+B,wBAnC5B;AAAA,IAsCMK,KAAWnuB,EAACJ,KACrBiF,OAAO8I,SAAP,CAAiBzH,QAAjB,CAA0B2H,IAA1B,CAA+BjO,CAA/B,MAA0C,iBADtB,aAtCjB;AAAA,IAwCMwuB,KAAkBpuB,EAACJ,KAAkBA,EAAOusB,KAAP,CAAagC,EAAb,CAAnB,oBAxCxB;;AHEP,IAAME,KAAmBruB,QAAMsuB,iBAAC,MAAD,QAAM,GAAN,CAAN,qBAAzB;AAAA,IACMC,KAAc;AAChB1sB,QAAMwsB,EADU;AAEhB1C,kBAAgB,MAAM;AAFN,CADpB;AAAA,IAKM6C,KAAe;AACjBC,SAAOF,EADU;AAEjBG,WAASH,EAFQ;AAGjBI,QAAMJ,EAHW;AAIjBK,SAAOL,EAJU;AAKjB3sB,MAAI2sB,EALa;AAMjBM,UAAQN,EANS;AAOjBO,aAAWP,EAPM;AAQjBQ,kBAAgBR,EARC;AASjBS,YAAUT,EATO;AAUjBU,UAAQV,EAVS;AAWjBW,OAAKX;AAXY,CALrB;AAAA,IAmBMY,KAAUnvB,GAACJ,CAAD,EAAOC,CAAP,KAAiB,OAAOA,EAAMD,CAAN,CAAP,IAAuB,WAAxC,YAnBhB;AAAA,IA2DMwvB,KAAyBpvB,YAC3BJ,CAD2B,EAI1B;AAAA,MAFDC,CAEC,uEAFQ,EAER;AAAA,MADDN,CACC,uEADwBivB,EACxB;AACD,MAAI5uB,MAAS,IAAT,IAAiBuvB,GAAQ,IAAR,EAAc5vB,CAAd,CAArB,EACI,OAAO,IAAIqsB,CAAJ,CAAoBrsB,EAAMqC,EAA1B,EAA8B;AAAE0K,YAAQ1M;AAAV,GAA9B,CAAP;;AAEJ,MAAIA,EAAKyvB,MAAL,CAAYzvB,EAAK0E,MAAL,GAAc,CAA1B,MAAiC,KAAjC,IAA0C6qB,GAAQ,WAAR,EAAqB5vB,CAArB,CAA9C,EAA2E;AACvE,QAAMJ,IAAYmwB,GAAW1F,SAAX,CAAqBhqB,EAAKyvB,MAAL,CAAY,CAAZ,EAAezvB,EAAK0E,MAAL,GAAc,CAA7B,CAArB,CAAlB;AACA,WACI/E,EAAMuvB,SAAN,IACA,IAAIlD,CAAJ,CACIrsB,EAAMuvB,SADV,EAEI;AACIxiB,cAAQ1M,CADZ;AAEIkvB;AAFJ,KAFJ,EAMI,IAAIlD,CAAJ,CAAoBrsB,EAAMgwB,cAA1B,CANJ,CAFJ;AAYJ;;AAAA,MAAI3vB,EAAKyvB,MAAL,CAAYzvB,EAAK0E,MAAL,GAAc,CAA1B,MAAiC,IAAjC,IAAyC6qB,GAAQ,WAAR,EAAqB5vB,CAArB,CAA7C,EAA0E;AACtE,QAAMJ,IAAYmwB,GAAW1F,SAAX,CAAqBhqB,EAAKyvB,MAAL,CAAY,CAAZ,EAAezvB,EAAK0E,MAAL,GAAc,CAA7B,CAArB,CAAlB;AACA,WACI/E,EAAMuvB,SAAN,IACA,IAAIlD,CAAJ,CACIrsB,EAAMuvB,SADV,EAEI;AACIxiB,cAAQ1M,CADZ;AAEIkvB;AAFJ,KAFJ,EAMI,IAAIlD,CAAJ,CAAoBrsB,EAAMgwB,cAA1B,CANJ,CAFJ;AAYJ;;AAAA,MACI3vB,EAAKyvB,MAAL,CAAYzvB,EAAK0E,MAAL,GAAc,CAA1B,MAAiC,MAAjC,IACA6qB,GAAQ,gBAAR,EAA0B5vB,CAA1B,CAFJ,EAGE;AACE,QAAMJ,IAAYmwB,GAAW1F,SAAX,CAAqBhqB,EAAKyvB,MAAL,CAAY,CAAZ,EAAezvB,EAAK0E,MAAL,GAAc,CAA7B,CAArB,CAAlB;AACA,WACI/E,EAAMwvB,cAAN,IACA,IAAInD,CAAJ,CACIrsB,EAAMwvB,cADV,EAEI;AACIziB,cAAQ1M,CADZ;AAEIkvB;AAFJ,KAFJ,EAMI,IAAIlD,CAAJ,CAAoBrsB,EAAMiwB,mBAA1B,CANJ,CAFJ;AAYJ;;AAAA,MACI5vB,EAAKyvB,MAAL,CAAYzvB,EAAK0E,MAAL,GAAc,CAA1B,MAAiC,KAAjC,IACA6qB,GAAQ,gBAAR,EAA0B5vB,CAA1B,CAFJ,EAGE;AACE,QAAMJ,IAAYmwB,GAAW1F,SAAX,CAAqBhqB,EAAKyvB,MAAL,CAAY,CAAZ,EAAezvB,EAAK0E,MAAL,GAAc,CAA7B,CAArB,CAAlB;AACA,WACI/E,EAAMwvB,cAAN,IACA,IAAInD,CAAJ,CACIrsB,EAAMwvB,cADV,EAEI;AACIziB,cAAQ1M,CADZ;AAEIkvB;AAFJ,KAFJ,EAMI,IAAIlD,CAAJ,CAAoBrsB,EAAMiwB,mBAA1B,CANJ,CAFJ;AAYJ;;AAAA,MAAI3vB,EAAOyE,MAAP,KAAkB,CAAtB,EAEI,OAAO,IAAIsnB,CAAJ,CAAoBrsB,EAAM0vB,MAA1B,EAAkC;AAAE3iB,YAAQ1M;AAAV,GAAlC,CAAP;;AAEJ,MAAI+tB,GAAe9tB,CAAf,CAAJ,EAA4B;AACxB,QAAIsuB,GAAStuB,EAAO,CAAP,EAAU,CAAV,CAAT,KAA0BsvB,GAAQ,OAAR,EAAiB5vB,CAAjB,CAA9B,EAAuD;AACnD,UAAMJ,IAAaksB,GACfxrB,EAAOqO,MAAP,CAAc,CAAC9O,CAAD,EAAM8B,CAAN,KAAe9B,EAAIuc,MAAJ,CAAWza,CAAX,CAA7B,EAA+C,EAA/C,CADe,CAAnB;AAIA,aACI3B,EAAMkvB,KAAN,IACA,IAAI7C,CAAJ,CACIrsB,EAAMkvB,KADV,EAEI;AACIniB,gBAAQ1M;AADZ,OAFJ,EAKIiF,OAAOC,IAAP,CAAY3F,CAAZ,EAAwBuc,GAAxB,CAA4Btc,KACxBgwB,GACIhwB,CADJ,EAEID,EAAWC,CAAX,CAFJ,EAGIG,CAHJ,CADJ,CALJ,CAFJ;AAkBJ;;AAAA,WAAO,IAAIqsB,CAAJ,CAAoBrsB,EAAM0vB,MAA1B,EAAkC;AAAE3iB,cAAQ1M;AAAV,KAAlC,CAAP;AAEJ;;AAAA,MAAI8sB,GAAiB7sB,CAAjB,KAA4BsvB,GAAQ,SAAR,EAAmB5vB,CAAnB,CAAhC,EACI,OAAO,IAAIqsB,CAAJ,CAAoBrsB,EAAMmvB,OAA1B,EAAmC;AAAEpiB,YAAQ1M;AAAV,GAAnC,CAAP;AAEJ,MAAIiuB,GAAchuB,CAAd,KAAyBsvB,GAAQ,MAAR,EAAgB5vB,CAAhB,CAA7B,EACI,OAAO,IAAIqsB,CAAJ,CAAoBrsB,EAAMovB,IAA1B,EAAgC;AAAEriB,YAAQ1M;AAAV,GAAhC,CAAP;AAEJ,MAAIgtB,GAAgB/sB,CAAhB,CAAJ,EACI,OAAID,MAAS,OAAT,IAAoBuvB,GAAQ,OAAR,EAAiB5vB,CAAjB,CAApB,GACO,IAAIqsB,CAAJ,CAAoBrsB,EAAMqvB,KAA1B,EAAiC;AAAEtiB,YAAQ1M;AAAV,GAAjC,CADP,GAGAA,MAAS,KAAT,IAAkBuvB,GAAQ,KAAR,EAAe5vB,CAAf,CAAlB,GACO,IAAIqsB,CAAJ,CAAoBrsB,EAAM2vB,GAA1B,EAA+B;AAAE5iB,YAAQ1M;AAAV,GAA/B,CADP,GAGAsuB,GAAoBruB,CAApB,KAA+BsvB,GAAQ,MAAR,EAAgB5vB,CAAhB,CAA/B,GACO,IAAIqsB,CAAJ,CAAoBrsB,EAAMovB,IAA1B,EAAgC;AAAEriB,YAAQ1M;AAAV,GAAhC,CADP,GAGAotB,GAAcntB,CAAd,KAAyBsvB,GAAQ,UAAR,EAAoB5vB,CAApB,CAAzB,GACO,IAAIqsB,CAAJ,CAAoBrsB,EAAMyvB,QAA1B,EAAoC;AAAE1iB,YAAQ1M;AAAV,GAApC,CADP,GAGG,IAAIgsB,CAAJ,CAAoBrsB,EAAM0vB,MAA1B,EAAkC;AAAE3iB,YAAQ1M;AAAV,GAAlC,CAZP;AAcJ,MACK,IAAiBC,CAAjB,KAA4BqsB,GAAiBrsB,CAAjB,CAA5B,KACDsvB,GAAQ,QAAR,EAAkB5vB,CAAlB,CAFJ,EAII,OAAO,IAAIqsB,CAAJ,CAAoBrsB,EAAMsvB,MAA1B,EAAkC;AAAEviB,YAAQ1M;AAAV,GAAlC,CAAP;;AAEJ,MAAIwuB,GAAgBvuB,CAAhB,CAAJ,EAA6B;AAGzB,QAAMV,IAAW0F,OAAOC,IAAP,CAAYjF,EAAO,CAAP,CAAZ,EAAuB4vB,KAAvB,EAAjB;AAAA,QACMrwB,IAAaS,EAAO6b,GAAP,CAAWxa,KAAKA,EAAE/B,CAAF,CAAhB,CADnB;AAEA,WAAOiwB,GAAuB,GAAGxvB,KAAQT,GAAlC,EAA8CC,CAA9C,EAA0DG,CAA1D,CAAP;AAEJ;;AAAA,SAAO,IAAIqsB,CAAJ,CAAoBrsB,EAAM0vB,MAA1B,EAAkC;AAAE3iB,YAAQ1M;AAAV,GAAlC,CAAP;AAAmD,CAtIxB,2BA3D/B;AAAA,IAoMO8vB,KAAQN,EApMf;AIeA,IAAOO,KAAQ3vB,GAACJ,CAAD,EAAiBC,CAAjB,KAA4C;AACvD,MAAMN,IAAc8rB,GAAqBzrB,CAArB,CAApB;AACA,SAAOiF,OAAOC,IAAP,CAAYvF,CAAZ,EACF2O,MADE,CAEC,CAAC/O,CAAD,EAASC,CAAT,KACID,EAAOwc,MAAP,CACI+T,GACItwB,CADJ,EAEIG,EAAYH,CAAZ,CAFJ,EAGIS,CAHJ,CADJ,CAHL,EAUC,EAVD,EAYF2e,MAZE,CAYKrf,KAAmBA,EAAgBosB,SAAhB,EAZxB,CAAP;AAY+C,CAdpC,YAAf;ACnCA;AAoBO,IAAMqE,KAAiB,CAC1B,OAD0B,EAE1B,SAF0B,EAG1B,MAH0B,EAI1B,OAJ0B,EAK1B,IAL0B,EAM1B,OAN0B,EAO1B,QAP0B,EAQ1B,WAR0B,EAS1B,gBAT0B,EAU1B,gBAV0B,EAW1B,qBAX0B,EAY1B,UAZ0B,EAa1B,QAb0B,EAc1B,KAd0B,EAe1B,QAf0B,CAAvB;AAAA,IAuCMC,KAAsB7vB,YAC/BJ,CAD+B,EAGF;AAAA,MAD7BC,CAC6B,uEADpB,EACoB;AAC7B,MAAID,MAAS,IAAb,EACI,OAAO;AAAEiC,UAAM,IAAR;AAAc6jB,WAAO;AAAEpZ,cAAQ1M;AAAV;AAArB,GAAP;AAEJ,MAAIA,EAAKyvB,MAAL,CAAYzvB,EAAK0E,MAAL,GAAc,CAA1B,MAAiC,KAArC,EACI,OAAO;AACHzC,UAAM,WADH;AAEH6jB,WAAO;AACHpZ,cAAQ1M,CADL;AAEHkvB,iBAAWgB,GAAWlG,SAAX,CACPhqB,EAAKyvB,MAAL,CAAY,CAAZ,EAAezvB,EAAK0E,MAAL,GAAc,CAA7B,CADO;AAFR,KAFJ;AAQHrF,cAAU;AAAE4C,YAAM;AAAR;AARP,GAAP;AAWJ,MAAIjC,EAAKyvB,MAAL,CAAYzvB,EAAK0E,MAAL,GAAc,CAA1B,MAAiC,IAArC,EACI,OAAO;AACHzC,UAAM,WADH;AAEH6jB,WAAO;AACHpZ,cAAQ1M,CADL;AAEHkvB,iBAAWgB,GAAWlG,SAAX,CACPhqB,EAAKyvB,MAAL,CAAY,CAAZ,EAAezvB,EAAK0E,MAAL,GAAc,CAA7B,CADO;AAFR,KAFJ;AAQHrF,cAAU;AAAE4C,YAAM;AAAR;AARP,GAAP;AAWJ,MAAIjC,EAAKyvB,MAAL,CAAYzvB,EAAK0E,MAAL,GAAc,CAA1B,MAAiC,MAArC,EACI,OAAO;AACHzC,UAAM,gBADH;AAEH6jB,WAAO;AACHpZ,cAAQ1M,CADL;AAEHkvB,iBAAWgB,GAAWlG,SAAX,CACPhqB,EAAKyvB,MAAL,CAAY,CAAZ,EAAezvB,EAAK0E,MAAL,GAAc,CAA7B,CADO;AAFR,KAFJ;AAQHrF,cAAU;AAAE4C,YAAM;AAAR;AARP,GAAP;AAWJ,MAAIjC,EAAKyvB,MAAL,CAAYzvB,EAAK0E,MAAL,GAAc,CAA1B,MAAiC,KAArC,EACI,OAAO;AACHzC,UAAM,gBADH;AAEH6jB,WAAO;AACHpZ,cAAQ1M,CADL;AAEHkvB,iBAAWgB,GAAWlG,SAAX,CACPhqB,EAAKyvB,MAAL,CAAY,CAAZ,EAAezvB,EAAK0E,MAAL,GAAc,CAA7B,CADO;AAFR,KAFJ;AAQHrF,cAAU;AAAE4C,YAAM;AAAR;AARP,GAAP;AAWJ,MAAIhC,EAAOyE,MAAP,KAAkB,CAAtB,EACI,OAAI1E,MAAS,OAAT,GACO;AAAEiC,UAAM,OAAR;AAAiB6jB,WAAO;AAAEpZ,cAAQ1M;AAAV;AAAxB,GADP,GAGAA,MAAS,KAAT,GACO;AAAEiC,UAAM,KAAR;AAAe6jB,WAAO;AAAEpZ,cAAQ1M;AAAV;AAAtB,GADP,GAIG;AAAEiC,UAAM,QAAR;AAAkB6jB,WAAO;AAAEpZ,cAAQ1M;AAAV;AAAzB,GAPP;;AASJ,MAAI+tB,GAAe9tB,CAAf,CAAJ,EAA4B;AACxB,QAAIsuB,GAAStuB,EAAO,CAAP,EAAU,CAAV,CAAT,CAAJ,EAA4B;AACxB,UAAMN,IAAa8rB,GACfxrB,EAAOqO,MAAP,CAAc,CAAC/O,CAAD,EAAMC,CAAN,KAAeD,EAAIwc,MAAJ,CAAWvc,CAAX,CAA7B,EAA+C,EAA/C,CADe,CAAnB;AAIA,aAAO;AACHyC,cAAM,OADH;AAEH6jB,eAAO;AAAEpZ,kBAAQ1M;AAAV,SAFJ;AAGHX,kBAAU4F,OAAOC,IAAP,CAAYvF,CAAZ,EAAwBmc,GAAxB,CAA4Bvc,KAClC0wB,GAAoB1wB,CAApB,EAA8BI,EAAWJ,CAAX,CAA9B,CADM;AAHP,OAAP;AASJ;;AAAA,WAAO;AAAE0C,YAAM,QAAR;AAAkB6jB,aAAO;AAAEpZ,gBAAQ1M;AAAV;AAAzB,KAAP;AAEJ;;AAAA,MAAI8sB,GAAiB7sB,CAAjB,CAAJ,EACI,OAAO;AAAEgC,UAAM,SAAR;AAAmB6jB,WAAO;AAAEpZ,cAAQ1M;AAAV;AAA1B,GAAP;AAEJ,MAAIiuB,GAAchuB,CAAd,CAAJ,EACI,OAAO;AAAEgC,UAAM,MAAR;AAAgB6jB,WAAO;AAAEpZ,cAAQ1M;AAAV;AAAvB,GAAP;AAEJ,MAAIgtB,GAAgB/sB,CAAhB,CAAJ,EACI,OAAID,MAAS,OAAT,IAAoB6tB,GAAe5tB,CAAf,CAApB,GACO;AAAEgC,UAAM,OAAR;AAAiB6jB,WAAO;AAAEpZ,cAAQ1M;AAAV;AAAxB,GADP,GAGAA,MAAS,KAAT,IAAkButB,GAAattB,CAAb,CAAlB,GACIytB,GAAkBztB,CAAlB,IACO;AAAEgC,UAAM,OAAR;AAAiB6jB,WAAO;AAAEpZ,cAAQ1M;AAAV;AAAxB,GADP,GAGG;AAAEiC,UAAM,KAAR;AAAe6jB,WAAO;AAAEpZ,cAAQ1M;AAAV;AAAtB,GAJP,GAMAsuB,GAAoBruB,CAApB,IACO;AAAEgC,UAAM,MAAR;AAAgB6jB,WAAO;AAAEpZ,cAAQ1M;AAAV;AAAvB,GADP,GAGAotB,GAAcntB,CAAd,IACO;AAAEgC,UAAM,UAAR;AAAoB6jB,WAAO;AAAEpZ,cAAQ1M;AAAV;AAA3B,GADP,GAGA4sB,GAAiB3sB,CAAjB,KAA4BqsB,GAAiBrsB,CAAjB,CAA5B,GACO;AAAEgC,UAAM,QAAR;AAAkB6jB,WAAO;AAAEpZ,cAAQ1M;AAAV;AAAzB,GADP,GAGG;AAAEiC,UAAM,QAAR;AAAkB6jB,WAAO;AAAEpZ,cAAQ1M;AAAV;AAAzB,GAlBP;AAoBJ,MAAI4sB,GAAiB3sB,CAAjB,KAA4BqsB,GAAiBrsB,CAAjB,CAAhC,EACI,OAAO;AAAEgC,UAAM,QAAR;AAAkB6jB,WAAO;AAAEpZ,cAAQ1M;AAAV;AAAzB,GAAP;;AAEJ,MAAIwuB,GAAgBvuB,CAAhB,CAAJ,EAA6B;AAEzB,QAAMN,IAAWsF,OAAOC,IAAP,CAAYjF,EAAO,CAAP,CAAZ,EAAuB4vB,KAAvB,EAAjB;AAAA,QACMtwB,IAAaU,EAAO6b,GAAP,CAAWtc,KAAKA,EAAEG,CAAF,CAAhB,CADnB;AAEA,WAAOswB,GAAoB,GAAGjwB,KAAQL,GAA/B,EAA2CJ,CAA3C,CAAP;AAEJ;;AAAA,SAAO;AAAE0C,UAAM,QAAR;AAAkB6jB,WAAO;AAAEpZ,cAAQ1M;AAAV;AAAzB,GAAP;AAA0C,CAtHX,wBAvC5B;ACpBP;AACA;AACA;AAqBA,IAAMmwB,KAAuB/vB,EAACJ,MAAe;AAAEojB,KAAGpjB;AAAL,CAAf,CAAD,yBAA7B;AAAA,IA+BOowB,KAAQhwB,YAImC;AAAA,MAJlC;AACZiwB,uBAAgBF,EADJ;AAEZG,yBAAkB,EAFN;AAGZC,sBAAe;AAHH,GAIkC;AAC9C,MAAMhxB,IAAsBixB,GAAOvwB,CAAP,CAA5B;AAAA,MACMT,IAAcgxB,IADpB;AAAA,MAEM,CAAClvB,CAAD,EAASgB,CAAT,IAA2B+P,EAAgB7Q,QAC1CvB,CAD0C,GAE1CD,EAAc,EAAd,CAF0C,CAAhB,CAFjC;AAAA,MAYMuC,IAA2ByD,KAAKC,SAAL,CAAehG,CAAf,CAZjC;AAcAwwB,KAAU,MAAM;AACPC,OAAQnxB,EAAoBgS,OAA5B,EAAqCtR,CAArC,CAAL,KACIV,EAAoBgS,OAApB,GAA8BtR,CAA9B,EACAqC,EAAed,QACRvB,CADQ,GAERD,EAAcR,EAAY+R,OAA1B,CAFQ,CAAf,CAFC;AAIgC,GALzC,EAQG,CAAChP,CAAD,EAA2BhD,CAA3B,EAAgDS,CAAhD,CARH;AAWA,MAAMwC,IAAYmuB,GACdC,GAAUnuB,KAAkB;AACxBH,MAAed,QACRvB,CADQ,GAERD,EAAcyC,CAAd,CAFQ,CAAf,GAIAjD,EAAY+R,OAAZ,GAAsB9O,CAJtB;AAIsB,GAL1B,EAMG9C,CANH,CADc,EAQd,CAAC4C,CAAD,CARc,CAAlB;AAWA,SAAO;AACHqc,aADG;AAEHiS;AAFG,GAAP;AAEI,CA3CO,YA/Bf;ACvBA;ACCA;AAMO,IAAMC,KAAW,UAAjB;AAAA,IACMC,KAAW,KADjB;AAAA,IAEMC,KAAY,MAFlB;AAAA,IAIMC,KAAW,UAJjB;AAAA,IAKMC,KAAe,cALrB;AAAA,IAOMC,KAAa,YAPnB;AAAA,IAQMC,KAAc,aARpB;AAAA,IASMC,KAAc,aATpB;AAAA,IAWDC,KAAgBlxB,OAClBJ,MAAcgxB,EAAd,GAA0BD,EAA1B,GAAqCC,EADnB,kBAXf;AAAA,IAiDMO,KAAiDnxB,GAC1DJ,CAD0D,EAE1DC,CAF0D,KAGzD;AACD,UAAQA,EAAOgC,IAAf;AAAe,SACN6uB,EADM;AAEP,aAAI7wB,EAAOuxB,OAAP,CAAe9S,KAAf,KAAyB1e,EAAcye,IAAvC,GACOlQ,QACAvO,CADA;AAEH2e,eAAO2S,GAActxB,EAAc2e,KAA5B,CAFJ;AAGHJ,cAAM;AAHH,QADP,GAQGhQ,QACAvO,CADA;AAEHye,cAAMxe,EAAOuxB,OAAP,CAAe9S,KAFlB;AAGHC,eAAO1e,EAAOuxB,OAAP,CAAe7S,KAAf,IAAwBoS,EAH5B;AAIHxS,cAAM;AAJH,QARP;;AAYU,SAGT0S,EAHS;AAIV,aAAO1iB,QAAKvO,CAAL;AAAoBue,cAAMte,EAAOuxB;AAAjC,QAAP;;AAAwC,SAEvCN,EAFuC;AAGxC,aAAO3iB,QAAKvO,CAAL;AAAoBue,cAAM,CAA1B;AAA6BC,iBAASve,EAAOuxB;AAA7C,QAAP;;AAAoD,SAEnDL,EAFmD;AAGpD,aAAO5iB,QACAvO,CADA;AAEHue,cAAM,CAFH;AAGHK,gBAAQ3e,EAAOuxB,OAAP,CAAe5S,MAHpB;AAIH6S,0BAAkBxxB,EAAOuxB,OAAP,CAAeC,gBAAf,GACZxxB,EAAOuxB,OAAP,CAAeC,gBADH,GAEZzxB,EAAcyxB;AANjB,QAAP;;AAMwB,SAIvBL,EAJuB;AAKxB,aACIpxB,EAAcyxB,gBAAd,IACAzxB,EAAcyxB,gBAAd,CAA+BxxB,EAAOuxB,OAAP,CAAeE,UAA9C,CADA,GAIO1xB,CAJP,GAMGuO,QACAvO,CADA;AAEH4e,gBACI,OAAO3e,EAAOuxB,OAAP,CAAeG,YAAtB,IAAuC,WAAvC,GACMC,GACI5xB,EAAc4e,MADlB,EAEI3e,EAAOuxB,OAAP,CAAeE,UAFnB,EAGIzxB,EAAOuxB,OAAP,CAAeG,YAHnB,CADN,GAMM3xB,EAAc4e,MATrB;AAYH6S,0BAAkBljB,QACXvO,EAAcyxB,gBADH;AAAA,WAEbxxB,EAAOuxB,OAAP,CAAeE,UAFF,GAEe;AAFf;AAZf,QAPP;;AAqBqC,SAKpCL,EALoC;AAMrC,aAAO9iB,QACAvO,CADA;AAEH4e,gBAAQpQ,EACJM,GAAU9O,EAAc4e,MAAxB,EAAgC3e,EAAOuxB,OAAvC,CADI,CAFL;AAOHC,0BAAkBzxB,EAAcyxB,gBAAd,GACZxsB,OAAOC,IAAP,CAAYlF,EAAcyxB,gBAA1B,EAA4CnjB,MAA5C,CACI,CAAC3O,CAAD,EAAUJ,CAAV,KACWA,MAAWU,EAAOuxB,OAAlB,GACDjjB,QAAK5O,CAAL;AAAA,WAAeJ,CAAf,GAAwB;AAAxB,UADC,GAEDI,CAJd,EAMI,EANJ,CADY,GASZK,EAAcyxB;AAhBjB,QAAP;;AAgBwB;AAKxB,aAAOzxB,CAAP;AAnFR;AAmFe,CAvF2C,iBAjDvD;AAAA,IA4IA6xB,KAAQN,EA5IR;ADUP,IAAMO,KAAc1xB,GAACJ,CAAD,EAAqBC,CAArB,KAAqD;AACrE,UAAQA,EAAOgC,IAAf;AAAe,SACN,UADM;AAEP,aAAOhC,EAAOuxB,OAAd;;AAAc,SACb,gBADa;AACK;AACnB,YAAM7xB,IAAQM,EAAOuxB,OAArB;AAAA,YACMjyB,IACFS,EAAM0e,KAAN,KAAgB/e,CAAhB,GACMK,EAAM2e,KAAN,KAAgBoS,EAAhB,GACIC,EADJ,GAEID,EAHV,GAIMA,EANV;AAOA,eAAO;AAAErS,kBAAF;AAASC;AAAT,SAAP;AAAgB;;AAAA,SAEf,gBAFe;AAEG;AACnB,YAAMhf,IAAQM,EAAOuxB,OAArB;AACA,eAAOjjB,QACAvO,CADA;AAEH2e;AAFG,UAAP;AAEI;;AAAA;AAIJ,aAAO3e,CAAP;AArBR;AAqBe,CAtBC,gBAApB;AAAA,IA0Ba+xB,KAAc;AAAErT,SAAO,IAAT;AAAeC,SAAO;AAAtB,CA1B3B;AAAA,IAgFMqT,KAAe5xB,cAAuD;AAAA,MAAtDJ,CAAsD,uEAA3B+xB,EAA2B;AACxE,MAAM,CAAC9xB,CAAD,EAAON,CAAP,IAAmBsyB,GAAWH,EAAX,EAAwB9xB,CAAxB,CAAzB;AAAA,MACMT,IAAgB2yB,GAAO,EAAP,CADtB;AAEA,YAAU,MAAM;AACZ,QAAI3yB,EAAcgS,OAAlB,EAA2B;AACvBhS,QAAcgS,OAAd,GAAwB,EAAxB;AACA;AAEJ;;AAAA5R,MAAS;AAAEsC,YAAM,UAAR;AAAoBuvB,eAASxxB;AAA7B,KAAT;AAAsC,GAL1C,EAMG,CAACA,EAAY0e,KAAb,EAAoB1e,EAAY2e,KAAhC,CANH,GAQO;AACHwT,aAASC,GACL5yB,CAAC,IACGG,EAAS;AAAEsC,YAAM,UAAR;AAAoBuvB,eAAShyB;AAA7B,KAAT,CAFC,EAGL,CAACG,CAAD,CAHK,CADN;AAMH0yB,kBAAcD,GACV5yB,CAAC,IACGG,EAAS;AAAEsC,YAAM,gBAAR;AAA0BuvB,eAAShyB;AAAnC,KAAT,CAFM,EAGV,CAACG,CAAD,CAHU,CANX;AAWH2yB,kBAAcF,GACT5yB,KACGG,EAAS;AAAEsC,YAAM,gBAAR;AAA0BuvB,eAAShyB;AAAnC,KAAT,CAFM,EAGV,CAACG,CAAD,CAHU,CAXX;AAgBH8e;AAhBG,GARP;AAwBI,CA3Ba,iBAhFrB;AAAA,IA+GO8T,KAAQP,EA/Gf;AEjBA;AAqBA,IAAMQ,KAAoBpyB,GACtBJ,CADsB,EAEtBC,CAFsB,KAIfuB,QACAxB,CADA,GAEAC,CAFA,CAJe,sBAA1B;AAAA,IAUMwyB,KAAoB;AACtBlU,QAAM,CADgB;AAEtBC,WAAS;AAFa,CAV1B;AAAA,IAyBOkU,KAAQtyB,cAEY;AAAA,MADvBJ,CACuB,uEADkC,EAClC;AACvB,MAAM,CAACC,CAAD,EAAaN,CAAb,IAA8BgzB,GAAWH,EAAX,EAA8BhxB,QAC3DixB,EAD2D,GAE3DzyB,CAF2D,CAA9B,CAApC;AAAA,MAIMT,IAAgBqzB,GAAO,EAAP,CAJtB;AAAA,MAMMpzB,IAAaqzB,GACfvwB,KAAW3C,EAAc;AAAE6e,cAAF;AAAWD,UAAM;AAAjB,GAAd,CADI,EAEf,EAFe,CANnB;AAAA,MAUMjd,IAAUuxB,GAAYvwB,KAAQ3C,EAAc;AAAE4e;AAAF,GAAd,CAApB,EAA6C,EAA7C,CAVhB;AAYA,YAAU,MAAM;AACZ,QAAIhf,EAAcgS,OAAlB,EAA2B;AACvBhS,QAAcgS,OAAd,GAAwB,EAAxB;AACA;AAEJ;;AAAA/R,MAAWQ,EAAkBwe,OAAlB,IAA6B,EAAxC;AAAwC,GAL5C,EAMG,CAACxe,EAAkBwe,OAAnB,EAA4Bhf,CAA5B,CANH,GAQO;AACH+e,UAAMte,EAAWse,IADd;AAEHC,aAASve,EAAWue,OAFjB;AAGHF,iBAHG;AAIHwU,cAJG;AAKHC,iBALG;AAMHC;AANG,GARP;AAcI,CA7BO,YAzBf;ACrBA;AAcO,IAAMC,KAA+B7yB,GACxCJ,CADwC,EAExCC,CAFwC,EAGxCN,CAHwC,KAIjC;AACP,MAAMJ,IAAY0F,OAAOC,IAAP,CAAYvF,CAAZ,CAAlB;AAAA,MACMH,IAAeS,EAAc2e,MAAd,CACjBtd,KAAQ,CAAC/B,EAAUia,QAAV,CAAmBlY,CAAnB,CADQ,CADrB;AAKA,MAAI9B,EAAakF,MAAb,GAAsB,CAA1B,EACI,MAAM,IAAIsI,KAAJ,CACF,IAAIhN;AAAA;AAAA;AAAA,UAGNA;AAAA,OACHA,kBAA4BA;AAAA;AAAA;AAAA,yBAGVR,EAAaqP,IAAb,CAAkB,IAAlB,CAAkB,EAR7B,CAAN;AAQmC,CAnBC,iCAArC;ACdP;AA6CA,IAAMqkB,KAA8B9yB,EAChCJ,KACoC;AACpC,MAAM;AACFmzB,aADE;AAEFC,cAAUzzB,IAAa,MAFrB;AAGF0zB,cAHE;AAIFC;AAJE,MAKFtzB,CALJ;AAAA,MAMMsB,IAAW8K,EAAmBpM,CAAnB,CANjB;AAAA,MAOMsC,IAAS8G,GAPf;AAAA,MAQM7G,IAAWgxB,GAAYjyB,CAAZ,CARjB;AAAA,MASMkB,IAAWL,IATjB;AAAA,MAUM,CAACM,CAAD,EAAY;AAAE2R;AAAF,GAAZ,IAA6BqP,IAVnC;AAAA,MAYMtQ,IAAeqgB,GACjBpgB,KAAS;AACLA,MAAMqgB,eAAN,IACAhxB,EACInB,CADJ,EAEI;AAAEU,UAAI/B,EAAO+B,EAAb;AAAiBogB,oBAAcniB;AAA/B,KAFJ,EAGIuB;AACIwd,iBAAW,MAAM;AACb1c,UAAO,yBAAP,EAAkC;AAC9BL,gBAAM,MADwB;AAE9ByxB,uBAAa;AAAE7J,yBAAa;AAAf,WAFiB;AAG9B8J,oBAAU;AAHoB,SAAlC,GAKApxB,EAAS,CAACtC,EAAO+B,EAAR,CAAT,CALA,EAMAQ,EAAS7C,CAAT,EAAqB2B,CAArB,CANA;AAMqB,OAR7B;AAUIihB,eAASlP,CAAC,IAAiB;AACvB/Q,UACI,OAAO+Q,CAAP,IAAiB,QAAjB,GACMA,CADN,GAEMA,EAAM/J,OAAN,IAAiB,4BAH3B,EAII;AACIrH,gBAAM,SADV;AAEIyxB,uBAAa;AACThpB,eACI,OAAO2I,CAAP,IAAiB,QAAjB,GACMA,CADN,GAEMA,KAASA,EAAM/J,OAAf,GACA+J,EAAM/J,OADN,GAEA;AAND;AAFjB,SAJJ;AAYsB,OAvB9B;AA4BI+X,oBAAc;AA5BlB,OA6BO7hB,CA7BP,CAHJ,CADA,EAoCI,OAAOD,CAAP,IAAmB,UAAnB,IACAA,EAAQ6T,CAAR,CArCJ;AAqCY,GAvCC,EA0CjB,CACI3Q,CADJ,EAEIjD,CAFJ,EAGI8C,CAHJ,EAII/C,CAJJ,EAKIU,CALJ,EAMIuC,CANJ,EAOI7C,CAPJ,EAQI2B,CARJ,EASIiB,CATJ,CA1CiB,CAZrB;AAmEA,SAAO;AAAE6R,gBAAF;AAAawf;AAAb,GAAP;AAAoB,CAtEY,gCAApC;AAAA,IA6FOC,KAAQX,EA7Ff;AC7CA;AAiEA,IAAMY,KAAiC1zB,EACnCJ,KACuC;AACvC,MAAM;AACFmzB,aADE;AAEFC,cAAUzzB,CAFR;AAGF0hB,mBAHE;AAIFgS,cAJE;AAKFC;AALE,MAMFtzB,CANJ;AAAA,MAOMsC,IAAW8J,EAAmBpM,CAAnB,CAPjB;AAAA,MAQM,CAACuC,CAAD,EAAOC,CAAP,IAAkBuxB,GAAS,EAAT,CARxB;AAAA,MASMtxB,IAAS2G,GATf;AAAA,MAUMmD,IAAWgnB,GAAYjxB,CAAZ,CAVjB;AAAA,MAWM6Q,IAAWhR,IAXjB;AAAA,MAYM,CAACiR,CAAD,EAAY;AAAEgB;AAAF,GAAZ,IAA6BqP,IAZnC;AAAA,MAcMnQ,IAAmBlT,OAAK;AAC1BoC,MAAQ,EAAR,GACAme,EAAE8S,eAAF,EADA;AACE,GAFmB,qBAdzB;AAAA,MAmBMlgB,IAAoBnT,OAAK;AAC3BoC,MAAQ,EAAR,GACAme,EAAE8S,eAAF,EADA;AACE,GAFoB,sBAnB1B;AAAA,MAwBMjgB,IAAewgB,GACjBrT,KAAS;AACLA,MAAM8S,eAAN,IACArgB,EACI9Q,CADJ,EAEI;AAAEN,UAAI/B,EAAO+B,EAAb;AAAiBogB,oBAAcniB;AAA/B,KAFJ,EAGIuB;AACIwd,iBAAW,MAAM;AACbxc,UAAQ,EAAR,GACAC,EAAO,yBAAP,EAAkC;AAC9BR,gBAAM,MADwB;AAE9ByxB,uBAAa;AAAE7J,yBAAa;AAAf,WAFiB;AAG9B8J,oBAAUp0B,MAAiB;AAHG,SAAlC,CADA,EAMAgN,EAAS,CAACtM,EAAO+B,EAAR,CAAT,CANA,EAOAmR,EAASxT,CAAT,EAAqB2C,CAArB,CAPA;AAOqB,OAT7B;AAWIigB,eAASR,CAAC,IAAiB;AACvBvf,UAAQ,EAAR,GAEAC,EACI,OAAOsf,CAAP,IAAiB,QAAjB,GACMA,CADN,GAEMA,EAAMzY,OAAN,IAAiB,4BAH3B,EAII;AACIrH,gBAAM,SADV;AAEIyxB,uBAAa;AACThpB,eACI,OAAOqX,CAAP,IAAiB,QAAjB,GACMA,CADN,GAEMA,KAASA,EAAMzY,OAAf,GACAyY,EAAMzY,OADN,GAEA;AAND;AAFjB,SAJJ,CAFA;AAcsB,OA1B9B;AA+BI+X;AA/BJ,OAgCO/f,CAhCP,CAHJ,CADA,EAuCI,OAAO9B,CAAP,IAAmB,UAAnB,IACAA,EAAQmhB,CAAR,CAxCJ;AAwCY,GA1CC,EA6CjB,CACIvN,CADJ,EAEI7T,CAFJ,EAGI+B,CAHJ,EAIImB,CAJJ,EAKIjD,CALJ,EAMIS,CANJ,EAOIkT,CAPJ,EAQIxT,CARJ,EASI2C,CATJ,EAUIiK,CAVJ,CA7CiB,CAxBrB;AAmFA,SAAO;AACH0nB,WADG;AAEH7f,gBAFG;AAGH8f,uBAHG;AAIHC,wBAJG;AAKHP;AALG,GAAP;AAKI,CA3F+B,mCAAvC;AAAA,IAuHOQ,KAAQN,EAvHf;ACjEA;ACAA;AAEA;AACA;AAkCO,IAAMO,KAAsBj0B,cAEM;AAAA,MADrCJ,CACqC,uEADM,EACN;AAvCzC;AAwCI,MAAM;AACFs0B,4BADE;AAEFnB,aAFE;AAGFC,cAAU7zB,CAHR;AAIF2N,gBAJE;AAKFomB,yBAAkB;AALhB,MAMFtzB,CANJ;AAQAoV,KAAiB;AAAEC,aAAS,CAACpV;AAAZ,GAAjB;;AACA,MAAMqC,IAAW8J,EAAmBpM,CAAnB,CAAjB;AAAA,MACM;AAAEwpB,cAAF;AAAWC;AAAX,MAAuBS,GAAsBlqB,CAAtB,CAD7B;AAAA,MAEMyC,IACFlD,KAAcg1B,GAAwB/xB,CAAxB,EAAiCD,CAAjC,CAHlB;AAAA,MAIMgK,IAAWioB,IAJjB;AAAA,MAKMrhB,IAAYzI,GALlB;AAAA,MAMM0I,IAAShK,GANf;AAAA,MAOMiK,IAAWlR,IAPjB;AAAA,MAQMmR,IAAc,qBAAUmhB,GAAsBloB,CAAtB,CAAV,gBAA6C,MARjE;AAAA,MASwDqV,KATxD;AAAA,MASQ;AAAA5C;AAAWuD;AAAX,MAAgDX,CATxD;AAAA,MAS+BjB,MAAyBiB,CAAzB,GAAvB,WAAuB,EAAZ,SAAY,EAT/B;AAAA,MAWM,CAACG,CAAD,EAAS;AAAE3N,eAAW4N;AAAb,GAAT,IAAkCpB,GACpCte,CADoC,EAEpC,MAFoC,EAGpCqe,CAHoC,CAXxC;AAAA,MAiBMY,IAAOmT,GACT,UACI5S,CADJ;AAAA,QAEI;AACI9C,iBAAWyD,CADf;AAEIF,eAASG,CAFb;AAGIxV,iBAAWyV;AAHf,KAFJ,uEAMQ,EANR;AAAA,WAQIpf,QAAQC,OAAR,CACImf,IACMA,EAAkBb,CAAlB,CADN,GAEMtiB,IACAA,EAAUsiB,CAAV,CADA,GAEAA,CALV,EAME7X,IANF,CAMQ2Y,KACJb,EACIzf,CADJ,EAEI;AAAE6Z;AAAF,KAFJ,EAGI;AACI6C,iBAAWyD,KAELlP,CAFK,KAILsP,KAAa;AACTzP,UAAO,yBAAP,EAAkC;AAC9BnR,gBAAM,MADwB;AAE9ByxB,uBAAa;AAAE7J,yBAAa;AAAf;AAFiB,SAAlC,GAIAxW,EACI5Q,CADJ,EAEIH,CAFJ,EAGIugB,EAAU7gB,EAHd,EAII6gB,CAJJ,CAJA;AAQI,OAbH,CADf;AAiBIN,eAASG,KAEHlP,CAFG,KAIFqP,KAAiB;AACdzP,UACI,OAAOyP,CAAP,IAAiB,QAAjB,GACMA,CADN,GAEMA,EAAMvZ,OAAN,IACI,4BAJd,EAKI;AACIrH,gBAAM,SADV;AAEIyxB,uBAAa;AACThpB,eACI,OAAOmY,CAAP,IAAiB,QAAjB,GACMA,CADN,GAEMA,KAASA,EAAMvZ,OAAf,GACAuZ,EAAMvZ,OADN,GAEA;AAND;AAFjB,SALJ;AAasB,OAlBvB;AAjBb,KAHJ,CAPJ,CARJ;AAAA,GADS,EA8DT,CACIyY,CADJ,EAEItf,CAFJ,EAGI2Q,CAHJ,EAIII,CAJJ,EAKID,CALJ,EAMIF,CANJ,EAOI/Q,CAPJ,EAQI9C,CARJ,CA9DS,CAjBb;AAAA,MA2FMiiB,IAAmBmI,IA3FzB;AAAA,MA4FMlI,IAAevO,EAAU,gBAAV,EAA4B;AAC7C/K,UAAMqZ,EAAiBnf,CAAjB,EAA2B,CAA3B;AADuC,GAA5B,CA5FrB;;AAgGA,SAAO;AACHgb,gBAAY,EADT;AAEHlJ,eAAW,EAFR;AAGHugB,aAHG;AAIHC,mBAJG;AAKHC,WALG;AAMH9yB,eANG;AAOHoxB,YAAQ7f,CAPL;AAQH8f,cAAU3wB;AARP,GAAP;AAQc,CApHiB,wBAA5B;AAAA,IAyJMgyB,KAAwBr0B,YAAiC;AAAA,MAAhC;AAAEuC,YAAF;AAASgR;AAAT,GAAgC;AAClE,MAAI3T,KAAUA,EAA0BmzB,MAAxC,EACI,OAAQnzB,EAA0BmzB,MAAlC;AAEJ,MAAIlzB,CAAJ,EACI,IAAI;AACA,QAAMN,IAAem1B,GAAM70B,CAAN,CAArB;;AACA,QAAIN,EAAa+M,MAAjB,EAAyB;AACrB,UAAIvF,MAAMuU,OAAN,CAAc/b,EAAa+M,MAA3B,CAAJ,EAAwC;AACpCvC,gBAAQC,KAAR,CACI,8CAA8CnK,sHADlD;AAGA;AAEJ;;AAAA,aAAO+F,KAAKO,KAAL,CAAW5G,EAAa+M,MAAxB,CAAP;AAA+B;AAAA,GATvC,CASuC,MAErC;AACEvC,YAAQC,KAAR,CACI,8CAA8CnK,sHADlD;AAKR;AAAA,SAAO,IAAP;AAAO,CAtB0B,0BAzJ9B;AAAA,IAsLDs0B,KAA0Bn0B,GAACJ,CAAD,EAAUC,CAAV,KACxBA,IACO,MADP,GAGAD,IACO,MADP,GAGG,MAPqB,4BAtLzB;ACrCP;ACAA;AACA;AASO,IAAM+0B,KAAgBC,GACzB,MADyB,CAAtB;AAIPD,GAAc/wB,WAAd,GAA4B,eAA5B;AAwBO,IAAMixB,KAAwB70B;AAAA,MAEnC;AACEf,eADF;AAEEqB;AAFF,GAFmC;AAAA,SAMjCw0B,iBAACH,GAAct0B,QAAf;AAAwBC,WAAOT;AAA/B,KAAuCD,CAAvC,CANiC;AAAA,2BAA9B;ACtCP;AAqBO,IAAMm1B,KAAgBC,GAAsC;AAC/DjC,UAAQ,IADuD;AAE/DyB,gBAAc,IAFiD;AAG/DtX,cAAY,IAHmD;AAI/DlJ,aAAW,IAJoD;AAK/Dgf,YAAU,IALqD;AAM/DrxB,YAAU,IANqD;AAO/D8yB,QAAM,IAPyD;AAQ/DF,UAAQ;AARuD,CAAtC,CAAtB;AAWPQ,GAAcnxB,WAAd,GAA4B,eAA5B;AChCA;AAwBO,IAAMqxB,KAAcC,GAAgC,MAAhC,CAApB;ACxBP;AAGO,IAAMC,KAAsBn1B;AAAA,MAAC;AAAEf,eAAF;AAAYqB;AAAZ,GAAD;AAAA,SAC/B80B,iBAACH,GAAY50B,QAAb;AAAsBC,WAAOT;AAA7B,KAAqCD,CAArC,CAD+B;AAAA,yBAA5B;ACHP;AACA;AAMO,IAAMy1B,KAAqBr1B,EAG9BJ,KAEc01B,GACV,MAAMC,GAAK31B,CAAL,EAAc,CAAC,MAAD,EAAS,QAAT,EAAmB,cAAnB,CAAd,CADI,EAGV,CAACA,EAAQ60B,IAAT,EAAe70B,EAAQ20B,MAAvB,EAA+B30B,EAAQqhB,YAAvC,CAHU,CALgB,uBAA3B;ACPP;AAcO,IAAMuU,KAAiBx1B,EAG1BJ,KAEO61B,GAAWR,EAAX,CALmB,mBAAvB;ANkBA,IAAMS,KAAwB11B;AAAA,MAAC;AAClCf,eADkC;AAElCqB;AAFkC,GAAD;AAAA,SAOjCq1B,iBAACZ,GAAc10B,QAAf;AAAwBC,WAAOT;AAA/B,KACI81B,iBAACR,EAAD;AACI70B,WAAO6N,QACAknB,GAAmBx1B,CAAnB,CADA;AAEHohB,oBAAc;AAFX;AADX,KAMI0U,iBAACd,EAAD;AACIv0B,WAAOT,KAASA,EAAMkzB;AAD1B,KAGKnzB,CAHL,CANJ,CADJ,CAPiC;AAAA,2BAA9B;AFMA,IAAMg2B,KAAa51B,EAAoCT,KAGE;AAHF;AAAA,MAC1D;AAAAN;AAAA,MAD0DE;AAAA,MAEvDU,MAFuDV,CAEvD,GADH,UACG,EAFuD;AAI1D,0BAACu2B,EAAD;AAAuBp1B,WAAO2zB,GAAoBp0B,CAApB;AAA9B,KACKD,CADL;AACK,CALiB,eAAnB;ASnBA,IAAMi2B,KAAmB71B,EAACT,KAKH;AALG;AAAA,MAC7B;AAAAN;AAAA,MAD6BE;AAAA,MAE1BU,MAF0BV,CAE1B,GADH,UACG,EAF0B;AAM7B,MAAMC,IAAkB60B,GAAoBp0B,CAApB,CAAxB;AACA,SAAOD,EAASR,CAAT,CAAP;AAAgB,CAPY,qBAAzB;ACnBP;AACA;AAuBO,IAAM02B,KAAmB91B,EAC5BJ,KAC8C;AAC9C,MAAMC,IAAUk2B,GAGZhB,EAHY,CAAhB;AAMA,SAAOiB,GACH,MACIC,GACI,EADJ,EAEIr2B,KAAS,IAAT,GAAgBs2B,GAA0Bt2B,CAA1B,CAAhB,GAAmD,EAFvD,EAGIC,CAHJ,CAFD,EAOH,CAACA,CAAD,EAAUD,CAAV,CAPG,CAAP;AAOc,CAhBc,qBAAzB;AAAA,IA2BDs2B,KAA4Bl2B;AAAA,MAAC;AAC/B+yB,aAD+B;AAE/ByB,mBAF+B;AAG/BtX,iBAH+B;AAI/BlJ,gBAJ+B;AAK/Bgf,eAL+B;AAM/BrxB,eAN+B;AAO/B8yB,WAP+B;AAQ/BF;AAR+B,GAAD;AAAA,SAStB;AACRxB,aADQ;AAERyB,mBAFQ;AAGRtX,iBAHQ;AAIRlJ,gBAJQ;AAKRgf,eALQ;AAMRrxB,eANQ;AAOR8yB,WAPQ;AAQRF;AARQ,GATsB;AAAA,+BA3B3B;ACxBP;ACAA;AACA;AA4CO,IAAM4B,KAAoBn2B,cAEM;AAAA,MADnCJ,CACmC,uEADM,EACN;AACnC,MAAM;AACFs0B,4BADE;AAEFtyB,QAAIrC,CAFF;AAGF0hB,sBAAe,UAHb;AAIFiS,yBAAkB,EAJhB;AAKFkD,sBAAe,EALb;AAMFpD,cAAU9wB,IAAam0B,EANrB;AAOFvpB;AAPE,MAQFlN,CARJ;AASAoV,KAAiB;AAAEC,aAAS,CAACpV;AAAZ,GAAjB;;AACA,MAAMuC,IAAW4J,EAAmBpM,CAAnB,CAAjB;AAAA,MACMyC,IAAYiI,GADlB;AAAA,MAEM6B,IAASnD,GAFf;AAAA,MAGM+J,IAAWhR,IAHjB;AAAA,MAIMiR,IAAU0K,IAJhB;AAAA,MAKM;AAAE9b,QAAIqR;AAAN,MAAkBqjB,IALxB;AAAA,MAMMpjB,IAAK3T,KAAWg3B,mBAAmBtjB,CAAnB,CANtB;AAAA,MAOwDuP,KAPxD;AAAA,MAOQ;AAAA5D;AAAWuD;AAAX,MAAgDK,CAPxD;AAAA,MAO+BjC,MAAyBiC,CAAzB,GAAvB,WAAuB,EAAZ,SAAY,EAP/B;AAAA,MASM;AAAEzG,UAAM4F,CAAR;AAAgB3X,YAAhB;AAAuBgK,gBAAvB;AAAkCkJ,iBAAlC;AAA8CsZ;AAA9C,MAA0D1Y,GAG5D1b,CAH4D,EAI5D;AAAER;AAAF,GAJ4D,EAK5DR;AACI+gB,aAAS,MAAM;AACXhW,QAAO,mCAAP,EAA4C;AACxCtK,cAAM;AADkC,OAA5C,GAGAkR,EAAS,MAAT,EAAiB3Q,CAAjB,CAHA,EAIA4Q,GAJA;AAIA,KANR;AAQIyjB,wBAAoB,EARxB;AASIC,0BAAsB,EAT1B;AAUIrX,WAAO;AAVX,KAWOne,CAXP,CAL4D,CAThE;;AA8BA,MAAIygB,KAAUA,EAAO/f,EAAjB,IAAuB+f,EAAO/f,EAAP,IAAasR,CAAxC,EACI,MAAM,IAAItG,KAAJ,CACF,qDAAqD+U,EAAO/f,sCAAsCsR,IADhG,CAAN;AAKJ,MAAMqO,IAAmBiI,IAAzB;AAAA,MACMhI,IAAenf,EAAU,cAAV,EAA0B;AAC3C2F,UAAMuZ,EAAiBnf,CAAjB,EAA2B,CAA3B,CADqC;AAE3CR,SAF2C;AAG3CmxB;AAH2C,GAA1B,CADrB;AAAA,MAOMrR,IAAe;AAAE9f,SAAF;AAAMogB,kBAAcL;AAApB,GAPrB;AAAA,MASM,CAACU,CAAD,EAAS;AAAErO,eAAWsO;AAAb,GAAT,IAAkCvB,GACpC3e,CADoC,EAEpCsf,CAFoC,EAGpCvT,QAAKoS,CAAL;AAA2BU;AAA3B,IAHoC,CATxC;AAAA,MAeMsB,IAAOoU,GACT,UACIlU,CADJ;AAAA,QAEI;AACI7D,iBAAW8D,CADf;AAEIP,eAASa,CAFb;AAGIlW,iBAAW8pB;AAHf,KAFJ,uEAMQ,EANR;AAAA,WAQIzzB,QAAQC,OAAR,CACIwzB,IACMA,EAAkBnU,CAAlB,EAAwB;AACpBT,oBAAcN,EAAaM;AADP,KAAxB,CADN,GAIM7f,IACAA,EAAUsgB,CAAV,EAAgB;AACZT,oBAAcN,EAAaM;AADf,KAAhB,CADA,GAIAS,CATV,EAUE5Y,IAVF,CAUOgtB,CAAC,IACJxU,EACIjgB,CADJ,EAEI;AAAE2Z;AAAF,KAFJ,EAGI;AACI6C,iBAAW8D,KAELvP,CAFK,KAIL,MAAM;AACFhH,UAAO,yBAAP,EAAkC;AAC9BtK,gBAAM,MADwB;AAE9ByxB,uBAAa;AAAE7J,yBAAa;AAAf,WAFiB;AAG9B8J,oBAAUp0B,MAAiB;AAHG,SAAlC,GAKA4T,EAAS7Q,CAAT,EAAqBE,CAArB,EAA+By0B,EAAKj1B,EAApC,EAAwCi1B,CAAxC,CALA;AAKwC,OAVvC,CADf;AAaI1U,eAASa,KAEH5P,CAFG,KAIF0jB,KAA0B;AACvB3qB,UACI,OAAO2qB,CAAP,IAAiB,QAAjB,GACMA,CADN,GAEMA,EAAM5tB,OAAN,IACI,4BAJd,EAKI;AACIrH,gBAAM,SADV;AAEIyxB,uBAAa;AACThpB,eACI,OAAOwsB,CAAP,IAAiB,QAAjB,GACMA,CADN,GAEMA,KAASA,EAAM5tB,OAAf,GACA4tB,EAAM5tB,OADN,GAEA;AAND;AAFjB,SALJ;AAasB,OAlBvB;AAbb,KAHJ,CAXJ,CARJ;AAAA,GADS,EA8DT,CACI/J,CADJ,EAEIgN,CAFJ,EAGIiH,CAHJ,EAIID,CAJJ,EAKIJ,CALJ,EAMI7Q,CANJ,EAOIE,CAPJ,EAQID,CARJ,EASIkgB,CATJ,EAUIX,EAAaM,YAVjB,CA9DS,CAfb;AA2FA,SAAO;AACHwS,mBADG;AAEHxqB,YAFG;AAGHkT,iBAHG;AAIHlJ,gBAJG;AAKHiN,mBALG;AAMH8R,aANG;AAOHC,cAAUqD,EAPP;AAQHG,cARG;AASH70B,eATG;AAUH8yB,WAVG;AAWHF;AAXG,GAAP;AAWI,CAvJyB,sBAA1B;AAAA,IA4LD8B,KAAkB,MA5LjB;AC7CP;ACAA;AAgCO,IAAMU,KAAmB/2B,EAG5BJ,KACyB;AAGzB,MAAMC,IAAUm3B,GAAuBrC,EAAvB,CAAhB;AAEA,SAAQ/0B,KAASA,EAAMmzB,MAAf,IAA0BlzB,CAAlC;AAAkC,CATN,qBAAzB;AChBA,IAAMo3B,KAAaj3B,YAES;AAAA,MAFqB;AACpD0V;AADoD,GAErB;AAC/B,MAAM7V,IAASk3B,IAAf;AACA,SAAOl3B,IAASD,EAAOC,CAAP,CAAT,GAA0B,IAAjC;AAAiC,CAJX,eAAnB;AChBP;AAoBO,IAAMq3B,KAAgCl3B;AAAA,MAE3C;AACEM,YADF;AAEErB;AAFF,GAF2C;AAAA,SASzCW,IACIu3B,iBAACtC,EAAD;AAAuBv0B,WAAOV;AAA9B,KAAsCC,CAAtC,CADJ,GAGIA,CAZqC;AAAA,mCAAtC;ACpBP;AAqBO,IAAMu3B,KAAcC,GAAoC;AAC3DtE,UAAQ,IADmD;AAE3DyB,gBAAc,IAF6C;AAG3DtX,cAAY,IAH+C;AAI3DlJ,aAAW,IAJgD;AAK3DiN,gBAAc,IAL6C;AAM3D+R,YAAU,IANiD;AAO3DwD,WAAS,IAPkD;AAQ3D70B,YAAU,IARiD;AAS3D8yB,QAAM,IATqD;AAU3DF,UAAQ;AAVmD,CAApC,CAApB;AAaP6C,GAAYxzB,WAAZ,GAA0B,aAA1B;AJHO,IAAM0zB,KAAsBt3B;AAAA,MAAC;AAChCf,eADgC;AAEhCqB;AAFgC,GAAD;AAAA,SAO/Bi3B,iBAACH,GAAY/2B,QAAb;AAAsBC,WAAOT;AAA7B,KACI03B,iBAACpC,EAAD;AAAqB70B,WAAO+0B,GAAmBx1B,CAAnB;AAA5B,KACI03B,iBAAC1C,EAAD;AACIv0B,WAAOT,KAASA,EAAMkzB;AAD1B,KAGKnzB,CAHL,CADJ,CADJ,CAP+B;AAAA,yBAA5B;AFKA,IAAM43B,KAAWx3B,EAAoCT,KAGE;AAHF;AAAA,MACxD;AAAAN;AAAA,MADwDE;AAAA,MAErDU,MAFqDV,CAErD,GADH,UACG,EAFqD;AAIxD,0BAACm4B,EAAD;AAAqBh3B,WAAO61B,GAA8Bt2B,CAA9B;AAA5B,KACKD,CADL;AACK,CALe,aAAjB;AOjBA,IAAM63B,KAAiBz3B,EAACT,KAKH;AALG;AAAA,MAC3B;AAAAN;AAAA,MAD2BE;AAAA,MAExBU,MAFwBV,CAExB,GADH,UACG,EAFwB;AAM3B,MAAMC,IAAkB+2B,GAAkBt2B,CAAlB,CAAxB;AACA,SAAOD,EAASR,CAAT,CAAP;AAAgB,CAPU,mBAAvB;ACnBP;AACA;AAuBO,IAAMs4B,KAAiB13B,EAC1BJ,KAC4C;AAG5C,MAAMC,IAAU83B,GAA6CP,EAA7C,CAAhB;;AAGA,SAAOQ,GACH,MACIC,GACI,EADJ,EAEIj4B,KAAS,IAAT,GAAgBk4B,GAAwBl4B,CAAxB,CAAhB,GAAiD,EAFrD,EAGIC,CAHJ,CAFD,EAOH,CAACA,CAAD,EAAUD,CAAV,CAPG,CAAP;AAOc,CAfY,mBAAvB;AAAA,IA0BDk4B,KAA0B93B;AAAA,MAAC;AAC7B+b,WAD6B;AAE7BgX,aAF6B;AAG7ByB,mBAH6B;AAI7BtX,iBAJ6B;AAK7BlJ,gBAL6B;AAM7BiN,mBAN6B;AAO7B+R,eAP6B;AAQ7BrxB,eAR6B;AAS7B8yB,WAT6B;AAU7BF;AAV6B,GAAD;AAAA,SAWpB;AAGRxY,UAAMlc,KAAUD,CAHR;AAIRmzB,YAAQlzB,KAAUD,CAJV;AAKR40B,mBALQ;AAMRtX,iBANQ;AAORlJ,gBAPQ;AAQRiN,mBARQ;AASR+R,eATQ;AAURrxB,eAVQ;AAWR8yB,WAXQ;AAYRF;AAZQ,GAXoB;AAAA,6BA1BzB;ACxBP;ACAA;ACAA;ACAA;AAYO,IAAMwD,KAAqB/3B,EAC9BJ,KASC;AACD,MAAMC,IAAW,GAAGD,eAApB;AAAA,MACM,CAACL,CAAD,EAAMJ,CAAN,IAAgBwK,GAAS9J,CAAT,EAAmBm4B,EAAnB,CADtB;AAAA,MAEM54B,IAAQkT,GAAmBzS,CAAnB,CAFd;AAAA,MAIMqB,IAAqB+2B,GACvB,OAAO;AACHC,YAASh2B,KAA2B;AAC5B,OAACA,CAAL,IACA/C,EAAO,CAAC,GAAG+C,CAAJ,CAAP,CADI;AACO,KAHZ;;AAKHi2B,aAASj2B,CAAT,EAAoC;AAC5B,OAACA,CAAL,IAAoBA,EAAYoC,MAAZ,KAAuB,CAAvC,IACJnF,EAAOgD,KACE4E,MAAMuU,OAAN,CAAcnZ,CAAd,IACEA,EAAIqc,MAAJ,CAAWpc,KAAM,CAACF,EAAYkX,QAAZ,CAAqBhX,CAArB,CAAlB,CADF,GAA2B,EADpC,CADA;AAEoC,KARrC;;AAYHg2B,YAASl2B,KAAmB;AACpB,aAAOA,CAAX,IAAkB,WAAd,IACJ/C,EAAOgD,KAAO;AACV,YAAI,CAAC4E,MAAMuU,OAAN,CAAcnZ,CAAd,CAAL,EAAyB,OAAO,CAAC,GAAGA,CAAJ,CAAP;AACzB,YAAMC,IAAQD,EAAIk2B,OAAJ,CAAYn2B,CAAZ,CAAd;AACA,eAAOE,IAAQ,EAAR,GACD,CAAC,GAAGD,EAAIqM,KAAJ,CAAU,CAAV,EAAapM,CAAb,CAAJ,EAAyB,GAAGD,EAAIqM,KAAJ,CAAUpM,IAAQ,CAAlB,CAA5B,CADC,GAED,CAAC,GAAGD,CAAJ,EAASD,CAAT,CAFN;AAEe,OALnB,CADA;AAMmB,KAnBpB;AAsBHo2B,oBAAgB,MAAM;AAClBl5B;AAAA;AAvBD,GAAP,CADuB,EA2BvB,CAACD,CAAD,EAASC,CAAT,CA3BuB,CAJ3B;AAkCA,SAAO,CAACG,CAAD,EAAM2B,CAAN,CAAP;AAAa,CA7CiB,uBAA3B;AAAA,IAgDD82B,KAAmB,EAhDlB;ACZP;AACA;AACA;AACA;AACA;AA0EO,IAAMO,KAAgBv4B,YAOqB;AAAA,MAPpB;AAC1B2B,eAD0B;AAE1B62B,0BAF0B;AAG1Bna,cAAOoa,EAHmB;AAI1Bra,iBAAU,EAJgB;AAK1Bsa,kBAAW,GALe;AAM1BC,iCAA0B;AANA,GAOoB;AAC9C,MAAMz2B,IAAW02B,IAAjB;AAAA,MACMz2B,IAAW02B,IADjB;AAAA,MAEM,CAACz2B,CAAD,EAAcC,CAAd,IAAgCy2B,GAASC,EAAT,CAFtC;AAAA,MAGM5sB,IAAW,GAAGvM,cAHpB;AAAA,MAIM,CAACmT,CAAD,EAASC,CAAT,IAAsBrJ,GAASwC,CAAT,EAAmB4sB,EAAnB,CAJ5B;AAAA,MAKM9lB,IAAa+lB,IALnB;AAAA,MAMM9lB,IAAY+lB,IANlB;AAAA,MAQM9lB,IAAmB,CACrBjR,EAASqR,MADY,EAErB3T,CAFqB,EAGrBgG,KAAKC,SAAL,CAAe3E,IAA0BkB,CAA1B,GAAwC2Q,CAAvD,CAHqB,EAIrBnN,KAAKC,SAAL,CAAehG,CAAf,CAJqB,EAKrB+F,KAAKC,SAAL,CAAetG,CAAf,CALqB,EAMrBJ,CANqB,EAOrB+B,CAPqB,CARzB;AAAA,MAkBMkS,IAAoBlS,IACpB,EADoB,GAEpBg4B,GAAuBh3B,CAAvB,CApBN;AAAA,MAsBMqe,IAAQ4Y,GACV,MACIv3B,GAAS;AACLw3B,wBADK;AAELlkB,YAAQhU,IAA0BkB,CAA1B,GAAwC2Q,CAF3C;AAGLylB,0BAHK;AAILna,WAJK;AAKLD;AALK,GAAT,CAFM,EASVjL,CATU,CAtBd;AAsCAkmB,KAAU,MAAM;AACRx0B,WAAOC,IAAX,CAAgBsO,CAAZ,EAA+B9O,MAAnC,GAA4C,CAA5C,IACI0O,EAAUuN,CAAV,CADA;AACU,GAFlB,EAIG,CAACre,EAASqR,MAAV,CAJH;AAMA,MAAMoO,IAAe2X,GAAY/W,KAAU;AAInC,KAACrP,EAAU/B,OAAX,KAEC8B,EAAW9B,OAAX,GA8BD8B,EAAW9B,OAAX,GAAqBsgB,GAAaxe,EAAW9B,OAAxB,EAAiCoR,CAAjC,CA9BpB,IAEDtP,EAAW9B,OAAX,GAAqBsgB,GAAalR,CAAb,EAAoBgC,CAApB,CAArB,EAEArQ,WAAW,MAAM;AACThR,UACAmB,EAAe4Q,EAAW9B,OAA1B,CADA,GAIAhP,EACI;AACIoR,gBAAQ,IAAIgmB,GAAUprB,QACf8E,EAAW9B,OADI;AAElBqN,kBAAQ5Y,KAAKC,SAAL,CACJoN,EAAW9B,OAAX,CAAmBqN,MADf,CAFU;AAKlB6S,4BAAkBzrB,KAAKC,SAAL,CACdoN,EAAW9B,OAAX,CAAmBkgB,gBADL;AALA,UAAV,CAMe;AAP/B,OADJ,EAYI;AACI9uB,eAAO;AAAEC,wBAAc+f,EAAO1gB,IAAP,KAAgBgvB;AAAhC;AADX,OAZJ,CAJJ,EAqBA5d,EAAW9B,OAAX,GAAqB,MArBjB;AAqBiB,KAtBzB,EAuBG,CAvBH,CAJC,CAFL;AA6BO,GAjCU,EAsClBgC,CAtCkB,CAArB;AAAA,MAwCMyO,IAAU0X,GACX/W,KACGZ,EAAa;AACT9f,UAAM6uB,EADG;AAETU,aAAS7O;AAFA,GAAb,CAFQ,EAMZpP,CANY,CAxChB;AAAA,MAiDMgO,IAAUmY,GACX/W,KAAoBZ,EAAa;AAAE9f,UAAMgvB,EAAR;AAAkBO,aAAS7O;AAA3B,GAAb,CADT,EAEZpP,CAFY,CAjDhB;AAAA,MAsDMkO,IAAaiY,GACd/W,KACGZ,EAAa;AAAE9f,UAAMivB,EAAR;AAAsBM,aAAS7O;AAA/B,GAAb,CAFW,EAGfpP,CAHe,CAtDnB;AAAA,MA4DMmO,IAAef,EAAM/B,MAAN,IAAgBgb,EA5DrC;AAAA,MA6DMjY,IAAwBhB,EAAM8Q,gBAAN,IAA0BmI,EA7DxD;AAAA,MA+DMhY,IAAsBiY,GAAe,CAAClX,CAAD,EAASC,CAAT,KAA8B;AACrEb,MAAa;AACT9f,YAAMkvB,EADG;AAETK,eAAS;AACL5S,gBAAQpQ,EAAYmU,CAAZ,CADH;AAEL8O;AAFK;AAFA,KAAb;AAIQ,GALgB,EAQzBjyB,CARyB,CA/D5B;AAAA,MAyEMsiB,IAAa4X,GACf,UAAC/W,CAAD,EAASC,CAAT;AAAA,QAA2BC,CAA3B,uEAAsC,EAAtC;AAAA,WACIA,IACMjB,EAAoBe,CAApB,EAA4BC,CAA5B,CADN,GAEMb,EAAa;AACT9f,YAAMkvB,EADG;AAETK,eAAS;AACL5S,gBAAQpQ,EAAYmU,CAAZ,CADH;AAEL8O;AAFK;AAFA,KAAb,CAHV;AAAA,GADe,EAWfle,CAXe,CAzEnB;AAAA,MAuFMkP,IAAaiX,GAAa/W,KAAuB;AACnDZ,MAAa;AACT9f,YAAMovB,EADG;AAETG,eAAS7O;AAFA,KAAb;AAEa,GAHE,EAKhBpP,CALgB,CAvFnB;AAAA,MA8FMmP,IAAagX,GAAY,CAAC/W,CAAD,EAAqBC,CAArB,KAA2C;AACtEb,MAAa;AACT9f,YAAMmvB,EADG;AAETI,eAAS;AACLE,qBADK;AAELC;AAFK;AAFA,KAAb;AAIQ,GALO,EAQhBpe,CARgB,CA9FnB;AAwGA,SAAO,CACH/R;AACIiwB,sBAAkB9P,CADtB;AAEImY,mBAFJ;AAGIC;AAHJ,KAIOpZ,CAJP,CADG,EAOH;AACIqZ,mBADJ;AAEIlH,cAFJ;AAGIC,iBAHJ;AAIIZ,cAJJ;AAKI8H,iBALJ;AAMIC,iBANJ;AAOIC;AAPJ,GAPG,CAAP;AAcQ,CA1KiB,kBAAtB;AAAA,IA+KMC,KAAmB,CAC5B,MAD4B,EAE5B,SAF4B,EAG5B,MAH4B,EAI5B,OAJ4B,EAK5B,QAL4B,EAM5B,kBAN4B,CA/KzB;AAAA,IAwLDC,KAAcj6B,GAACJ,CAAD,EAAQC,CAAR,KAAkB;AAClC,MAAID,EAAMC,CAAN,KAAgB,OAAOD,EAAMC,CAAN,CAAP,IAAwB,QAA5C,EACI,IAAI;AACAD,MAAMC,CAAN,IAAe+F,KAAKO,KAAL,CAAWvG,EAAMC,CAAN,CAAX,CAAf;AAAgC,GADpC,CACoC,MAClC;AACE,WAAOD,EAAMC,CAAN,CAAP;AAAa;AAAA,CALL,gBAxLb;AAAA,IAkMMq5B,KAAyBl5B,YAAqC;AAAA,MAApC;AAAEuT;AAAF,GAAoC;AACvE,MAAM1T,IAAQq6B,GACVC,GAAMv6B,CAAN,CADU,EAEV,CAACL,CAAD,EAAIJ,CAAJ,KAAU66B,GAAiB3B,OAAjB,CAAyBl5B,CAAzB,MAAgC,EAFhC,CAAd;AAIA,YAAYU,CAAZ,EAAmB,QAAnB,GACAo6B,GAAYp6B,CAAZ,EAAmB,kBAAnB,CADA,EAEOA,CAFP;AAEO,CAP2B,2BAlM/B;AAAA,IAyNMu6B,KAAkBp6B,EAACJ,KAExBA,KACAA,EAAO4e,MADP,KAEC3Z,OAAOC,IAAP,CAAYlF,EAAO4e,MAAnB,EAA2Bla,MAA3B,GAAoC,CAApC,IACG1E,EAAO2e,KAAP,IAAgB,IADnB,IAEG3e,EAAOue,IAAP,KAAgB,CAFnB,IAGGve,EAAOwe,OAAP,IAAkB,IAHrB,IAIGxe,EAAOye,IAAP,IAAe,IANnB,CAFuB,oBAzNxB;AAAA,IA2OMzc,KAAW5B,YAMlB;AAAA,MANmB;AACrBo5B,wBADqB;AAErBlkB,aAFqB;AAGrBsjB,0BAHqB;AAIrBna,WAJqB;AAKrBD;AALqB,GAMnB;AACF,MAAMld,IACF2D,OAAOC,IAAP,CAAYlF,CAAZ,EAA+B0E,MAA/B,GAAwC,CAAxC,GACM1E,CADN,GAEMw6B,GAAgBv6B,CAAhB,IACAuB,MAAKvB,CAAL,CADA,GAEA;AAAE2e,YAAQjf,KAAuB;AAAjC,GALV;AAOA,SAAK2B,EAAMmd,IAAN,KACDnd,EAAMmd,IAAN,GAAalf,EAAKmf,KAAlB,EACApd,EAAMqd,KAAN,GAAcpf,EAAKof,KAFlB,GAIDrd,EAAMkd,OAAN,IAAiB,IAAjB,KACAld,EAAMkd,OAAN,GAAgBhf,CADhB,CAJC,EAOD8B,EAAMid,IAAN,IAAc,IAAd,KACAjd,EAAMid,IAAN,GAAa,CADb,CAPC,EAWEhQ,QACAjN,CADA;AAEHid,UAAMkc,GAAmBn5B,EAAMid,IAAzB,EAA+B,CAA/B,CAFH;AAGHC,aAASic,GAAmBn5B,EAAMkd,OAAzB,EAAkC,EAAlC;AAHN,IAXP;AAc+C,CA5B3B,aA3OjB;AAAA,IA2QMic,KAAqBr6B,GAC9BJ,CAD8B,EAE9BC,CAF8B,KAG7B;AACD,MAAMN,IACF,OAAOK,CAAP,IAA0B,QAA1B,GACM2sB,SAAS3sB,CAAT,EAAyB,EAAzB,CADN,GAEMA,CAHV;AAKA,SAAOmsB,MAAMxsB,CAAN,IAAsBM,CAAtB,GAAqCN,CAA5C;AAA4C,CATd,uBA3Q3B;AAAA,IAqTDi6B,KAAc,EArTb;AAAA,IAuTDf,KAAc;AAChBna,SAAO,IADS;AAEhBC,SAAOoS;AAFS,CAvTb;AAAA,IA4TDoI,KAAgB,EA5Tf;AF/CA,IAAMuB,KAAoBt6B,cAEM;AAAA,MADnCJ,CACmC,uEADM,EACN;AACnC,MAAM;AACFs0B,4BADE;AAEFqG,kBAAW1P,EAFT;AAGF2N,0BAHE;AAIFna,cAAOmc,EAJL;AAKFpc,iBAAU,EALR;AAMFI,aANE;AAOFka,kBAAW,GAPT;AAQFC,8BARE;AASFvC;AATE,MAUFx2B,CAVJ;AAWAoV,KAAiB;AAAEC,aAAS,CAACpV;AAAZ,GAAjB;AACA,MAAMsM,IAAWH,EAAmBpM,CAAnB,CAAjB;AAEA,MAAI,CAACuM,CAAL,EACI,MAAM,IAAIS,KAAJ,CACF,6GADE,CAAN;AAIJ,MAAI1K,KAAUu4B,GAAev4B,CAAf,CAAd,EACI,MAAM,IAAI0K,KAAJ,CACF,uNADE,CAAN;;AAKJ,MAAMmG,IAAYzI,GAAlB;AAAA,MACM0I,IAAShK,GADf;AAAA,MAGM,CAACiK,CAAD,EAAQC,CAAR,IAA0BqlB,GAAc;AAC1C52B,eAD0C;AAE1C62B,0BAF0C;AAG1Cna,WAH0C;AAI1CD,cAJ0C;AAK1Csa,eAL0C;AAM1CC;AAN0C,GAAd,CAHhC;AAAA,MAYM,CAACxlB,CAAD,EAAcC,CAAd,IAAoC2kB,GAAmB5rB,CAAnB,CAZ1C;AAAA,MAcM;AACF4P,WADE;AAEF4C,eAFE;AAGF3C,YAHE;AAIFhS,YAJE;AAKFgK,gBALE;AAMFkJ,iBANE;AAOFsZ;AAPE,MAQFvY,GACA9R,CADA,EAEA;AACI+R,gBAAY;AACRC,YAAMlL,EAAMkL,IADJ;AAERC,eAASnL,EAAMmL;AAFP,KADhB;AAKIC,UAAM;AAAEC,aAAOrL,EAAMoL,IAAf;AAAqBE,aAAOtL,EAAMsL;AAAlC,KALV;AAMIC,YAAQpd,QAAK6R,EAAMuL,MAAX,GAAsBtc,CAAtB;AANZ,GAFA,EAUAd;AACIs5B,sBAAkB,EADtB;AAEIrb,WAAO,EAFX;AAGI8C,aAASG,KACLtP,EAAO,wBAAO9J,OAAP,KAAkB,4BAAzB,EAAuD;AACnDrH,YAAM,SAD6C;AAEnDyxB,mBAAa;AACThpB,WAAGgY,uBAAOpZ;AADD;AAFsC,KAAvD;AAJR,KAUO7G,CAVP,CAVA,CAtBJ;;AA+CAs4B,KAAU,MAAM;AACZ,QACI1nB,EAAMkL,IAAN,IAAc,CAAd,IACC,CAACmD,CAAD,IAAerO,EAAMkL,IAAN,GAAa,CAA5B,IAAiCoC,EAAKjc,MAAL,KAAgB,CAFtD,EAGE;AAEE4O,QAAewf,OAAf,CAAuB,CAAvB;AACA;AAEJ;;AAAA,QAAI9Q,KAAS,IAAb,EACI;AAEJ,QAAMU,IAAatc,KAAK40B,IAAL,CAAUhZ,IAAQ3O,EAAMmL,OAAxB,KAAoC,CAAvD;AACA,KAAKkD,CAAD,IAAerO,EAAMkL,IAAN,GAAamE,CAAhC,IAGIpP,EAAewf,OAAf,CAAuBpQ,CAAvB,CAHA;AAGuB,GAhB/B,EAkBG,CAAChB,CAAD,EAAarO,EAAMkL,IAAnB,EAAyBlL,EAAMmL,OAA/B,EAAwCmC,CAAxC,EAA8CrN,CAA9C,EAA8D0O,CAA9D,CAlBH;AAoBA,MAAMJ,IAAcqZ,GAChB,OAAO;AACHvc,WAAOrL,EAAMoL,IADV;AAEHE,WAAOtL,EAAMsL;AAFV,GAAP,CADgB,EAKhB,CAACtL,EAAMoL,IAAP,EAAapL,EAAMsL,KAAnB,CALgB,CAApB;AAAA,MAQMmD,IAAmB8H,IARzB;AAAA,MASMnH,IAAetP,EAAU,cAAV,EAA0B;AAC3C/K,UAAM0Z,EAAiBvV,CAAjB,EAA2B,CAA3B;AADqC,GAA1B,CATrB;AAaA,SAAO;AACHkS,UAAMmD,CADH;AAEHzF,WAFG;AAGHyY,mBAHG;AAIHnD,sBAAkBpe,EAAMoe,gBAJrB;AAKHrnB,YALG;AAMHuwB,eANG;AAOH/b,aAPG;AAQHkb,kBAAczmB,EAAMymB,YARjB;AASHI,gBAAY5mB,EAAe4mB,UATxB;AAUH5c,iBAVG;AAWHlJ,gBAXG;AAYH8mB,cAAU1nB,EAAmB8kB,MAZ1B;AAaH6C,kBAAc3nB,EAAmBglB,MAb9B;AAcH4C,qBAAiB5nB,EAAmBklB,cAdjC;AAeHna,UAAMlL,EAAMkL,IAfT;AAgBHC,aAASnL,EAAMmL,OAhBZ;AAiBHoY,cAjBG;AAkBH70B,eAlBG;AAmBHs5B,kBAnBG;AAoBHpB,gBAAY3mB,EAAe2mB,UApBxB;AAqBHnH,aAASxf,EAAewf,OArBrB;AAsBHC,gBAAYzf,EAAeyf,UAtBxB;AAuBHZ,aAAS7e,EAAe6e,OAvBrB;AAwBHgI,gBAAY7mB,EAAe6mB,UAxBxB;AAyBH/d,WAAO4F,CAzBJ;AA0BHsZ,iBAAavZ,IACPA,EAASuZ,WADF,GAEPtZ,KAAS,IAAT,GACA3O,EAAMkL,IAAN,GAAalL,EAAMmL,OAAnB,GAA6BwD,CAD7B,GAEA,MA9BH;AA+BHuZ,qBAAiBxZ,IAAWA,EAASwZ,eAApB,GAAsCloB,EAAMkL,IAAN,GAAa;AA/BjE,GAAP;AA+BwE,CA3I3C,sBAA1B;AAAA,IAsKDqc,KAAc;AAChBlc,SAAO,IADS;AAEhBC,SAAOoS;AAFS,CAtKb;AAAA,IA6MMyK,KAAgB,CACzB,MADyB,EAEzB,MAFyB,EAGzB,cAHyB,EAIzB,kBAJyB,EAKzB,OALyB,EAMzB,UANyB,EAOzB,cAPyB,EAQzB,YARyB,EASzB,YATyB,EAUzB,WAVyB,EAWzB,UAXyB,EAYzB,cAZyB,EAazB,iBAbyB,EAczB,MAdyB,EAezB,SAfyB,EAgBzB,SAhByB,EAiBzB,SAjByB,EAkBzB,UAlByB,EAmBzB,aAnByB,EAoBzB,YApByB,EAqBzB,SArByB,EAsBzB,YAtByB,EAuBzB,SAvByB,EAwBzB,YAxByB,EAyBzB,OAzByB,EA0BzB,YA1ByB,CA7MtB;AAAA,IA+OMC,KAAyBr7B,OAClCo7B,GAAcltB,MAAd,CAAqB,CAACrO,CAAD,EAAMN,CAAN,KAAe4O,QAAKtO,CAAL;AAAA,GAAWN,CAAX,GAAiBK,EAAML,CAAN;AAAjB,EAApC,EAAoE,EAApE,CADkC,2BA/O/B;AAAA,IAuPM+7B,KAAwBt7B,OACjC6E,OAAOC,IAAP,CAAYlF,CAAZ,EACK4e,MADL,CACY3e,KAAY,CAACu7B,GAAchiB,QAAd,CAAuBvZ,CAAvB,CADzB,EAEKqO,MAFL,CAEY,CAACrO,CAAD,EAAMN,CAAN,KAAe4O,QAAKtO,CAAL;AAAA,GAAWN,CAAX,GAAiBK,EAAML,CAAN;AAAjB,EAF3B,EAE2D,EAF3D,CADiC,0BAvP9B;AG/BP;ACAA;AAsDO,IAAMg8B,KAAcC,GAAoC;AAC3Dnd,QAAM,IADqD;AAE3DtC,QAAM,IAFqD;AAG3DyY,gBAAc,IAH6C;AAI3DnD,oBAAkB,IAJyC;AAK3DkJ,YAAU,IALiD;AAM3Db,gBAAc,IAN6C;AAO3DwB,eAAa,IAP8C;AAQ3DC,mBAAiB,IAR0C;AAS3DrB,cAAY,IAT+C;AAU3D5c,cAAY,IAV+C;AAW3DlJ,aAAW,IAXgD;AAY3D8mB,YAAU,IAZiD;AAa3DC,gBAAc,IAb6C;AAc3DC,mBAAiB,IAd0C;AAe3D7c,QAAM,IAfqD;AAgB3DC,WAAS,IAhBkD;AAiB3DoY,WAAS,IAjBkD;AAkB3D70B,YAAU,IAlBiD;AAmB3Ds5B,eAAa,MAnB8C;AAoB3DpB,cAAY,IApB+C;AAqB3DnH,WAAS,IArBkD;AAsB3DC,cAAY,IAtB+C;AAuB3DZ,WAAS,IAvBkD;AAwB3DgI,cAAY,IAxB+C;AAyB3D/d,SAAO;AAzBoD,CAApC,CAApB;AA4BPuf,GAAY33B,WAAZ,GAA0B,aAA1B;AClFA;AACA;AAsCO,IAAM63B,KAAoBC,GAAsC;AACnErK,oBAAkB,IADiD;AAEnEqI,gBAAc,IAFqD;AAGnEI,cAAY,IAHuD;AAInED,cAAY,IAJuD;AAKnEE,cAAY,IALuD;AAMnEp4B,YAAU;AANyD,CAAtC,CAA1B;AAAA,IAmBMg6B,KAAuB37B,EAChCJ,KAEAg8B,GACI,MACIC,GAAKj8B,CAAL,EAAc,CACV,kBADU,EAEV,cAFU,EAGV,YAHU,EAIV,YAJU,EAKV,YALU,EAMV,UANU,CAAd,CAFR,EAWI,CACIA,EAAQyxB,gBADZ,EAEIzxB,EAAQ85B,YAFZ,EAGI95B,EAAQk6B,UAHZ,EAIIl6B,EAAQi6B,UAJZ,EAKIj6B,EAAQm6B,UALZ,CAXJ,CAHgC,yBAnB7B;AA0CP0B,GAAkB73B,WAAlB,GAAgC,mBAAhC;ACjFA;AACA;AAmCO,IAAMk4B,KAAkBC,GAAoC;AAC/D1d,QAAM,IADyD;AAE/D0T,WAAS,IAFsD;AAG/DpwB,YAAU;AAHqD,CAApC,CAAxB;AAAA,IAWMq6B,KAAqBh8B,EAC9BJ,KAEAq8B,GACI,MAAMC,GAAKt8B,CAAL,EAAc,CAAC,MAAD,EAAS,SAAT,EAAoB,UAApB,CAAd,CADV,EAGI,CAACA,EAAQye,IAAT,EAAeze,EAAQmyB,OAAvB,CAHJ,CAH8B,uBAX3B;AAoBP+J,GAAgBl4B,WAAhB,GAA8B,iBAA9B;ACxDA;AACA;AA0CO,IAAMu4B,KAAwBC,GAA0C;AAC3EpoB,aAAW,IADgE;AAE3EmK,QAAM,IAFqE;AAG3EC,WAAS,IAHkE;AAI3EsU,WAAS,IAJkE;AAK3EC,cAAY,IAL+D;AAM3EwI,mBAAiB,IAN0D;AAO3ED,eAAa,IAP8D;AAQ3Elf,SAAO,MARoE;AAS3Era,YAAU;AATiE,CAA1C,CAA9B;AAYPw6B,GAAsBv4B,WAAtB,GAAoC,uBAApC;AAeO,IAAMy4B,KAA2Br8B,EACpCJ,KAEA08B,GACI,MACIC,GAAK38B,CAAL,EAAc,CACV,WADU,EAEV,iBAFU,EAGV,aAHU,EAIV,MAJU,EAKV,SALU,EAMV,SANU,EAOV,YAPU,EAQV,OARU,EASV,UATU,CAAd,CAFR,EAcI,CACIA,EAAQoU,SADZ,EAEIpU,EAAQu7B,eAFZ,EAGIv7B,EAAQs7B,WAHZ,EAIIt7B,EAAQue,IAJZ,EAKIve,EAAQwe,OALZ,EAMIxe,EAAQ8yB,OANZ,EAOI9yB,EAAQ+yB,UAPZ,EAQI/yB,EAAQoc,KARZ,CAdJ,CAHoC,6BAAjC;AJlCA,IAAMwgB,KAAsBx8B;AAAA,MAAC;AAAEM,YAAF;AAASrB;AAAT,GAAD;AAAA,SAC/Bw9B,iBAAClB,GAAYl7B,QAAb;AAAsBC,WAAOV;AAA7B,KACI68B,iBAAChB,GAAkBp7B,QAAnB;AAA4BC,WAAOq7B,GAAqB/7B,CAArB;AAAnC,KACI68B,iBAACX,GAAgBz7B,QAAjB;AAA0BC,WAAO07B,GAAmBp8B,CAAnB;AAAjC,KACI68B,iBAACN,GAAsB97B,QAAvB;AACIC,WAAO+7B,GAAyBz8B,CAAzB;AADX,KAGKC,CAHL,CADJ,CADJ,CADJ,CAD+B;AAAA,yBAA5B;AJKA,IAAM68B,KAAW18B,EAAoCT,KAGE;AAHF;AAAA,MACxD;AAAAN;AAAA,MADwDE;AAAA,MAErDU,MAFqDV,CAErD,GADH,UACG,EAFqD;AAIxD,0BAACmpB,EAAD;AAAyBhoB,WAAOT,EAAM8B;AAAtC,KACIg7B,iBAACH,EAAD;AAAqBl8B,WAAOg6B,GAA8Bz6B,CAA9B;AAA5B,KACKD,CADL,CADJ;AAES,CANW,aAAjB;AStBA,IAAMg9B,KAAiB58B,EAACT,KAKH;AALG;AAAA,MAC3B;AAAAN;AAAA,MAD2BE;AAAA,MAExBU,MAFwBV,CAExB,GADH,UACG,EAFwB;AAM3B,MAAMC,IAAkBk7B,GAAkBz6B,CAAlB,CAAxB;AACA,SAAOD,EAASR,CAAT,CAAP;AAAgB,CAPU,mBAAvB;ACnBP;AACA;AACA;AASA,IAAMy9B,KAAU78B,QAAM;AAClB,QAAM,IAAI4M,KAAJ,CACF,mFADE,CAAN;AACI,CAFQ,YAAhB;AAAA,IAwCakwB,KAAU98B,EACnBJ,KAC2B;AAC3B,MAAM;AACFmc,WADE;AAEF/R,YAFE;AAGFwU,gBAASue,EAHP;AAIF7f,oBAAa,EAJX;AAKFlJ,mBAAY,EALV;AAMFmK,UAAMjc,IAAc,CANlB;AAOFkc,aAASjc,IAAiB,GAPxB;AAQFkc,UAAMjc,IAAc46B;AARlB,MASFp9B,CATJ;AAAA,MAUMyC,IAAW2J,EAAmBpM,CAAnB,CAVjB;AAAA,MAYM,CAACuM,CAAD,EAAgB4G,CAAhB,IAAoCd,EACtC7S,CADsC,CAZ1C;AAAA,MAeM,CAAC4T,CAAD,EAAeC,CAAf,IAAkChB,EAAyB/Q,CAAzB,CAfxC;AAAA,MAiBM,CAACgS,CAAD,EAAaC,CAAb,IAA8BlB,EAGjC,OAAO;AACN8J,WADM;AAENC,WAAOnc,IAAOA,EAAKyE,MAAZ,GAAqB;AAFtB,GAAP,CAHiC,CAjBpC;AAAA,MA0BM;AAAE6Z,WAAF;AAAQuU,cAAR;AAAiBtU,cAAjB;AAA0BuU;AAA1B,MAAyCL,GAAmB;AAC9DnU,UAAMjc,CADwD;AAE9Dkc,aAASjc;AAFqD,GAAnB,CA1B/C;AAAA,MAgCM;AAAEkc,WAAF;AAAQ0T,aAAS1Q;AAAjB,MAAkC8Q,GAAa/vB,CAAb,CAhCxC;AAAA,MAiCMkf,IAAU2b,GACZrG,CAAC,IAAsB;AACnBvV,MAAauV,CAAb,GACArW,EAAQ,CAAR,CADA;AACQ,GAHA,EAKZ,CAACA,CAAD,EAAUc,CAAV,CALY,CAjChB;AAAA,MA0CM,CAACE,CAAD,EAAcC,CAAd,IAAoCuW,GAAmB11B,CAAnB,CA1C1C;AAAA,MA6CMqf,IAAYwb,GAAO/9B,CAAP,CA7ClB;AAAA,MA8CM,CAACkjB,CAAD,EAAmBC,CAAnB,IAA0CrQ,EAE7C,EAF6C,CA9ChD;AAAA,MAiDM,CAACsQ,CAAD,EAAeC,CAAf,IAAkCvQ,EAErC9S,CAFqC,CAjDxC;AAAA,MAoDMsjB,IAAawa,GACfrG,CAAC,IAAuB;AACpBtU,MAAoBuU,KAAiB;AACjC,UAAyCsG,KAAzC;AAAA,UAAS;AAAA,aAAarG;AAAb,UAAgCqG,CAAzC;AACA,aAD4BC,EAAaD,CAAb,GAAnBE,KAAmB,EAC5B;AADS,KADb,GAIA7a,EAAgBqU,KAAiB;AAC7B,UAAyCsG,KAAzC;AAAA,UAAS;AAAA,aAAarG;AAAb,UAAgCqG,CAAzC;AACA,aAD4BC,EAAaD,CAAb,GAAnBE,KAAmB,EAC5B;AADS,KADb,CAJA;AAKa,GAPF,EAWf,CAAC/a,CAAD,EAAsBE,CAAtB,CAXe,CApDnB;AAAA,MAiEME,IAAaua,GACf,CAACrG,CAAD,EAAqBC,CAArB,KAA2C;AACvCvU,MAAoBwU,KAAkB3oB,QAC/B2oB,CAD+B;AAAA,OAEjCF,CAFiC,GAEpB;AAFoB,MAAtC,GAIApU,EAAgBsU,KACZ1oB,EAAYD,QACL2oB,CADK;AAAA,OAEPF,CAFO,GAEMC;AAFN,MAAZ,CADJ,CAJA;AAOsB,GATX,EAaf,CAACvU,CAAD,EAAsBE,CAAtB,CAbe,CAjEnB;AAAA,MAgFMQ,IAAaia,GACf,CAACrG,CAAD,EAAUC,CAAV,KAA+B;AAC3BrU,MAAgBpU,EAAYwoB,CAAZ,CAAhB,GACIC,KACAvU,EAAoBuU,CAApB,CAFJ,EAIAtW,EAAQ,CAAR,CAJA;AAIQ,GANG,EAQf,CAAC+B,CAAD,EAAsBE,CAAtB,EAAuCjC,CAAvC,CARe,CAhFnB;AA2FA,YAAU,MAAM;AACZ+c,MAAK,CAAQn+B,CAAR,EAAgBuiB,EAAUvQ,OAA1B,CAAL,KACIuQ,EAAUvQ,OAAV,GAAoBhS,CAApB,EACAqjB,EAAgBrjB,CAAhB,CAFJ;AAEoB,GAHxB,GAQAo+B,GACI,MAAM;AACF,QAAIr8B,KAAa,CAACrB,CAAlB,EAAwB;AAGxB,QAAI+2B,IAAW/2B,EAAK2e,MAAL,CAAYsY,KACvBjyB,OAAO24B,OAAP,CAAejb,CAAf,EAA6B4J,KAA7B,CACI,UAA+B;AAAA,UAA9B,CAACsR,CAAD,EAAaN,CAAb,CAA8B;AAC3B,UAAMO,IAAcC,GAAI7G,CAAJ,EAAY2G,CAAZ,CAApB;AAUA,aATe12B,MAAMuU,OAAN,CAAcoiB,CAAd,IACT32B,MAAMuU,OAAN,CAAc6hB,CAAd,IACIO,EAAYte,IAAZ,CAAiBwe,MACbT,EAAY/jB,QAAZ,CAAqBwkB,EAArB,CADJ,CADJ,GAIIF,EAAYtkB,QAAZ,CAAqB+jB,CAArB,CALK,GAMTp2B,MAAMuU,OAAN,CAAc6hB,CAAd,IACAA,EAAY/jB,QAAZ,CAAqBskB,CAArB,CADA,GAEAP,KAAeO,CACrB;AADqB,KAX7B,CADW,CAAf;AAAA,QAkBM7G,IAAiBD,EAAStyB,MAlBhC;AAqBI6c,MAAK7C,KAAT,KACIsY,IAAWA,EAASvY,IAAT,CAAc,CAACyY,CAAD,EAAI2G,CAAJ,KACjBE,GAAI7G,CAAJ,EAAO3V,EAAK7C,KAAZ,IAAqBqf,GAAIF,CAAJ,EAAOtc,EAAK7C,KAAZ,CAArB,GACO6C,EAAK5C,KAAL,KAAe,KAAf,GAAuB,CAAvB,GAA2B,EADlC,GAGAof,GAAI7G,CAAJ,EAAO3V,EAAK7C,KAAZ,IAAqBqf,GAAIF,CAAJ,EAAOtc,EAAK7C,KAAZ,CAArB,GACO6C,EAAK5C,KAAL,KAAe,KAAf,GAAuB,EAAvB,GAA4B,CADnC,GAGG,CAPA,CADf,GAaAqY,IAAWA,EAASpoB,KAAT,CAAgB,KAAO,CAAP,IAAYmT,CAA5B,EAAqCvO,IAAOuO,CAA5C,CAbP,EAeJxO,EAAc;AACV4I,YAAM6a,CADI;AAEV5a,aAAO6a;AAFG,KAAd,CAfA;AAiBW,GA3CnB,EA8CI,CAEIjxB,KAAKC,SAAL,CAAehG,CAAf,CAFJ,EAGI0iB,CAHJ,EAIIrhB,CAJJ,EAKIkS,CALJ,EAMIuO,CANJ,EAOIxO,CAPJ,EAQIgO,EAAK7C,KART,EASI6C,EAAK5C,KATT,CA9CJ,CARA,EAmEAgf,GAAU,MAAM;AACZn+B,KAAI,KAAe+M,CAAnB,IACI4G,EAAiB3T,CAAjB,CADA;AACiB,GAFzB,EAIG,CAACA,CAAD,EAAa+M,CAAb,EAA4B4G,CAA5B,CAJH,CAnEA,EAyEAwqB,GAAU,MAAM;AACZr8B,KAAI,KAAc8R,CAAlB,IACIC,EAAgB/R,CAAhB,CADA;AACgB,GAFxB,EAIG,CAACA,CAAD,EAAY8R,CAAZ,EAA0BC,CAA1B,CAJH,CAzEA,EA+EO;AACHoL,WADG;AAEHtC,UAAM7I,EAAW6I,IAFd;AAGHyY,kBAAc,EAHX;AAIHxqB,YAJG;AAKHqnB,uBALG;AAMHqI,mBANG;AAOHwB,iBAAa9nB,IAAOuO,CAAP,GAAiBzO,EAAW8I,KAPtC;AAQHmf,qBAAiB/nB,IAAO,CARrB;AASH0mB,iBATG;AAUH5c,gBAAY/Q,CAVT;AAWH6H,eAAWhB,CAXR;AAYH8nB,cAAUtZ,EAAmB0W,MAZ1B;AAaH6C,kBAAcvZ,EAAmB4W,MAb9B;AAcH4C,qBAAiBxZ,EAAmB8W,cAdjC;AAeHna,WAfG;AAgBHC,cAhBG;AAiBHzc,cAAU,MAjBP;AAkBH60B,eAlBG;AAmBHyE,kBAnBG;AAoBHpB,iBApBG;AAqBHnH,cArBG;AAsBHC,iBAtBG;AAuBHZ,cAvBG;AAwBHgI,iBAxBG;AAyBH/d,WAAO9I,EAAW8I;AAzBf,GA/EP;AAwGsB,CAtMH,YAxCvB;AAAA,IAkQM+gB,KAAgB,EAlQtB;AAAA,IAmQMC,KAAc;AAAE1e,SAAO,IAAT;AAAeC,SAAO;AAAtB,CAnQpB;ACXA;AACA;AA2FO,IAAMsf,KAAiB79B,EAC1BJ,KACmC;AACnC,MAAMC,IAAUi+B,GAAWvC,EAAX,CAAhB;AAGA,SAAOwC,GACH,MACIC,GACI,EADJ,EAEIp+B,KAAS,IAAT,GAAgBq+B,GAAwBr+B,CAAxB,CAAhB,GAAiD,EAFrD,EAGIC,CAHJ,CAFD,EAOH,CAACA,CAAD,EAAUD,CAAV,CAPG,CAAP;AAOc,CAbY,mBAAvB;AAAA,IAwBDq+B,KAA0Bj+B;AAAA,MAAC;AAC7Bqe,WAD6B;AAE7BtC,WAF6B;AAG7ByY,mBAH6B;AAI7BnD,uBAJ6B;AAK7BkJ,eAL6B;AAM7Bb,mBAN6B;AAO7BvQ,gBAP6B;AAQ7B2Q,iBAR6B;AAS7B5c,iBAT6B;AAU7BlJ,gBAV6B;AAW7B8mB,eAX6B;AAY7BC,mBAZ6B;AAa7BC,sBAb6B;AAc7B7c,WAd6B;AAe7BC,cAf6B;AAgB7BoY,cAhB6B;AAiB7B70B,eAjB6B;AAkB7Bs5B,kBAlB6B;AAmB7BpB,iBAnB6B;AAoB7BnH,cApB6B;AAqB7BC,iBArB6B;AAsB7BZ,cAtB6B;AAuB7BgI,iBAvB6B;AAwB7B/d;AAxB6B,GAAD;AAAA,SAyBzB;AACHqC,WADG;AAEHtC,WAFG;AAGHyY,mBAHG;AAIHnD,uBAJG;AAKHkJ,eALG;AAMHb,mBANG;AAOHvQ,gBAPG;AAQH2Q,iBARG;AASH5c,iBATG;AAUHlJ,gBAVG;AAWH8mB,eAXG;AAYHC,mBAZG;AAaHC,sBAbG;AAcH7c,WAdG;AAeHC,cAfG;AAgBHoY,cAhBG;AAiBH70B,eAjBG;AAkBHs5B,kBAlBG;AAmBHpB,iBAnBG;AAoBHnH,cApBG;AAqBHC,iBArBG;AAsBHZ,cAtBG;AAuBHgI,iBAvBG;AAwBH/d;AAxBG,GAzByB;AAAA,6BAxBzB;AC5FP;AAsBO,IAAMkiB,KAAuBl+B,EAACJ,KAAwC;AACzE,MAAMC,IAAUs+B,GAAW1C,EAAX,CAAhB;AACA,SAAK57B,EAAQi6B,UAAR,GAkBEj6B,CAlBF,IAWG+Q,QAAQC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,IACA/G,QAAQsH,GAAR,CACI,iNADJ,CADA,EAKGzR,CAhBN,CAAL;AAgBW,CAlBqB,yBAA7B;ACtBP;AA2BO,IAAMw+B,KAA2Bp+B,EACpCJ,KAC6B;AAC7B,MAAMC,IAAUw+B,GAAWlC,EAAX,CAAhB;AACA,SAAKt8B,EAAQ6yB,OAAR,GAkBE7yB,CAlBF,IAWG+Q,QAAQC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,IACA/G,QAAQsH,GAAR,CACI,iNADJ,CADA,EAKGzR,CAhBN,CAAL;AAgBW,CApByB,6BAAjC;AC3BP;AAmBO,IAAM0+B,KAAqBt+B,EAACJ,KAAsC;AACrE,MAAMC,IAAU0+B,GAAWzC,EAAX,CAAhB;AACA,SAAKj8B,EAAQkyB,OAAR,GAkBElyB,CAlBF,IAWG+Q,QAAQC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,IACA/G,QAAQsH,GAAR,CACI,iNADJ,CADA,EAKGzR,CAhBN,CAAL;AAgBW,CAlBmB,uBAA3B;ACnBP;AAaO,IAAMuzB,KAAcnzB,EAACJ,KAAqB;AAC7C,MAAM,GAAG;AAAEu4B;AAAF,GAAH,IAAmBJ,GAAmBn4B,CAAnB,CAAzB;AACA,SAAO4+B,GACFj/B,KAAsB;AACnBM,MAASN,CAAT;AAAS,GAFV,EAIH,CAACM,CAAD,CAJG,CAAP;AAIK,CANkB,gBAApB;ACbP;AAYO,IAAM4+B,KAAiBz+B,EAACJ,KAAqB;AAChD,MAAM,GAAG;AAAE04B;AAAF,GAAH,IAAyBP,GAAmBn4B,CAAnB,CAA/B;AACA,SAAO8+B,GAAY,MAAM;AACrB7+B;AAAA,GADG,EAEJ,CAACA,CAAD,CAFI,CAAP;AAEI,CAJsB,mBAAvB;ACZP;AAmBO,IAAM8+B,KAAc3+B,YACvBJ,CADuB,EAEvBC,CAFuB,EAIC;AAAA,MADxBN,CACwB,uEADN,EACM;AACxB,MAAM,CAACJ,CAAD,EAAcC,CAAd,IAAgCuK,GAClC,GAAG/J,qBAD+B,EAElC,EAFkC,CAAtC;AAAA,MAIMsB,IAAW6F,MAAMuU,OAAN,CAAcnc,CAAd,IAEXA,EAAYuc,GAAZ,CAAgBvZ,KAAMA,KAAMtC,CAA5B,EAAgCw4B,OAAhC,CAAwC,EAAxC,MAAkD,EAFvC,GAGX,EAPN;AAAA,MASMn2B,IAAiB08B,GAAY,MAAM;AACrCx/B,MAAe+C,KAAO;AAClB,UAAI,CAAC4E,MAAMuU,OAAN,CAAcnZ,CAAd,CAAL,EACI,OAAO,CAACtC,CAAD,CAAP;AAEJ,UAAMuC,IAAQD,EAAIsf,SAAJ,CAAcpf,KAAMA,KAAMxC,CAA1B,CAAd;AACA,aAAOuC,IAAQ,EAAR,GACD7C,IACI,EADJ,GAEI,CAAC,GAAG4C,EAAIqM,KAAJ,CAAU,CAAV,EAAapM,CAAb,CAAJ,EAAyB,GAAGD,EAAIqM,KAAJ,CAAUpM,IAAQ,CAAlB,CAA5B,CAHH,GAID7C,IACA,CAACM,CAAD,CADA,GAEA,CAAC,GAAGsC,CAAJ,EAAStC,CAAT,CANN;AAMe,KAXnB;AAWmB,GAZA,EAcpB,CAACT,CAAD,EAAiBS,CAAjB,EAAqBN,CAArB,CAdoB,CATvB;AAyBA,SAAO,CAAC2B,CAAD,EAAWgB,CAAX,CAAP;AAAkB,CA9BK,gBAApB;AlBDP,IAAM28B,KAAa,EAAnB;AAAA,IACMC,KAAgB,EADtB;AAAA,IAEMC,KAAc;AAAEzgB,SAAO,IAAT;AAAeC,SAAO;AAAtB,CAFpB;AAAA,IA2BaygB,KAAmCh/B,EAC5CJ,KACuB;AACvB,MAAM;AACF4e,gBAASsgB,EADP;AAEF3gB,cAAO,CAFL;AAGFC,iBAAU,GAHR;AAIF2U,aAJE;AAKFjE,gBALE;AAMFzQ,cAAO0gB,EANL;AAOFzyB;AAPE,MAQF1M,CARJ;AAAA,MASMwC,IAAS4G,GATf;AAAA,MAUM3G,IAAM48B,GAAI7/B,CAAJ,EAAY+C,CAAZ,KAAuB08B,EAVnC;AAAA,MAWM;AAAE9iB,WAAF;AAAQ/R,YAAR;AAAegK,gBAAf;AAA0BkJ,iBAA1B;AAAsCsZ;AAAtC,MAAkDlX,GACpDpe,CADoD,EAEpD;AAAE6d;AAAF,GAFoD,EAGpD;AACIoD,aAAS/O,KACLhR,EACI,OAAOgR,CAAP,IAAiB,QAAjB,GACMA,CADN,GAEMA,EAAMlK,OAAN,IAAiB,4BAH3B,EAII;AACIrH,YAAM,SADV;AAEIyxB,mBAAa;AACThpB,WACI,OAAO8I,CAAP,IAAiB,QAAjB,GACMA,CADN,GAEMA,KAASA,EAAMlK,OAAf,GACAkK,EAAMlK,OADN,GAEA;AAND;AAFjB,KAJJ;AAFR,GAHoD,CAXxD;AAAA,MAmCMiK,IAAY2pB,GAAQ;AACtB/gB,WADsB;AAEtB/R,YAFsB;AAGtBwU,aAHsB;AAItBtB,iBAJsB;AAKtBlJ,gBALsB;AAMtBmK,WANsB;AAOtBC,cAPsB;AAQtBC;AARsB,GAAR,CAnClB;AA8CA,SAAOlQ,QACAgF,CADA;AAEHqhB,kBAAc,IAFX;AAGHgC,cAHG;AAIH70B,cAAUT;AAJP,IAAP;AAIc,CArD8B,qCA3BhD;AmBlBA;AACA;AACA;AAuBA,IAAMg+B,KAAgB,EAAtB;AAAA,IAmCaC,KAAkCn/B,EAC3CJ,KACuB;AACvB,MAAM;AACFkvB,gBADE;AAEFiE,aAFE;AAGF3S,aAHE;AAIF5B,gBAAS0gB,EAJP;AAKF5yB,aALE;AAMF6R,UAAMjc,CANJ;AAOFkc,aAASjc,CAPP;AAQFkc,UAAMjc,IAAc;AAAEkc,aAAO,IAAT;AAAeC,aAAO;AAAtB;AARlB,MASF3e,CATJ;AAAA,MAUMyC,IAAS2G,GAVf;AAAA,MAaM;AAAEmV,WAAF;AAAQuU,cAAR;AAAiBtU,cAAjB;AAA0BuU;AAA1B,MAAyCL,GAAmB;AAC9DnU,UAAMjc,CADwD;AAE9Dkc,aAASjc;AAFqD,GAAnB,CAb/C;AAAA,MAmBM;AAAEkc,WAAF;AAAQ0T,aAAS5e;AAAjB,MAAkCgf,GAAa/vB,CAAb,CAnBxC;AAAA,MAoBMgR,IAAUgsB,GACXvI,KAAsB;AACnB1jB,MAAa0jB,CAAb,GACA9jB,EAAQ,CAAR,CADA;AACQ,GAHA,EAKZ,CAACA,CAAD,EAAUI,CAAV,CALY,CApBhB;AAAA,MA6BM,CAACoN,CAAD,EAAcoB,CAAd,IAAoCoW,GAAmBl4B,CAAnB,CA7B1C;AAAA,MAgCM+hB,IAAYyd,GAAOjgC,CAAP,CAhClB;AAAA,MAiCM,CAAC+hB,CAAD,EAAmBE,CAAnB,IAA0CpP,EAE7C,EAF6C,CAjChD;AAAA,MAoCM,CAACqP,CAAD,EAAeC,CAAf,IAAkCtP,EAErC7S,CAFqC,CApCxC;AAAA,MAuCMoiB,IAAa4d,GACdvI,KAAuB;AACpBxV,MAAoByV,KAAiB;AACjC,UAAyC4G,KAAzC;AAAA,UAAS;AAAA,aAAaD;AAAb,UAAgCC,CAAzC;AACA,aAD4BN,EAAaM,CAAb,GAAnBL,KAAmB,EAC5B;AADS,KADb,GAIA9b,EAAgBuV,KAAiB;AAC7B,UAAyC4G,KAAzC;AAAA,UAAS;AAAA,aAAaD;AAAb,UAAgCC,CAAzC;AACA,aAD4BN,EAAaM,CAAb,GAAnBL,KAAmB,EAC5B;AADS,KADb,CAJA;AAKa,GAPF,EAWf,CAAChc,CAAD,EAAsBE,CAAtB,CAXe,CAvCnB;AAAA,MAoDMG,IAAa0d,GACf,CAACvI,CAAD,EAAqBC,CAArB,KAA2C;AACvCzV,MAAoBoc,KAAkBtvB,QAC/BsvB,CAD+B;AAAA,OAEjC5G,CAFiC,GAEpB;AAFoB,MAAtC,GAIAtV,EAAgBkc,KAAkBtvB,QAC3BsvB,CAD2B;AAAA,OAE7B5G,CAF6B,GAEhBC;AAFgB,MAAlC,CAJA;AAMkB,GARP,EAWf,CAACzV,CAAD,EAAsBE,CAAtB,CAXe,CApDnB;AAAA,MAiEMc,IAAa+c,GACf,CAACvI,CAAD,EAAUC,CAAV,KAA+B;AAC3BvV,MAAgBnT,EAAYyoB,CAAZ,CAAhB,GACAxV,EAAoByV,CAApB,CADA,EAEA/jB,EAAQ,CAAR,CAFA;AAEQ,GAJG,EAMf,CAACsO,CAAD,EAAsBE,CAAtB,EAAuCxO,CAAvC,CANe,CAjEnB;AA0EAusB,KAAU,MAAM;AACPC,OAAQngC,CAAR,EAAgBwiB,EAAUzQ,OAA1B,CAAL,KACIyQ,EAAUzQ,OAAV,GAAoB/R,CAApB,EACAmiB,EAAgBniB,CAAhB,CAFJ;AAEoB,GAHxB;AAOA,MAAM;AACF2c,WADE;AAEFC,YAFE;AAGF2C,eAHE;AAIF3U,YAJE;AAKFkT,iBALE;AAMFlJ,gBANE;AAOFwiB;AAPE,MAQFrW,GACAtgB,CADA,EAEA;AACIugB,aADJ;AAEIxe,QAAI49B,GAAIjgC,CAAJ,EAAY2B,CAAZ,CAFR;AAGIgd,gBAAY;AAAEC,aAAF;AAAQC;AAAR,KAHhB;AAIIC,WAJJ;AAKIG,YAAQ8C;AALZ,GAFA,EASA;AACIoZ,sBAAkB,EADtB;AAEIvY,aAAS0U,KACLx0B,EACI,OAAOw0B,CAAP,IAAiB,QAAjB,GACMA,CADN,GAEMA,EAAM3tB,OAAN,IAAiB,4BAH3B,EAII;AACIrH,YAAM,SADV;AAEIyxB,mBAAa;AACThpB,WACI,OAAOusB,CAAP,IAAiB,QAAjB,GACMA,CADN,GAEMA,KAASA,EAAM3tB,OAAf,GACA2tB,EAAM3tB,OADN,GAEA;AAND;AAFjB,KAJJ;AAHR,GATA,CARJ;AAuCA,SAAO;AACHmV,WADG;AAEHtC,WAFG;AAGHyY,kBAAc,IAHX;AAIHnD,uBAJG;AAKHrnB,YALG;AAMH0vB,mBANG;AAOHI,iBAPG;AAQH5c,iBARG;AASHlJ,gBATG;AAUH8mB,cAAUnZ,EAAmBuW,MAV1B;AAWH6C,kBAAcpZ,EAAmByW,MAX9B;AAYH4C,qBAAiBrZ,EAAmB2W,cAZjC;AAaHna,WAbG;AAcHC,cAdG;AAeHoY,cAfG;AAgBH70B,cAAU9B,CAhBP;AAiBHo7B,kBAjBG;AAkBHpB,iBAlBG;AAmBHnH,cAnBG;AAoBHC,iBApBG;AAqBHuI,iBAAa1Y,IACPA,EAAS0Y,WADF,GAEP3Y,KAAS,IAAT,GACApW,IAAO6G,CAAP,GAAiBuP,CADjB,GAEA,MAzBH;AA0BH4Y,qBAAiB3Y,IAAWA,EAAS2Y,eAApB,GAAsChvB,IAAO,CA1B3D;AA2BH4lB,cA3BG;AA4BHgI,iBA5BG;AA6BH/d;AA7BG,GAAP;AA6BI,CAxJuC,oCAnC/C;ACzBA;AAoCO,IAAMyjB,KAAiCz/B,EAC1CJ,KACqB;AACrB,MAAM;AAAEkvB,gBAAF;AAAaiE,aAAb;AAAqB3S,aAArB;AAA6B9T,gBAAS;AAAtC,MAA+C1M,CAArD;AAAA,MACMsB,IAAS8H,GADf;AAAA,MAGM;AAAE+S,WAAF;AAAQ/R,YAAR;AAAekT,iBAAf;AAA2BlJ,gBAA3B;AAAsCwiB;AAAtC,MAAkDrW,GACpDtgB,CADoD,EAEpD;AACIugB,aADJ;AAEIxe,QAAI89B,GAAIngC,CAAJ,EAAYH,CAAZ,CAFR;AAGI8e,gBAAY;AAAEC,YAAM,CAAR;AAAWC,eAAS;AAApB,KAHhB;AAIIC,UAAM;AAAEC,aAAO,IAAT;AAAeC,aAAO;AAAtB,KAJV;AAKIC,YAAQ;AALZ,GAFoD,EASpD;AACIvJ,aAAS,CAAC,CAAC1V,CADf;AAEI4iB,aAASpP,KACL7R,EACI,OAAO6R,CAAP,IAAiB,QAAjB,GACMA,CADN,GAEMA,EAAM7J,OAAN,IAAiB,4BAH3B,EAII;AACIrH,YAAM,SADV;AAEIyxB,mBAAa;AACThpB,WACI,OAAOyI,CAAP,IAAiB,QAAjB,GACMA,CADN,GAEMA,KAASA,EAAM7J,OAAf,GACA6J,EAAM7J,OADN,GAEA;AAND;AAFjB,KAJJ;AAHR,GAToD,CAHxD;AAkCA,SAAO;AACHy2B,qBAAiBz9B,IAAOA,EAAK,CAAL,CAAP,GAAiB,MAD/B;AAEH8H,YAFG;AAGHkT,iBAHG;AAIHlJ,gBAJG;AAKHwiB;AALG,GAAP;AAKI,CA1CsC,mCAAvC;ACzBP,IAAMoJ,KAA4B5/B,EAC9BJ,KAEAA,KAAsBA,EAAmBoK,KAAnB,KAA6B,MAHrB,8BAAlC;AAAA,IAKa61B,KAAoB7/B,YAKU;AAAA,MAL+B;AACtEse,YADsE;AAEtEwhB,yBAFsE;AAGtEH,sBAHsE;AAItEt3B,mBAAYrI,OAAKZ,CAAL;AAJ0D,GAK/B;AACvC,MAAMA,IAA0BwgC,GAC5B//B,CAD4B,IAG1BV,EAAUU,EAAmBmK,KAA7B,EAAoC;AAChCM,OAAGzK,EAAmBmK;AADU,GAApC,CAH0B,GAM1B,IANN;AAAA,MAOM9I,IACFtB,EAAMU,KAAN,IAAe,CAACf,CAAhB,GACMJ,EAAU,oCAAV,EAAgD;AAC5CmL,OAAG;AADyC,GAAhD,CADN,GAIM,IAZV;AAcA,SAAO;AACHy1B,aACKngC,EAAMU,KAAN,IAAeY,CAAf,IAAyC,CAACrB,CAA1C,IACA,CAACD,EAAMU,KAAP,IAAgB,CAACT,CAHnB;AAIHmK,WACKpK,EAAMU,KAAN,IACGY,CADH,IAEG9B,CAFH,IAGA,CAACQ,EAAMU,KAAP,IAAgBlB,CAHhB,GAIKQ,EAAMU,KAAN,GACIY,CADJ,GAEI9B,CANT,GAOK,IAZP;AAaH4gC,aAAS9+B,KAA0B9B,CAbhC;AAcH6gC,aAASl5B,MAAMuU,OAAN,CAAczb,CAAd,IACHA,CADG,GAEH,CAACN,CAAD,EAAkBif,MAAlB,CAAyBtc,KAAUA,CAAnC;AAhBH,GAAP;AAgB6C,CApChB,sBALjC;AAAA,IA6Cag+B,KAA0B,yBA7CvC;AAAA,IA8CaC,KAA+B,8BA9C5C;AAAA,IA+CaC,KAA0B,yBA/CvC;AAAA,IAiDaC,KAA8BrgC,GACvCJ,CADuC,EAEvCC,CAFuC,KAIvC,CAACD,EAAMU,KAAP,IAAgBV,EAAMU,KAAN,CAAYgE,MAAZ,KAAuBzE,EAAiByE,MAAxD,GACM47B,EADN,GAEMrgC,EAAiByE,MAAjB,GAA0B,CAA1B,GACA67B,EADA,GAEAC,EARiC,gCAjD3C;AAAA,IAkEaE,KAAyBtgC,YAKU;AAAA,MAL0B;AACtEse,YADsE;AAEtEwhB,yBAFsE;AAGtES,uBAHsE;AAItEl4B,mBAAYrI,OAAKZ,CAAL;AAJ0D,GAK1B;AAI5C,MAAMA,IAA+BihC,GACjCzgC,CADiC,EAEjCL,CAFiC,CAArC;AAAA,MAKM2B,IAA0B0+B,GAC5B//B,CAD4B,IAG1BV,EAAUU,EAAmBmK,KAA7B,EAAoC;AAChCM,OAAGzK,EAAmBmK;AADU,GAApC,CAH0B,GAM1B,IAXN;AAAA,MAaM9H,IAAU6E,MAAMuU,OAAN,CAAczb,CAAd,IACVN,EAAiBoc,MAAjB,CACI9b,EAAmB2e,MAAnB,CACIrc,KACI5C,EAAiBkiB,SAAjB,CAA2Brf,KAAKA,EAAER,EAAF,KAASO,EAAOP,EAAhD,MAAwD,EAFhE,CADJ,CADU,GAOVrC,CApBN;AAsBA,SAAO;AACHwgC,aACK,CAAClgC,CAAD,IACGD,EAAMU,KADT,IAEGlB,MAAiCghC,EAFpC,IAGA,CAACvgC,CAAD,IAAuB,CAACD,EAAMU,KALhC;AAMH0J,WACI9I,MACC,CAACtB,EAAMU,KAAP,IACIV,EAAMU,KAAN,IACGlB,MAAiCghC,EAHzC,IAIMjhC,EAAU,iCAAV,EAA6C;AACzCmL,SAAG;AADsC,KAA7C,CAJN,GAOM,IAdP;AAeH01B,aACI9+B,KACCtB,EAAMU,KAAN,IACGlB,MAAiC8gC,EAFrC,GAGMh/B,KACA/B,EAAU,kCAAV,EAA8C;AAC1CmL,SAAG;AADuC,KAA9C,CAJN,GAOM,IAvBP;AAwBH21B;AAxBG,GAAP;AAwBI,CAvD8B,2BAlEtC;ACXA;AACA;ACDA;AACA;AA0DO,IAAMO,KAAqBxgC,YAOqB;AAAA,MAPpB;AAC/B2B,eAD+B;AAE/B6c,aAF+B;AAG/BH,cAAOoiB,EAHwB;AAI/BtiB,cAAO,CAJwB;AAK/BC,iBAAU,EALqB;AAM/Bsa,kBAAW;AANoB,GAOoB;AACnD,MAAM,CAACx2B,CAAD,EAASC,CAAT,IAAsBu+B,GAASC,EAAT,CAA5B;AAAA,MACMv+B,IAAaw+B,IADnB;AAAA,MAGMv+B,IAAmB,CACrBzC,CADqB,EAErBgG,KAAKC,SAAL,CAAe3D,CAAf,CAFqB,EAGrB0D,KAAKC,SAAL,CAAehG,CAAf,CAHqB,EAIrB+F,KAAKC,SAAL,CAAetG,CAAf,CAJqB,EAKrBJ,CALqB,EAMrBC,CANqB,CAHzB;AAAA,MAYM+M,IAAQ00B,GACV,MACIC,GAAS;AACL5rB,YAAQhT,CADH;AAELs2B,yBAAqB34B,CAFhB;AAGLwe,WAHK;AAILF,WAJK;AAKLC;AALK,GAAT,CAFM,EASV/b,CATU,CAZd;AAAA,MAwBM0Q,IAAeguB,GAAY1f,KAAU;AACvCjf,KAAK,CAAW+O,OAAX,GAUD/O,EAAW+O,OAAX,GAAqBggB,GAAa/uB,EAAW+O,OAAxB,EAAiCkQ,CAAjC,CAVzB,IAEIjf,EAAW+O,OAAX,GAAqBggB,GAAahlB,CAAb,EAAoBkV,CAApB,CAArB,EAEAnP,WAAW,MAAM;AACb/P,QAAUC,EAAW+O,OAArB,GACA/O,EAAW+O,OAAX,GAAqB,MADrB;AACqB,KAFzB,EAGG,CAHH,CAJJ;AAOO,GARU,EAalB9O,CAbkB,CAxBrB;AAAA,MAuCM2Q,IAAU+tB,GACZ1f,CAAC,IACGtO,EAAa;AACTlR,UAAM6uB,EADG;AAETU,aAAS/P;AAFA,GAAb,CAFQ,EAMZhf,CANY,CAvChB;AAAA,MAgDM4Q,IAAU8tB,GACZ1f,CAAC,IAAoBtO,EAAa;AAAElR,UAAMgvB,EAAR;AAAkBO,aAAS/P;AAA3B,GAAb,CADT,EAEZhf,CAFY,CAhDhB;AAAA,MAqDM6Q,IAAa6tB,GACf1f,CAAC,IACGtO,EAAa;AAAElR,UAAMivB,EAAR;AAAsBM,aAAS/P;AAA/B,GAAb,CAFW,EAGfhf,CAHe,CArDnB;AAAA,MA2DM8Q,IAAehH,EAAMqS,MAAN,IAAgBwiB,EA3DrC;AAAA,MA4DM5tB,IAAwBjH,EAAMklB,gBAAN,IAA0B2P,EA5DxD;AAAA,MA8DMzgB,IAAsB0gB,GAAe,CAAC5f,CAAD,EAASC,CAAT,KAA8B;AACrEvO,MAAa;AACTlR,YAAMkvB,EADG;AAETK,eAAS;AACL5S,gBAAQpQ,EAAYiT,CAAZ,CADH;AAELgQ;AAFK;AAFA,KAAb;AAIQ,GALgB,EAQzBnwB,CARyB,CA9D5B;AAAA,MAwEMygB,IAAaof,GACf,UAAC1f,CAAD,EAASC,CAAT,EAA+C;AAAA,QAApBC,CAAoB,uEAAT,EAAS;AAC3CA,QACMhB,EAAoBc,CAApB,EAA4BC,CAA5B,CADN,GAEMvO,EAAa;AACTlR,YAAMkvB,EADG;AAETK,eAAS;AACL5S,gBAAQpQ,EAAYiT,CAAZ,CADH;AAELgQ;AAFK;AAFA,KAAb,CAFN;AAMc,GARH,EAYfhvB,CAZe,CAxEnB;AAAA,MAuFMuf,IAAamf,GAAa1f,KAAuB;AACnDtO,MAAa;AACTlR,YAAMovB,EADG;AAETG,eAAS/P;AAFA,KAAb;AAEa,GAHE,EAKhBhf,CALgB,CAvFnB;AAAA,MA8FM8e,IAAa4f,GAAY,CAAC1f,CAAD,EAAqBC,CAArB,KAA2C;AACtEvO,MAAa;AACTlR,YAAMmvB,EADG;AAETI,eAAS;AACLE,qBADK;AAELC;AAFK;AAFA,KAAb;AAIQ,GALO,EAQhBlvB,CARgB,CA9FnB;AAuGA,SAAO,CACHjB;AACIiwB,sBAAkBje,CADtB;AAEIsmB,mBAFJ;AAGIC;AAHJ,KAIOxtB,CAJP,CADG,EAOH;AACIytB,mBADJ;AAEIlH,cAFJ;AAGIC,iBAHJ;AAIIZ,cAJJ;AAKI8H,iBALJ;AAMIC,iBANJ;AAOIC;AAPJ,GAPG,CAAP;AAcQ,CA7HsB,uBAA3B;AAgJA,IAAM+G,KAAW9gC,YAMlB;AAAA,MANmB;AACrBkV,aADqB;AAErBsjB,0BAFqB;AAGrBna,WAHqB;AAIrBF,WAJqB;AAKrBC;AALqB,GAMnB;AACF,MAAMld,IAAkCggC,GAAgBthC,CAAhB,IAClCwB,MAAKxB,CAAL,CADkC,GAElC;AAAE4e,YAAQ3e,KAAuB;AAAjC,GAFN;AAIA,SAAKqB,EAAMmd,IAAN,KACDnd,EAAMmd,IAAN,GAAa9e,EAAK+e,KAAlB,EACApd,EAAMqd,KAAN,GAAchf,EAAKgf,KAFlB,GAIDrd,EAAMid,IAAN,IAAc,IAAd,KACAjd,EAAMid,IAAN,GAAahf,CADb,CAJC,EAOD+B,EAAMkd,OAAN,IAAiB,IAAjB,KACAld,EAAMkd,OAAN,GAAgBhf,CADhB,CAPC,EAUD8B,EAAMid,IAAN,IAAc,IAAd,KACAjd,EAAMid,IAAN,GAAa,CADb,CAVC,EAcEhQ,QACAjN,CADA;AAEHid,UAAMgjB,GAAmBjgC,EAAMid,IAAzB,EAA+B,CAA/B,CAFH;AAGHC,aAAS+iB,GAAmBjgC,EAAMkd,OAAzB,EAAkC,EAAlC;AAHN,IAdP;AAiB+C,CA5B3B,aAAjB;AAAA,IA6CM8iB,KAAkBlhC,EAACJ,KAExBA,KACAA,EAAO4e,MADP,KAEC3Z,OAAOC,IAAP,CAAYlF,EAAO4e,MAAnB,EAA2Bla,MAA3B,GAAoC,CAApC,IACG1E,EAAO2e,KAAP,IAAgB,IADnB,IAEG3e,EAAOue,IAAP,KAAgB,CAFnB,IAGGve,EAAOwe,OAAP,IAAkB,IAHrB,IAIGxe,EAAOye,IAAP,IAAe,IANnB,CAFuB,oBA7CxB;AAAA,IAyDM8iB,KAAqBnhC,GAC9BJ,CAD8B,EAE9BC,CAF8B,KAG7B;AACD,MAAMN,IACF,OAAOK,CAAP,IAA0B,QAA1B,GACM2sB,SAAS3sB,CAAT,EAAyB,EAAzB,CADN,GAEMA,CAHV;AAKA,SAAOmsB,MAAMxsB,CAAN,IAAsBM,CAAtB,GAAqCN,CAA5C;AAA4C,CATd,uBAzD3B;AAAA,IA0GDyhC,KAAc,EA1Gb;AAAA,IA4GDP,KAAc;AAChBniB,SAAO,IADS;AAEhBC,SAAOoS;AAFS,CA5Gb;AAAA,IAiHDgQ,KAAgB,EAjHf;AD5KA,IAAMS,KAAmCphC,EAG5CJ,KACkC;AAClC,MAAM;AACF84B,eADE;AAEF2I,uBAFE;AAGF7iB,aAHE;AAIFL,UAAM/e,IAAc,CAJlB;AAKFgf,aAASld,IAAiB,EALxB;AAMFmd,UAAMnc,IAAc;AAAEoc,aAAO,IAAT;AAAeC,aAAO;AAAtB,KANlB;AAOF6X,sBAAe,EAPb;AAQFtH,gBARE;AASFxiB;AATE,MAUF1M,CAVJ;AAAA,MAWMuM,IAAQm1B,GAAS;AAAEt5B,UAAM3F;AAAR,GAAT,CAXd;AAAA,MAgBM;AACF0Z,UAAMhJ,CADJ;AAEF/I,WAAOgJ,CAFL;AAGFgB,eAAWf,CAHT;AAIFiK,gBAAYhK,CAJV;AAKFsjB,aAASrjB;AALP,MAMFmM,GACAld,CADA,EAEA;AACI2c,SAAK5S,KAASo1B;AADlB,GAFA,EAKA;AACItsB,aAAS9I,KAAS,IAAT,IAAiBA,EAAM7H,MAAN,GAAe;AAD7C,GALA,CAtBJ;AAAA,MAgCM,CAAC8O,CAAD,EAASmN,CAAT,IAA4BigB,GAAmB;AACjD7+B,cAAUS,CADuC;AAEjD+b,UAAM/e,CAF2C;AAGjDgf,aAASld,CAHwC;AAIjDmd,UAAMnc,CAJ2C;AAKjDw2B,eALiD;AAMjDla;AANiD,GAAnB,CAhClC;AAAA,MA0CMmD,IAAwB5O,IACxBA,EAAiByL,MAAjB,CAAwBgjB,OAAxB,CADwB,GAExB,EA5CN;AAAA,MA8CM5f,IAAuBriB,IACvBA,EAAiB6T,EAAOsmB,YAAxB,CADuB,GAEvB,EAhDN;AAAA,MAkDM;AACF3d,UAAMoF,CADJ;AAEFnF,YAFE;AAGF2C,eAHE;AAIF3U,WAAOuX,CAJL;AAKFvN,eAAWwN,CALT;AAMFtE,gBAAYwE,CANV;AAOF8U,aAASnU;AAPP,MAQFpE,GACA7b,CADA,EAEA;AACI8b,gBAAY;AACRC,YAAM/K,EAAO+K,IADL;AAERC,eAAShL,EAAOgL;AAFR,KADhB;AAKIC,UAAM;AAAEC,aAAOlL,EAAOiL,IAAhB;AAAsBE,aAAOnL,EAAOmL;AAApC,KALV;AAMIC,YAAQpd,QAAKgS,EAAOoL,MAAZ,GAAuBrf,CAAvB;AANZ,GAFA,EAUAiC;AAAEie,WAAO,EAAT;AAAgBpK,aAAS2M;AAAzB,KAAkDzf,CAAlD,CAVA,CA1DJ;AAAA,MAyEMmgB,IACFnB,KAAsBA,EAAmB7c,MAAnB,GAA4B,CAAlD,GACMm9B,GAAgBtgB,CAAhB,EAAoCQ,CAApC,CADN,GAEMA,EAAsBrd,MAAtB,GAA+B,CAA/B,GACAqd,CADA,GAEAR,CA9EV;AAAA,MAgFMoB,IAAUmf,GAAY,MAAM;AAC9BvuB,SACAkP,GADA;AACA,GAFY,EAGb,CAAClP,CAAD,EAAiBkP,CAAjB,CAHa,CAhFhB;AA4FA,SAAO;AACHhE,UARgBsjB,GAChB,OAAO;AACHrjB,aAAOlL,EAAOiL,IADX;AAEHE,aAAOnL,EAAOmL;AAFX,KAAP,CADgB,EAKhB,CAACnL,EAAOiL,IAAR,EAAcjL,EAAOmL,KAArB,CALgB,CAOb;AAEHqjB,gBAAYtf,CAFT;AAGHuf,sBAAkB1gB,CAHf;AAIH2gB,qBAAiBngB,CAJd;AAKH0P,sBAAkBje,EAAOie,gBALtB;AAMHrnB,WAAOgJ,KAAgBuO,CANpB;AAOH/C,aAPG;AAQHkb,kBAActmB,EAAOsmB,YARlB;AASHI,gBAAYvZ,EAAgBuZ,UATzB;AAUH5c,gBAAYhK,KAAqBwO,CAV9B;AAWH1N,eAAWf,KAAoBuO,CAX5B;AAYHrD,UAAM/K,EAAO+K,IAZV;AAaHC,aAAShL,EAAOgL,OAbb;AAcHoY,cAdG;AAeH70B,cAAUS,CAfP;AAgBHy3B,gBAAYtZ,EAAgBsZ,UAhBzB;AAiBHnH,aAASnS,EAAgBmS,OAjBtB;AAkBHC,gBAAYpS,EAAgBoS,UAlBzB;AAmBHZ,aAASxR,EAAgBwR,OAnBtB;AAoBHgI,gBAAYxZ,EAAgBwZ,UApBzB;AAqBHztB,aArBG;AAsBH0P,WAAOqF,CAtBJ;AAuBH6Z,iBAAa5Z,IACPA,EAAS4Z,WADF,GAEP7Z,KAAS,IAAT,GACAjO,EAAO+K,IAAP,GAAc/K,EAAOgL,OAArB,GAA+BiD,CAD/B,GAEA,MA3BH;AA4BH8Z,qBAAiB7Z,IAAWA,EAAS6Z,eAApB,GAAsC/nB,EAAO+K,IAAP,GAAc;AA5BlE,GAAP;AA4ByE,CA7H7B,qCAAzC;AAAA,IAiIDojB,KAAa,EAjIZ;AAAA,IAoIDE,KAAkBzhC,GACpBJ,CADoB,EAEpBC,CAFoB,KAGL;AACf,MAAMN,IAAM,CAAC,GAAGK,CAAJ,CAAZ;AAAA,MACMT,IAAMS,EAAK8b,GAAL,CAAStc,KAAOA,EAAIwC,EAApB,CADZ;AAEA,WAAKmD,OAAL,CAAa3F,KAAO;AAChBD,KAAK,CAAIia,QAAT,CAAkBha,EAAIwC,EAAtB,MACIzC,EAAI4gB,IAAJ,CAAS3gB,EAAIwC,EAAb,GACArC,EAAIwgB,IAAJ,CAAS3gB,CAAT,CAFC;AAEQ,GAHjB,GAMOG,CANP;AAMO,CAZa,oBApIjB;AE/BP;AACA;AC0CO,IAAMwiC,KAAe/hC,YAG6B;AAAA,MAHO;AAC5D8uB,gBAD4D;AAE5DltB;AAF4D,GAGP;AACrD,MAAM;AAAEma,WAAF;AAAQ/R,YAAR;AAAegK,gBAAf;AAA0BkJ,iBAA1B;AAAsCsZ;AAAtC,MAAkDlX,GAEtD1f,CAFsD,EAE3C;AAAEmf,SAAK,CAAClf,CAAD;AAAP,GAF2C,CAAxD;AAGA,SAAO;AACH8/B,qBAAiBxgC,IAAQ,MAAR,GAAoBI,IAAOA,EAAK,CAAL,CAAP,GAAiB,MADnD;AAEHi3B,cAFG;AAGHxsB,YAHG;AAIHgK,gBAJG;AAKHkJ;AALG,GAAP;AAKI,CAZoB,iBAArB;ADIA,IAAM8kB,KAA8BhiC,EACvCJ,KACkC;AAClC,MAAM;AACF84B,eADE;AAEF2I,uBAFE;AAGF7iB,aAHE;AAIFL,UAAM/e,IAAc,CAJlB;AAKFgf,aAASld,IAAiB,EALxB;AAMFmd,UAAMnc,CANJ;AAOFk0B,sBAAe,EAPb;AAQFtH,gBARE;AASFxiB;AATE,MAUF1M,CAVJ;AAAA,MAYM,CAACuM,CAAD,EAAS4G,CAAT,IAA4BytB,GAAmB;AACjD7+B,cAAUS,CADuC;AAEjD+b,UAAM/e,CAF2C;AAGjDgf,aAASld,CAHwC;AAIjDmd,UAAMnc,CAJ2C;AAKjDw2B,eALiD;AAMjDla;AANiD,GAAnB,CAZlC;AAAA,MAsBMxL,IAAeivB,GAAS;AAAEj6B,UAAM3F;AAAR,GAAT,CAtBrB;AAAA,MAwBM4Q,IAAuB1T,IACvBA,EAAiB4M,EAAOutB,YAAxB,CADuB,GAEvB,EA1BN;AAAA,MA6BM;AACF3d,UAAM7I,IAAqB,EADzB;AAEF8I,YAFE;AAGF2C,eAHE;AAIFzB,gBAAYqD,CAJV;AAKFvM,eAAW2N,CALT;AAMF3X,WAAO4X,CANL;AAOF4U,aAASrV;AAPP,MAQFlD,GACA7b,CADA,EAEA;AACI8b,gBAAY;AACRC,YAAMhS,EAAOgS,IADL;AAERC,eAASjS,EAAOiS;AAFR,KADhB;AAKIC,UAAM;AAAEC,aAAOnS,EAAOkS,IAAhB;AAAsBE,aAAOpS,EAAOoS;AAApC,KALV;AAMIC,YAAQpd,QAAK+K,EAAOqS,MAAZ,GAAuBrf,CAAvB;AANZ,GAFA,EAUAiC;AACI6T,aAAShC;AADb,KAEO9Q,CAFP,CAVA,CArCJ;AAAA,MAsDM;AACFw9B,sBADE;AAEFnJ,aAASlV,CAFP;AAGFtX,WAAOuX,CAHL;AAIFvN,eAAWwN,CAJT;AAKFtE,gBAAYwE;AALV,MAMFqgB,GAAyB;AACzBngC,QAAIoR,CADqB;AAEzB8b;AAFyB,GAAzB,CA5DJ;AAAA,MAiEIzM,CAjEJ;AAAA,MAiE6BC,CAjE7B;AAkEA,GACKjB,CADL,IAEInO,EAAmB+M,IAAnB,CAAwBwC,KAAUA,EAAO7gB,EAAP,KAAcoR,CAAhD,CADA,IAGAqP,IAAYnP,CAAZ,EACAoP,IAAanP,CAJb,KAMAkP,IAAY,CAAChB,CAAD,EAAkB,GAAGnO,CAArB,CAAZ,EACAoP,IAAanP,KAAS,IAAT,GAAgB,MAAhB,GAA4BA,IAAQ,CAPjD;AAUJ,MAAMoP,IAAU2f,GAAY,MAAM;AAC9B/gB,SACAG,GADA;AACA,GAFY,EAGb,CAACH,CAAD,EAAiBG,CAAjB,CAHa,CAAhB;AAYA,SAAO;AACHjD,UARgB8jB,GAChB,OAAO;AACH7jB,aAAOnS,EAAOkS,IADX;AAEHE,aAAOpS,EAAOoS;AAFX,KAAP,CADgB,EAKhB,CAACpS,EAAOkS,IAAR,EAAclS,EAAOoS,KAArB,CALgB,CAOb;AAEHqjB,gBAAYvf,CAFT;AAGHwf,sBAAkB3uB,CAHf;AAIH4uB,qBAAiB,CAACzgB,CAAD,CAJd;AAKHgQ,sBAAkBllB,EAAOklB,gBALtB;AAMHrnB,WAAOuX,KAAkBK,CANtB;AAOHpD,YAAQrS,EAAOqS,MAPZ;AAQHkb,kBAAcvtB,EAAOutB,YARlB;AASHI,gBAAY/mB,EAAgB+mB,UATzB;AAUH5c,gBAAYwE,KAAqBnB,CAV9B;AAWHvM,eAAWwN,KAAoBG,CAX5B;AAYHxD,UAAMhS,EAAOgS,IAZV;AAaHC,aAASjS,EAAOiS,OAbb;AAcHoY,cAdG;AAeH70B,cAAUS,CAfP;AAgBHy3B,gBAAY9mB,EAAgB8mB,UAhBzB;AAiBHnH,aAAS3f,EAAgB2f,OAjBtB;AAkBHC,gBAAY5f,EAAgB4f,UAlBzB;AAmBHZ,aAAShf,EAAgBgf,OAnBtB;AAoBHgI,gBAAYhnB,EAAgBgnB,UApBzB;AAqBHztB,aArBG;AAsBH0P,WAAOsG,CAtBJ;AAuBH4Y,iBAAa9nB,IACPA,EAAS8nB,WADF,GAEP/nB,KAAS,IAAT,GACAhH,EAAOgS,IAAP,GAAchS,EAAOiS,OAArB,GAA+BjL,CAD/B,GAEA,MA3BH;AA4BHgoB,qBAAiB/nB,IAAWA,EAAS+nB,eAApB,GAAsChvB,EAAOgS,IAAP,GAAc;AA5BlE,GAAP;AA4ByE,CAxHlC,gCAApC;AE/CP;ACAA;AA2CO,IAAMikB,KAAoBpiC,cAEM;AAAA,MADnCJ,CACmC,uEADM,EACN;AACnC,MAAM;AAAEs0B,4BAAF;AAAyBtyB,QAAIrC,CAA7B;AAAsC62B,sBAAe;AAArD,MAA4Dx2B,CAAlE;AAEAoV,KAAiB;AAAEC,aAAS,CAACpV;AAAZ,GAAjB;;AAEA,MAAMT,IAAW4M,EAAmBpM,CAAnB,CAAjB;AAAA,MACMsB,IAAYoJ,GADlB;AAAA,MAEMpI,IAAS8G,GAFf;AAAA,MAGM7G,IAAWJ,IAHjB;AAAA,MAIMK,IAAUsb,IAJhB;AAAA,MAKM;AAAE9b,QAAIS;AAAN,MAAkBggC,IALxB;AAAA,MAMMl2B,IAAK5M,KAAWg3B,mBAAmBl0B,CAAnB,CANtB;AAAA,MAQM;AAAE0Z,UAAMhJ,CAAR;AAAgB/I,YAAhB;AAAuBgK,gBAAvB;AAAkCkJ,iBAAlC;AAA8CsZ;AAA9C,MAA0D1Y,GAG5D1e,CAH4D,EAI5D;AAAEwC;AAAF,GAJ4D,EAK5DR;AACI+gB,aAAS,MAAM;AACXjgB,QAAO,mCAAP,EAA4C;AACxCL,cAAM;AADkC,OAA5C,GAGAM,EAAS,MAAT,EAAiB/C,CAAjB,CAHA,EAIAgD,GAJA;AAIA,KANR;AAQIid,WAAO;AARX,KASOlgB,CATP,CAL4D,CARhE;;AA2BA,MAAI4T,KAAUA,EAAOnR,EAAjB,IAAuBmR,EAAOnR,EAAP,IAAauK,CAAxC,EACI,MAAM,IAAIS,KAAJ,CACF,qDAAqDmG,EAAOnR,sCAAsCuK,IADhG,CAAN;AAKJ,MAAMiH,IAAmBoW,IAAzB;AAOA,SAAO;AACHgL,kBAPiBtzB,EAAU,cAAV,EAA0B;AAC3C8G,YAAMoL,EAAiBhU,CAAjB,EAA2B,CAA3B,CADqC;AAE3CwC,WAF2C;AAG3CmxB;AAH2C,KAA1B,CAMd;AAEH/oB,YAFG;AAGHgK,gBAHG;AAIHkJ,iBAJG;AAKH6V,aALG;AAMHyD,cANG;AAOH70B;AAPG,GAAP;AAOI,CAtDyB,sBAA1B;AC3CP;ACAA;AAqBO,IAAM2gC,KAAcC,GAAoC;AAC3DxP,UAAQ,IADmD;AAE3DyB,gBAAc,IAF6C;AAG3DtX,cAAY,IAH+C;AAI3DlJ,aAAW,IAJgD;AAK3DwiB,WAAS,IALkD;AAM3D70B,YAAU;AANiD,CAApC,CAApB;AASP2gC,GAAY1+B,WAAZ,GAA0B,aAA1B;ADFO,IAAM4+B,KAAsBxiC;AAAA,MAAC;AAChCf,eADgC;AAEhCqB;AAFgC,GAAD;AAAA,SAO/BmiC,iBAACH,GAAYjiC,QAAb;AAAsBC,WAAOT;AAA7B,KACI4iC,iBAAC5N,EAAD;AAA0Cv0B,WAAOT,KAASA,EAAMkzB;AAAhE,KACKnzB,CADL,CADJ,CAP+B;AAAA,yBAA5B;AFQA,IAAM8iC,KAAW1iC,EAAoCT,KAGK;AAHL;AAAA,MACxD;AAAAN;AAAA,MADwDE;AAAA,MAErDU,MAFqDV,CAErD,GADH,UACG,EAFqD;AAIxD,0BAACqjC,EAAD;AAAqBliC,WAAO8hC,GAA8BviC,CAA9B;AAA5B,KACKD,CADL;AACK,CALe,aAAjB;AIjBA,IAAM+iC,KAAiB3iC,EAACT,KAKH;AALG;AAAA,MAC3B;AAAAN;AAAA,MAD2BE;AAAA,MAExBU,MAFwBV,CAExB,GADH,UACG,EAFwB;AAM3B,MAAMC,IAAkBgjC,GAAkBviC,CAAlB,CAAxB;AACA,SAAOD,EAASR,CAAT,CAAP;AAAgB,CAPU,mBAAvB;ACnBP;AACA;AAuBO,IAAMwjC,KAAiB5iC,EAC1BJ,KAC4C;AAG5C,MAAMC,IAAUgjC,GAA6CP,EAA7C,CAAhB;AAGA,SAAOQ,GACH,MACIC,GACI,EADJ,EAEInjC,KAAS,IAAT,GAAgBojC,GAAwBpjC,CAAxB,CAAhB,GAAiD,EAFrD,EAGIC,CAHJ,CAFD,EAOH,CAACA,CAAD,EAAUD,CAAV,CAPG,CAAP;AAOc,CAfY,mBAAvB;AAAA,IA0BDojC,KAA0BhjC;AAAA,MAAC;AAC7B+yB,aAD6B;AAE7BhX,WAF6B;AAG7ByY,mBAH6B;AAI7BtX,iBAJ6B;AAK7BlJ,gBAL6B;AAM7BrS;AAN6B,GAAD;AAAA,SAOpB;AAGRoxB,YAAQnzB,KAAUC,CAHV;AAIRkc,UAAMnc,KAAUC,CAJR;AAKR20B,mBALQ;AAMRtX,iBANQ;AAORlJ,gBAPQ;AAQRrS;AARQ,GAPoB;AAAA,6BA1BzB;ACxBP;AAEA;AACA;AAyCA,IAAMshC,KAAmBjjC,EAACJ,KAA0B;AAChD,MAAMC,IAAWqjC,IAAjB;AAEA,SAAOC,iBAACC,EAAD;AAAsBC,cAAUxjC;AAAhC,KAA8CD,CAA9C,EAAP;AAAqD,CAHhC,qBAAzB;AAAA,IAMawjC,KAAuBpjC,EAACJ,KAAiB;AAClD,MAA6DmT,KAA7D;AAAA,MAAQ;AAAA9T;AAAUqkC,WAAV;AAAgBD,eAAhB;AAA0B/2B,aAA1B;AAAkCi3B;AAAlC,MAAqDxwB,CAA7D;AAAA,MAAoD7Q,MAAS6Q,CAAT,GAA5C,UAA4C,EAAlC,MAAkC,EAA5B,UAA4B,EAAlB,QAAkB,EAAV,OAAU,EAApD;AAAA,MACI5Q,IAAiBhD,CADrB;AAAA,MAEIiD,CAFJ;AAAA,MAGIC,IAAyB,EAH7B;AAAA,MAII8J,CAJJ;AAOA,SAAI,OAAOjL,CAAP,IAAiB,WAAjB,IACAiB,IAAiBqhC,GAAIrkC,CAAJ,EAAcC,CAAd,CAAjB,EACAgD,IAAYpC,EAACgT,MACT3Q,IAAyB,EAAzB,EACO,GAAGjD,KAAU4T,GAFX,CAAD,cADZ,EAKA7G,IAAMtM,EAASuB;AAAEiiC,eAAF;AAAYI,qBAAZ;AAA4Bv3B;AAA5B,KAA0ChK,CAA1C,CAAT,CANN,IAQAiK,IAAMtM,EAASuB;AAAEiiC;AAAF,KAAenhC,CAAf,CAAT,CARN,EAWJ6O,GACI,OAAO7P,CAAP,IAAiB,WAAjB,IAAgCiL,CAAhC,IAAuC,CAAC9J,CAD5C,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAFJ,CAXI,EAuCG8J,MAAQ,MAAR,GAAoB,IAApB,GAA2BA,CAvClC;AAuCkC,CA/CF,yBANpC;AAAA,IAwDOu3B,KAAQT,EAxDf;AC5CA;AAEO,IAAMU,KAAoBC,GAC7B,MAD6B,CAA1B;ACFP;AAWA,IAAMC,KAAkB7jC,EAACJ,KAAgC;AACrD,MAAM;AAAEoK;AAAF,MAAYpK,CAAlB;AAAA,MACML,IAAY+K,GADlB;;AAEA,MAAKzK,EAAyCqJ,OAA9C,EAAuD;AACnD,QAAM;AAAEA,gBAAF;AAAW46B;AAAX,QAAoBjkC,CAA1B;AACA,WAAOkkC,oCAAGxkC,EAAUJ,CAAV,EAAmBiC;AAAEkJ,SAAGnL;AAAL,OAAiBC,CAAjB,CAAnB,CAAH,CAAP;AAGJ;;AAAA,SAAO2kC,oCAAGxkC,EAAUM,CAAV,EAA2B;AAAEyK,OAAGzK;AAAL,GAA3B,CAAH,CAAP;AAA0C,CARtB,oBAAxB;AAAA,IAWOmkC,KAAQH,EAXf;ACVA;AAIO,IAAMI,KAAcjkC,YAACJ,CAAD;AAAA,MAAMC,CAAN,uEAAa,EAAb;AAAA,SACtBqkC,GAAEC,QAAF,CAAWvkC,CAAZ,IAEMskC,GAAEh2B,MAAF,CACItO,CADJ,EAEI,CAACL,CAAD,EAAMJ,CAAN,EAAYC,CAAZ,KAEI8kC,GAAEE,KAAF,CAAQ7kC,CAAR,EAAa0kC,GAAY9kC,CAAZ,EAAkB,CAAC,GAAGU,CAAJ,EAAUT,CAAV,CAAlB,CAAb,CAJR,EAKI,EALJ,CAFN,GACM;AAAA,KAAGS,EAAK4O,IAAL,CAAU,GAAV,CAAH,GAAoB7O;AAApB,GAFiB;AAAA,iBAApB;AAAA,IAiCMykC,KAA8BrkC,EAACJ,KAA2B,MACnEC,CADmE,IAElE;AACD,MAAMN,IAAS,MAAMK,EAASC,CAAT,CAArB;AAEA,MAAI,CAACN,CAAD,IAAWsF,OAAOy/B,mBAAP,CAA2B/kC,CAA3B,EAAmC+E,MAAnC,KAA8C,CAA7D,EACI,OAAO;AAAEigC,YAAQ1kC,CAAV;AAAgB2kC,YAAQ;AAAxB,GAAP;AAEJ,MAAMrlC,IAAkB8kC,GAAY1kC,CAAZ,CAAxB;AAEA,SAAO;AACHglC,YAAQ,EADL;AAEHC,YAAQ3/B,OAAOC,IAAP,CAAY3F,CAAZ,EAA6B+O,MAA7B,CACJ,CAAC9O,CAAD,EAAM8B,CAAN,KAAiBiN,QACV/O,CADU;AAAA,OAEZ8B,CAFY,GAEJ;AACLW,cAAM,QADD;AAELqH,iBAAS/J,EAAgB+B,CAAhB;AAFJ;AAFI,MADb,EAQJ,EARI;AAFL,GAAP;AAUQ,CApB+B,gCAjCpC;ACLP;AAQO,IAAMujC,KAAiBC,GAAmC,MAAnC,CAAvB;ACRP;AAIO,IAAMC,KAAyB3kC;AAAA,MAAC;AACnCf,eADmC;AAEnCqB;AAFmC,GAAD;AAAA,SAOlCskC,iBAACH,GAAepkC,QAAhB;AAAyBC,WAAOT;AAAhC,KAAwCD,CAAxC,CAPkC;AAAA,4BAA/B;ACJP;AAKO,IAAMilC,KAAoB7kC,cAEP;AAAA,MADtBJ,CACsB,uEADgD,EAChD;AACtB,MAAMC,IAAUilC,GAAWL,EAAX,CAAhB;AAAA,MAG0BvjC,OAAqB;AAAE6a,UAAMnc,EAAQqgC;AAAhB,GAArB,CAH1B;AAAA,MAGQ;AAAAlkB;AAAA,MAAkB7a,CAH1B;AAAA,MAGiB/B,MAAS+B,CAAT,GAAT,MAAS,EAHjB;AAoDA,SAhDe6jC,GACX,MAAG;AAbX;AAae;AACHnD,kBAAY,4BAASA,UAAT,gBAAuBriC,CADhC;AAEHsiC,wBACI,iCAASA,gBAAT,gBAA6BjiC,EAAQiiC,gBAArC,gBAAyDtiC,CAH1D;AAIHuiC,uBACI,iCAASA,eAAT,gBAA4BliC,EAAQkiC,eAApC,gBAAuDviC,CALxD;AAMH8xB,wBACI,iCAASA,gBAAT,gBACAzxB,EAAQyxB,gBADR,gBAEAlyB,EAAKkyB,gBATN;AAUHrnB,aAAO,iCAASA,KAAT,gBAAkBpK,EAAQoK,KAA1B,gBAAmC7K,EAAK6K,KAV5C;AAWHwU,cAAQ,iCAASA,MAAT,gBAAmB5e,EAAQ4e,MAA3B,gBAAqCrf,EAAKqf,MAX/C;AAYHkb,oBACI,iCAASA,YAAT,gBACA95B,EAAQ85B,YADR,gBAEAv6B,EAAKu6B,YAfN;AAgBHwB,mBACI,iCAASA,WAAT,gBAAwBt7B,EAAQs7B,WAAhC,gBAA+C/7B,EAAK+7B,WAjBrD;AAkBHC,uBACI,iCAASA,eAAT,gBACAv7B,EAAQu7B,eADR,gBAEAh8B,EAAKg8B,eArBN;AAsBHrB,kBACI,iCAASA,UAAT,gBAAuBl6B,EAAQk6B,UAA/B,gBAA6C36B,EAAK26B,UAvBnD;AAwBH5c,kBACI,iCAASA,UAAT,gBAAuBtd,EAAQsd,UAA/B,gBAA6C/d,EAAK+d,UAzBnD;AA0BHlJ,iBACI,iCAASA,SAAT,gBAAsBpU,EAAQoU,SAA9B,gBAA2C7U,EAAK6U,SA3BjD;AA4BHmK,YAAM,iCAASA,IAAT,gBAAiBve,EAAQue,IAAzB,gBAAiChf,EAAKgf,IA5BzC;AA6BHC,eAAS,iCAASA,OAAT,gBAAoBxe,EAAQwe,OAA5B,gBAAuCjf,EAAKif,OA7BlD;AA8BHoY,eAAS,iCAASA,OAAT,gBAAoB52B,EAAQ42B,OAA5B,gBAAuCr3B,EAAKq3B,OA9BlD;AA+BH70B,gBAAU,iCAASA,QAAT,gBAAqB/B,EAAQ+B,QAA7B,gBAAyCxC,EAAKwC,QA/BrD;AAgCHk4B,kBACI,iCAASA,UAAT,gBAAuBj6B,EAAQi6B,UAA/B,gBAA6C16B,EAAK06B,UAjCnD;AAkCHnH,eAAS,mCAASA,OAAT,iBAAoB9yB,EAAQ8yB,OAA5B,iBAAuCvzB,EAAKuzB,OAlClD;AAmCHC,kBACI,mCAASA,UAAT,iBAAuB/yB,EAAQ+yB,UAA/B,iBAA6CxzB,EAAKwzB,UApCnD;AAqCHZ,eAAS,mCAASA,OAAT,iBAAoBnyB,EAAQmyB,OAA5B,iBAAuC5yB,EAAK4yB,OArClD;AAsCHgI,kBACI,mCAASA,UAAT,iBAAuBn6B,EAAQm6B,UAA/B,iBAA6C56B,EAAK46B,UAvCnD;AAwCH1b,YAAM,mCAASA,IAAT,iBAAiBze,EAAQye,IAAzB,iBAAiClf,EAAKkf,IAxCzC;AAyCH/R,cAAQ,6BAASA,MAAT,iBAAmB1M,EAAQ0M,MAzChC;AA0CH0P,aAAO,mCAASA,KAAT,iBAAkBpc,EAAQoc,KAA1B,iBAAmC7c,EAAK6c;AA1C5C;AA0C4C,GA3CxC,EA6CX,CAACnc,CAAD,EAAUN,CAAV,EAAgBJ,CAAhB,EAAsBS,CAAtB,CA7CW,CAgDf;AAH0B,CApDG,sBAA1B;ACLP;AAEA;ACFA;AACA;AAcO,IAAMolC,KAAqBhlC,YAA2C;AAAA,MAA1C;AAAEf;AAAF,GAA0C;AACzE,MAAMY,IAAaolC,GAAoC,EAApC,CAAnB;AAAA,MACM1lC,IAAc0lC,GAEjB,EAFiB,CADpB;AAAA,MAKM9lC,IAAmB+lC,GACrB,OAAO;AAKHn/B,eAAW,CAAC3G,CAAD,EAAQ8B,CAAR,MACF3B,EAAY4R,OAAZ,CAAoB/R,CAApB,MACDG,EAAY4R,OAAZ,CAAoB/R,CAApB,IAA6B,EAD5B,GAGLG,EAAY4R,OAAZ,CAAoB/R,CAApB,EAA2B2gB,IAA3B,CAAgC7e,CAAhC,CAHK,EAKE,MAAM;AACT3B,QAAY4R,OAAZ,CAAoB/R,CAApB,IAA6BG,EAAY4R,OAAZ,CACzB/R,CADyB,EAE3Bof,MAF2B,CAEpBtc,KAAKA,MAAMhB,CAFS,CAA7B;AAEoB,KATjB,CALR;AAiBHikC,oBAAgB/lC,KAAQS,EAAWsR,OAAX,CAAmB/R,CAAnB,KAA4B,EAjBjD;AAkBHgmC,mBAAehmC,KAAQ;AACnBS,QAAWsR,OAAX,CAAmB/R,CAAnB,IAA2BS,EAAWsR,OAAX,CAAmB/R,CAAnB,KAA4B,EAAvD;AAAuD,KAnBxD;AAqBHimC,qBAAiBjmC,KAAQ;AACrB,aAAOS,EAAWT,CAAX,CAAP;AAAkB,KAtBnB;AAwBHkmC,mBAAe,CAAClmC,CAAD,EAAS8B,CAAT,KAAmB;AAC1BA,WAAS,IAAT,KACM,GAAWiQ,OAAX,CAAmBjQ,CAAnB,KAA6B,EAA7B,EAAiCkY,QAAjC,CAA0Cha,CAA1C,MACFS,EAAWsR,OAAX,CAAmBjQ,CAAnB,IAA4B,CACxB,IAAIrB,EAAWsR,OAAX,CAAmBjQ,CAAnB,KAA6B,EAAjC,CADwB,EAExB9B,CAFwB,CAA5B,EAKIG,EAAY4R,OAAZ,CAAoBjQ,CAApB,KACA3B,EAAY4R,OAAZ,CAAoBjQ,CAApB,EAA2B6D,OAA3B,CAAmC7C,KAC/BA,GADJ,CAPF,CADV;AASgB,KAlCjB;AAwCHqjC,qBAAiB,CAACnmC,CAAD,EAAS8B,CAAT,KAAmB;AAChC,UAAIA,KAAS,IAAb,EACI,IAAI,CAACrB,EAAWsR,OAAX,CAAmBjQ,CAAnB,CAAL,EACI6I,QAAQiH,IAAR,CAAa,sBAAsB9P,GAAnC,EADJ,KAEO;AACH,YAAMgB,IAAS,IAAIipB,GAAJ,CAAQtrB,EAAWsR,OAAX,CAAmBjQ,CAAnB,CAAR,CAAf;AACAgB,UAAO0E,MAAP,CAAcxH,CAAd,GACAS,EAAWsR,OAAX,CAAmBjQ,CAAnB,IAA4B6F,MAAMC,IAAN,CAAW9E,CAAX,CAD5B,EAII3C,EAAY4R,OAAZ,CAAoBjQ,CAApB,KACA3B,EAAY4R,OAAZ,CAAoBjQ,CAApB,EAA2B6D,OAA3B,CAAmC5C,KAC/BA,GADJ,CALJ;AAMQ;AAAA;AApDjB,GAAP,CADqB,EA4DrB,EA5DqB,CALzB;AAoEA,SACIqjC,iBAAC7B,GAAkBtjC,QAAnB;AAA4BC,WAAOnB;AAAnC,KACKS,CADL,CADJ;AAES,CAvEqB,uBAA3B;ACfP;AACA;ACDA;;AAGe,YACXA,CADW,EAEXC,CAFW,EAGb;AAME,SAL2B4lC,GACvB,EADuB,EAEvBC,GAAU9lC,CAAV,EAAyBC,CAAzB,CAFuB,EAGvBA,CAHuB,CAK3B;AAToB;;AAAAG;;AAYxB,YAAmBJ,CAAnB,EAA2BC,CAA3B,EAAmC;AAC/B,SAAI,OAAOD,CAAP,IAAkB,QAAlB,GACOA,CADP,GAIA,OAAOA,CAAP,IAAkB,UAAlB,GACOA,EAAOC,CAAP,CADP,GAIG,EARP;AADK;;AAAAG;ACMF,IAAM2lC,KAAsB3lC,GAC/BJ,CAD+B,EAE/BC,CAF+B,KAG9B;AACD,MAAMN,IAAoBS,GAACZ,CAAD,EAAgB8B,CAAhB,KAAqC;AAC3D9B,MAAO2F,OAAP,CAAe,CAAC7C,CAAD,EAAQC,CAAR,KAAkB;AAC7B,UAAI,OAAOD,CAAP,IAAiB,QAArB,EAA+B;AAC3B/C,UAAmB+C,CAAnB,EAA0B,GAAGhB,KAAYiB,IAAzC;AACA;AAEJ;;AAAA,UAAI4E,MAAMuU,OAAN,CAAcpZ,CAAd,CAAJ,EAA0B;AACtB3C,UAAkB2C,CAAlB,EAAyB,GAAGhB,KAAYiB,IAAxC;AACA;AAEJ;;AAAAtC,QAAS,GAAGqB,KAAYiB,GAAxB,EAAiC;AAC7BN,cAAM,QADuB;AAE7BqH,iBAAShH,EAAMgE,QAAN;AAFoB,OAAjC;AAEmB,KAXvB;AAWuB,GAZD,sBAA1B;AAAA,MAgBM/G,IAAqBa,GAACZ,CAAD,EAAc8B,CAAd,KAAmC;AAC1D2D,WAAO24B,OAAP,CAAep+B,CAAf,EAAuB2F,OAAvB,CAA+B,UAAmB;AAAA,UAAlB,CAAC7C,CAAD,EAAOC,CAAP,CAAkB;;AAC9C,UAAI,OAAOA,CAAP,IAAiB,QAArB,EAA+B;AAC3BhD,UAAmBgD,CAAnB,EAA0B,GAAGjB,IAAWgB,IAAxC;AACA;AAEJ;;AAAA,UAAI6E,MAAMuU,OAAN,CAAcnZ,CAAd,CAAJ,EAA0B;AACtB5C,UAAkB4C,CAAlB,EAAyB,GAAGjB,IAAWgB,IAAvC;AACA;AAEJ;;AAAArC,QAAS,GAAGqB,IAAWgB,GAAvB,EAA+B;AAC3BL,cAAM,QADqB;AAE3BqH,iBAAS/G,EAAM+D,QAAN;AAFkB,OAA/B;AAEmB,KAXvB;AAWuB,GAZA,uBAhB3B;AAgCA/G,IAAmBS,CAAnB,EAA2B,EAA3B;AAA2B,CApCI,wBAA5B;ACrBP;AACA;AAUO,IAAMgmC,KAAmB5lC,EAACJ,KAAsB;AACnD,MAAM,CAACC,CAAD,EAAYN,CAAZ,IAA4BsmC,GAAS,EAAT,CAAlC;AAAA,MACM;AAAEC,cAAF;AAAWC,kBAAX;AAAwBvB;AAAxB,MAAmCwB,GACrCpmC,IAAU;AAAEqmC;AAAF,GAAV,GAAwB,MADa,CADzC;AAAA,MAIM/jC,IAAiBgkC,GAAO9mC,CAAP,CAJvB;AAMA,YAAU,MAAM;AAGRA,QAAc8C,EAAeiP,OAA7B,KACAjP,EAAeiP,OAAf,GAAyB/R,CAAzB,EAIAyF,MAAI,CAAOC,IAAX,CAAgB5D,CAAZ,EAAoBoD,MAAxB,GAAiC,CAAjC,IAAsC,CAACnF,CAAvC,GACII,EAAa,EAAb,CADJ,GAGIA,EAAa,EAAb,CARR;AAQqB,GAXzB,EAcG,CAAC2B,CAAD,EAAS/B,CAAT,EAAkBC,CAAlB,CAdH,GAgBOS,CAhBP;AAgBO,CAvBqB,qBAAzB;ACXP;AACA;AACA;AASO,IAAMsmC,KAA4BnmC,GACrCJ,CADqC,EAErCC,CAFqC,EAGrCN,CAHqC,KAIpC;AAID,MAAMJ,IAAYinC,GAAWC,EAAX,EAAqCtmC,SAAvD;AAAA,MACMX,IAAWknC,IADjB;AAAA,MAEMplC,IAAYoJ,GAFlB;AAAA,MAGM;AAAEi8B,yBAAF;AAAsBC,mBAAtB;AAAoCC;AAApC,MAAoDC,GACtDnnC,IAAU;AAAE0mC;AAAF,GAAV,GAAwB,MAD8B,CAH1D;AAAA,MAMM5jC,IAAUwC,OAAOC,IAAP,CAAY1C,CAAZ,EAAyBkC,MAAzB,GAAkC,CANlD;AAAA,MAOM6H,IAAkBw6B,GAAO9mC,KAAoBT,EAASiC,QAApC,CAPxB;;AASAulC,KAAU,MAAM;AACZ,QAAI,CAAChnC,CAAD,IAAW,CAACyC,CAAhB,EAAyB;AAEzB,QAAI0Q,IAAU5T,EAAU0nC,KAAV,CAAgB7zB,CAAC,IAAmB;AAC9C,UAAMC,IAA0BD,EAAGxT,QAAH,CAAY6B,QAAZ,CAAqBoB,UAArB,CAC5B0J,EAAgBgF,OADY,CAAhC;AAIA,OACKhP,CAAD,KACC8Q,KACG/Q,CADH,IAEGQ,OAAOokC,OAAP,CAAe5lC,EAAU,4BAAV,CAAf,CAJR,MAMI6R,KACAC,EAAGqM,KAAH,EANA;AAMG,KAZG,CAAd;AAgBA,WAAOtM,CAAP;AAAO,GAnBX,EAoBG,CACCnT,CADD,EAECR,CAFD,EAGCD,CAHD,EAICkD,CAJD,EAKCF,CALD,EAMCD,CAND,EAOChB,CAPD,CApBH;AA2BI,CA5CiC,8BAAlC;AJeA,IAAM6lC,KAAmB/mC,EAACJ,KAAiC;AAC9D,MAAM;AACFonC,cADE;AAEFC,sBAAe,YAFb;AAGFC,oBAHE;AAIFC,iBAJE;AAKFC,uBALE;AAMFC,WANE;AAOFC,eAPE;AAQFC,wBAAiB,UARf;AASFC,eATE;AAUFC,uBAVE;AAWFC,uBAXE;AAYFC,gCAZE;AAaFC,6BAbE;AAcFC;AAdE,MAeFjoC,CAfJ;AAAA,MAgBMuT,IAAS4jB,GAAiBn3B,CAAjB,CAhBf;AAAA,MAiBMwT,IAAcoiB,IAjBpB;AAAA,MAmBMjV,IAA+BunB,GACjC,MAAMC,GAAqB5oC,CAArB,EAAoCgU,CAApC,CAD2B,EAEjC,CAACvN,KAAKC,SAAL,CAAe;AAAEqhC,oBAAF;AAAiBnU;AAAjB,GAAf,CAAD,CAFiC,CAnBrC;AAAA,MAwBMpR,IAAgBxf,MAEhB+Q,IACAmxB,GAA4BnxB,CAA5B,CADA,GAEA,MAJgB,CAxBtB;AAAA,MA8BM0O,IAAOomB,GAAQ;AACjBhB,cADiB;AAEjBC,mBAFiB;AAGjBC,mBAAe3mB,CAHE;AAIjB4mB,iBAJiB;AAKjBE,WALiB;AAMjBE,qBANiB;AAOjBD,cAAU3lB,CAPO;AAQjB8lB,uBARiB;AASjBC,uBATiB;AAUjBC;AAViB,GAAR,CA9Bb;;AA4CAM,KAAU,MAAM;AACZ,QAAI,CAAC90B,CAAL,EACI;AAEJ,QAAMqO,IAAgBumB,GAAqB5oC,CAArB,EAAoCgU,CAApC,CAAtB;AACAyO,MAAK9b,KAAL,CAAW0b,CAAX;AAAW,GALf,EAMG,CAACI,EAAK9b,KAAN,EAAaF,KAAKC,SAAL,CAAesN,CAAf,EAAuBhU,CAAvB,CAAb,CANH;;AASA,MAAMgiB,IAAYykB,GAAiBhkB,EAAKqkB,OAAtB,CAAlB;AAAA,MACM5kB,IAASrY,GADf;AAEAi/B,KAAU,MAAM;AACZ9mB,KAAI,IACAE,EAAO,yBAAP,EAAkC;AAAExf,YAAM;AAAR,KAAlC,CADA;AAC0C,GAFlD,EAIG,CAACsf,CAAD,EAAYE,CAAZ,CAJH,GAOA8kB,GACIlzB,CADJ,EAEI/R,CAFJ,EAGI0gB,EAAKqkB,OAHT,CAPA;AAcA,MAAM3kB,IAAe4mB,GACjB,MAAM1mB,CAAN,IAAgB;AACZ,QAAIE,CAAJ;AAEArf,KAAI,KACAqf,IAAS,MAAMrf,EAASmf,CAAT,CADf,CAAJ,EAGInf,KAAY,IAAZ,KAAoB+Q,uBAAaqhB,IAAjC,MACA/S,IAAS,MAAMtO,EAAYqhB,IAAZ,CAAiBjT,CAAjB,CADf,CAHA,EAMAE,KAAU,IAAV,IACAikB,GAAoBjkB,CAApB,EAA4BE,EAAKumB,QAAjC,CAPJ;AAOqC,GAXxB,EAcjB,CAACvmB,CAAD,EAAOvf,CAAP,EAAiB+Q,CAAjB,CAdiB,CAArB;AAAA,MAiBMmO,IAAmB2mB,GACrB1mB,CAAC,IAA8B;AAE3BA,MAAM6R,eAAN,IACAzR,EAAKwmB,YAAL,CAAkB9mB,CAAlB,EAAgCE,CAAhC,CADA;AACgC,GAJf,EAOrB,CAACI,CAAD,EAAON,CAAP,CAPqB,CAjBzB;AA2BA,SAAO;AACHgiB,WADG;AAEH8E,mBAFG;AAGHC,uBAHG;AAIHC;AAJG,GAAP;AAII,CArGwB,qBAAzB;AFWA,IAAMC,KAAOvoC,EAACJ,KAAqB;AACtC,MAAM;AAAEX,eAAF;AAAY2C,SAAZ;AAAgB4mC,gBAAhB;AAA2BC,oBAAa;AAAxC,MAAkD7oC,CAAxD;AAAA,MACMsB,IAAS61B,GAAiBn3B,CAAjB,CADf;AAAA,MAEM;AAAE0jC,WAAF;AAAQ+E;AAAR,MAA6BtB,GAAiBnnC,CAAjB,CAFnC;AAIA,SACI8oC,iBAACxR,EAAD;AAA+B52B,WAAOY;AAAtC,KACIwnC,iBAACC,EAAD,QAAkBzmC,CAAlB,GACIwmC,iBAAC1D,EAAD,QACI0D,iBAAC,MAAD;AACIlB,cAAUrlC,CADd;AAEIsmC,gBAAYrpC,CAFhB;AAGIwC,QAAIrC,CAHR;AAIIipC,eAAWrpC;AAJf,KAMKU,CANL,CADJ,CADJ,CADJ,CADJ;AAUqB,CAfL,SAAb;AOrCP;AAIA,IAAM+oC,KAAc,wJAApB;AAAA,IAEMC,KAAU7oC,EAACJ,KACb,OAAOA,CAAP,IAAiB,WAAjB,IACAA,MAAU,IADV,IAEAA,MAAU,EAFV,IAGCmH,MAAMuU,OAAN,CAAc1b,CAAd,KAAwBA,EAAM0E,MAAN,KAAiB,CAJ9B,YAFhB;;AA4BA,YACI1E,CADJ,EAE2C;AACvC,SAAOA,EAAMgO,cAAN,CAAqB,SAArB,CAAP;AAHK;;AAAA5N;AAcT,IAAM8oC,KAAa9oC,GACfJ,CADe,EAEfC,CAFe,EAGfN,CAHe,EAIfJ,CAJe,KAMf,OAAOS,CAAP,IAAmB,UAAnB,GACMA,EAAQ;AACJkkC,QAAMjkC,CADF;AAEJS,UAFI;AAGJikC;AAHI,CAAR,CADN,GAMM1kC,IACA;AACIqJ,YADJ;AAEI46B,QAAMjkC;AAFV,CADA,GAKAD,CAjBS,eAAnB;AAAA,IA2BMmpC,KAAmB/oC,EAACJ,KACtBopC,GAAcppC,CAAd,EAAkB;AAAA,qCAAIC,CAAJ;AAAIA,KAAJ;AAAA;;AAAA,SAAa+F,KAAKC,SAAL,CAAehG,CAAf,CAAb;AAAA,CAAlB,CADqB,YA3BzB;AAAA,IA8BMopC,KAAajpC,OAAS,OAAOJ,CAAP,IAAiB,UAA1B,eA9BnB;AAAA,IAgCaspC,KAAqBlpC,GAC9BJ,CAD8B,EAE9BC,CAF8B,KAIvB,CAACN,CAAD,EAAQJ,CAAR,EAAgBC,CAAhB,KAAyB;AAC5B,MAAM8B,IAAUtB,EAAWL,CAAX,EAAkBJ,CAAlB,EAA0BC,CAA1B,CAAhB;AACA,SAAK8B,IAID,OAAOA,CAAP,IAAmB,QAAnB,IACAioC,GAAiCjoC,CAAjC,CADA,GAGOA,CAHP,GAMGA,EAAQ2I,IAAR,CAAa3H,KACXA,KACMrC,EAAWN,CAAX,EAAkBJ,CAAlB,EAA0BC,CAA1B,CAFR,CAVF,GACMS,EAAWN,CAAX,EAAkBJ,CAAlB,EAA0BC,CAA1B,CADX;AACqC,CAPX,uBAhClC;AAAA,IA0DagqC,KAAoBppC;AAAA,qCAAIJ,CAAJ;AAAIA,KAAJ;AAAA;;AAAA,SACN,OAAM0b,OAAN,CAAc1b,EAAW,CAAX,CAAd,IACjBA,EAAW,CAAX,CADiB,GAEjBA,CAEC,EADL4e,MAHqB,CAGdyqB,EACF,EAAc/6B,MAJE,CAIKg7B,EAArB,EAAyC,MAAM,IAJ/B,CADM;AAAA,uBA1DjC;AAAA,IAmEaG,KAAwBrpC;AAAA,qCAAIJ,CAAJ;AAAIA,KAAJ;AAAA;;AAAA,SAAmB,CACpDC,CADoD,EAEpDN,CAFoD,EAGpDJ,CAHoD,KAInD;AACD,QAAMC,IAAiB,OAAMkc,OAAN,CAAc1b,EAAW,CAAX,CAAd,IACjBA,EAAW,CAAX,CADiB,GAEjBA,CAFiB,EAGrB4e,MAHqB,CAGdyqB,EAHc,CAAvB;;AAKA,aAAW/nC,CAAX,IAAwB9B,CAAxB,EAAuC;AACnC,UAAM8C,IAAQhB,EAAUrB,CAAV,EAAiBN,CAAjB,EAAyBJ,CAAzB,CAAd;AAEA,UAAI+C,CAAJ,EACI,OAAOA,CAAP;AAAO;AAAA,GAdkB;AAAA,2BAnErC;AAAA,IAkGaonC,KAAWP,GAAQ;AAAA,MAACnpC,CAAD,uEAAW,wBAAX;AAAA,SAC5BiF,OAAOyJ,MAAP,CACI,CAACzO,CAAD,EAAQN,CAAR,KACIspC,GAAQhpC,CAAR,IACMipC,GAAWlpC,CAAX,EAAoB,MAApB,EAA+BC,CAA/B,EAAsCN,CAAtC,CADN,GAEM,MAJd,EAKI;AAAE4N,gBAAY;AAAd,GALJ,CAD4B;AAAA,CAAR,CAlGxB;AAAA,IAyHao8B,KAAYR,GACrB,UAACnpC,CAAD;AAAA,MAAMC,CAAN,uEAAgB,yBAAhB;AAAA,SAA8C,CAACN,CAAD,EAAQJ,CAAR,KAC1C,CAAC0pC,GAAQtpC,CAAR,CAAD,IAAmBA,EAAM+E,MAAN,GAAe1E,CAAlC,GACMkpC,GAAWjpC,CAAX,EAAoB;AAAE2pC;AAAF,GAApB,EAA6BjqC,CAA7B,EAAoCJ,CAApC,CADN,GAEM,MAHV;AAAA,CADqB,CAzHzB;AAAA,IA6IasqC,KAAYV,GACrB,UAACnpC,CAAD;AAAA,MAAMC,CAAN,uEAAgB,yBAAhB;AAAA,SAA8C,CAACN,CAAD,EAAQJ,CAAR,KAC1C,CAAC0pC,GAAQtpC,CAAR,CAAD,IAAmBA,EAAM+E,MAAN,GAAe1E,CAAlC,GACMkpC,GAAWjpC,CAAX,EAAoB;AAAE6pC;AAAF,GAApB,EAA6BnqC,CAA7B,EAAoCJ,CAApC,CADN,GAEM,MAHV;AAAA,CADqB,CA7IzB;AAAA,IAiKawqC,KAAWZ,GACpB,UAACnpC,CAAD;AAAA,MAAMC,CAAN,uEAAgB,wBAAhB;AAAA,SAA6C,CAACN,CAAD,EAAQJ,CAAR,KACzC,CAAC0pC,GAAQtpC,CAAR,CAAD,IAAmBA,IAAQK,CAA3B,GACMkpC,GAAWjpC,CAAX,EAAoB;AAAE2pC;AAAF,GAApB,EAA6BjqC,CAA7B,EAAoCJ,CAApC,CADN,GAEM,MAHV;AAAA,CADoB,CAjKxB;AAAA,IAqLayqC,KAAWb,GACpB,UAACnpC,CAAD;AAAA,MAAMC,CAAN,uEAAgB,wBAAhB;AAAA,SAA6C,CAACN,CAAD,EAAQJ,CAAR,KACzC,CAAC0pC,GAAQtpC,CAAR,CAAD,IAAmBA,IAAQK,CAA3B,GACMkpC,GAAWjpC,CAAX,EAAoB;AAAE6pC;AAAF,GAApB,EAA6BnqC,CAA7B,EAAoCJ,CAApC,CADN,GAEM,MAHV;AAAA,CADoB,CArLxB;AAAA,IAwMa0qC,KAASd,GAClB;AAAA,MAACnpC,CAAD,uEAAW,sBAAX;AAAA,SAAsC,CAACC,CAAD,EAAQN,CAAR,KAClC,CAACspC,GAAQhpC,CAAR,CAAD,IAAmBksB,MAAMM,OAAOxsB,CAAP,CAAN,CAAnB,GACMipC,GAAWlpC,CAAX,EAAoB,MAApB,EAA+BC,CAA/B,EAAsCN,CAAtC,CADN,GAEM,MAHV;AAAA,CADkB,CAxMtB;AAAA,IA4NauqC,KAAQd,GACjB,UAACppC,CAAD;AAAA,MAAUC,CAAV,uEAAoB,qBAApB;AAAA,SAA8C,CAACN,CAAD,EAAQJ,CAAR,KAC1C,CAAC0pC,GAAQtpC,CAAR,CAAD,IAAmB,OAAOA,CAAP,IAAiB,QAApC,IAAgD,CAACK,EAAQmtB,IAAR,CAAaxtB,CAAb,CAAjD,GACMupC,GAAWjpC,CAAX,EAAoB;AAAEkqC;AAAF,GAApB,EAAiCxqC,CAAjC,EAAwCJ,CAAxC,CADN,GAEM,MAHV;AAAA,CADiB,EAKjB,CAACS,CAAD,EAAUC,CAAV,KACWD,EAAQsG,QAAR,KAAqBrG,CANf,CA5NrB;AAAA,IAkPamqC,KAAQjB,GAAQ;AAAA,MAACnpC,CAAD,uEAAW,qBAAX;AAAA,SACzBkqC,GAAMlB,EAAN,EAAmBhpC,CAAnB,CADyB;AAAA,CAAR,CAlPrB;AAAA,IAsPMqqC,KAAgCjqC;AAAA,MAAC;AAAE8jC;AAAF,GAAD;AAAA,SAAe;AACjD56B,aAAS,qBADwC;AAEjD46B;AAFiD,GAAf;AAAA,sBAtPtC;AAAA,IAwQaoG,KAAUnB,GACnB,UAACnpC,CAAD;AAAA,MAAOC,CAAP,uEAAiBoqC,EAAjB;AAAA,SAAsC,CAAC1qC,CAAD,EAAQJ,CAAR,KAClC,CAAC0pC,GAAQtpC,CAAR,CAAD,IAAmBK,EAAKy4B,OAAL,CAAa94B,CAAb,MAAwB,EAA3C,GACMupC,GAAWjpC,CAAX,EAAoB;AAAE6oB;AAAF,GAApB,EAA8BnpB,CAA9B,EAAqCJ,CAArC,CADN,GAEM,MAHV;AAAA,CADmB,CAxQvB;AAAA,IAkRagrC,KAAanqC,OAClBJ,KAAYA,EAASuN,UAArB,GACO,EADP,GAGApG,MAAMuU,OAAN,CAAc1b,CAAd,IACO,CAAC,CAACA,EAASqgB,IAAT,CAAcpgB,KAAMA,EAAGsN,UAAvB,CADT,GAGG,EAPe,eAlR1B;AC9CA;AASO,IAAMi9B,KAAmBC,GAAqC,MAArC,CAAzB;ACTP;AACA;ACDA;AAMO,IAAMC,KAAgBtqC,QACTuqC,GAAW5G,EAAX,CADS,kBAAtB;AD2CA,IAAM6G,KAA2BxqC,YAMlC;AAAA,MANmC;AACrCf,eADqC;AAErC+I;AAFqC,GAMnC;AACF,MAAMzI,IAAa+qC,IAAnB;AAEA,YAAU,MAAM;AACZ,QACI,CAAC/qC,CAAD,IACA,CAACA,EAAW6lC,aADZ,IAEA,CAAC7lC,EAAW8lC,eAHhB,EAIE;AACEt7B,cAAQiH,IAAR,CACI,iIADJ;AAGA;AAEJ;;AAAA,aAAWo0B,aAAX,CAAyBvlC,CAAzB,GAEO,MAAM;AACTN,QAAW8lC,eAAX,CAA2BxlC,CAA3B;AAA2B,KAH/B;AAG+B,GAdnC,EAgBG,CAACN,CAAD,EAAaM,CAAb,CAhBH,GAmBI4qC,iBAACL,GAAiB/pC,QAAlB;AAA2BC,WAAOT;AAAlC,KACKD,CADL,CAnBJ;AAoBS,CA7B2B,6BAAjC;AEjDP;AACA;AACA;AAQO,IAAM8qC,KAA6B1qC,EAACJ,KAA+B;AACtE,MAAM;AAAE2xB,mBAAF;AAAgBjlB;AAAhB,MAA2B1M,CAAjC;AAAA,MACMT,IAAS43B,GAAiBn3B,CAAjB,CADf;AAAA,MAEM;AAAE+qC,gBAAF;AAAaC;AAAb,MAA4BC,IAFlC;AAAA,MAGM3oC,IAAc4oC,GAAI3rC,CAAJ,EAAYI,CAAZ,CAHpB;AAAA,MAIM4C,IAAY2oC,GAAI1rC,GAAJ,EAAiBG,CAAjB,CAJlB;AAMAwrC,KAAU,MAAM;AACZ,QAAIlrC,KAAgB,IAAhB,IACAsC,KAAa,IADb,IACqBD,KAAe,IADxC,EAC8C;AAQ1C,UAH0B3C,EACrB0L,KADqB,CACf,GADe,EAErBmU,IAFqB,CAEhB/c,KAAY2oC,GAAaje,IAAb,CAAkB1qB,CAAlB,CAFI,CAG1B,EAAuB;AACnB,YAAMA,IAAa9C,EAAO0L,KAAP,CAAa,GAAb,EAAkBuD,KAAlB,CAAwB,CAAxB,EAA2B,EAA3B,EAA+BC,IAA/B,CAAoC,GAApC,CAAnB;AAEA,YADoBq8B,GAAI1rC,GAAJ,EAAiBiD,CAAjB,CAChB,IAAe,IAAnB,EAEI;AAGR;;AAAAnB,QAAW3B,CAAX,EAAmB;AAAEgyB;AAAF,OAAnB;AAAqB;AAAA,GAlB7B;AAkB6B,CAzBS,+BAAnC;AAAA,IA8BDyZ,KAAe,OA9Bd;ACVP;AACA;AACA;AAuCO,IAAMC,KAAajrC,YAKD;AAAA,MALE;AACvBkrC,oBAAa,MADU;AAEvBC,qBAAc,IAFS;AAGvBC,sBAAe,UAHQ;AAIvBC,yBAAkB;AAJK,GAKF;;AACrB,MAAMjsC,IAAYkL,GAAlB;AAAA,MAEMpJ,IAAgBoqC,GAClBlpC,KAAU;AACN,QAAImpC,GAAgC3rC,CAAhC,CAAJ,EACI,OACI4rC,iBAAC3W,EAAD;AAAuBv0B,aAAO8B;AAA9B,OACKxC,CADL,CADJ;AAMJ,QAAMyC,IACF,OAAOzC,CAAP,IAAsB,UAAtB,GACMA,EAAWwC,CAAX,CADN,GAEMqpC,GAAIrpC,CAAJ,EAAYxC,CAAZ,CAHV;AAKA,WAAO2rC,GAAelpC,CAAf,IACDA,CADC,GAEDlD,IACAC,EAAUqH,OAAOpE,CAAP,CAAV,EAA8B;AAAEiI,SAAGjI;AAAL,KAA9B,CADA,GAEAoE,OAAOpE,CAAP,CAJN;AAIa,GAlBC,EAoBlB,CAACzC,CAAD,EAAaR,CAAb,EAAwBD,CAAxB,CApBkB,CAFtB;AAAA,MAyBM+C,IAAiBopC,GAAYlpC,KAAUqpC,GAAIrpC,CAAJ,EAAYvC,CAAZ,CAAtB,EAAgD,CACnEA,CADmE,CAAhD,CAzBvB;AAAA,MA6BMsC,IAAkBmpC,GAAYlpC,KAAUqpC,GAAIrpC,CAAJ,EAAY7C,CAAZ,CAAtB,EAAiD,CACrEA,CADqE,CAAjD,CA7BxB;;AAiCA,SAAO;AACHmsC,oBADG;AAEHC,qBAFG;AAGHC;AAHG,GAAP;AAGI,CA1CkB,eAAnB;ACzCP;AACA;AACA;AACA;AA6DO,IAAMC,KAAe7rC,EAACJ,KAAiC;AAC1D,MAAM;AAAE6mC,kBAAF;AAAeqF,oBAAf;AAA8BtH;AAA9B,MAAyCuH,IAA/C;AAAA,MACM3sC,IAAakrC,IADnB;AAAA,MAEM,CAACppC,CAAD,EAAQgB,CAAR,IAAoB8pC,GAAyB;AAC/CxH,YAAQ,MADuC;AAE/CyH,aAAS,EAFsC;AAG/CC,eAAW,EAHoC;AAI/CpG,aAAS;AAJsC,GAAzB,CAF1B;AAAA,MASM3jC,IAAmBgqC,GAAY,MAAM;AAEvC,QAAM9pC,IAAcjD,CADL,CAAW+lC,cAAX,CAA0BvlC,CACrB,EACf8b,GAFU,CAEM3I,MACN;AACH/K,YAAM+K,CADH;AAEH/I,aAAOoiC,GAAIjtC,CAAJ,EAAY4T,CAAZ,EAAmB,MAAnB,CAFJ;AAGHk5B,eAASG,GAAIvsC,CAAJ,EAAiBkT,CAAjB,EAAwB,EAAxB,CAHN;AAIH+yB,eAASsG,GAAIjtC,CAAJ,EAAY4T,CAAZ,EAAmB,MAAnB,KAAiC,IAJvC;AAKHm5B,iBAAWE,GAAI7sC,CAAJ,EAAmBwT,CAAnB,EAA0B,EAA1B;AALR,KADM,CADD,EAUfyL,MAVe,CAURzL,KAAcA,KAAc,IAVpB,CAApB;AAAA,QAYM5G,IAAWkgC,GAAkBhqC,CAAlB,CAZjB;AAaAH,MAAS6Q,KACAu5B,GAAQv5B,CAAR,EAAkB5G,CAAlB,IAIE4G,CAJF,GACM5G,CAFf;AAEe,GAjBM,EAsBtB,CAACtM,CAAD,EAAcV,CAAd,EAAsBI,CAAtB,EAAqCH,CAArC,EAAiDQ,CAAjD,CAtBsB,CATzB;AAiCA,YACI,MAAM;AACFuC;AAAA,GAFR,EAKI,CAEIyD,KAAKC,SAAL,CAAe;AAAE4gC,kBAAF;AAAejC,aAAf;AAAuBsH;AAAvB,GAAf,CAFJ,EAGI3pC,CAHJ,CALJ,GAYAoqC,GAAU,MAGCntC,EAAW2G,SAAX,CAAqBnG,CAArB,EAA2B,MAAM;AACpCuC;AAAA,GADG,CAHX,EAMG,CAAC/C,CAAD,EAAaQ,CAAb,EAAmBuC,CAAnB,CANH,CAZA,EAoBOjB,CApBP;AAoBO,CAtDiB,iBAArB;AAAA,IA+DMmrC,KAAoBrsC,EAC7BJ,KAEOA,EAAYsO,MAAZ,CACH,CAACrO,CAAD,EAAMN,CAAN,KAAqB;AACjB,MAAIJ,IAASU,EAAI2kC,MAAJ,IAAc,EAA3B;AAEA,SAAIjlC,EAAWyK,KAAX,KACA7K,EAAOI,EAAWyI,IAAlB,IAA0BzI,EAAWyK,KADrC,GAIa;AACbiiC,aAASpsC,EAAIosC,OAAJ,IAAe1sC,EAAW0sC,OADtB;AAEbzH,aAFa;AAGb0H,eAAWrsC,EAAIqsC,SAAJ,IAAiB3sC,EAAW2sC,SAH1B;AAIbpG,aAASjmC,EAAIimC,OAAJ,IAAevmC,EAAWumC;AAJtB,GAJjB;AAQuC,CAZxC,EAiBH;AACImG,WAAS,EADb;AAEIzH,UAAQ,MAFZ;AAGIsB,WAAS,EAHb;AAIIoG,aAAW;AAJf,CAjBG,CAHsB,sBA/D1B;AChEP;AAMO,IAAMM,KAAsBxsC,QACfysC,GAAWrC,EAAX,CADe,wBAA5B;ACuBA,IAAMsC,KAA+B1sC,QAAM;AAC9C,MAAMJ,IAAY0K,GAAlB;;AAEA,SAAQzK,KAAkC;AACtC,QAAKA,EAAyCqJ,OAAzC,IAAoD,IAAzD,EAA+D;AAC3D,UAAM;AAAEA,kBAAF;AAAW46B;AAAX,UAAoBjkC,CAA1B;AACA,aAAOD,EAAUL,CAAV,EAAmB6B;AAAEkJ,WAAG/K;AAAL,SAAiBJ,CAAjB,CAAnB,CAAP;AAEJ;;AAAA,WAAOS,EAAUC,CAAV,EAA2B;AAAEyK,SAAGzK;AAAL,KAA3B,CAAP;AAAuC,GAL3C;AAK2C,CARH,iCAArC;AC7BP;AACA;AAMO,IAAM8sC,KAA8B3sC,GAACJ,CAAD,EAAgBC,CAAhB,KAA2B;AAClE,MAAM;AAAEiG;AAAF,MAAY8mC,IAAlB;AAEAC,KAAU,MAAM;AACZ,QAAI,CAAChtC,CAAL,EACI;AAEJ,QAAMV,IAAgB4oC,GAAqBnoC,CAArB,EAAoCC,CAApC,CAAtB;AACAN,MAAMJ,CAAN;AAAM,GALV,EAMG,CAACI,CAAD,EAAQqG,KAAKC,SAAL,CAAehG,CAAf,EAAuBD,CAAvB,CAAR,CANH;AAMkC,CATK,gCAApC;ACPP;AACA;AASA;ACVA,IAAMktC,KAAa9sC,OACXJ,KAAYA,EAASuN,UAArB,GACO,EADP,GAGApG,MAAMuU,OAAN,CAAc1b,CAAd,IACOA,EAASwf,IAAT,CAAcvf,KAAMA,EAAGsN,UAAvB,CADP,GAGG,EAPQ,eAAnB;AAAA,IAUO4/B,KAAQD,EAVf;ADoBO,IAAME,KAAWhtC,EAACJ,KAAqC;AAC1D,MAYI2hB,KAZJ;AAAA,MACI;AAAAgQ;AACA0b,aADA;AAEArrC,SAFA;AAGAuL,gBAAY/N,CAHZ;AAIA4I,WAJA;AAKAklC,aALA;AAMAC,eANA;AAOAhnC,YAPA;AAQAmG,aARA;AASAu7B;AATA,MAWAtmB,CAZJ;AAAA,MAWOxO,MACHwO,CADG,GAVH,cAUG,EATH,QASG,EARH,IAQG,EAPH,YAOG,EANH,MAMG,EALH,QAKG,EAJH,UAIG,EAHH,OAGG,EAFH,QAEG,EADH,UACG,EAXP;AAAA,MAaMvO,IAAY9R,KAAQmB,CAb1B;AAAA,MAcM4Q,IAAgBu5B,IAdtB;AAAA,MAeMt5B,IAAao3B,IAfnB;AAAA,MAgBMn3B,IAAS4jB,IAhBf;AAAA,MAiBM3jB,IAA4Bs5B,IAjBlC;AAAA,MAkBMnsB,IAAc6sB,IAlBpB;AAoBAC,KAAU,MAAM;AACZ,QAAI,GAACn6B,CAAD,IAAeD,KAAiB,IAAhC,CAAJ,EAIA,SAAWqyB,aAAX,CAAyBjjC,CAAzB,EAAiC4Q,CAAjC,GAEO,MAAM;AACTC,QAAWqyB,eAAX,CAA2BljC,CAA3B,EAAmC4Q,CAAnC;AAAmC,KAHvC;AAGuC,GAR3C,EAUG,CAACC,CAAD,EAAaD,CAAb,EAA4B5Q,CAA5B,CAVH;AAYA,MAAMsf,IAAoB5a,MAAMuU,OAAN,CAAcnP,CAAd,IACpBi9B,GAAkBj9B,CAAlB,CADoB,GAEpBA,CAFN;AAAA,MAQM;AAAEmS,WAAOsD,CAAT;AAA0B0rB,iBAA1B;AAAsCC;AAAtC,MAAoDC,GAAcpsC;AACpE4G,UAAMgL,CAD8D;AAEpEue,kBAAckc,GAAIt6B,CAAJ,EAAY9Q,CAAZ,EAAoBxC,CAApB,CAFsD;AAGpE6tC,WAAO;AACH7F,gBAAU,MAAMrmB,CAAN,IAAe;AACrB,YAAI,CAACG,CAAL,EAAwB,OAAO,EAAP;AACxB,YAAMD,IAAQ,MAAMC,EAChBH,CADgB,EAEhBjB,EAAYoqB,SAAZ,EAFgB,EAGhB/qC,CAHgB,CAApB;AAMA,eAAK8hB,IACEtO,EAA0BsO,CAA1B,CADF,GAAc,EAAnB;AAAmB;AATpB;AAH6D,KAgBjE3O,CAhBiE,CAAd,CAR1D;AA+BA23B,KAA2B9qC,CAA3B;AAEA,MAAM0hB,IAAQnT,QACPyT,CADO;AAEVthB,WAAOf,IAASA,EAAOqiB,EAAgBthB,KAAvB,CAAT,GAAyCshB,EAAgBthB,KAFtD;AAGV4sC,YAAQ,YAAqB;AACzBhrC,OAAI,IACAA,EAAO,YAAP,CADA,EAGJ0f,EAAgBsrB,MAAhB,EAHA;AAGgB,KAPV;AASVC,cAAU,YAAqB;AA/FvC;;AA+FuC,yCAAjB3rB,CAAiB;AAAjBA,SAAiB;AAAA;;AAC3Brf,OAAI,IACAA,EAAS,GAAGqf,CAAZ,CADA;AAGJ,UAAME,IAAgB,QAAO,YAAM,CAAN,wBAAUtB,MAAV,uBAAkButB,OAAzB,KAClB,SADkB,IACL,aAAM,CAAN,wBAAUvtB,MAAV,uBAAkB9f,KAAlB,MAA4B,IADvB,GAEhBkhB,EAAM,CAAN,EAASpB,MAAT,CAAgButB,OAFA,GAGhB,iBAAM,CAAN,wBAAUvtB,MAAV,uBAAkB9f,KAAlB,gBAA2BkhB,EAAM,CAAN,CAHjC;AAIAI,QAAgBurB,QAAhB,CACI/qC,IAAQA,EAAMsf,CAAN,CAAR,GAA8BA,CADlC;AACkC;AAlB5B,IAAd;AAuBA,SAAO;AACH9f,QAAIzC,KAAMkD,CADP;AAEHic,YAFG;AAGHgvB,iBAHG;AAIHC,gBAJG;AAKHpgC,gBAAY/N,KAAoB2tC,GAAW5gC,CAAX;AAL7B,GAAP;AAK+C,CA9F3B,aAAjB;AEpBP;AACA;AAwBO,IAAMyhC,KAAiB5tC,YAcD;AAAA,MAdE;AAC3B6tC,kBAD2B;AAE3B5N,cAF2B;AAG3B6N,oBAAa,kBAHc;AAI3BC,qBAAc,UAJa;AAK3BC,mBAAY,EALe;AAM3BC,oBAAa,IANc;AAO3BC,0BAP2B;AAQ3BC,sBAR2B;AAS3BjD,iBAT2B;AAU3BC,kBAV2B;AAW3BiD,mBAX2B;AAY3BC,yBAAkB,CAZS;AAa3BhD;AAb2B,GAcF;;AACzB,MAAMp4B,IAAY3I,GAAlB;AAAA,MACM;AAAEohC,oBAAF;AAAiBC;AAAjB,MAAoCV,GAAW;AACjDC,iBADiD;AAEjDC,kBAFiD;AAGjDE;AAHiD,GAAX,CAD1C;AAAA,MAQMj4B,IAAiBk7B,GACnBC,GAAsB;AAClBV,kBADkB;AAElB5N,cAFkB;AAGlB6N,iBAHkB;AAIlBC,kBAJkB;AAKlBC,eAAW/6B,EAAU7T,CAAV,EAAqB;AAAEkL,SAAGlL;AAAL,KAArB,CALO;AAMlB6uC,iBANkB;AAOlBvC,oBAPkB;AAQlBC,qBARkB;AASlBuC,0BATkB;AAUlBC,sBAVkB;AAWlBjD,iBAXkB;AAYlBC,kBAZkB;AAalBiD,mBAbkB;AAclBC;AAdkB,GAAtB,CADmB,EAiBnB,CACIzuC,CADJ,EAEIC,CAFJ,EAGIN,CAHJ,EAIIJ,CAJJ,EAKIC,CALJ,EAMI8B,CANJ,EAOIgS,CAPJ,EAQIC,CARJ,EASIjR,CATJ,EAUIC,CAVJ,EAWIC,CAXJ,EAYIC,CAZJ,EAaI8J,CAbJ,EAcI4G,CAdJ,EAeIE,CAfJ,CAjBmB,CARvB;;AA4CA,SAAO;AACHy4B,oBADG;AAEHC,qBAFG;AAGH6C;AAHG,GAAP;AAGI,CA9DsB,mBAAvB;AAAA,IAkEDC,KAAezuC,OACjBJ,IAAQA,EAAM0B,OAAN,CAAc,qBAAd,EAAqC,MAArC,CAAR,GAAuD,EADtC,iBAlEd;AAAA,IA0FDotC,KAAyB1uC,OAAiB,UAC5CH,CAD4C,EAE5CN,CAF4C,EAI3C;AAAA,MADDJ,CACC,uEADO,EACP;AACD,MAAMC,IAAiBQ,EAAcL,CAAd,CAAvB;AAAA,MAEM2B,IAAiBytC,GAAevvC,CAAf,CAFvB;AAAA,MAGM8C,IAAQusC,GAAa5uC,CAAb,CAHd;AAKA,SAAOqB,IACD,EADC,GAED9B,KACI,CAAC,CAACA,EAAewvC,KAAf,CAGE,IAAIC,MAAJ,CAAW1vC,IAAQ,IAAI+C,IAAZ,GAAuBA,CAAlC,EAAyC,GAAzC,CAHF,CAHZ;AAMuD,CAhB5B,2BA1FxB;AAAA,IAoIMqsC,KAAwBvuC;AAAA,MAAC;AAClC6tC,qBAAc,EADoB;AAElC5N,iBAAU,EAFwB;AAGlC6N,oBAAa,kBAHqB;AAIlCC,qBAAc,UAJoB;AAKlCC,mBAAY,EALsB;AAMlCC,oBAAa,IANqB;AAOlC/C,oBAAa,MAPqB;AAQlCC,qBAAc,IARoB;AASlCO,oBATkC;AAUlCC,qBAVkC;AAWlCuC,6BAAsB,EAXY;AAYlCC,yBAAkBO,GAAuBtsC,CAAvB,CAZgB;AAalCgsC,mBAbkC;AAclCC,yBAAkB;AAdgB,GAAD;AAAA,SAkB/Bn7B,KAAU;AACZ,QAAIC,IAAc,EAAlB;AAEAH,KACI,IACA,CAACjM,MAAMuU,OAAN,CAActI,CAAd,CADD,IAEAD,EAAgBG,CAAhB,EAAwBF,CAAxB,CAHJ,GAKQ7G,IAEAgH,IAActT,EAAQ2e,MAAR,CACVmD,KACItf,EAAesf,CAAf,MAA2Btf,EAAe2Q,CAAf,CAFrB,CAFd,GAOAG,IAAc,CAAC,GAAGtT,CAAJ,CAZtB,GAeIsT,IAActT,EAAQ2e,MAAR,CACVmD,KACI5O,EAAgBG,CAAhB,EAAwByO,CAAxB,KACC3O,KAAgB,IAAhB,KACKjM,MAAMuU,OAAN,CAActI,CAAd,IAGIA,EAAaoM,IAAb,CACIwC,KACIvf,EAAesf,CAAf,MACAtf,EAAeuf,CAAf,CAHR,CAHJ,GACIvf,EAAesf,CAAf,MACAtf,EAAe2Q,CAAf,CAHT,CAHK,CAflB,EA8BAG,IAAc27B,GAAiB37B,CAAjB,EAA8BF,CAA9B,CA7BV;AA+BJ,QAAMG,IAAgBD,EAAYiM,IAAZ,CAAiBuC,KACnC5O,EAAgBG,CAAhB,EAAwByO,CAAxB,EAAoC,EAApC,CADkB,CAAtB;;AAIA,QAAI/hB,CAAJ,EAAiB;AACb,UAAM+hB,IAGF,CAAC,CAAC3O,CAAF,IAAkB,CAACjM,MAAMuU,OAAN,CAActI,CAAd,CAAnB,GACMD,EAAgBG,CAAhB,EAAwBF,CAAxB,EAAsC,EAAtC,CADN,GAEM,EALV;AAMI,OAACI,CAAL,IAAsB,CAACuO,CAAvB,IACIxO,EAAY4M,IAAZ,CACIgvB,GAAc;AACV7D,qBADU;AAEVC,sBAFU;AAGVrwB,cAAMvb,CAHI;AAIVe,eAAOnB;AAJG,OAAd,CADJ,CADA;AAkBR;;AAAA,WAHegU,EAAYqL,MAAZ,CACX,CAACmD,CAAD,EAAaC,CAAb,KAAuBzO,EAAYklB,OAAZ,CAAoB1W,CAApB,MAAoCC,CADhD,CAGf;AAF+D,GAhF9B;AAAA,2BApI9B;AAAA,IAsODktB,KAAmB9uC,YAACJ,CAAD;AAAA,MAAqBC,CAArB,uEAAkC,CAAlC;AAAA,SACrBwsB,OAAOC,SAAP,CAAiBzsB,CAAjB,KAA2BA,IAAQ,CAAnC,GACMD,EAAY4O,KAAZ,CAAkB,CAAlB,EAAqB3O,CAArB,CADN,GAEMD,CAHe;AAAA,sBAtOlB;AAAA,IAsPDmvC,KAAgB/uC,YAUhB;AAAA,MAViB;AACnBkrC,oBAAa,MADM;AAEnBC,qBAAc,IAFK;AAGnBrwB,cAAO,EAHY;AAInBxa,eAAQ;AAJW,GAUjB;AACF,MAAMlB,IAAa,EAAnB;AACA,YAAIA,CAAJ,EAAgBS,CAAhB,EAA6BV,CAA7B,GACI,OAAOS,CAAP,IAAsB,QAAtB,IACAovC,GAAI5vC,CAAJ,EAAgBQ,CAAhB,EAA4BL,CAA5B,CAFJ,EAKOH,CALP;AAKO,CAjBW,kBAtPf;ACOA,IAAM6vC,KAAiB,gBAAvB;AAAA,IACMC,KAAqB,oBAD3B;AAC2B","names":["basename","children","history","o","a","is","action","r","location","listen","Uo","cs","e","t","navigationType","navigator","n","St","us","Vo","jo","Provider","value","Go","ds","Le","ms","fs","ls","ps","ko","Gm","encodeURIComponent","_m","s","Ne","y","pathname","replace","se","ys","Lt","gs","resource","id","type","ie","ce","Ps","Rs","i","u","c","l","hs","state","_scrollToTop","startsWith","window","href","Qo","Cs","xs","scrollTo","Ms","Ss","login","Promise","resolve","logout","checkAuth","checkError","getPermissions","getIdentity","_o","Ts","displayName","Ye","Fe","loginUrl","afterLoginUrl","bs","Ls","ee","fe","bt","length","Es","localStorage","setItem","removeItem","Lr","pf","Object","keys","forEach","key","callback","substring","zo","newValue","setup","Re","getItem","clear","addEventListener","teardown","removeEventListener","JSON","stringify","reset","subscribe","Math","random","toString","parse","br","constructor","Map","valuesMap","has","String","get","set","delete","arguments","TypeError","Array","from","size","vs","Et","ws","Ds","Ho","As","vt","Is","Yo","Ns","Wo","Pe","Fs","wf","name","Dt","Us","Je","ks","translate","changeLocale","getLocale","wt","js","notifications","addNotification","takeNotification","resetNotifications","It","Vs","G","Gs","message","notificationOptions","$o","Qs","Er","_s","Jo","At","Hs","ue","Bo","then","catch","console","error","Zo","ey","messages","qo","Ws","_","Nt","Ys","sy","Ko","ly","language","browserLanguage","userLanguage","Xo","fullLocale","split","dy","Js","Ft","$s","Oe","Zs","Cy","Sy","Bs","qs","Fy","defaultLocale","locales","Ks","H","Xs","getSource","m","getLabel","$e","source","label","selectedLocale","selectLocale","Vy","ei","Error","ti","transform","Ot","ri","oi","en","isRequired","vr","ai","ni","ii","si","rn","tn","prototype","hasOwnProperty","call","ci","ui","Date","on","reduce","D","X","nn","assign","an","slice","join","Dr","he","root","width","height","display","flexDirection","fontFamily","main","flex","alignItems","justifyContent","textAlign","background","color","fontSize","fontWeight","secondary","link","textDecoration","opacity","linkHovered","image","logo","wr","img","li","Z","style","onMouseEnter","onMouseLeave","src","alt","Ir","process","env","NODE_ENV","Ze","warn","di","pi","current","to","log","mi","yi","Ue","cn","fi","gi","Ut","Be","Ri","Pi","hi","Q","setTimeout","clearTimeout","xi","Ci","dn","Ti","pn","bi","Li","fn","Si","Mi","mn","f","M","T","L","x","P","nextPathname","nextSearch","search","be","ke","Ei","redirectTo","Di","vi","Ii","Ai","isLoading","authenticated","Ar","Fi","Oi","Ni","Ee","ki","ji","permissions","Vi","_i","yn","zi","Qi","Nr","re","enabled","params","Wi","Hi","gn","Yi","count","$i","authParams","render","component","staticContext","Ji","Fr","qi","Zi","Bi","Rn","Ki","Pn","fullName","ec","identity","tc","Or","nc","oc","rc","logoutUser","hn","ac","Ur","xn","Cn","Tn","Mn","Sn","kr","apply","yP","kt","jr","Vr","Gr","Qr","_r","zr","Hr","Wr","Yr","Ln","Jr","bn","En","OP","le","create","deleteMany","getList","getMany","getManyReference","getOne","update","updateMany","vn","sc","Proxy","includes","$r","Dn","ic","qe","setPrototypeOf","Ke","captureStackTrace","stack","Zr","as","createHeadersFromOptions","fetchJson","flattenObject","queryParameters","wn","headers","Headers","Accept","method","body","FormData","user","token","uc","fetch","text","status","statusText","reject","json","lc","cc","dc","isArray","Buffer","isBuffer","In","map","concat","ye","pc","je","data","total","$P","BP","Nn","mc","W","fc","yc","ch","Pc","Rc","getQueryData","hc","queryKey","ph","xc","Xe","useRef","isFetching","isMutating","useState","useEffect","getQueryCache","Fn","batchCalls","getMutationCache","jt","Tc","Cc","invalidateQueries","Vt","meta","Mc","Ve","pagination","page","perPage","sort","field","order","filter","Lc","Sc","pageInfo","onSuccess","setQueryData","Ih","ids","Ec","bc","placeholderData","vc","some","retry","Ge","wc","Dc","Ac","Ic","Oc","dataProvider","queryClient","Fc","push","Nc","find","fetchQuery","Gt","target","kc","Uc","R","On","Gc","jc","Vc","returnPromise","mutateAsync","mutate","Un","_c","mutationMode","Br","C","now","h","E","b","v","findIndex","I","g","S","updatedAt","setQueriesData","Qc","previousData","onMutate","snapshot","onError","onSettled","F","A","w","O","k","$","getQueriesData","all","cancelQueries","once","isUndo","q","yx","Hc","qr","zc","Qt","Yc","Kr","Wc","Fx","$c","Xr","Jc","et","Zc","jn","definitions","qc","Bc","Kc","kn","authProvider","i18nProvider","store","eo","eu","Function","ge","Xc","client","defaultProps","Vn","ru","tu","Gn","_t","customRoutesWithoutLayout","customRoutesWithLayout","resources","oo","ro","registerResource","props","ou","isValidElement","au","raName","noLayout","ao","un","layout","catchAll","dashboard","loading","menu","requireAuth","ready","title","su","iu","J","no","Qe","path","element","cu","lu","uu","customRoutes","route","yu","xe","_n","zn","disableTelemetry","loginPage","Image","hostname","fu","Qn","gu","pu","mu","JC","so","Ru","zt","Hn","Wn","edit","list","show","ne","Pu","Wt","Ht","icon","options","hasList","hasCreate","hasEdit","hasShow","Yt","hu","Ce","smart_count","io","humanize","pluralize","singularize","Yn","xu","Cu","co","document","createElement","appendChild","Blob","msSaveOrOpenBlob","setAttribute","URL","createObjectURL","click","Mu","Tu","tt","Jn","Su","Lu","bu","Eu","Set","vu","ve","getElement","isDefined","$n","getProps","getRepresentation","representation","z","uo","Iu","isNaN","parseFloat","isFinite","rt","every","Au","Number","isInteger","parseInt","ot","Nu","Jt","Fu","$t","Ou","Uu","test","Zt","ku","ju","Bn","Vu","Gu","qn","Qu","_u","Kn","zu","Bt","Hu","qt","Wu","Zn","Du","wu","Kt","nt","Xt","Yu","Xn","ae","Ju","array","boolean","date","email","number","reference","referenceArray","richText","string","url","te","lo","substr","er","referenceChild","referenceArrayChild","shift","ea","$u","WT","ta","tr","Xu","el","filterToQuery","permanentFilter","debounceTime","ra","Zu","Ku","Bu","qu","setFilter","at","oe","rr","_e","st","De","it","ct","rl","or","payload","displayedFilters","filterName","defaultValue","tl","po","sl","il","cl","ol","al","setSort","mo","setSortField","setSortOrder","ut","pl","ml","lt","ll","dl","oa","setPage","setPerPage","setPagination","yl","Rl","record","redirect","onClick","mutationOptions","nr","gl","stopPropagation","messageArgs","undoable","handleDelete","Pl","Cl","hl","xl","open","handleDialogOpen","handleDialogClose","Tl","ar","disableAuthentication","El","Ll","bl","Ml","saving","defaultTitle","save","Sl","sr","vl","de","na","dt","Dl","ir","wl","cr","aa","ur","Il","Al","sa","Nl","ia","lr","gS","CS","bS","Fl","Ol","Ul","kl","dr","queryOptions","ua","Vl","decodeURIComponent","refetch","refetchOnReconnect","refetchOnWindowFocus","jl","V","U","j","pe","Gl","zS","da","la","pt","Ql","pa","pr","rL","iL","pL","_l","zl","Hl","Wl","me","Jl","Yl","select","unselect","toggle","indexOf","clearSelection","fa","filterDefaultValues","cd","debounce","disableSyncWithLocation","od","rd","Bl","Pa","ql","ln","ad","$l","queryFromLocation","Zl","we","Xl","Ra","ed","filterValues","requestSignature","changeParams","setFilters","hideFilter","showFilter","nd","ya","td","Kl","sd","ga","mr","exporter","pd","ud","keepPreviousData","ld","ceil","dd","onSelect","onToggleItem","onUnselectItems","selectedIds","hasNextPage","hasPreviousPage","ha","jL","VL","mt","md","ft","fd","xa","yd","gd","yt","Rd","Ca","Pd","hd","gt","xd","Ta","Cd","Td","Ma","Rt","ib","fo","pb","Ld","gr","bd","Ed","fr","Md","Y","N","Ae","Sd","yr","entries","B","K","Pt","Tt","bb","vd","Dd","wd","Id","Ib","Ad","Ub","Nd","Qb","Fd","Od","$b","Ud","Kb","kd","Vd","Gd","Qd","aE","jd","Yd","gE","Rr","Hd","zd","Wd","_d","CE","Jd","referenceRecord","Sa","$d","matchingReferences","waiting","warning","choices","La","Zd","yo","ba","Bd","referenceRecords","Pr","op","Kd","np","Xd","qd","tp","Ie","va","ep","rp","Ea","NE","enableGetChoices","ip","cp","Boolean","up","ap","sp","allChoices","availableChoices","selectedChoices","Da","zE","pp","lp","dp","hr","mp","ht","fp","wa","go","pv","Rv","Tv","yp","gp","Rp","Pp","Cp","hp","Aa","Tp","formData","form","index","xp","scopedFormData","Mp","xt","Sp","Lp","args","ze","bp","Na","Ro","isObject","merge","Po","getOwnPropertyNames","values","errors","xr","Ep","tD","Fa","iD","vp","Dp","ka","Ua","wp","getGroupFields","registerGroup","unregisterGroup","registerField","unregisterField","Oa","Ip","Ap","ja","Va","Fp","isValid","submitCount","Up","control","Op","Ga","kp","Qp","_p","isSubmitSuccessful","isSubmitting","dirtyFields","Gp","Vp","jp","block","confirm","za","context","criteriaMode","defaultValues","delayError","formRootPathname","mode","resolver","reValidateMode","onSubmit","shouldFocusError","shouldUnregister","shouldUseNativeValidation","warnWhenUnsavedChanges","validate","zp","He","Hp","_a","Qa","setError","handleSubmit","formHandleSubmit","isInvalid","ZD","className","noValidate","Ct","Wp","Yp","Te","Me","Se","Ha","Wa","$p","Jp","Ya","KD","XD","ew","min","tw","max","rw","ow","nw","Zp","pattern","aw","Bp","sw","iw","Cr","qp","We","Kp","Pw","Ja","$a","getValues","resetField","tm","ho","em","rm","qa","optionText","optionValue","disableValue","translateChoice","xo","Ba","Za","Co","getChoiceText","getChoiceValue","getDisableValue","Uw","touchedFields","sm","nm","isDirty","isTouched","om","Tr","im","am","Ka","Xa","cm","es","Yw","lm","um","dm","ts","pI","format","onBlur","onChange","fm","pm","fieldState","formState","mm","ym","rules","checked","CI","allowCreate","createText","createValue","emptyText","emptyValue","limitChoicesToValue","matchSuggestion","selectedItem","suggestionLimit","gm","xm","getSuggestions","Pm","hm","Rm","match","RegExp","Cm","Tm","rs","qI","KI"],"sources":["D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\core\\CoreAdmin.tsx","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\core\\CoreAdminContext.tsx","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\routing\\AdminRouter.tsx","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\routing\\HistoryRouter.tsx","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\routing\\BasenameContextProvider.tsx","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\routing\\BasenameContext.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\routing\\linkToRecord.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\routing\\resolveRedirectTo.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\routing\\useBasename.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\routing\\useCreatePath.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\routing\\useRedirect.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\routing\\useScrollToTop.tsx","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\auth\\AuthContext.tsx","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\auth\\useAuthProvider.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\auth\\useAuthState.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\auth\\useCheckAuth.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\auth\\useLogout.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\store\\localStorageStore.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\store\\memoryStore.tsx","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\store\\StoreContext.tsx","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\store\\StoreContextProvider.tsx","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\store\\StoreSetter.tsx","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\store\\useStoreContext.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\store\\useStore.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\util\\escapePath.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\util\\FieldTitle.tsx","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\i18n\\TestTranslationProvider.tsx","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\i18n\\I18nContextProvider.tsx","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\i18n\\I18nContext.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\notification\\useNotify.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\notification\\useNotificationContext.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\notification\\NotificationContext.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\notification\\NotificationContextProvider.tsx","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\i18n\\TranslatableContext.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\i18n\\TranslatableContextProvider.tsx","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\i18n\\TranslationUtils.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\i18n\\useLocaleState.tsx","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\i18n\\useI18nProvider.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\i18n\\useLocale.tsx","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\i18n\\useSetLocale.tsx","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\i18n\\useTranslatable.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\i18n\\useTranslate.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\i18n\\useTranslatableContext.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\i18n\\index.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\util\\getFieldLabelTranslationArgs.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\core\\useResourceContext.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\core\\ResourceContext.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\util\\ComponentPropType.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\util\\shallowEqual.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\util\\removeEmpty.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\util\\removeKey.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\util\\Ready.tsx","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\util\\warning.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\util\\useWhyDidYouUpdate.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\util\\getMutationMode.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\util\\mergeRefs.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\util\\useEventCallback.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\util\\hooks.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\store\\useRemoveFromStore.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\store\\useResetStore.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\auth\\usePermissions.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\auth\\useGetPermissions.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\auth\\usePermissionsOptimized.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\auth\\WithPermissions.tsx","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\auth\\useAuthenticated.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\auth\\useLogin.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\auth\\useGetIdentity.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\auth\\useLogoutIfAccessDenied.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\auth\\types.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\auth\\convertLegacyAuthProvider.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\auth\\Authenticated.tsx","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\dataProvider\\dataFetchActions.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\dataProvider\\convertLegacyDataProvider.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\dataProvider\\DataProviderContext.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\dataProvider\\HttpError.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\dataProvider\\fetch.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\dataProvider\\undoableEventEmitter.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\dataProvider\\defaultDataProvider.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\dataProvider\\combineDataProviders.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\dataProvider\\testDataProvider.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\dataProvider\\useDataProvider.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\dataProvider\\validateResponseFormat.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\dataProvider\\useIsDataLoaded.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\dataProvider\\useLoading.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\dataProvider\\useRefresh.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\dataProvider\\useGetOne.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\dataProvider\\useGetList.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\dataProvider\\useGetMany.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\dataProvider\\useGetManyAggregate.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\dataProvider\\useGetManyReference.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\dataProvider\\useCreate.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\dataProvider\\useUpdate.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\dataProvider\\useUpdateMany.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\dataProvider\\useDelete.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\dataProvider\\useDeleteMany.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\core\\ResourceDefinitionContext.tsx","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\core\\CoreAdminUI.tsx","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\core\\CoreAdminRoutes.tsx","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\core\\useConfigureAdminRouterFromChildren.tsx","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\core\\useRegisterResource.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\core\\CustomRoutes.tsx","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\core\\Resource.tsx","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\core\\ResourceContextProvider.tsx","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\core\\useGetResourceLabel.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\core\\useResourceDefinitions.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\core\\useResourceDefinition.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\export\\defaultExporter.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\export\\downloadCSV.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\export\\ExporterContext.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\export\\fetchRelatedRecords.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\inference\\inferElementFromValues.tsx","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\inference\\getValuesFromRecords.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\inference\\InferredElement.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\inference\\assertions.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\inference\\getElementsFromRecords.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\inference\\inferTypeFromValues.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\controller\\useFilterState.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\controller\\useSortState.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\controller\\list\\queryReducer.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\controller\\usePaginationState.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\controller\\checkMinimumRequiredProps.tsx","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\controller\\button\\useDeleteWithUndoController.tsx","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\controller\\button\\useDeleteWithConfirmController.tsx","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\controller\\create\\CreateBase.tsx","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\controller\\create\\useCreateController.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\controller\\create\\CreateContextProvider.tsx","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\controller\\record\\RecordContext.tsx","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\controller\\create\\CreateContext.tsx","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\controller\\saveContext\\SaveContext.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\controller\\saveContext\\SaveContextProvider.tsx","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\controller\\saveContext\\usePickSaveContext.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\controller\\saveContext\\useSaveContext.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\controller\\create\\CreateController.tsx","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\controller\\create\\useCreateContext.tsx","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\controller\\edit\\EditBase.tsx","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\controller\\edit\\useEditController.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\controller\\edit\\EditContextProvider.tsx","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\controller\\record\\useRecordContext.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\controller\\record\\WithRecord.tsx","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\controller\\record\\OptionalRecordContextProvider.tsx","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\controller\\edit\\EditContext.tsx","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\controller\\edit\\EditController.tsx","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\controller\\edit\\useEditContext.tsx","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\controller\\field\\useReferenceArrayFieldController.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\controller\\list\\ListBase.tsx","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\controller\\list\\useListController.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\controller\\list\\useRecordSelection.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\controller\\list\\useListParams.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\controller\\list\\ListContextProvider.tsx","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\controller\\list\\ListContext.tsx","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\controller\\list\\ListFilterContext.tsx","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\controller\\list\\ListSortContext.tsx","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\controller\\list\\ListPaginationContext.tsx","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\controller\\list\\ListController.tsx","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\controller\\list\\useList.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\controller\\list\\useListContext.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\controller\\list\\useListFilterContext.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\controller\\list\\useListPaginationContext.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\controller\\list\\useListSortContext.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\controller\\list\\useUnselect.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\controller\\list\\useUnselectAll.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\controller\\list\\useExpanded.tsx","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\controller\\field\\useReferenceManyFieldController.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\controller\\field\\useReferenceOneFieldController.tsx","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\controller\\input\\referenceDataStatus.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\controller\\input\\useReferenceArrayInputController.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\controller\\input\\useReferenceParams.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\controller\\input\\useReferenceInputController.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\controller\\useReference.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\controller\\show\\ShowBase.tsx","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\controller\\show\\useShowController.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\controller\\show\\ShowContextProvider.tsx","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\controller\\show\\ShowContext.tsx","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\controller\\show\\ShowController.tsx","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\controller\\show\\useShowContext.tsx","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\form\\FormDataConsumer.tsx","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\form\\FormGroupsContext.tsx","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\form\\ValidationError.tsx","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\form\\getSimpleValidationResolver.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\form\\choices\\ChoicesContext.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\form\\choices\\ChoicesContextProvider.tsx","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\form\\choices\\useChoicesContext.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\form\\Form.tsx","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\form\\FormGroupsProvider.tsx","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\form\\useAugmentedForm.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\form\\getFormInitialValues.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\form\\setSubmissionErrors.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\form\\useIsFormInvalid.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\form\\useWarnWhenUnsavedChanges.tsx","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\form\\validate.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\form\\FormGroupContext.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\form\\FormGroupContextProvider.tsx","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\form\\useFormGroups.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\form\\useApplyInputDefaultValues.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\form\\useChoices.tsx","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\form\\useFormGroup.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\form\\useFormGroupContext.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\form\\useGetValidationErrorMessage.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\form\\useInitializeFormWithRecord.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\form\\useInput.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\form\\isRequired.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\form\\useSuggestions.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\types.ts"],"sourcesContent":["import * as React from 'react';\n\nimport { CoreAdminContext, CoreAdminContextProps } from './CoreAdminContext';\nimport { CoreAdminUI, CoreAdminUIProps } from './CoreAdminUI';\n\n/**\n * Main admin component, entry point to the application.\n *\n * Initializes the various contexts (auth, data, i18n, router)\n * and defines the main routes.\n *\n * Expects a list of resources as children, or a function returning a list of\n * resources based on the permissions.\n *\n * @example\n *\n * // static list of resources\n *\n * import {\n *     CoreAdmin,\n *     Resource,\n *     ListGuesser,\n *     useDataProvider,\n * } from 'ra-core';\n *\n * const App = () => (\n *     <CoreAdmin dataProvider={myDataProvider}>\n *         <Resource name=\"posts\" list={ListGuesser} />\n *     </CoreAdmin>\n * );\n *\n * // dynamic list of resources based on permissions\n *\n * import {\n *     CoreAdmin,\n *     Resource,\n *     ListGuesser,\n *     useDataProvider,\n * } from 'ra-core';\n *\n * const App = () => (\n *     <CoreAdmin dataProvider={myDataProvider}>\n *         {permissions => [\n *             <Resource name=\"posts\" key=\"posts\" list={ListGuesser} />,\n *         ]}\n *     </CoreAdmin>\n * );\n *\n * // If you have to build a dynamic list of resources using a side effect,\n * // you can't use <CoreAdmin>. But as it delegates to sub components,\n * // it's relatively straightforward to replace it:\n *\n * import * as React from 'react';\n * import { useEffect, useState } from 'react';\n * import {\n *     CoreAdminContext,\n *     CoreAdminUI,\n *     Resource,\n *     ListGuesser,\n *     useDataProvider,\n * } from 'ra-core';\n *\n * const App = () => (\n *     <CoreAdminContext dataProvider={myDataProvider}>\n *         <UI />\n *     </CoreAdminContext>\n * );\n *\n * const UI = () => {\n *     const [resources, setResources] = useState([]);\n *     const dataProvider = useDataProvider();\n *     useEffect(() => {\n *         dataProvider.introspect().then(r => setResources(r));\n *     }, []);\n *\n *     return (\n *         <CoreAdminUI>\n *             {resources.map(resource => (\n *                 <Resource name={resource.name} key={resource.key} list={ListGuesser} />\n *             ))}\n *         </CoreAdminUI>\n *     );\n * };\n */\nexport const CoreAdmin = (props: CoreAdminProps) => {\n    const {\n        authProvider,\n        basename,\n        catchAll,\n        children,\n        dashboard,\n        dataProvider,\n        disableTelemetry,\n        history,\n        i18nProvider,\n        queryClient,\n        layout,\n        loading,\n        loginPage,\n        menu, // deprecated, use a custom layout instead\n        requireAuth,\n        title = 'React Admin',\n    } = props;\n    return (\n        <CoreAdminContext\n            authProvider={authProvider}\n            basename={basename}\n            dataProvider={dataProvider}\n            i18nProvider={i18nProvider}\n            queryClient={queryClient}\n            history={history}\n        >\n            <CoreAdminUI\n                layout={layout}\n                dashboard={dashboard}\n                disableTelemetry={disableTelemetry}\n                menu={menu}\n                catchAll={catchAll}\n                title={title}\n                loading={loading}\n                loginPage={loginPage}\n                requireAuth={requireAuth}\n            >\n                {children}\n            </CoreAdminUI>\n        </CoreAdminContext>\n    );\n};\n\nexport type CoreAdminProps = CoreAdminContextProps & CoreAdminUIProps;\n","import * as React from 'react';\nimport { useMemo } from 'react';\nimport { QueryClientProvider, QueryClient } from 'react-query';\nimport { History } from 'history';\n\nimport { AdminRouter } from '../routing';\nimport { AuthContext, convertLegacyAuthProvider } from '../auth';\nimport {\n    DataProviderContext,\n    convertLegacyDataProvider,\n    defaultDataProvider,\n} from '../dataProvider';\nimport { StoreContextProvider, Store, memoryStore } from '../store';\nimport { I18nContextProvider } from '../i18n';\nimport { ResourceDefinitionContextProvider } from './ResourceDefinitionContext';\nimport { NotificationContextProvider } from '../notification';\nimport {\n    AuthProvider,\n    LegacyAuthProvider,\n    I18nProvider,\n    DataProvider,\n    AdminChildren,\n    DashboardComponent,\n    LegacyDataProvider,\n} from '../types';\n\nexport interface CoreAdminContextProps {\n    authProvider?: AuthProvider | LegacyAuthProvider;\n    basename?: string;\n    children?: AdminChildren;\n    dashboard?: DashboardComponent;\n    dataProvider?: DataProvider | LegacyDataProvider;\n    store?: Store;\n    queryClient?: QueryClient;\n    /**\n     * @deprecated Wrap your Admin inside a Router to change the routing strategy\n     */\n    history?: History;\n    i18nProvider?: I18nProvider;\n    theme?: object;\n}\n\nexport const CoreAdminContext = (props: CoreAdminContextProps) => {\n    const {\n        authProvider,\n        basename,\n        dataProvider,\n        i18nProvider,\n        store,\n        children,\n        history,\n        queryClient,\n    } = props;\n\n    if (!dataProvider) {\n        throw new Error(`Missing dataProvider prop.\nReact-admin requires a valid dataProvider function to work.`);\n    }\n\n    const finalQueryClient = useMemo(() => queryClient || new QueryClient(), [\n        queryClient,\n    ]);\n\n    const finalAuthProvider = useMemo(\n        () =>\n            authProvider instanceof Function\n                ? convertLegacyAuthProvider(authProvider)\n                : authProvider,\n        [authProvider]\n    );\n\n    const finalDataProvider = useMemo(\n        () =>\n            dataProvider instanceof Function\n                ? convertLegacyDataProvider(dataProvider)\n                : dataProvider,\n        [dataProvider]\n    );\n\n    return (\n        <AuthContext.Provider value={finalAuthProvider}>\n            <DataProviderContext.Provider value={finalDataProvider}>\n                <StoreContextProvider value={store}>\n                    <QueryClientProvider client={finalQueryClient}>\n                        <AdminRouter history={history} basename={basename}>\n                            <I18nContextProvider value={i18nProvider}>\n                                <NotificationContextProvider>\n                                    <ResourceDefinitionContextProvider>\n                                        {children}\n                                    </ResourceDefinitionContextProvider>\n                                </NotificationContextProvider>\n                            </I18nContextProvider>\n                        </AdminRouter>\n                    </QueryClientProvider>\n                </StoreContextProvider>\n            </DataProviderContext.Provider>\n        </AuthContext.Provider>\n    );\n};\n\nCoreAdminContext.defaultProps = {\n    dataProvider: defaultDataProvider,\n    store: memoryStore(),\n};\n","import * as React from 'react';\nimport { ReactNode, useMemo } from 'react';\nimport { useInRouterContext } from 'react-router-dom';\nimport { createHashHistory, History } from 'history';\n\nimport { HistoryRouter, HistoryRouterProps } from './HistoryRouter';\nimport { BasenameContextProvider } from './BasenameContextProvider';\n\n/**\n * Creates a react-router Router unless the app is already inside existing router.\n * Also creates a BasenameContext with the basename prop\n */\nexport const AdminRouter = ({\n    history,\n    basename = '',\n    children,\n}: AdminRouterProps) => {\n    const isInRouter = useInRouterContext();\n    const Router = isInRouter ? DummyRouter : InternalRouter;\n\n    return (\n        <BasenameContextProvider basename={isInRouter ? basename : ''}>\n            <Router basename={basename} history={history}>\n                {children}\n            </Router>\n        </BasenameContextProvider>\n    );\n};\n\nexport interface AdminRouterProps {\n    history?: History;\n    basename?: string;\n    children: React.ReactNode;\n}\n\nconst DummyRouter = ({ children }: { children: ReactNode }) => <>{children}</>;\n\nconst InternalRouter = ({\n    children,\n    history,\n}: {\n    history?: History;\n} & Omit<HistoryRouterProps, 'history'>) => {\n    const finalHistory = useMemo(() => history || createHashHistory(), [\n        history,\n    ]);\n\n    return <HistoryRouter history={finalHistory}>{children}</HistoryRouter>;\n};\n","import * as React from 'react';\nimport { useLayoutEffect, useState } from 'react';\nimport { History } from 'history';\nimport { Router } from 'react-router';\n\n/**\n * A router that accepts a custom history.\n * To remove once https://github.com/remix-run/react-router/pull/7586 is merged.\n */\nexport function HistoryRouter({\n    basename,\n    children,\n    history,\n}: HistoryRouterProps) {\n    const [state, setState] = useState({\n        action: history.action,\n        location: history.location,\n    });\n\n    useLayoutEffect(() => history.listen(setState), [history]);\n\n    return (\n        <Router\n            basename={basename}\n            children={children}\n            location={state.location}\n            navigationType={state.action}\n            navigator={history}\n        />\n    );\n}\n\nexport interface HistoryRouterProps {\n    basename?: string;\n    children?: React.ReactNode;\n    history: History;\n}\n","import * as React from 'react';\nimport { BasenameContext } from './BasenameContext';\n\n/**\n * Set the string to append to all links to the admin app.\n *\n * Useful when the app is mounted on a sub path, e.g. '/admin'.\n * Used internally by the `<Admin>` component.\n *\n * @see useBasename\n */\nexport const BasenameContextProvider = ({ children, basename }) => (\n    <BasenameContext.Provider value={basename}>\n        {children}\n    </BasenameContext.Provider>\n);\n","import { createContext } from 'react';\n\nexport const BasenameContext = createContext('');\n","/**\n * @deprecated use useCreatePath instead\n */\nexport const linkToRecord = (resource, id, linkType = 'edit') => {\n    const link = `${resource}/${encodeURIComponent(id)}`;\n\n    if (linkType === 'show') {\n        return `${link}/show`;\n    }\n\n    return link;\n};\n","import { To } from 'react-router-dom';\n\n/**\n * @deprecated use useCreatePath instead\n */\nexport const resolveRedirectTo = (\n    redirectTo,\n    resource: string,\n    id?,\n    data?,\n    basename: string = ''\n): To => {\n    if (typeof redirectTo === 'function') {\n        const target: To = redirectTo(resource, id, data);\n        return typeof target === 'string'\n            ? removeDoubleSlashes(`${basename}/${target}`)\n            : {\n                  pathname: removeDoubleSlashes(\n                      `${basename}/${target.pathname}`\n                  ),\n                  ...target,\n              };\n    }\n    switch (redirectTo) {\n        case 'list':\n            return removeDoubleSlashes(`${basename}/${resource}`);\n        case 'create':\n            return removeDoubleSlashes(`${basename}/${resource}/create`);\n        case 'edit':\n            return removeDoubleSlashes(\n                `${basename}/${resource}/${encodeURIComponent(id)}`\n            );\n        case 'show':\n            return removeDoubleSlashes(\n                `${basename}/${resource}/${encodeURIComponent(id)}/show`\n            );\n        default:\n            return redirectTo;\n    }\n};\n\nconst removeDoubleSlashes = (path: string) => path.replace('//', '/');\n","import { useContext } from 'react';\n\nimport { BasenameContext } from './BasenameContext';\n\n/**\n * Get the string to append to all links to the admin app.\n *\n * Useful when the app is mounted on a sub path, e.g. '/admin'.\n *\n * This hook is used internally by all react-admin components that\n * contain a link, and requires that the basename is set via the\n * `<BasenameContextProvider>` component (or via the `<Admin>` component,\n * which calls BasenameContextProvider internally).\n *\n * @see BasenameContextProvider\n *\n * @example\n * import { useBasename } from 'react-admin';\n *\n * const ArticleLink = ({ title, id }) => {\n *    const basename = useBasename();\n *    return <a href={`${basename}/articles/${id}`}>{title}</a>;\n * };\n */\nexport const useBasename = () => useContext(BasenameContext);\n","import { useCallback } from 'react';\n\nimport { Identifier } from '../types';\nimport { useBasename } from './useBasename';\n\n/**\n * Get a callback to create a link to a given page in the admin app.\n *\n * The callback expects an object as parameter, containing the following properties:\n *   - type: 'list', 'edit', 'show' or 'create'\n *   - resource\n *   - id (optional), for 'edit' or 'show' pages\n *\n * This is used internally by react-admin to allow default components to work\n * in applications that are mounted on a sub path, e.g. '/admin'. If your app\n * is mounted in the root path, you don't need it, and you can create links by\n * hand, e.g. '/articles/1/show'.\n *\n * @example\n * import { useCreatePath, useRecordContext } from 'react-admin';\n * import { useNavigate } from 'react-router-dom';\n *\n * const PostEditButton = () => {\n *     const createPath = useCreatePath();\n *     const record = useRecordContext();\n *     const navigate = useNavigate();\n *\n *     const handleClick = () => {\n *         const link = createPath({\n *            type: 'edit',\n *            resource: 'posts',\n *            id: record.id\n *         });\n *         navigate(link);\n *     };\n *\n *    return <button onClick={handleClick}>Edit Post</button>;\n * };\n */\nexport const useCreatePath = () => {\n    const basename = useBasename();\n    return useCallback(\n        ({ resource, id, type }: CreatePathParams): string => {\n            switch (type) {\n                case 'list':\n                    return removeDoubleSlashes(`${basename}/${resource}`);\n                case 'create':\n                    return removeDoubleSlashes(\n                        `${basename}/${resource}/create`\n                    );\n                case 'edit':\n                    return removeDoubleSlashes(\n                        `${basename}/${resource}/${encodeURIComponent(id)}`\n                    );\n                case 'show':\n                    return removeDoubleSlashes(\n                        `${basename}/${resource}/${encodeURIComponent(id)}/show`\n                    );\n                default:\n                    return type;\n            }\n        },\n        [basename]\n    );\n};\n\nexport interface CreatePathParams {\n    type: string;\n    resource: string;\n    id?: Identifier;\n}\n\nexport const removeDoubleSlashes = (path: string) => path.replace('//', '/');\n","import { useCallback } from 'react';\nimport { useNavigate, To } from 'react-router-dom';\nimport { parsePath } from 'history';\n\nimport { Identifier, RaRecord } from '../types';\nimport { useBasename } from './useBasename';\nimport { useCreatePath } from './useCreatePath';\n\ntype RedirectToFunction = (\n    resource?: string,\n    id?: Identifier,\n    data?: Partial<RaRecord>,\n    state?: object\n) => To;\n\nexport type RedirectionSideEffect = string | false | RedirectToFunction;\n\n/**\n * Hook for Redirection Side Effect\n *\n * @example\n *\n * const redirect = useRedirect();\n * // redirect to list view\n * redirect('list', 'posts');\n * // redirect to edit view\n * redirect('edit', 'posts', 123);\n * // redirect to edit view with state data\n * redirect('edit', 'comments', 123, {}, { record: { post_id: record.id } });\n * // do not redirect\n * redirect(false);\n * // redirect to the result of a function\n * redirect((resource, id, data) => ...)\n */\nexport const useRedirect = () => {\n    const navigate = useNavigate();\n    const basename = useBasename();\n    const createPath = useCreatePath();\n\n    return useCallback(\n        (\n            redirectTo: RedirectionSideEffect,\n            resource: string = '',\n            id?: Identifier,\n            data?: Partial<RaRecord>,\n            state: object = {}\n        ) => {\n            if (!redirectTo) {\n                return;\n            } else if (typeof redirectTo === 'function') {\n                const target: To = redirectTo(resource, id, data);\n                const absoluteTarget =\n                    typeof target === 'string'\n                        ? `${basename}/${target}`\n                        : {\n                              pathname: `${basename}/${target.pathname}`,\n                              ...target,\n                          };\n                navigate(\n                    typeof absoluteTarget === 'string'\n                        ? parsePath(absoluteTarget)\n                        : absoluteTarget,\n                    {\n                        state: { _scrollToTop: true, ...state },\n                    }\n                );\n                return;\n            } else if (\n                typeof redirectTo === 'string' &&\n                redirectTo.startsWith('http') &&\n                window\n            ) {\n                // redirection to an absolute url\n                // history doesn't handle that case, so we handle it by hand\n                window.location.href = redirectTo;\n                return;\n            } else {\n                // redirection to an internal link\n                navigate(createPath({ resource, id, type: redirectTo }), {\n                    state: { _scrollToTop: true, ...state },\n                });\n                return;\n            }\n        },\n        [navigate, basename, createPath]\n    );\n};\n","import { useEffect } from 'react';\nimport { useLocation } from 'react-router-dom';\n\n/**\n * Scroll the window to top when the target location contains the _scrollToTop state\n *\n * @see CoreAdminRouter where it's enabled by default\n *\n * @example // usage in buttons\n * import { Link } from 'react-router-dom';\n * import { Button } from '@mui/material';\n *\n * const FooButton = () => (\n *     <Button\n *         component={Link}\n *         to={{\n *             pathname: '/foo',\n *             state: { _scrollToTop: true },\n *         }}\n *     >\n *         Go to foo\n *     </Button>\n * );\n */\nexport const useScrollToTop = () => {\n    const location = useLocation();\n    useEffect(() => {\n        if (\n            (location.state as any)?._scrollToTop &&\n            typeof window != 'undefined'\n        ) {\n            window.scrollTo(0, 0);\n        }\n    }, [location]);\n};\n","import { createContext } from 'react';\n\nimport { AuthProvider, UserIdentity } from '../types';\n\nconst defaultIdentity: UserIdentity = { id: '' };\n\nconst defaultProvider: AuthProvider = {\n    login: () => Promise.resolve(),\n    logout: () => Promise.resolve(),\n    checkAuth: () => Promise.resolve(),\n    checkError: () => Promise.resolve(),\n    getPermissions: () => Promise.resolve(),\n    getIdentity: () => Promise.resolve(defaultIdentity),\n};\n\nconst AuthContext = createContext<AuthProvider>(defaultProvider);\n\nAuthContext.displayName = 'AuthContext';\n\nexport default AuthContext;\n","import { useContext } from 'react';\n\nimport { AuthProvider } from '../types';\nimport AuthContext from './AuthContext';\n\nexport const defaultAuthParams = {\n    loginUrl: '/login',\n    afterLoginUrl: '/',\n};\n\n/**\n * Get the authProvider stored in the context\n */\nconst useAuthProvider = (): AuthProvider => useContext(AuthContext);\n\nexport default useAuthProvider;\n","import { useEffect } from 'react';\n\nimport { useCheckAuth } from './useCheckAuth';\nimport { useSafeSetState } from '../util/hooks';\n\ninterface State {\n    isLoading: boolean;\n    authenticated?: boolean;\n}\n\nconst emptyParams = {};\n\n/**\n * Hook for getting the authentication status\n *\n * Calls the authProvider.checkAuth() method asynchronously.\n *\n * The return value updates according to the authProvider request state:\n *\n * - isLoading: true just after mount, while the authProvider is being called. false once the authProvider has answered.\n * - authenticated: true while loading. then true or false depending on the authProvider response.\n *\n * To avoid rendering a component and force waiting for the authProvider response, use the useAuthState() hook\n * instead of the useAuthenticated() hook.\n *\n * You can render different content depending on the authenticated status.\n *\n * @see useAuthenticated()\n *\n * @param {Object} params Any params you want to pass to the authProvider\n *\n * @returns The current auth check state. Destructure as { authenticated, error, isLoading }.\n *\n * @example\n * import { useAuthState, Loading } from 'react-admin';\n *\n * const MyPage = () => {\n *     const { isLoading, authenticated } = useAuthState();\n *     if (isLoading) {\n *         return <Loading />;\n *     }\n *     if (authenticated) {\n *        return <AuthenticatedContent />;\n *     }\n *     return <AnonymousContent />;\n * };\n */\nconst useAuthState = (params: any = emptyParams): State => {\n    const [state, setState] = useSafeSetState({\n        isLoading: true,\n        authenticated: true, // optimistic\n    });\n    const checkAuth = useCheckAuth();\n    useEffect(() => {\n        checkAuth(params, false)\n            .then(() => setState({ isLoading: false, authenticated: true }))\n            .catch(() => setState({ isLoading: false, authenticated: false }));\n    }, [checkAuth, params, setState]);\n    return state;\n};\n\nexport default useAuthState;\n","import { useCallback } from 'react';\n\nimport useAuthProvider, { defaultAuthParams } from './useAuthProvider';\nimport useLogout from './useLogout';\nimport { useNotify } from '../notification';\nimport { useBasename } from '../routing';\nimport { removeDoubleSlashes } from '../routing/useCreatePath';\n\n/**\n * Get a callback for calling the authProvider.checkAuth() method.\n * In case of rejection, redirects to the login page, displays a notification,\n * and throws an error.\n *\n * This is a low level hook. See those more specialized hooks\n * for common authentication tasks, based on useCheckAuth.\n *\n * @see useAuthenticated\n * @see useAuthState\n *\n * @returns {Function} checkAuth callback\n *\n * @example\n *\n * import { useCheckAuth } from 'react-admin';\n *\n * const MyProtectedPage = () => {\n *     const checkAuth = useCheckAuth();\n *     useEffect(() => {\n *         checkAuth().catch(() => {});\n *     }, []);\n *     return <p>Private content: EZAEZEZAET</p>\n * } // tip: use useAuthenticated() hook instead\n *\n * const MyPage = () => {\n *     const checkAuth = useCheckAuth();\n *     const [authenticated, setAuthenticated] = useState(true); // optimistic auth\n *     useEffect(() => {\n *         checkAuth({}, false)\n *              .then(() => setAuthenticated(true))\n *              .catch(() => setAuthenticated(false));\n *     }, []);\n *     return authenticated ? <Bar /> : <BarNotAuthenticated />;\n * } // tip: use useAuthState() hook instead\n */\nexport const useCheckAuth = (): CheckAuth => {\n    const authProvider = useAuthProvider();\n    const notify = useNotify();\n    const logout = useLogout();\n    const basename = useBasename();\n    const loginUrl = removeDoubleSlashes(\n        `${basename}/${defaultAuthParams.loginUrl}`\n    );\n\n    const checkAuth = useCallback(\n        (\n            params: any = {},\n            logoutOnFailure = true,\n            redirectTo = loginUrl,\n            disableNotification = false\n        ) =>\n            authProvider.checkAuth(params).catch(error => {\n                if (logoutOnFailure) {\n                    logout(\n                        {},\n                        error && error.redirectTo\n                            ? error.redirectTo\n                            : redirectTo\n                    );\n                    const shouldSkipNotify =\n                        disableNotification ||\n                        (error && error.message === false);\n                    !shouldSkipNotify &&\n                        notify(\n                            getErrorMessage(error, 'ra.auth.auth_check_error'),\n                            { type: 'warning' }\n                        );\n                }\n                throw error;\n            }),\n        [authProvider, logout, notify, loginUrl]\n    );\n\n    return authProvider ? checkAuth : checkAuthWithoutAuthProvider;\n};\n\nconst checkAuthWithoutAuthProvider = () => Promise.resolve();\n\n/**\n * Check if the current user is authenticated by calling authProvider.checkAuth().\n * Logs the user out on failure.\n *\n * @param {Object} params The parameters to pass to the authProvider\n * @param {boolean} logoutOnFailure Whether the user should be logged out if the authProvider fails to authenticate them. True by default.\n * @param {string} redirectTo The login form url. Defaults to '/login'\n * @param {boolean} disableNotification Avoid showing a notification after the user is logged out. false by default.\n *\n * @return {Promise} Resolved to the authProvider response if the user passes the check, or rejected with an error otherwise\n */\nexport type CheckAuth = (\n    params?: any,\n    logoutOnFailure?: boolean,\n    redirectTo?: string,\n    /** @deprecated to disable the notification, authProvider.checkAuth() should return an object with an error property set to true */\n    disableNotification?: boolean\n) => Promise<any>;\n\nconst getErrorMessage = (error, defaultMessage) =>\n    typeof error === 'string'\n        ? error\n        : typeof error === 'undefined' || !error.message\n        ? defaultMessage\n        : error.message;\n","import { useCallback, useEffect, useRef } from 'react';\n\nimport useAuthProvider, { defaultAuthParams } from './useAuthProvider';\nimport { useResetStore } from '../store';\nimport { useBasename } from '../routing';\nimport { removeDoubleSlashes } from '../routing/useCreatePath';\nimport { useLocation, useNavigate, Path } from 'react-router-dom';\n\n/**\n * Get a callback for calling the authProvider.logout() method,\n * redirect to the login page, and clear the store.\n *\n * @see useAuthProvider\n *\n * @returns {Function} logout callback\n *\n * @example\n *\n * import { useLogout } from 'react-admin';\n *\n * const LogoutButton = () => {\n *     const logout = useLogout();\n *     const handleClick = () => logout();\n *     return <button onClick={handleClick}>Logout</button>;\n * }\n */\nconst useLogout = (): Logout => {\n    const authProvider = useAuthProvider();\n    const resetStore = useResetStore();\n    const navigate = useNavigate();\n    // useNavigate forces rerenders on every navigation, even if we don't use the result\n    // see https://github.com/remix-run/react-router/issues/7634\n    // so we use a ref to bail out of rerenders when we don't need to\n    const navigateRef = useRef(navigate);\n    const location = useLocation();\n    const locationRef = useRef(location);\n    const basename = useBasename();\n    const loginUrl = removeDoubleSlashes(\n        `${basename}/${defaultAuthParams.loginUrl}`\n    );\n\n    /*\n     * We need the current location to pass in the router state\n     * so that the login hook knows where to redirect to as next route after login.\n     *\n     * But if we used the location from useLocation as a dependency of the logout\n     * function, it would be rebuilt each time the user changes location.\n     * Consequently, that would force a rerender of all components using this hook\n     * upon navigation (CoreAdminRouter for example).\n     *\n     * To avoid that, we store the location in a ref.\n     */\n    useEffect(() => {\n        locationRef.current = location;\n        navigateRef.current = navigate;\n    }, [location, navigate]);\n\n    const logout = useCallback(\n        (\n            params = {},\n            redirectTo = loginUrl,\n            redirectToCurrentLocationAfterLogin = true\n        ) =>\n            authProvider.logout(params).then(redirectToFromProvider => {\n                if (redirectToFromProvider === false) {\n                    resetStore();\n                    // do not redirect\n                    return;\n                }\n                // redirectTo can contain a query string, e.g. '/login?foo=bar'\n                // we must split the redirectTo to pass a structured location to navigate()\n                const redirectToParts = (\n                    redirectToFromProvider || redirectTo\n                ).split('?');\n                const newLocation: Partial<Path> = {\n                    pathname: redirectToParts[0],\n                };\n                let newLocationOptions = {};\n\n                if (\n                    redirectToCurrentLocationAfterLogin &&\n                    locationRef.current &&\n                    locationRef.current.pathname\n                ) {\n                    newLocationOptions = {\n                        state: {\n                            nextPathname: locationRef.current.pathname,\n                            nextSearch: locationRef.current.search,\n                        },\n                    };\n                }\n                if (redirectToParts[1]) {\n                    newLocation.search = redirectToParts[1];\n                }\n                navigateRef.current(newLocation, newLocationOptions);\n                resetStore();\n\n                return redirectToFromProvider;\n            }),\n        [authProvider, resetStore, loginUrl]\n    );\n\n    const logoutWithoutProvider = useCallback(\n        _ => {\n            navigate(\n                {\n                    pathname: loginUrl,\n                },\n                {\n                    state: {\n                        nextPathname: location && location.pathname,\n                    },\n                }\n            );\n            resetStore();\n            return Promise.resolve();\n        },\n        [resetStore, location, navigate, loginUrl]\n    );\n\n    return authProvider ? logout : logoutWithoutProvider;\n};\n\n/**\n * Log the current user out by calling the authProvider.logout() method,\n * and redirect them to the login screen.\n *\n * @param {Object} params The parameters to pass to the authProvider\n * @param {string} redirectTo The path name to redirect the user to (optional, defaults to login)\n * @param {boolean} redirectToCurrentLocationAfterLogin Whether the button shall record the current location to redirect to it after login. true by default.\n *\n * @return {Promise} The authProvider response\n */\ntype Logout = (\n    params?: any,\n    redirectTo?: string,\n    redirectToCurrentLocationAfterLogin?: boolean\n) => Promise<any>;\n\nexport default useLogout;\n","import { Store } from './types';\n\ntype Subscription = {\n    key: string;\n    callback: (value: any) => void;\n};\n\nconst RA_STORE = 'RaStore';\nconst prefixLength = RA_STORE.length;\n\n// localStorage isn't available in incognito mode. We need to detect it\nconst testLocalStorage = () => {\n    // eslint-disable-next-line eqeqeq\n    if (typeof window === 'undefined' || window.localStorage == undefined) {\n        return false;\n    }\n\n    try {\n        window.localStorage.setItem('test', 'test');\n        window.localStorage.removeItem('test');\n        return true;\n    } catch (e) {\n        return false;\n    }\n};\n\nlet localStorageAvailable = testLocalStorage();\n\n/**\n * Store using localStorage, or memory storage in incognito mode\n *\n * @example\n *\n * import { localStorageProvider } from 'react-admin';\n *\n * const App = () => (\n *    <Admin store={localStorageProvider()}>\n *       ...\n *   </Admin>\n * );\n */\nexport const localStorageStore = (version: string = '1'): Store => {\n    const subscriptions: { [key: string]: Subscription } = {};\n    const publish = (key: string, value: any) => {\n        Object.keys(subscriptions).forEach(id => {\n            if (!subscriptions[id]) return; // may happen if a component unmounts after a first subscriber was notified\n            if (subscriptions[id].key === key) {\n                subscriptions[id].callback(value);\n            }\n        });\n    };\n\n    // Whenever the local storage changes in another document, look for matching subscribers.\n    // This allows to synchronize state across tabs\n    const onLocalStorageChange = (event: StorageEvent): void => {\n        if (event.key.substring(0, prefixLength) !== RA_STORE) {\n            return;\n        }\n        const key = event.key.substring(prefixLength + 1);\n        const value = tryParse(event.newValue);\n        Object.keys(subscriptions).forEach(id => {\n            if (!subscriptions[id]) return; // may happen if a component unmounts after a first subscriber was notified\n            if (subscriptions[id].key === key) {\n                if (value === null) {\n                    // an event with a null value is sent when the key is deleted.\n                    // to enable default value, we need to call setValue(undefined) instead of setValue(null)\n                    subscriptions[id].callback(undefined);\n                } else {\n                    subscriptions[id].callback(\n                        value == null ? undefined : value\n                    );\n                }\n            }\n        });\n    };\n\n    return {\n        setup: () => {\n            if (localStorageAvailable) {\n                const storedVersion = getStorage().getItem(\n                    `${RA_STORE}.version`\n                );\n                if (storedVersion && storedVersion !== version) {\n                    getStorage().clear();\n                }\n                getStorage().setItem(`${RA_STORE}.version`, version);\n                window.addEventListener('storage', onLocalStorageChange);\n            }\n        },\n        teardown: () => {\n            if (localStorageAvailable) {\n                window.removeEventListener('storage', onLocalStorageChange);\n            }\n        },\n        getItem<T = any>(key: string, defaultValue?: T): T {\n            const valueFromStorage = tryParse(\n                getStorage().getItem(`${RA_STORE}.${key}`)\n            );\n            // eslint-disable-next-line eqeqeq\n            return valueFromStorage == null ? defaultValue : valueFromStorage;\n        },\n        setItem<T = any>(key: string, value: T): void {\n            if (value === undefined) {\n                getStorage().removeItem(`${RA_STORE}.${key}`);\n            } else {\n                getStorage().setItem(\n                    `${RA_STORE}.${key}`,\n                    JSON.stringify(value)\n                );\n            }\n            publish(key, value);\n        },\n        removeItem(key: string): void {\n            getStorage().removeItem(`${RA_STORE}.${key}`);\n            publish(key, undefined);\n        },\n        reset(): void {\n            const storage = getStorage();\n            for (let i = 0; i < storage.length; i++) {\n                if (storage.key(i).substring(0, prefixLength) === RA_STORE) {\n                    const key = storage.key(i).substring(prefixLength + 1);\n                    storage.removeItem(storage.key(i));\n                    publish(key, undefined);\n                }\n            }\n        },\n        subscribe: (key: string, callback: (value: string) => void) => {\n            const id = Math.random().toString();\n            subscriptions[id] = {\n                key,\n                callback,\n            };\n            return () => {\n                delete subscriptions[id];\n            };\n        },\n    };\n};\n\nconst tryParse = (value: string): any => {\n    try {\n        return JSON.parse(value);\n    } catch (e) {\n        return value;\n    }\n};\nclass LocalStorageShim {\n    valuesMap: any = new Map();\n\n    getItem(key: string) {\n        if (this.valuesMap.has(key)) {\n            return String(this.valuesMap.get(key));\n        }\n        return null;\n    }\n\n    setItem(key: string, value: string) {\n        this.valuesMap.set(key, value);\n    }\n\n    removeItem(key: string) {\n        this.valuesMap.delete(key);\n    }\n\n    clear() {\n        this.valuesMap.clear();\n    }\n\n    key(i): string {\n        if (arguments.length === 0) {\n            throw new TypeError(\n                \"Failed to execute 'key' on 'Storage': 1 argument required, but only 0 present.\"\n            ); // this is a TypeError implemented on Chrome, Firefox throws Not enough arguments to Storage.key.\n        }\n        const arr = Array.from(this.valuesMap.keys()) as string[];\n        return arr[i];\n    }\n\n    get length() {\n        return this.valuesMap.size;\n    }\n}\nconst memoryStorage = new LocalStorageShim();\n\nexport const getStorage = () => {\n    return localStorageAvailable ? window.localStorage : memoryStorage;\n};\n","import set from 'lodash/set';\nimport unset from 'lodash/unset';\nimport get from 'lodash/get';\nimport { Store } from './types';\n\ntype Subscription = {\n    key: string;\n    callback: (value: any) => void;\n};\n\n/**\n * Store using memory\n *\n * @example\n *\n * import { memoryStore } from 'react-admin';\n *\n * const App = () => (\n *    <Admin store={memoryStore()}>\n *       ...\n *   </Admin>\n * );\n */\nexport const memoryStore = (storage: any = {}): Store => {\n    const subscriptions: { [key: string]: Subscription } = {};\n    const publish = (key: string, value: any) => {\n        Object.keys(subscriptions).forEach(id => {\n            if (!subscriptions[id]) return; // may happen if a component unmounts after a first subscriber was notified\n            if (subscriptions[id].key === key) {\n                subscriptions[id].callback(value);\n            }\n        });\n    };\n    return {\n        setup: () => {},\n        teardown: () => {\n            Object.keys(storage).forEach(key => delete storage[key]);\n        },\n        getItem<T = any>(key: string, defaultValue?: T): T {\n            return get(storage, key, defaultValue);\n        },\n        setItem<T = any>(key: string, value: T): void {\n            set(storage, key, value);\n            publish(key, value);\n        },\n        removeItem(key: string): void {\n            unset(storage, key);\n            publish(key, undefined);\n        },\n        reset(): void {\n            Object.keys(storage).forEach(key => {\n                unset(storage, key);\n                publish(key, undefined);\n            });\n        },\n        subscribe: (key: string, callback: (value: string) => void) => {\n            const id = Math.random().toString();\n            subscriptions[id] = {\n                key,\n                callback,\n            };\n            return () => {\n                delete subscriptions[id];\n            };\n        },\n    };\n};\n","import { createContext } from 'react';\n\nimport { Store } from './types';\nimport { memoryStore } from './memoryStore';\n\nconst defaultStore = memoryStore();\n\nexport const StoreContext = createContext<Store>(defaultStore);\n","import * as React from 'react';\nimport { useEffect } from 'react';\nimport { StoreContext } from './StoreContext';\nimport { Store } from './types';\n\nexport const StoreContextProvider = ({\n    value: Store,\n    children,\n}: StoreContextProviderProps) => {\n    useEffect(() => {\n        Store.setup();\n        return () => {\n            Store.teardown();\n        };\n    }, [Store]);\n\n    return (\n        <StoreContext.Provider value={Store}>{children}</StoreContext.Provider>\n    );\n};\n\nexport interface StoreContextProviderProps {\n    value: Store;\n    children: React.ReactNode;\n}\n","import * as React from 'react';\nimport { useEffect, ReactNode } from 'react';\nimport { useStoreContext } from './useStoreContext';\n\n/**\n * A component to set store state for a key on mount declaratively\n *\n * To use it, just wrap any component that need to use the corresponding\n * store item with <StoreSetter name=\"my.key\" value=\"myvalue\">.\n * This wrapping needs to be done to ensure that the corresponding store item\n * is set before rendering the wrapped component.\n *\n * Tip: <StoreSetter> is a great helper for mocking the store in\n * unit tests. Prefer it to calling the Store manually.\n *\n * @example\n *\n *     <StoreSetter name=\"list.density\" value=\"small\">\n *         <MyStoreDependentComponent />\n *     </StoreSetter>\n *\n * @example // Using <StoreSetter> is equivalent to using `useStoreContext` and setting its value directly.\n *\n * const [, setDensity] = useStore('list.density');\n *\n * useEffect(() => {\n *     setDensity('small');\n * }, []);\n *\n * @param {Props}    props\n * @param {string}   props.name Store item key. Required. Separate with dots to namespace, e.g. 'posts.list.columns'\n * @param {any}      props.value Store item value. Required.\n * @param {children} props.children Children are rendered as is, on mount\n */\nexport const StoreSetter = ({ value, name, children }: StoreSetterProps) => {\n    const { setItem } = useStoreContext();\n\n    useEffect(() => {\n        setItem(name, value);\n    }, [name, setItem, value]);\n\n    return <>{children}</>;\n};\n\nexport interface StoreSetterProps {\n    name: string;\n    value: any;\n    children: ReactNode;\n}\n","import { useContext } from 'react';\n\nimport { StoreContext } from './StoreContext';\n\n/**\n * Get the Store stored in the StoreContext\n */\nexport const useStoreContext = () => useContext(StoreContext);\n","import { useState, useEffect } from 'react';\n\nimport { useEventCallback } from '../util';\nimport { useStoreContext } from './useStoreContext';\n\n/**\n * Read and write a value from the Store\n *\n * useState-like hook using the global Store for persistence.\n * Each time a store value is changed, all components using this value will be re-rendered.\n *\n * @param {string} key Name of the store key. Separate with dots to namespace, e.g. 'posts.list.columns'.\n * @param {any} defaultValue Default value\n *\n * @return {Object} A value and a setter for the value, in an array - just like for useState()\n *\n * @example\n * import { useStore } from 'react-admin';\n *\n * const PostList = props => {\n *     const [density] = useStore('posts.list.density', 'small');\n *\n *     return (\n *         <List {...props}>\n *             <Datagrid size={density}>\n *                 ...\n *             </Datagrid>\n *         </List>\n *     );\n * }\n *\n * // Clicking on this button will trigger a rerender of the PostList!\n * const ChangeDensity: FC<any> = () => {\n *     const [density, setDensity] = useStore('posts.list.density', 'small');\n *\n *     const changeDensity = (): void => {\n *         setDensity(density === 'small' ? 'medium' : 'small');\n *     };\n *\n *     return (\n *         <Button onClick={changeDensity}>\n *             {`Change density (current ${density})`}\n *         </Button>\n *     );\n * };\n */\nexport const useStore = <T = any>(\n    key: string,\n    defaultValue?: T\n): useStoreResult<T> => {\n    const { getItem, setItem, subscribe } = useStoreContext();\n    const [value, setValue] = useState(() => getItem(key, defaultValue));\n\n    // subscribe to changes on this key, and change the state when they happen\n    useEffect(() => {\n        const unsubscribe = subscribe(key, newValue => {\n            setValue(typeof newValue === 'undefined' ? defaultValue : newValue);\n        });\n        return () => unsubscribe();\n    }, [key, subscribe, defaultValue]);\n\n    const set = useEventCallback(\n        (valueParam: T, runtimeDefaultValue: T) => {\n            const newValue =\n                typeof valueParam === 'function'\n                    ? valueParam(value)\n                    : valueParam;\n            // we only set the value in the Store;\n            // the value in the local state will be updated\n            // by the useEffect during the next render\n            setItem(\n                key,\n                typeof newValue === 'undefined'\n                    ? typeof runtimeDefaultValue === 'undefined'\n                        ? defaultValue\n                        : runtimeDefaultValue\n                    : newValue\n            );\n        },\n        [key, setItem, defaultValue, value]\n    );\n    return [value, set];\n};\n\nexport type useStoreResult<T = any> = [\n    T,\n    (value: T | ((value: T) => void), defaultValue?: T) => void\n];\n","/**\n * Escape special characters in path so that react-router Route does not do any special treatment\n *\n * @see https://github.com/ReactTraining/react-router/blob/v3/docs/guides/RouteMatching.md#path-syntax\n *\n * @example\n *\n * escapePath('/foo(bar)') => 'foo\\(bar\\)'\n */\nexport default url => url.replace(/(\\(|\\))/g, '\\\\$1');\n","import * as React from 'react';\nimport { ReactElement, memo } from 'react';\n\nimport { useTranslate } from '../i18n';\nimport getFieldLabelTranslationArgs from './getFieldLabelTranslationArgs';\nimport { useResourceContext } from '../core/useResourceContext';\n\nexport interface FieldTitleProps {\n    isRequired?: boolean;\n    resource?: string;\n    source?: string;\n    label?: string | ReactElement | false;\n}\n\nexport const FieldTitle = (props: FieldTitleProps) => {\n    const { source, label, isRequired } = props;\n    const resource = useResourceContext(props);\n    const translate = useTranslate();\n\n    if (label === false || label === '') {\n        return null;\n    }\n\n    if (label && typeof label !== 'string') {\n        return label;\n    }\n\n    return (\n        <span>\n            {translate(\n                ...getFieldLabelTranslationArgs({\n                    label: label as string,\n                    resource,\n                    source,\n                })\n            )}\n            {isRequired && <span aria-hidden=\"true\">&thinsp;*</span>}\n        </span>\n    );\n};\n\n// What? TypeScript loses the displayName if we don't set it explicitly\nFieldTitle.displayName = 'FieldTitle';\n\nexport default memo(FieldTitle);\n","import * as React from 'react';\nimport lodashGet from 'lodash/get';\n\nimport { I18nContextProvider } from './I18nContextProvider';\n\nexport const TestTranslationProvider = ({\n    translate,\n    messages,\n    children,\n}: any) => (\n    <I18nContextProvider\n        value={{\n            translate: messages\n                ? (key: string, options?: any) => {\n                      const message = lodashGet(messages, key);\n                      return message\n                          ? typeof message === 'function'\n                              ? message(options)\n                              : message\n                          : options._;\n                  }\n                : translate,\n            changeLocale: () => Promise.resolve(),\n            getLocale: () => 'en',\n        }}\n    >\n        {children}\n    </I18nContextProvider>\n);\n","import * as React from 'react';\nimport { useEffect, useState, ReactNode } from 'react';\n\nimport { I18nContext } from './I18nContext';\nimport { useStore } from '../store/useStore';\nimport { useNotify } from '../notification';\nimport { I18nProvider } from '../types';\n\n/**\n * Store the i18nProvider in a context, and rerender children when the locale changes\n */\nexport const I18nContextProvider = ({\n    value = defaulti18nContext,\n    children,\n}: I18nContextProviderProps) => {\n    const [locale] = useStore('locale');\n    const notify = useNotify();\n    const [key, setKey] = useState(0);\n    // to avoid blinking effect, delay first render if the user has a non-default locale\n    const [isInitialized, setInitialized] = useState(\n        locale === value.getLocale()\n    );\n\n    // watch store for locale changes\n    useEffect(() => {\n        if (locale && value.getLocale() !== locale) {\n            new Promise(resolve => {\n                // so we systematically return a Promise for the messages\n                // i18nProvider may return a Promise for language changes,\n                resolve(value.changeLocale(locale));\n            })\n                .then(() => {\n                    // Force full page re-render.\n                    // This is slow on locale change, but it's a good way\n                    // to avoid having one subscription to the locale\n                    // for each call to translate()\n                    setKey(key => key + 1);\n                    setInitialized(true);\n                })\n                .catch(error => {\n                    setInitialized(true);\n                    notify('ra.notification.i18n_error', { type: 'warning' });\n                    console.error(error);\n                });\n        } else {\n            setInitialized(true);\n        }\n    }, [value, locale, notify]);\n\n    return isInitialized ? (\n        <I18nContext.Provider value={value} key={key}>\n            {children}\n        </I18nContext.Provider>\n    ) : null;\n};\n\nexport interface I18nContextProviderProps {\n    value: I18nProvider;\n    children: ReactNode;\n}\n\nconst defaulti18nContext = {\n    translate: x => x,\n    changeLocale: () => Promise.resolve(),\n    getLocale: () => 'en',\n};\n","import { createContext } from 'react';\nimport { I18nProvider } from '../types';\n\nexport type I18nContextProps = I18nProvider;\n\nexport const I18nContext = createContext<I18nProvider>({\n    translate: x => x,\n    changeLocale: () => Promise.resolve(),\n    getLocale: () => 'en',\n});\n\nI18nContext.displayName = 'I18nContext';\n","import { useCallback } from 'react';\n\nimport { useNotificationContext } from './useNotificationContext';\nimport { NotificationType, NotificationOptions } from './types';\n\n/**\n * Hook for Notification Side Effect\n *\n * @example\n *\n * const notify = useNotify();\n * // simple message (info level)\n * notify('Level complete');\n * // specify level\n * notify('A problem occurred', { type: 'warning' })\n * // pass arguments to the translation function\n * notify('Deleted %{count} elements', { type: 'info', messageArgs: { smart_count: 23 } })\n * // show the action as undoable in the notification\n * notify('Post renamed', { type: 'info', undoable: true })\n */\nexport const useNotify = () => {\n    const { addNotification } = useNotificationContext();\n    return useCallback(\n        (\n            message: string,\n            options: NotificationOptions & { type?: NotificationType } = {}\n        ) => {\n            const {\n                type: messageType = 'info',\n                ...notificationOptions\n            } = options;\n            addNotification({\n                message,\n                type: messageType,\n                notificationOptions,\n            });\n        },\n        [addNotification]\n    );\n};\n","import { useContext } from 'react';\nimport { NotificationContext } from './NotificationContext';\n\nexport const useNotificationContext = () => useContext(NotificationContext);\n","import { createContext } from 'react';\n\nimport { NotificationPayload } from './types';\n\nexport type NotificationContextType = {\n    notifications: NotificationPayload[];\n    addNotification: (notification: NotificationPayload) => void;\n    takeNotification: () => NotificationPayload | void;\n    resetNotifications: () => void;\n};\n\n/**\n * Context for the notification state and modifiers\n *\n * @example // display notifications\n * import { useNotificationContext } from 'react-admin';\n *\n * const App = () => {\n *    const { notifications } = useNotificationContext();\n *    return (\n *        <ul>\n *            {notifications.map(({ message }) => (\n *                <li key={index}>{ message }</li>\n *            ))}\n *        </ul>\n *    );\n * };\n *\n * @example // reset notifications\n * import { useNotificationContext } from 'react-admin';\n *\n * const ResetNotificationsButton = () => {\n *    const { resetNotifications } = useNotificationContext();\n *    return (\n *        <button onClick={() => resetNotifications()}>Reset notifications</button>\n *    );\n * };\n */\nexport const NotificationContext = createContext<NotificationContextType>({\n    notifications: [],\n    addNotification: () => {},\n    takeNotification: () => {},\n    resetNotifications: () => {},\n});\n","import * as React from 'react';\nimport { useState, useCallback, useMemo } from 'react';\n\nimport { NotificationPayload } from './types';\nimport { NotificationContext } from './NotificationContext';\n\nexport const NotificationContextProvider = ({ children }) => {\n    const [notifications, setNotifications] = useState<NotificationPayload[]>(\n        []\n    );\n\n    const addNotification = useCallback((notification: NotificationPayload) => {\n        setNotifications(notifications => [...notifications, notification]);\n    }, []);\n\n    const takeNotification = useCallback(() => {\n        const [notification, ...rest] = notifications;\n        setNotifications(rest);\n        return notification;\n    }, [notifications]);\n\n    const resetNotifications = useCallback(() => {\n        setNotifications([]);\n    }, []);\n\n    const contextValue = useMemo(\n        () => ({\n            notifications,\n            addNotification,\n            takeNotification,\n            resetNotifications,\n        }),\n        [notifications] // eslint-disable-line react-hooks/exhaustive-deps\n    );\n\n    return (\n        <NotificationContext.Provider value={contextValue}>\n            {children}\n        </NotificationContext.Provider>\n    );\n};\n","import { createContext } from 'react';\n\nexport const TranslatableContext = createContext<TranslatableContextValue>(\n    undefined\n);\n\nexport interface TranslatableContextValue {\n    getLabel: GetTranslatableLabel;\n    getSource: GetTranslatableSource;\n    locales: string[];\n    selectedLocale: string;\n    selectLocale: SelectTranslatableLocale;\n}\n\nexport type GetTranslatableSource = (field: string, locale?: string) => string;\nexport type GetTranslatableLabel = (field: string, label?: string) => string;\nexport type SelectTranslatableLocale = (locale: string) => void;\n","import * as React from 'react';\nimport { ReactElement, ReactNode } from 'react';\nimport {\n    TranslatableContext,\n    TranslatableContextValue,\n} from './TranslatableContext';\n\nexport const TranslatableContextProvider = ({\n    children,\n    value,\n}: {\n    children: ReactNode;\n    value: TranslatableContextValue;\n}): ReactElement => {\n    return (\n        <TranslatableContext.Provider value={value}>\n            {children}\n        </TranslatableContext.Provider>\n    );\n};\n","import merge from 'lodash/merge';\nimport { DEFAULT_LOCALE } from './index';\n\ninterface AllNavigatorLanguage extends NavigatorLanguage {\n    browserLanguage?: string;\n    userLanguage?: string;\n}\n\n/**\n * Resolve the browser locale according to the value of the global window.navigator\n *\n * Use it to determine the <Admin> locale at runtime.\n *\n * @example\n *    import * as React from \"react\";\n *    import { Admin, Resource, resolveBrowserLocale } from 'react-admin';\n *    import polyglotI18nProvider from 'ra-i18n-polyglot';\n *    import englishMessages from 'ra-language-english';\n *    import frenchMessages from 'ra-language-french';\n *\n *    const messages = {\n *        fr: frenchMessages,\n *        en: englishMessages,\n *    };\n *    const i18nProvider = polyglotI18nProvider(\n *        locale => messages[locale] ? messages[locale] : messages.en,\n *        resolveBrowserLocale()\n *    );\n *\n *    const App = () => (\n *        <Admin i18nProvider={i18nProvider}>\n *            ...\n *        </Admin>\n *    );\n *\n * @param {string} defaultLocale Defaults to 'en'\n * @param options\n * @param {boolean} options.fullLocale Defaults to false\n */\nexport const resolveBrowserLocale = (\n    defaultLocale?: string,\n    options?: { fullLocale?: boolean }\n): string => {\n    // from http://blog.ksol.fr/user-locale-detection-browser-javascript/\n    // Rely on the window.navigator object to determine user locale\n    const {\n        language,\n        browserLanguage,\n        userLanguage,\n    } = window.navigator as AllNavigatorLanguage;\n\n    const locale =\n        language ||\n        browserLanguage ||\n        userLanguage ||\n        defaultLocale ||\n        DEFAULT_LOCALE;\n\n    return options?.fullLocale ? locale : locale.split('-')[0];\n};\n\n/**\n * Compose translations from multiple packages for a single language (eg: 'english').\n *\n * Use it to merge translations from addons with the main react-admin translations.\n *\n * @example\n *     import * as React from \"react\";\n *     import { Admin, Resource, mergeTranslations } from 'react-admin';\n *     import polyglotI18nProvider from 'ra-i18n-polyglot';\n *     import englishMessages from 'ra-language-english';\n *     import englishTreeMessages from 'ra-tree-language-english';\n *\n *     const messages = {\n *        en: mergeTranslations(englishMessages, englishTreeMessages),\n *     };\n *     const i18nProvider = polyglotI18nProvider(\n *        locale => messages[locale] ? messages[locale] : messages.en\n *    );\n *\n *    const App = () => (\n *        <Admin i18nProvider={i18nProvider}>\n *            ...\n *        </Admin>\n *    );\n */\nexport const mergeTranslations = (...translationsModules: object[]) =>\n    merge({}, ...translationsModules);\n","import { useMemo } from 'react';\nimport { useI18nProvider } from './useI18nProvider';\nimport { useStore } from '../store/useStore';\n\n/**\n * Get the current locale and the ability to change it\n *\n * @example\n *\n * import { useLocaleState } from 'react-admin';\n *\n * const availableLanguages = {\n *     en: 'English',\n *     fr: 'Français',\n * }\n * const LocaleSwitcher = () => {\n *     const [locale, setLocale] = useLocaleState();\n *     return (\n *         <div>\n *             <div>Language</div>\n *             <Button disabled={locale === 'fr'} onClick={() => setLocale('fr')}>\n *                 English\n *             </Button>\n *             <Button disabled={locale === 'en'} onClick={() => setLocale('en')}>\n *                 French\n *             </Button>\n *         </div>\n *     );\n * };\n */\nexport const useLocaleState = () => {\n    const i18nProvider = useI18nProvider();\n    const defaultLocale = useMemo(() => i18nProvider.getLocale(), [\n        i18nProvider,\n    ]);\n    return useStore<string>('locale', defaultLocale);\n};\n","import { useContext } from 'react';\n\nimport { I18nContext } from './I18nContext';\n\n/**\n * Get the i18nProvider instance declared in the <Admin> component\n *\n * @example\n *\n * const CurrentLanguage = () => {\n *    const i18nProvider = useI18nProvider();\n *    const locale = i18nProvider.getLocale();\n *    return <span>{locale}</span>;\n * };\n */\nexport const useI18nProvider = () => useContext(I18nContext);\n","import { useLocaleState } from './useLocaleState';\n\n/**\n * Get the current locale\n *\n * @example\n *\n * import { useLocale } from 'react-admin';\n *\n * const availableLanguages = {\n *     en: 'English',\n *     fr: 'Français',\n * }\n * const CurrentLanguage = () => {\n *     const locale = useLocale();\n *     return <span>{availableLanguages[locale]}</span>;\n * }\n *\n * @deprecated use useLocaleState instead\n */\nexport const useLocale = () => {\n    const [locale] = useLocaleState();\n    return locale;\n};\n","import { useLocaleState } from './useLocaleState';\n\n/**\n * Set the current locale in the I18nContext and re-render the app when the locale changes.\n *\n * @example\n *\n * import { useSetLocale } from 'react-admin';\n *\n * const availableLanguages = {\n *     en: 'English',\n *     fr: 'Français',\n * }\n * const LanguageSwitcher = () => {\n *     const setLocale = useSetLocale();\n *     return (\n *         <ul>{\n *             Object.keys(availableLanguages).map(locale => {\n *                  <li key={locale} onClick={() => setLocale(locale)}>\n *                      {availableLanguages[locale]}\n *                  </li>\n *              })\n *         }</ul>\n *     );\n * }\n *\n * @deprecated use useLocaleState instead\n */\nexport const useSetLocale = () => {\n    const [, setLocale] = useLocaleState();\n    return setLocale;\n};\n","import { useState, useMemo } from 'react';\nimport { useResourceContext } from '../core';\nimport { getFieldLabelTranslationArgs } from '../util';\nimport { TranslatableContextValue } from './TranslatableContext';\nimport { useLocaleState } from './useLocaleState';\nimport { useTranslate } from './useTranslate';\n\n/**\n * Hook supplying the logic to translate a field value in multiple languages.\n *\n * @param options The hook options\n * @param {string} options.defaultLocale The locale of the default selected locale. Defaults to 'en'.\n * @param {string[]} options.locales An array of the supported locales. Each is an object with a locale and a name property. For example { locale: 'en', name: 'English' }.\n *\n * @returns\n * An object with following properties and methods:\n * - selectedLocale: The locale of the currently selected locale\n * - locales: An array of the supported locales\n * - getLabel: A function which returns the translated label for the given field\n * - getSource: A function which returns the source for the given field\n * - selectLocale: A function which set the selected locale\n */\nexport const useTranslatable = (\n    options: UseTranslatableOptions\n): TranslatableContextValue => {\n    const [localeFromUI] = useLocaleState();\n    const { defaultLocale = localeFromUI, locales } = options;\n    const [selectedLocale, setSelectedLocale] = useState(defaultLocale);\n    const resource = useResourceContext({});\n    const translate = useTranslate();\n\n    const context = useMemo<TranslatableContextValue>(\n        () => ({\n            getSource: (source: string, locale: string = selectedLocale) =>\n                `${source}.${locale}`,\n            getLabel: (source: string, label?: string) => {\n                return translate(\n                    ...getFieldLabelTranslationArgs({\n                        source,\n                        resource,\n                        label,\n                    })\n                );\n            },\n            locales,\n            selectedLocale,\n            selectLocale: setSelectedLocale,\n        }),\n        [locales, resource, selectedLocale, translate]\n    );\n\n    return context;\n};\n\nexport type UseTranslatableOptions = {\n    defaultLocale?: string;\n    locales: string[];\n};\n","import { useCallback } from 'react';\n\nimport { Translate } from '../types';\nimport { useI18nProvider } from './useI18nProvider';\n\n/**\n * Translate a string using the current locale and the translations from the i18nProvider\n *\n * @see Polyglot.t()\n * @link https://airbnb.io/polyglot.js/#polyglotprototypetkey-interpolationoptions\n *\n * @return {Function} A translation function, accepting two arguments\n *   - a string used as key in the translations\n *   - an interpolationOptions object\n *\n * @example\n *\n * import { useTranslate } from 'react-admin';\n *\n * const SettingsMenu = () => {\n *     const translate = useTranslate();\n *     return <MenuItem>{translate('settings')}</MenuItem>;\n * }\n */\nexport const useTranslate = (): Translate => {\n    const i18nProvider = useI18nProvider();\n    const translate = useCallback(\n        (key: string, options?: any) =>\n            i18nProvider.translate(key, options) as string,\n        // update the hook each time the locale changes\n        [i18nProvider] // eslint-disable-line react-hooks/exhaustive-deps\n    );\n    return i18nProvider ? translate : identity;\n};\n\nconst identity = key => key;\n","import { useContext } from 'react';\nimport {\n    TranslatableContext,\n    TranslatableContextValue,\n} from './TranslatableContext';\n\n/**\n * Gives access to the current TranslatableContext.\n *\n * @example\n * <TranslatableFields\n *     selector={<MyLanguageSelector />}\n *     locales={['en', 'fr']}\n * >\n *     <TextField source={getSource('title')} />\n * <TranslatableFields>\n *\n * const MyLanguageSelector = () => {\n *     const {\n *         locales,\n *         selectedLocale,\n *         selectLocale,\n *     } = useTranslatableContext();\n *\n *     return (\n *         <select onChange={selectLocale}>\n *             {locales.map((locale) => (\n *                 <option selected={locale.locale === selectedLocale}>\n *                     {locale.name}\n *                 </option>\n *             ))}\n *        </select>\n *     );\n * }\n */\nexport const useTranslatableContext = (): TranslatableContextValue => {\n    const context = useContext(TranslatableContext);\n\n    if (!context) {\n        throw new Error(\n            'useTranslatableContext must be used inside a TranslatableContextProvider'\n        );\n    }\n\n    return context;\n};\n","export const DEFAULT_LOCALE = 'en';\n\nexport * from './TestTranslationProvider';\nexport * from './I18nContext';\nexport * from './I18nContextProvider';\nexport * from './TranslationMessages';\nexport * from './TranslatableContext';\nexport * from './TranslatableContextProvider';\nexport * from './TranslationUtils';\nexport * from './useLocaleState';\nexport * from './useLocale';\nexport * from './useSetLocale';\nexport * from './useTranslatable';\nexport * from './useTranslatableContext';\nexport * from './useTranslate';\nexport * from './useI18nProvider';\n","import inflection from 'inflection';\n\ninterface Args {\n    label?: string;\n    resource?: string;\n    source?: string;\n}\n\ntype TranslationArguments = [string, any?];\n\n/**\n * Returns an array of arguments to use with the translate function for the label of a field.\n * The label will be the one specified by the label prop or one computed from the resource and source props.\n *\n * Usage:\n *  <span>\n *      {translate(...getFieldLabelTranslationArgs({ label, resource, source }))}\n *  </span>\n */\nexport default (options?: Args): TranslationArguments => {\n    if (!options) {\n        return [''];\n    }\n\n    const { label, resource, source } = options;\n\n    return typeof label !== 'undefined'\n        ? [label, { _: label }]\n        : typeof source !== 'undefined'\n        ? [\n              `resources.${resource}.fields.${source}`,\n              {\n                  _: inflection.transform(source, ['underscore', 'humanize']),\n              },\n          ]\n        : [''];\n};\n","import { useContext } from 'react';\nimport { ResourceContext, ResourceContextValue } from './ResourceContext';\n\n/**\n * Hook to read the resource from the ResourceContext.\n *\n * Must be used within a <ResourceContextProvider> (e.g. as a descendent of <Resource>\n * or any reference related components), or called with a resource prop.\n *\n * @example\n *\n * const ResourceName = (props) => {\n *   const resource = useResourceContext(props);\n *   const getResourceLabel = useGetResourceLabel();\n *   return <>{getResourceLabel(resource, 1)}</>;\n * }\n *\n * // use it in a resource context\n * const MyComponent = () => (\n *   <ResourceContextProvider value=\"posts\">\n *     <ResourceName />\n *     ...\n *   </ResourceContextProvider>\n * );\n *\n * // override resource via props\n * const MyComponent = () => (\n *   <>\n *     <ResourceName resource=\"posts\"/>\n *     ...\n *   </>\n * );\n *\n * @returns {ResourceContextValue} The resource name, e.g. 'posts'\n */\nexport const useResourceContext = <\n    ResourceInformationsType extends Partial<{ resource: string }>\n>(\n    props?: ResourceInformationsType\n): ResourceContextValue => {\n    const context = useContext(ResourceContext);\n    return (props && props.resource) || context;\n};\n","import { createContext } from 'react';\n\n/**\n * Context to store the current resource name.\n *\n * Use the useResource() hook to read the context. That's what most components do in react-admin.\n *\n * @example\n *\n * import { useResourceContext, useTranslate } from 'ra-core';\n *\n * const MyCustomEditTitle = props => {\n *     const name = useResourceContext(props);\n *\n *     return (\n *         <h1>{translate(`${name}.name`)}</h1>\n *     );\n * };\n */\nexport const ResourceContext = createContext<ResourceContextValue>(undefined);\n\nexport type ResourceContextValue = string;\n","import { isValidElementType } from 'react-is';\n\nexport default (props, propName, componentName) => {\n    if (props[propName] && !isValidElementType(props[propName])) {\n        return new Error(\n            `Invalid prop '${propName}' supplied to '${componentName}': the prop is not a valid React component`\n        );\n    }\n};\n","function is(x: unknown, y: unknown) {\n    if (x === y) {\n        return x !== 0 || y !== 0 || 1 / x === 1 / y;\n    } else {\n        // eslint-disable-next-line no-self-compare\n        return x !== x && y !== y;\n    }\n}\n\nexport const shallowEqual = (objA: any, objB: any) => {\n    if (is(objA, objB)) return true;\n\n    if (\n        typeof objA !== 'object' ||\n        objA === null ||\n        typeof objB !== 'object' ||\n        objB === null\n    ) {\n        return false;\n    }\n\n    const keysA = Object.keys(objA);\n    const keysB = Object.keys(objB);\n\n    if (keysA.length !== keysB.length) return false;\n\n    for (let i = 0; i < keysA.length; i++) {\n        if (\n            !Object.prototype.hasOwnProperty.call(objB, keysA[i]) ||\n            !is(objA[keysA[i]], objB[keysA[i]])\n        ) {\n            return false;\n        }\n    }\n\n    return true;\n};\n","import { shallowEqual } from './shallowEqual';\n\nconst isObject = obj =>\n    obj && Object.prototype.toString.call(obj) === '[object Object]';\n\nconst isEmpty = obj =>\n    obj instanceof Date\n        ? false\n        : obj === '' ||\n          obj === null ||\n          obj === undefined ||\n          shallowEqual(obj, {});\n\nconst removeEmpty = object =>\n    Object.keys(object).reduce((acc, key) => {\n        let child = object[key];\n\n        if (isObject(object[key])) {\n            child = removeEmpty(object[key]);\n        }\n\n        return isEmpty(child) ? acc : { ...acc, [key]: child };\n    }, {});\n\nexport default removeEmpty;\n","const removeKey = (target, path) =>\n    Object.keys(target).reduce((acc, key) => {\n        if (key !== path) {\n            return Object.assign({}, acc, { [key]: target[key] });\n        }\n\n        return acc;\n    }, {});\n\nconst deepRemoveKey = (target, path) => {\n    const paths = path.split('.');\n\n    if (paths.length === 1) {\n        return removeKey(target, path);\n    }\n\n    const deepKey = paths[0];\n    if (target[deepKey] === undefined) {\n        return target;\n    }\n    const deep = deepRemoveKey(target[deepKey], paths.slice(1).join('.'));\n\n    if (Object.keys(deep).length === 0) {\n        return removeKey(target, deepKey);\n    }\n\n    return Object.assign({}, target, { [deepKey]: deep });\n};\n\nexport default deepRemoveKey;\n","import * as React from 'react';\nimport { useState } from 'react';\n\nconst styles = {\n    root: {\n        width: '100vw',\n        height: '100vh',\n        display: 'flex',\n        flexDirection: 'column' as 'column',\n        fontFamily: '\"Roboto\", sans-serif',\n    },\n    main: {\n        flex: 1,\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        textAlign: 'center' as 'center',\n        flexDirection: 'column' as 'column',\n        background:\n            'linear-gradient(135deg, #00023b 0%, #00023b 50%, #313264 100%)',\n        color: 'white',\n        fontSize: '1.5em',\n        fontWeight: 'bold' as 'bold',\n    },\n    secondary: {\n        height: '20vh',\n        background: '#e8e8e8',\n        color: 'black',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'space-evenly',\n    },\n    link: {\n        textAlign: 'center' as 'center',\n        width: 150,\n        display: 'block',\n        textDecoration: 'none',\n        color: 'black',\n        opacity: 0.7,\n    },\n    linkHovered: {\n        opacity: 1,\n    },\n    image: {\n        width: 50,\n    },\n    logo: {\n        height: 100,\n    },\n};\n\nconst Button = ({ img, label, href }) => {\n    const [hovered, setHovered] = useState(false);\n    return (\n        <div>\n            <a\n                href={href}\n                style={\n                    hovered\n                        ? { ...styles.link, ...styles.linkHovered }\n                        : styles.link\n                }\n                onMouseEnter={() => setHovered(true)}\n                onMouseLeave={() => setHovered(false)}\n            >\n                <img src={img} alt={label} style={styles.image} />\n                <br />\n                {label}\n            </a>\n        </div>\n    );\n};\n\nexport default () =>\n    process.env.NODE_ENV === 'production' ? (\n        <span />\n    ) : (\n        <div style={styles.root}>\n            <div style={styles.main}>\n                <img\n                    style={styles.logo}\n                    src=\"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIzLjAuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkNhbHF1ZV8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIKCSB2aWV3Qm94PSIwIDAgMTMxIDEzMSIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMTMxIDEzMTsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8c3R5bGUgdHlwZT0idGV4dC9jc3MiPgoJLnN0MHtmaWxsOiMyMjI0NTg7fQoJLnN0MXtmaWxsOiM1MTUzN0Q7fQoJLnN0MntmaWxsOiNBM0E0Qjk7fQoJLnN0M3tmaWxsOiMwMDAyM0I7fQoJLnN0NHtmaWxsOiNGRkZGRkY7fQoJLnN0NXtlbmFibGUtYmFja2dyb3VuZDpuZXcgICAgO30KPC9zdHlsZT4KPHRpdGxlPkxvZ29fc29tYnJlX2FpPC90aXRsZT4KPGcgaWQ9IlJlY3RhbmdsZV81NiI+Cgk8Zz4KCQk8cmVjdCB4PSIxOS4xIiB5PSIxOSIgdHJhbnNmb3JtPSJtYXRyaXgoMC41IC0wLjg2NiAwLjg2NiAwLjUgLTIzLjkyMjYgODkuNTQ2KSIgY2xhc3M9InN0MCIgd2lkdGg9IjkyLjkiIGhlaWdodD0iOTIuOSIvPgoJCTxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik04MywxMzAuM0wwLjgsODIuOUw0OC4yLDAuN2w4Mi4yLDQ3LjVMODMsMTMwLjN6IE0zLjUsODIuMWw3OC43LDQ1LjVsNDUuNS03OC43TDQ5LDMuNEwzLjUsODIuMXoiLz4KCTwvZz4KPC9nPgo8ZyBpZD0iUmVjdGFuZ2xlXzU2LTIiPgoJPGc+CgkJPHJlY3QgeD0iMTkiIHk9IjE5LjEiIHRyYW5zZm9ybT0ibWF0cml4KDAuODY2IC0wLjUgMC41IDAuODY2IC0yMy45Nzc3IDQxLjUyNykiIGNsYXNzPSJzdDAiIHdpZHRoPSI5Mi45IiBoZWlnaHQ9IjkyLjkiLz4KCQk8cGF0aCBjbGFzcz0ic3QyIiBkPSJNNDcuOSwxMzFMMCw0OEw4My4xLDBsNDgsODMuMUw0Ny45LDEzMXogTTQuMSw0OS4xbDQ1LDc3LjlsNzcuOS00NUw4Miw0LjFMNC4xLDQ5LjF6Ii8+Cgk8L2c+CjwvZz4KPGcgaWQ9IlJlY3RhbmdsZV81Ni0zIj4KCTxnPgoJCTxyZWN0IHg9IjE5LjEiIHk9IjE5IiBjbGFzcz0ic3QzIiB3aWR0aD0iOTIuOSIgaGVpZ2h0PSI5Mi45Ii8+CgkJPHBhdGggY2xhc3M9InN0NCIgZD0iTTExNC41LDExNC41SDE2LjZWMTYuNWg5Ny45VjExNC41eiBNMjEuNiwxMDkuNWg4Ny45VjIxLjVIMjEuNlYxMDkuNXoiLz4KCTwvZz4KPC9nPgo8ZyBpZD0iUmEiPgoJPGcgY2xhc3M9InN0NSI+CgkJPHBhdGggY2xhc3M9InN0NCIgZD0iTTU5LDg2LjdsLTYuNy0xOS4yaC0xLjJIMzguOXYxOS4yaC01LjZWMzguNWgxOC41YzMuNiwwLDYuMywwLjYsOC4xLDEuOGMxLjgsMS4yLDMsMi44LDMuNSw0LjgKCQkJYzAuNSwyLDAuOCw0LjYsMC44LDcuOGMwLDMuNS0wLjQsNi40LTEuMyw4LjdjLTAuOCwyLjMtMi42LDMuOS01LjMsNC44TDY1LDg2LjdINTl6IE01NS43LDYxLjZjMS4yLTAuNywyLTEuNywyLjQtMwoJCQljMC40LTEuMywwLjYtMy4yLDAuNi01LjZjMC0yLjUtMC4yLTQuMy0wLjUtNS42Yy0wLjMtMS4zLTEuMS0yLjItMi4zLTIuOWMtMS4yLTAuNy0zLTEtNS41LTFIMzguOXYxOS4xSDUwCgkJCUM1Mi41LDYyLjYsNTQuNCw2Mi4zLDU1LjcsNjEuNnoiLz4KCQk8cGF0aCBjbGFzcz0ic3Q0IiBkPSJNNzQuMyw4NWMtMS42LTEuNS0yLjUtNC4yLTIuNS04LjJjMC0yLjcsMC4zLTQuOCwwLjktNi4zYzAuNi0xLjUsMS42LTIuNiwzLTMuM2MxLjQtMC43LDMuNC0xLDYtMQoJCQljMS4zLDAsNS4xLDAuMSwxMS40LDAuM3YtMi40YzAtMi45LTAuMi01LTAuNy02LjJjLTAuNS0xLjItMS4zLTItMi42LTIuNGMtMS4yLTAuMy0zLjMtMC41LTYuMy0wLjVjLTEuMywwLTMsMC4xLTQuOSwwLjIKCQkJYy0yLDAuMS0zLjYsMC4zLTQuOCwwLjV2LTQuM2MzLjMtMC43LDcuMS0xLDExLjQtMWMzLjcsMCw2LjUsMC40LDguNCwxLjJjMS44LDAuOCwzLjEsMi4yLDMuOCw0LjFjMC43LDEuOSwxLDQuNywxLDguNHYyMi41aC00LjgKCQkJbC0wLjMtNWgtMC4zYy0wLjgsMi4yLTIuMiwzLjctNC4xLDQuNGMtMS45LDAuNy00LjEsMS4xLTYuNiwxLjFDNzguNiw4Ny4yLDc2LDg2LjUsNzQuMyw4NXogTTg5LjEsODJjMS4yLTAuNCwyLjItMS4yLDIuOC0yLjQKCQkJYzAuOS0xLjgsMS4zLTQuMywxLjMtNy4zdi0yaC0xMGMtMS43LDAtMywwLjItMy44LDAuNWMtMC44LDAuMy0xLjQsMC45LTEuNywxLjhjLTAuMywwLjktMC41LDIuMi0wLjUsNGMwLDEuOCwwLjIsMy4xLDAuNiwzLjkKCQkJYzAuNCwwLjgsMS4xLDEuNCwyLDEuOGMxLDAuMywyLjUsMC41LDQuNSwwLjVDODYuMiw4Mi42LDg3LjgsODIuNCw4OS4xLDgyeiIvPgoJPC9nPgo8L2c+Cjwvc3ZnPgo=\"\n                    alt=\"react-admin logo\"\n                />\n                <h1>Welcome to React-admin</h1>\n                <div>\n                    Your application is properly configured.\n                    <br />\n                    Now you can add a &lt;Resource&gt; as child of\n                    &lt;Admin&gt;.\n                </div>\n            </div>\n            <div style={styles.secondary}>\n                <Button\n                    href=\"https://marmelab.com/react-admin/Readme.html\"\n                    img=\"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIzLjAuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiIHdpZHRoPSIyNHB4IgoJIGhlaWdodD0iMjRweCIgdmlld0JveD0iMCAwIDI0IDI0IiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCAyNCAyNCIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxnIGlkPSJCb3VuZGluZ19Cb3giPgoJPHJlY3QgZmlsbD0ibm9uZSIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0Ii8+CjwvZz4KPGcgaWQ9IkZsYXQiPgoJPGcgaWQ9InVpX3g1Rl9zcGVjX3g1Rl9oZWFkZXJfY29weV8yIj4KCTwvZz4KCTxnPgoJCTxwYXRoIGQ9Ik0yMSw1Yy0xLjExLTAuMzUtMi4zMy0wLjUtMy41LTAuNWMtMS45NSwwLTQuMDUsMC40LTUuNSwxLjVjLTEuNDUtMS4xLTMuNTUtMS41LTUuNS0xLjVTMi40NSw0LjksMSw2djE0LjY1CgkJCWMwLDAuMjUsMC4yNSwwLjUsMC41LDAuNWMwLjEsMCwwLjE1LTAuMDUsMC4yNS0wLjA1QzMuMSwyMC40NSw1LjA1LDIwLDYuNSwyMGMxLjk1LDAsNC4wNSwwLjQsNS41LDEuNWMxLjM1LTAuODUsMy44LTEuNSw1LjUtMS41CgkJCWMxLjY1LDAsMy4zNSwwLjMsNC43NSwxLjA1YzAuMSwwLjA1LDAuMTUsMC4wNSwwLjI1LDAuMDVjMC4yNSwwLDAuNS0wLjI1LDAuNS0wLjVWNkMyMi40LDUuNTUsMjEuNzUsNS4yNSwyMSw1eiBNMywxOC41VjcKCQkJYzEuMS0wLjM1LDIuMy0wLjUsMy41LTAuNWMxLjM0LDAsMy4xMywwLjQxLDQuNSwwLjk5djExLjVDOS42MywxOC40MSw3Ljg0LDE4LDYuNSwxOEM1LjMsMTgsNC4xLDE4LjE1LDMsMTguNXogTTIxLDE4LjUKCQkJYy0xLjEtMC4zNS0yLjMtMC41LTMuNS0wLjVjLTEuMzQsMC0zLjEzLDAuNDEtNC41LDAuOTlWNy40OWMxLjM3LTAuNTksMy4xNi0wLjk5LDQuNS0wLjk5YzEuMiwwLDIuNCwwLjE1LDMuNSwwLjVWMTguNXoiLz4KCQk8cGF0aCBvcGFjaXR5PSIwLjMiIGQ9Ik0xMSw3LjQ5QzkuNjMsNi45MSw3Ljg0LDYuNSw2LjUsNi41QzUuMyw2LjUsNC4xLDYuNjUsMyw3djExLjVDNC4xLDE4LjE1LDUuMywxOCw2LjUsMTgKCQkJYzEuMzQsMCwzLjEzLDAuNDEsNC41LDAuOTlWNy40OXoiLz4KCTwvZz4KCTxnPgoJCTxwYXRoIGQ9Ik0xNy41LDEwLjVjMC44OCwwLDEuNzMsMC4wOSwyLjUsMC4yNlY5LjI0QzE5LjIxLDkuMDksMTguMzYsOSwxNy41LDljLTEuMjgsMC0yLjQ2LDAuMTYtMy41LDAuNDd2MS41NwoJCQlDMTQuOTksMTAuNjksMTYuMTgsMTAuNSwxNy41LDEwLjV6Ii8+CgkJPHBhdGggZD0iTTE3LjUsMTMuMTZjMC44OCwwLDEuNzMsMC4wOSwyLjUsMC4yNlYxMS45Yy0wLjc5LTAuMTUtMS42NC0wLjI0LTIuNS0wLjI0Yy0xLjI4LDAtMi40NiwwLjE2LTMuNSwwLjQ3djEuNTcKCQkJQzE0Ljk5LDEzLjM2LDE2LjE4LDEzLjE2LDE3LjUsMTMuMTZ6Ii8+CgkJPHBhdGggZD0iTTE3LjUsMTUuODNjMC44OCwwLDEuNzMsMC4wOSwyLjUsMC4yNnYtMS41MmMtMC43OS0wLjE1LTEuNjQtMC4yNC0yLjUtMC4yNGMtMS4yOCwwLTIuNDYsMC4xNi0zLjUsMC40N3YxLjU3CgkJCUMxNC45OSwxNi4wMiwxNi4xOCwxNS44MywxNy41LDE1LjgzeiIvPgoJPC9nPgo8L2c+Cjwvc3ZnPgo=\"\n                    label=\"Documentation\"\n                />\n                <Button\n                    href=\"https://github.com/marmelab/react-admin/tree/master/examples\"\n                    img=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBmaWxsPSJub25lIiBkPSJNMCAwaDI0djI0SDBWMHoiLz48cGF0aCBkPSJNOS40IDE2LjZMNC44IDEybDQuNi00LjZMOCA2bC02IDYgNiA2IDEuNC0xLjR6bTUuMiAwbDQuNi00LjYtNC42LTQuNkwxNiA2bDYgNi02IDYtMS40LTEuNHoiLz48L3N2Zz4=\"\n                    label=\"Examples\"\n                />\n                <Button\n                    href=\"https://stackoverflow.com/questions/tagged/react-admin\"\n                    img=\"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIzLjAuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiIHdpZHRoPSIyNHB4IgoJIGhlaWdodD0iMjRweCIgdmlld0JveD0iMCAwIDI0IDI0IiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCAyNCAyNCIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxnIGlkPSJCb3VuZGluZ19Cb3giPgoJPHJlY3QgZmlsbD0ibm9uZSIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0Ii8+CjwvZz4KPGcgaWQ9IkZsYXQiPgoJPGcgaWQ9InVpX3g1Rl9zcGVjX3g1Rl9oZWFkZXJfY29weV8yIj4KCTwvZz4KCTxnPgoJCTxjaXJjbGUgb3BhY2l0eT0iMC4zIiBjeD0iOSIgY3k9IjgiIHI9IjIiLz4KCQk8cGF0aCBvcGFjaXR5PSIwLjMiIGQ9Ik05LDE1Yy0yLjcsMC01LjgsMS4yOS02LDIuMDFMMywxOGgxMnYtMUMxNC44LDE2LjI5LDExLjcsMTUsOSwxNXoiLz4KCQk8cGF0aCBkPSJNMTYuNjcsMTMuMTNDMTguMDQsMTQuMDYsMTksMTUuMzIsMTksMTd2M2g0di0zQzIzLDE0LjgyLDE5LjQzLDEzLjUzLDE2LjY3LDEzLjEzeiIvPgoJCTxwYXRoIGQ9Ik0xNSwxMmMyLjIxLDAsNC0xLjc5LDQtNGMwLTIuMjEtMS43OS00LTQtNGMtMC40NywwLTAuOTEsMC4xLTEuMzMsMC4yNEMxNC41LDUuMjcsMTUsNi41OCwxNSw4cy0wLjUsMi43My0xLjMzLDMuNzYKCQkJQzE0LjA5LDExLjksMTQuNTMsMTIsMTUsMTJ6Ii8+CgkJPHBhdGggZD0iTTksMTJjMi4yMSwwLDQtMS43OSw0LTRjMC0yLjIxLTEuNzktNC00LTRTNSw1Ljc5LDUsOEM1LDEwLjIxLDYuNzksMTIsOSwxMnogTTksNmMxLjEsMCwyLDAuOSwyLDJjMCwxLjEtMC45LDItMiwyCgkJCVM3LDkuMSw3LDhDNyw2LjksNy45LDYsOSw2eiIvPgoJCTxwYXRoIGQ9Ik05LDEzYy0yLjY3LDAtOCwxLjM0LTgsNHYzaDE2di0zQzE3LDE0LjM0LDExLjY3LDEzLDksMTN6IE0xNSwxOEgzbDAtMC45OUMzLjIsMTYuMjksNi4zLDE1LDksMTVzNS44LDEuMjksNiwyVjE4eiIvPgoJPC9nPgo8L2c+Cjwvc3ZnPgo=\"\n                    label=\"Community\"\n                />\n            </div>\n        </div>\n    );\n","export default (condition: any, message: string) => {\n    if (condition && process.env.NODE_ENV !== 'production') {\n        console.warn(message); // eslint-disable-line\n    }\n};\n","import { useRef, useEffect } from 'react';\n\n/**\n * Debug hook showing which props updated between two renders\n * @example\n *\n * const MyComponent = React.memo(props => {\n *   useWhyDidYouUpdate('MyComponent', props);\n *   return <div...;\n * });\n *\n * @link https://usehooks.com/useWhyDidYouUpdate/\n */\nexport default function useWhyDidYouUpdate(name, props) {\n    // Get a mutable ref object where we can store props ...\n    // ... for comparison next time this hook runs.\n    const previousProps = useRef() as any;\n\n    useEffect(() => {\n        if (previousProps.current) {\n            // Get all keys from previous and current props\n            const allKeys = Object.keys({ ...previousProps.current, ...props });\n            // Use this object to keep track of changed props\n            const changesObj = {};\n            // Iterate through keys\n            allKeys.forEach(key => {\n                // If previous is different from current\n                if (previousProps.current[key] !== props[key]) {\n                    // Add to changesObj\n                    changesObj[key] = {\n                        from: previousProps.current[key],\n                        to: props[key],\n                    };\n                }\n            });\n\n            // If changesObj not empty then output to console\n            if (Object.keys(changesObj).length) {\n                console.log('[why-did-you-update]', name, changesObj);\n            }\n        }\n\n        // Finally update previousProps with current props for next hook call\n        previousProps.current = props;\n    });\n}\n","export const getMutationMode = (mutationMode, undoable) => {\n    if (mutationMode) {\n        return mutationMode;\n    }\n    switch (undoable) {\n        case true:\n            return 'undoable';\n        case false:\n            return 'pessimistic';\n        default:\n            return 'undoable';\n    }\n};\n","import { LegacyRef, MutableRefObject, RefCallback } from 'react';\n\n// https://github.com/gregberge/react-merge-refs\nexport function mergeRefs<T = any>(\n    refs: Array<MutableRefObject<T> | LegacyRef<T>>\n): RefCallback<T> {\n    return value => {\n        refs.forEach(ref => {\n            if (typeof ref === 'function') {\n                ref(value);\n            } else if (ref != null) {\n                (ref as MutableRefObject<T | null>).current = value;\n            }\n        });\n    };\n}\n","import * as React from 'react';\nimport { useCallback } from 'react';\n\n// allow the hook to work in SSR\nconst useLayoutEffect =\n    typeof window !== 'undefined' ? React.useLayoutEffect : React.useEffect;\n\n/**\n * Alternative to useCallback that doesn't update the callback when dependencies change\n *\n * @see https://reactjs.org/docs/hooks-faq.html#how-to-read-an-often-changing-value-from-usecallback\n * @see https://github.com/facebook/react/issues/14099#issuecomment-440013892\n */\nexport const useEventCallback = <Args extends unknown[], Return>(\n    fn: (...args: Args) => Return,\n    dependencies: any[]\n): ((...args: Args) => Return) => {\n    const ref = React.useRef<(...args: Args) => Return>(() => {\n        throw new Error('Cannot call an event handler while rendering.');\n    });\n\n    useLayoutEffect(() => {\n        ref.current = fn;\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [fn, ...dependencies]);\n\n    return useCallback((...args: Args) => ref.current(...args), []);\n};\n","import * as React from 'react';\nimport { useState, useRef, useEffect, useCallback } from 'react';\nimport isEqual from 'lodash/isEqual';\n\n// thanks Kent C Dodds for the following helpers\n\nexport function useSafeSetState<T>(\n    initialState?: T | (() => T)\n): [T, React.Dispatch<React.SetStateAction<T>>] {\n    const [state, setState] = useState(initialState);\n\n    const mountedRef = useRef(false);\n    useEffect(() => {\n        mountedRef.current = true;\n        return () => {\n            mountedRef.current = false;\n        };\n    }, []);\n    const safeSetState = useCallback(\n        args => {\n            if (mountedRef.current) {\n                return setState(args);\n            }\n        },\n        [mountedRef, setState]\n    );\n\n    return [state, safeSetState];\n}\n\nexport function usePrevious(value) {\n    const ref = useRef();\n    useEffect(() => {\n        ref.current = value;\n    });\n    return ref.current;\n}\n\nexport function useDeepCompareEffect(callback, inputs) {\n    const cleanupRef = useRef();\n    useEffect(() => {\n        if (!isEqual(previousInputs, inputs)) {\n            cleanupRef.current = callback();\n        }\n        return cleanupRef.current;\n    });\n    const previousInputs = usePrevious(inputs);\n}\n\n/**\n * A hook that returns true once a delay has expired.\n * @param ms The delay in milliseconds\n * @param key A key that can be used to reset the timer\n * @returns true if the delay has expired, false otherwise\n */\nexport function useTimeout(ms = 0, key = '') {\n    const [ready, setReady] = useSafeSetState(false);\n\n    useEffect(() => {\n        setReady(false);\n        let timer = setTimeout(() => {\n            setReady(true);\n        }, ms);\n\n        return () => {\n            clearTimeout(timer);\n        };\n    }, [key, ms, setReady]);\n\n    return ready;\n}\n\nexport function useIsMounted() {\n    const isMounted = useRef(true);\n    useEffect(() => {\n        isMounted.current = true;\n        return () => {\n            isMounted.current = false;\n        };\n    }, []);\n    return isMounted;\n}\n","import { useCallback } from 'react';\n\nimport { useStoreContext } from './useStoreContext';\n\n/**\n * Get a callback to remove an item from the store\n *\n * @example\n * import { useRemoveFromStore } from 'react-admin';\n *\n * const ResetDatagridPrefs = () {\n *    const removeItem = useRemoveFromStore();\n *\n *    const hancleClick = () => {\n *        removeItem('datagrid.prefs');\n *    };\n *\n *    return <Button onClick={hancleClick}>Reset datagrid preferences</Button>;\n * }\n */\nexport const useRemoveFromStore = (hookTimeKey?: string) => {\n    const { removeItem } = useStoreContext();\n    return useCallback(\n        (key?: string) =>\n            removeItem(typeof key === 'undefined' ? hookTimeKey : key),\n        [removeItem, hookTimeKey]\n    );\n};\n","import { useStoreContext } from './useStoreContext';\n\n/**\n * Get a callback to remove all items from the store\n *\n * @example\n * import { useResetStore } from 'react-admin';\n *\n * const ResetPrefs = () {\n *    const reset = useResetStore();\n *\n *    const handleClick = () => {\n *        reset();\n *    };\n *\n *    return <Button onClick={handleClick}>Reset preferences</Button>;\n * }\n */\nexport const useResetStore = () => {\n    const { reset } = useStoreContext();\n    return reset;\n};\n","import { useEffect } from 'react';\n\nimport useGetPermissions from './useGetPermissions';\nimport { useSafeSetState } from '../util/hooks';\n\ninterface State<Permissions, Error> {\n    isLoading: boolean;\n    permissions?: Permissions;\n    error?: Error;\n}\n\nconst emptyParams = {};\n\n/**\n * Hook for getting user permissions\n *\n * Calls the authProvider.getPermissions() method asynchronously.\n * If the authProvider returns a rejected promise, returns empty permissions.\n *\n * The return value updates according to the request state:\n *\n * - start: { isLoading: true }\n * - success: { permissions: [any], isLoading: false }\n * - error: { error: [error from provider], isLoading: false }\n *\n * Useful to enable features based on user permissions\n *\n * @param {Object} params Any params you want to pass to the authProvider\n *\n * @returns The current auth check state. Destructure as { permissions, error, isLoading }.\n *\n * @example\n *     import { usePermissions } from 'react-admin';\n *\n *     const PostDetail = props => {\n *         const { isLoading, permissions } = usePermissions();\n *         if (!isLoading && permissions == 'editor') {\n *             return <PostEdit {...props} />\n *         } else {\n *             return <PostShow {...props} />\n *         }\n *     };\n */\nconst usePermissions = <Permissions = any, Error = any>(\n    params = emptyParams\n): State<Permissions, Error> => {\n    const [state, setState] = useSafeSetState<State<Permissions, Error>>({\n        isLoading: true,\n    });\n    const getPermissions = useGetPermissions();\n    useEffect(() => {\n        getPermissions(params)\n            .then(permissions => {\n                setState({ isLoading: false, permissions });\n            })\n            .catch(error => {\n                setState({\n                    isLoading: false,\n                    error,\n                });\n            });\n    }, [getPermissions, params, setState]);\n    return state;\n};\n\nexport default usePermissions;\n","import { useCallback } from 'react';\n\nimport useAuthProvider from './useAuthProvider';\n\nconst getPermissionsWithoutProvider = () => Promise.resolve([]);\n\n/**\n * Get a callback for calling the authProvider.getPermissions() method.\n *\n * @see useAuthProvider\n *\n * @returns {Function} getPermissions callback\n *\n * This is a low level hook. See those more specialized hooks\n * offering state handling.\n *\n * @see usePermissions\n *\n * @example\n *\n * import { useGetPermissions } from 'react-admin';\n *\n * const Roles = () => {\n *     const [permissions, setPermissions] = useState([]);\n *     const getPermissions = useGetPermissions();\n *     useEffect(() => {\n *         getPermissions().then(permissions => setPermissions(permissions))\n *     }, [])\n *     return (\n *         <ul>\n *             {permissions.map((permission, key) => (\n *                 <li key={key}>{permission}</li>\n *             ))}\n *         </ul>\n *     );\n * }\n */\nconst useGetPermissions = (): GetPermissions => {\n    const authProvider = useAuthProvider();\n    const getPermissions = useCallback(\n        (params: any = {}) => authProvider.getPermissions(params),\n        [authProvider]\n    );\n\n    return authProvider ? getPermissions : getPermissionsWithoutProvider;\n};\n\n/**\n * Proxy for calling authProvider.getPermissions()\n *\n * @param {Object} params The parameters to pass to the authProvider\n *\n * @return {Promise} The authProvider response\n */\ntype GetPermissions = (params?: any) => Promise<any>;\n\nexport default useGetPermissions;\n","import { useEffect } from 'react';\nimport isEqual from 'lodash/isEqual';\n\nimport useGetPermissions from './useGetPermissions';\nimport { useSafeSetState } from '../util/hooks';\n\ninterface State {\n    permissions?: any;\n    error?: any;\n}\n\nconst emptyParams = {};\n\n// keep a cache of already fetched permissions to initialize state for new\n// components and avoid a useless rerender if the permissions haven't changed\nconst alreadyFetchedPermissions = { '{}': undefined };\n\n/**\n * Hook for getting user permissions without the loading state.\n *\n * When compared to usePermissions, this hook doesn't cause a re-render\n * when the permissions haven't changed since the last call.\n *\n * This hook doesn't handle the loading state.\n *\n * @see usePermissions\n *\n * Calls the authProvider.getPermissions() method asynchronously.\n * If the authProvider returns a rejected promise, returns empty permissions.\n *\n * The return value updates according to the request state:\n *\n * - start:   { permissions: [previously fetched permissions for these params] }\n * - success: { permissions: [permissions returned by the authProvider (usually the same as on start)] }\n * - error:   { error: [error from provider] }\n *\n * Useful to enable features based on user permissions\n *\n * @param {Object} params Any params you want to pass to the authProvider\n *\n * @returns The current auth check state. Destructure as { permissions, error }.\n *\n * @example\n *     import { usePermissionsOptimized } from 'react-admin';\n *\n *     const PostDetail = props => {\n *         const { permissions } = usePermissionsOptimized();\n *         if (permissions !== 'editor') {\n *             return <Redirect to={`posts/${props.id}/show`} />\n *         } else {\n *             return <PostEdit {...props} />\n *         }\n *     };\n */\nconst usePermissionsOptimized = (params = emptyParams) => {\n    const key = JSON.stringify(params);\n    const [state, setState] = useSafeSetState<State>({\n        permissions: alreadyFetchedPermissions[key],\n    });\n    const getPermissions = useGetPermissions();\n    useEffect(() => {\n        getPermissions(params)\n            .then(permissions => {\n                if (!isEqual(permissions, state.permissions)) {\n                    alreadyFetchedPermissions[key] = permissions;\n                    setState({ permissions });\n                }\n            })\n            .catch(error => {\n                setState({\n                    error,\n                });\n            });\n    }, [getPermissions, key]); // eslint-disable-line react-hooks/exhaustive-deps\n\n    return state;\n};\n\nexport default usePermissionsOptimized;\n","import { Children, ReactElement, ComponentType, createElement } from 'react';\nimport { Location } from 'react-router-dom';\n\nimport warning from '../util/warning';\nimport { useAuthenticated } from './useAuthenticated';\nimport usePermissionsOptimized from './usePermissionsOptimized';\n\nexport interface WithPermissionsChildrenParams {\n    permissions: any;\n}\n\ntype WithPermissionsChildren = (\n    params: WithPermissionsChildrenParams\n) => ReactElement;\n\nexport interface WithPermissionsProps {\n    authParams?: object;\n    children?: WithPermissionsChildren;\n    component?: ComponentType<any>;\n    location?: Location;\n    render?: WithPermissionsChildren;\n    staticContext?: object;\n    [key: string]: any;\n}\n\nconst isEmptyChildren = children => Children.count(children) === 0;\n\n/**\n * After checking that the user is authenticated,\n * retrieves the user's permissions for a specific context.\n *\n * Useful for Route components ; used internally by Resource.\n * Use it to decorate your custom page components to require\n * a custom role. It will pass the permissions as a prop to your\n * component.\n *\n * You can set additional `authParams` at will if your authProvider\n * requires it.\n *\n * @example\n *     import { WithPermissions } from 'react-admin';\n *\n *     const Foo = ({ permissions }) => (\n *         {permissions === 'admin' ? <p>Sensitive data</p> : null}\n *         <p>Not sensitive data</p>\n *     );\n *\n *     const customRoutes = [\n *         <Route path=\"/foo\" render={() =>\n *             <WithPermissions\n *                  authParams={{ foo: 'bar' }}\n *                  render={({ permissions, ...props }) => <Foo permissions={permissions} {...props} />}\n *              />\n *         } />\n *     ];\n *     const App = () => (\n *         <Admin customRoutes={customRoutes}>\n *             ...\n *         </Admin>\n *     );\n */\nconst WithPermissions = (props: WithPermissionsProps) => {\n    const {\n        authParams,\n        children,\n        render,\n        component,\n        staticContext,\n        ...rest\n    } = props;\n    warning(\n        (render && children && !isEmptyChildren(children)) ||\n            (render && component) ||\n            (component && children && !isEmptyChildren(children)),\n        'You should only use one of the `component`, `render` and `children` props in <WithPermissions>'\n    );\n\n    useAuthenticated(authParams);\n    const { permissions } = usePermissionsOptimized(authParams);\n    // render even though the usePermissions() call isn't finished (optimistic rendering)\n    if (component) {\n        return createElement(component, { permissions, ...rest });\n    }\n    // @deprecated\n    if (render) {\n        return render({ permissions, ...rest });\n    }\n    // @deprecated\n    if (children) {\n        return children({ permissions, ...rest });\n    }\n};\n\nexport default WithPermissions as ComponentType<WithPermissionsProps>;\n","import { useEffect } from 'react';\nimport { useCheckAuth } from './useCheckAuth';\n\n/**\n * Restrict access to authenticated users.\n * Redirect anonymous users to the login page.\n *\n * Use it in your custom page components to require\n * authentication.\n *\n * You can set additional `authParams` at will if your authProvider\n * requires it.\n *\n * @example\n *     import { useAuthenticated } from 'react-admin';\n *     const FooPage = () => {\n *         useAuthenticated();\n *         return <Foo />;\n *     }\n *     const CustomRoutes = [\n *         <Route path=\"/foo\" render={() => <FooPage />} />\n *     ];\n *     const App = () => (\n *         <Admin customRoutes={customRoutes}>\n *             ...\n *         </Admin>\n *     );\n */\nexport const useAuthenticated = <ParamsType = any>(\n    options: UseAuthenticatedOptions<ParamsType> = {}\n) => {\n    const { enabled = true, params = emptyParams } = options;\n    const checkAuth = useCheckAuth();\n    useEffect(() => {\n        if (enabled) {\n            checkAuth(params).catch(() => {});\n        }\n    }, [checkAuth, enabled, params]);\n};\n\nexport type UseAuthenticatedOptions<ParamsType> = {\n    enabled?: boolean;\n    params?: ParamsType;\n};\n\nconst emptyParams = {};\n","import { useCallback } from 'react';\nimport { useLocation, useNavigate } from 'react-router-dom';\n\nimport { useNotificationContext } from '../notification';\nimport { useBasename } from '../routing';\nimport useAuthProvider, { defaultAuthParams } from './useAuthProvider';\nimport { removeDoubleSlashes } from '../routing/useCreatePath';\n\n/**\n * Get a callback for calling the authProvider.login() method\n * and redirect to the previous authenticated page (or the home page) on success.\n *\n * @see useAuthProvider\n *\n * @returns {Function} login callback\n *\n * @example\n *\n * import { useLogin } from 'react-admin';\n *\n * const LoginButton = () => {\n *     const [loading, setLoading] = useState(false);\n *     const login = useLogin();\n *     const handleClick = {\n *         setLoading(true);\n *         login({ username: 'john', password: 'p@ssw0rd' }, '/posts')\n *             .then(() => setLoading(false));\n *     }\n *     return <button onClick={handleClick}>Login</button>;\n * }\n */\nconst useLogin = (): Login => {\n    const authProvider = useAuthProvider();\n    const location = useLocation();\n    const locationState = location.state as any;\n    const navigate = useNavigate();\n    const basename = useBasename();\n    const { resetNotifications } = useNotificationContext();\n    const nextPathName = locationState && locationState.nextPathname;\n    const nextSearch = locationState && locationState.nextSearch;\n    const afterLoginUrl = removeDoubleSlashes(\n        `${basename}/${defaultAuthParams.afterLoginUrl}`\n    );\n\n    const login = useCallback(\n        (params: any = {}, pathName) =>\n            authProvider.login(params).then(ret => {\n                resetNotifications();\n                const redirectUrl = pathName\n                    ? pathName\n                    : nextPathName + nextSearch || afterLoginUrl;\n                navigate(redirectUrl);\n                return ret;\n            }),\n        [\n            authProvider,\n            navigate,\n            nextPathName,\n            nextSearch,\n            resetNotifications,\n            afterLoginUrl,\n        ]\n    );\n\n    const loginWithoutProvider = useCallback(\n        (_, __) => {\n            resetNotifications();\n            navigate(afterLoginUrl);\n            return Promise.resolve();\n        },\n        [navigate, resetNotifications, afterLoginUrl]\n    );\n\n    return authProvider ? login : loginWithoutProvider;\n};\n\n/**\n * Log a user in by calling the authProvider.login() method\n *\n * @param {Object} params Login parameters to pass to the authProvider. May contain username/email, password, etc\n * @param {string} pathName The path to redirect to after login. By default, redirects to the home page, or to the last page visited after disconnection.\n *\n * @return {Promise} The authProvider response\n */\ntype Login = (params: any, pathName?: string) => Promise<any>;\n\nexport default useLogin;\n","import { useEffect } from 'react';\nimport useAuthProvider from './useAuthProvider';\nimport { UserIdentity } from '../types';\nimport { useSafeSetState } from '../util/hooks';\n\nconst defaultIdentity = {\n    id: '',\n    fullName: null,\n};\n\n/**\n * Return the current user identity by calling authProvider.getIdentity() on mount\n *\n * The return value updates according to the call state:\n *\n * - mount: { isLoading: true }\n * - success: { identity: Identity, isLoading: false }\n * - error: { error: Error, isLoading: false }\n *\n * The implementation is left to the authProvider.\n *\n * @returns The current user identity. Destructure as { identity, error, isLoading }.\n *\n * @example\n *\n * import { useGetIdentity, useGetOne } from 'react-admin';\n *\n * const PostDetail = ({ id }) => {\n *     const { data: post, isLoading: postLoading } = useGetOne('posts', { id });\n *     const { identity, isLoading: identityLoading } = useGetIdentity();\n *     if (postLoading || identityLoading) return <>Loading...</>;\n *     if (!post.lockedBy || post.lockedBy === identity.id) {\n *         // post isn't locked, or is locked by me\n *         return <PostEdit post={post} />\n *     } else {\n *         // post is locked by someone else and cannot be edited\n *         return <PostShow post={post} />\n *     }\n * }\n */\nconst useGetIdentity = () => {\n    const [state, setState] = useSafeSetState<State>({\n        isLoading: true,\n    });\n    const authProvider = useAuthProvider();\n    useEffect(() => {\n        if (authProvider && typeof authProvider.getIdentity === 'function') {\n            const callAuthProvider = async () => {\n                try {\n                    const identity = await authProvider.getIdentity();\n                    setState({\n                        isLoading: false,\n                        identity: identity || defaultIdentity,\n                    });\n                } catch (error) {\n                    setState({\n                        isLoading: false,\n                        error,\n                    });\n                }\n            };\n            callAuthProvider();\n        } else {\n            setState({\n                isLoading: false,\n                identity: defaultIdentity,\n            });\n        }\n    }, [authProvider, setState]);\n    return state;\n};\n\ninterface State {\n    isLoading: boolean;\n    identity?: UserIdentity;\n    error?: any;\n}\n\nexport default useGetIdentity;\n","import { useCallback } from 'react';\n\nimport useAuthProvider from './useAuthProvider';\nimport useLogout from './useLogout';\nimport { useNotify } from '../notification';\nimport { useNavigate } from 'react-router';\n\nlet timer;\n\n/**\n * Returns a callback used to call the authProvider.checkError() method\n * and an error from the dataProvider. If the authProvider rejects the call,\n * the hook logs the user out and shows a logged out notification.\n *\n * Used in the useDataProvider hook to check for access denied responses\n * (e.g. 401 or 403 responses) and trigger a logout.\n *\n * @see useLogout\n * @see useDataProvider\n *\n * @returns {Function} logoutIfAccessDenied callback\n *\n * @example\n *\n * import { useLogoutIfAccessDenied, useNotify, DataProviderContext } from 'react-admin';\n *\n * const FetchRestrictedResource = () => {\n *     const dataProvider = useContext(DataProviderContext);\n *     const logoutIfAccessDenied = useLogoutIfAccessDenied();\n *     const notify = useNotify()\n *     useEffect(() => {\n *         dataProvider.getOne('secret', { id: 123 })\n *             .catch(error => {\n *                  logoutIfAccessDenied(error);\n *                  notify('server error', 'warning');\n *              })\n *     }, []);\n *     // ...\n * }\n */\nconst useLogoutIfAccessDenied = (): LogoutIfAccessDenied => {\n    const authProvider = useAuthProvider();\n    const logout = useLogout();\n    const notify = useNotify();\n    const navigate = useNavigate();\n    const logoutIfAccessDenied = useCallback(\n        (error?: any, disableNotification?: boolean) =>\n            authProvider\n                .checkError(error)\n                .then(() => false)\n                .catch(async e => {\n                    const logoutUser = e?.logoutUser ?? true;\n\n                    //manual debounce\n                    if (timer) {\n                        // side effects already triggered in this tick, exit\n                        return true;\n                    }\n                    timer = setTimeout(() => {\n                        timer = undefined;\n                    }, 0);\n\n                    const shouldNotify = !(\n                        disableNotification ||\n                        (e && e.message === false) ||\n                        (error && error.message === false)\n                    );\n                    if (shouldNotify) {\n                        // notify only if not yet logged out\n                        authProvider\n                            .checkAuth({})\n                            .then(() => {\n                                if (logoutUser) {\n                                    notify(\n                                        getErrorMessage(\n                                            e,\n                                            'ra.notification.logged_out'\n                                        ),\n                                        { type: 'warning' }\n                                    );\n                                } else {\n                                    notify(\n                                        getErrorMessage(\n                                            e,\n                                            'ra.notification.not_authorized'\n                                        ),\n                                        { type: 'warning' }\n                                    );\n                                }\n                            })\n                            .catch(() => {});\n                    }\n                    const redirectTo =\n                        e && e.redirectTo\n                            ? e.redirectTo\n                            : error && error.redirectTo\n                            ? error.redirectTo\n                            : undefined;\n\n                    if (logoutUser) {\n                        logout({}, redirectTo);\n                    } else {\n                        navigate(redirectTo);\n                    }\n\n                    return true;\n                }),\n        [authProvider, logout, notify, navigate]\n    );\n    return authProvider\n        ? logoutIfAccessDenied\n        : logoutIfAccessDeniedWithoutProvider;\n};\n\nconst logoutIfAccessDeniedWithoutProvider = () => Promise.resolve(false);\n\n/**\n * Call the authProvider.authError() method, using the error passed as argument.\n * If the authProvider rejects the call, logs the user out and shows a logged out notification.\n *\n * @param {Error} error An Error object (usually returned by the dataProvider)\n * @param {boolean} disableNotification Avoid showing a notification after the user is logged out. false by default.\n *\n * @return {Promise} Resolved to true if there was a logout, false otherwise\n */\ntype LogoutIfAccessDenied = (\n    error?: any,\n    /** @deprecated to disable the notification, authProvider.checkAuth() should return an object with an error property set to true */\n    disableNotification?: boolean\n) => Promise<boolean>;\n\nconst getErrorMessage = (error, defaultMessage) =>\n    typeof error === 'string'\n        ? error\n        : typeof error === 'undefined' || !error.message\n        ? defaultMessage\n        : error.message;\n\nexport default useLogoutIfAccessDenied;\n","export type UserCheck = (\n    payload: object,\n    pathName: string,\n    routeParams?: object\n) => void;\n\nexport const AUTH_LOGIN = 'AUTH_LOGIN';\nexport const AUTH_CHECK = 'AUTH_CHECK';\nexport const AUTH_ERROR = 'AUTH_ERROR';\nexport const AUTH_LOGOUT = 'AUTH_LOGOUT';\nexport const AUTH_GET_PERMISSIONS = 'AUTH_GET_PERMISSIONS';\n\nexport type AuthActionType =\n    | typeof AUTH_LOGIN\n    | typeof AUTH_LOGOUT\n    | typeof AUTH_ERROR\n    | typeof AUTH_CHECK\n    | typeof AUTH_GET_PERMISSIONS;\n","import {\n    AUTH_LOGIN,\n    AUTH_LOGOUT,\n    AUTH_CHECK,\n    AUTH_ERROR,\n    AUTH_GET_PERMISSIONS,\n} from './types';\nimport { AuthProvider, LegacyAuthProvider } from '../types';\n\n/**\n * Turn a function-based authProvider to an object-based one\n *\n * Allows using legacy authProviders transparently.\n *\n * @param {Function} legacyAuthProvider A legacy authProvider (type, params) => Promise<any>\n *\n * @returns {Object} An authProvider that react-admin can use\n */\nexport default (legacyAuthProvider: LegacyAuthProvider): AuthProvider => {\n    const authProvider = (...args) => legacyAuthProvider.apply(null, args);\n    authProvider.login = params => legacyAuthProvider(AUTH_LOGIN, params);\n    authProvider.logout = params => legacyAuthProvider(AUTH_LOGOUT, params);\n    authProvider.checkAuth = params => legacyAuthProvider(AUTH_CHECK, params);\n    authProvider.checkError = error => legacyAuthProvider(AUTH_ERROR, error);\n    authProvider.getPermissions = params =>\n        legacyAuthProvider(AUTH_GET_PERMISSIONS, params);\n    return authProvider;\n};\n","import * as React from 'react';\nimport { ReactNode } from 'react';\n\nimport { useAuthenticated } from './useAuthenticated';\n\n/**\n * Restrict access to children to authenticated users.\n * Redirects anonymous users to the login page.\n *\n * Use it to decorate your custom page components to require\n * authentication.\n *\n * You can set additional `authParams` at will if your authProvider\n * requires it.\n *\n * @see useAuthenticated\n *\n * @example\n *     import { Authenticated } from 'react-admin';\n *\n *     const CustomRoutes = [\n *         <Route path=\"/foo\" render={() =>\n *             <Authenticated authParams={{ foo: 'bar' }}>\n *                 <Foo />\n *             </Authenticated>\n *         } />\n *     ];\n *     const App = () => (\n *         <Admin customRoutes={customRoutes}>\n *             ...\n *         </Admin>\n *     );\n */\nexport const Authenticated = (props: AuthenticatedProps) => {\n    const { authParams, children } = props;\n    useAuthenticated({ params: authParams });\n    // render the child even though the useAuthenticated() call isn't finished (optimistic rendering)\n    // the above hook will log out if the authProvider doesn't validate that the user is authenticated\n    return <>{children}</>;\n};\n\nexport interface AuthenticatedProps {\n    children: ReactNode;\n    authParams?: object;\n}\n","export const GET_LIST = 'GET_LIST';\nexport const GET_ONE = 'GET_ONE';\nexport const GET_MANY = 'GET_MANY';\nexport const GET_MANY_REFERENCE = 'GET_MANY_REFERENCE';\nexport const CREATE = 'CREATE';\nexport const UPDATE = 'UPDATE';\nexport const UPDATE_MANY = 'UPDATE_MANY';\nexport const DELETE = 'DELETE';\nexport const DELETE_MANY = 'DELETE_MANY';\n\nexport const fetchActionsWithRecordResponse = ['getOne', 'create', 'update'];\nexport const fetchActionsWithArrayOfIdentifiedRecordsResponse = [\n    'getList',\n    'getMany',\n    'getManyReference',\n];\nexport const fetchActionsWithArrayOfRecordsResponse = [\n    ...fetchActionsWithArrayOfIdentifiedRecordsResponse,\n    'updateMany',\n    'deleteMany',\n];\nexport const fetchActionsWithTotalResponse = ['getList', 'getManyReference'];\n\nexport const sanitizeFetchType = (fetchType: string) => {\n    switch (fetchType) {\n        case GET_LIST:\n            return 'getList';\n        case GET_ONE:\n            return 'getOne';\n        case GET_MANY:\n            return 'getMany';\n        case GET_MANY_REFERENCE:\n            return 'getManyReference';\n        case CREATE:\n            return 'create';\n        case UPDATE:\n            return 'update';\n        case UPDATE_MANY:\n            return 'updateMany';\n        case DELETE:\n            return 'delete';\n        case DELETE_MANY:\n            return 'deleteMany';\n        default:\n            return fetchType;\n    }\n};\n","import {\n    CREATE,\n    DELETE,\n    DELETE_MANY,\n    GET_LIST,\n    GET_MANY,\n    GET_MANY_REFERENCE,\n    GET_ONE,\n    UPDATE,\n    UPDATE_MANY,\n} from './dataFetchActions';\nimport { LegacyDataProvider, DataProvider } from '../types';\n\nconst defaultDataProvider = () => Promise.resolve();\ndefaultDataProvider.create = () => Promise.resolve(null);\ndefaultDataProvider.delete = () => Promise.resolve(null);\ndefaultDataProvider.deleteMany = () => Promise.resolve(null);\ndefaultDataProvider.getList = () => Promise.resolve(null);\ndefaultDataProvider.getMany = () => Promise.resolve(null);\ndefaultDataProvider.getManyReference = () => Promise.resolve(null);\ndefaultDataProvider.getOne = () => Promise.resolve(null);\ndefaultDataProvider.update = () => Promise.resolve(null);\ndefaultDataProvider.updateMany = () => Promise.resolve(null);\n\nconst fetchMap = {\n    create: CREATE,\n    delete: DELETE,\n    deleteMany: DELETE_MANY,\n    getList: GET_LIST,\n    getMany: GET_MANY,\n    getManyReference: GET_MANY_REFERENCE,\n    getOne: GET_ONE,\n    update: UPDATE,\n    updateMany: UPDATE_MANY,\n};\n\ninterface ConvertedDataProvider extends DataProvider {\n    (type: string, resource: string, params: any): Promise<any>;\n}\n/**\n * Turn a function-based dataProvider to an object-based one\n *\n * Allows using legacy dataProviders transparently.\n *\n * @param {Function} legacyDataProvider A legacy dataProvider (type, resource, params) => Promise<any>\n *\n * @returns {Object} A dataProvider that react-admin can use\n */\nconst convertLegacyDataProvider = (\n    legacyDataProvider: LegacyDataProvider\n): ConvertedDataProvider => {\n    const proxy = new Proxy(defaultDataProvider, {\n        get(_, name) {\n            return (resource, params) => {\n                if (Object.keys(fetchMap).includes(name.toString())) {\n                    const fetchType = fetchMap[name.toString()];\n                    return legacyDataProvider(fetchType, resource, params);\n                }\n\n                return legacyDataProvider(name.toString(), resource, params);\n            };\n        },\n        apply(_, __, args) {\n            return legacyDataProvider.apply(legacyDataProvider, args);\n        },\n    });\n\n    return proxy;\n};\n\nexport default convertLegacyDataProvider;\n","import { createContext } from 'react';\n\nimport { DataProvider } from '../types';\n\nconst DataProviderContext = createContext<DataProvider>(null);\n\nDataProviderContext.displayName = 'DataProviderContext';\n\nexport default DataProviderContext;\n","class HttpError extends Error {\n    constructor(\n        public readonly message,\n        public readonly status,\n        public readonly body = null\n    ) {\n        super(message);\n        Object.setPrototypeOf(this, HttpError.prototype);\n        this.name = this.constructor.name;\n        if (typeof Error.captureStackTrace === 'function') {\n            Error.captureStackTrace(this, this.constructor);\n        } else {\n            this.stack = new Error(message).stack;\n        }\n        this.stack = new Error().stack;\n    }\n}\n\nexport default HttpError;\n","import HttpError from './HttpError';\nimport { stringify } from 'query-string';\n\nexport interface Options extends RequestInit {\n    user?: {\n        authenticated?: boolean;\n        token?: string;\n    };\n}\n\nexport const createHeadersFromOptions = (options: Options): Headers => {\n    const requestHeaders = (options.headers ||\n        new Headers({\n            Accept: 'application/json',\n        })) as Headers;\n    if (\n        !requestHeaders.has('Content-Type') &&\n        !(options && (!options.method || options.method === 'GET')) &&\n        !(options && options.body && options.body instanceof FormData)\n    ) {\n        requestHeaders.set('Content-Type', 'application/json');\n    }\n    if (options.user && options.user.authenticated && options.user.token) {\n        requestHeaders.set('Authorization', options.user.token);\n    }\n\n    return requestHeaders;\n};\n\nexport const fetchJson = (url, options: Options = {}) => {\n    const requestHeaders = createHeadersFromOptions(options);\n\n    return fetch(url, { ...options, headers: requestHeaders })\n        .then(response =>\n            response.text().then(text => ({\n                status: response.status,\n                statusText: response.statusText,\n                headers: response.headers,\n                body: text,\n            }))\n        )\n        .then(({ status, statusText, headers, body }) => {\n            let json;\n            try {\n                json = JSON.parse(body);\n            } catch (e) {\n                // not json, no big deal\n            }\n            if (status < 200 || status >= 300) {\n                return Promise.reject(\n                    new HttpError(\n                        (json && json.message) || statusText,\n                        status,\n                        json\n                    )\n                );\n            }\n            return Promise.resolve({ status, headers, body, json });\n        });\n};\n\nexport const queryParameters = stringify;\n\nconst isValidObject = value => {\n    if (!value) {\n        return false;\n    }\n\n    const isArray = Array.isArray(value);\n    const isBuffer = typeof Buffer !== 'undefined' && Buffer.isBuffer(value);\n    const isObject =\n        Object.prototype.toString.call(value) === '[object Object]';\n    const hasKeys = !!Object.keys(value).length;\n\n    return !isArray && !isBuffer && isObject && hasKeys;\n};\n\nexport const flattenObject = (value, path = []) => {\n    if (isValidObject(value)) {\n        return Object.assign(\n            {},\n            ...Object.keys(value).map(key =>\n                flattenObject(value[key], path.concat([key]))\n            )\n        );\n    } else {\n        return path.length ? { [path.join('.')]: value } : value;\n    }\n};\n","import EventEmitter from 'eventemitter3';\n\nexport default new EventEmitter();\n","export const defaultDataProvider = {\n    create: () => Promise.resolve({ data: null }), // avoids adding a context in tests\n    delete: () => Promise.resolve({ data: null }), // avoids adding a context in tests\n    deleteMany: () => Promise.resolve({ data: [] }), // avoids adding a context in tests\n    getList: () => Promise.resolve({ data: [], total: 0 }), // avoids adding a context in tests\n    getMany: () => Promise.resolve({ data: [] }), // avoids adding a context in tests\n    getManyReference: () => Promise.resolve({ data: [], total: 0 }), // avoids adding a context in tests\n    getOne: () => Promise.resolve({ data: null }), // avoids adding a context in tests\n    update: () => Promise.resolve({ data: null }), // avoids adding a context in tests\n    updateMany: () => Promise.resolve({ data: [] }), // avoids adding a context in tests\n};\n","import { DataProvider } from '../types';\nimport { defaultDataProvider } from './defaultDataProvider';\n\nexport type DataProviderMatcher = (resource: string) => DataProvider;\n\n/**\n * Combine multiple data providers into one.\n *\n * @param dataProviderMatcher A function that returns a data provider for a given resource.\n *\n * @example\n * const dataProvider = combineDataProviders(resource => {\n *    switch(resource) {\n *       case 'posts':\n *       case 'comments':\n *          return dataProvider1;\n *       case 'users':\n *          return dataProvider2;\n *       default:\n *         throw new Error('Unknown resource');\n *    }\n * });\n */\nexport const combineDataProviders = (\n    dataProviderMatcher: DataProviderMatcher\n): DataProvider =>\n    new Proxy(defaultDataProvider, {\n        get: (target, name) => {\n            return (resource, params) => {\n                if (typeof name === 'symbol' || name === 'then') {\n                    return;\n                }\n                return dataProviderMatcher(resource)[name](resource, params);\n            };\n        },\n    });\n","import { DataProvider } from '../types';\n\n/**\n * A dataProvider meant to be used in tests only. You can override any of its methods by passing a partial dataProvider.\n */\nexport const testDataProvider = (\n    overrides?: Partial<DataProvider>\n): DataProvider => {\n    return {\n        getList: () => Promise.resolve({ data: [], total: 0 }),\n        getOne: () => Promise.resolve({ data: undefined }),\n        getMany: () => Promise.resolve({ data: [] }),\n        getManyReference: () => Promise.resolve({ data: [], total: 0 }),\n        create: () => Promise.resolve({ data: undefined }),\n        update: () => Promise.resolve({ data: undefined }),\n        updateMany: () => Promise.resolve({ data: [] }),\n        delete: () => Promise.resolve({ data: undefined }),\n        deleteMany: () => Promise.resolve({ data: [] }),\n        ...overrides,\n    };\n};\n","import { useContext, useMemo } from 'react';\n\nimport DataProviderContext from './DataProviderContext';\nimport { defaultDataProvider } from './defaultDataProvider';\nimport validateResponseFormat from './validateResponseFormat';\nimport { DataProvider } from '../types';\nimport useLogoutIfAccessDenied from '../auth/useLogoutIfAccessDenied';\n\n/**\n * Hook for getting a dataProvider\n *\n * Gets a dataProvider object, which behaves just like the real dataProvider\n * (same methods returning a Promise). But it's actually a Proxy object,\n * which validates the response format, and logs the user out upon error\n * if authProvider.checkError() rejects.\n *\n * @return dataProvider\n *\n * @example Basic usage\n *\n * import * as React from 'react';\n * import { useState } from 'react';\n * import { useDataProvider } from 'react-admin';\n *\n * const PostList = () => {\n *      const [posts, setPosts] = useState([])\n *      const dataProvider = useDataProvider();\n *      useEffect(() => {\n *          dataProvider.getList('posts', { filter: { status: 'pending' }})\n *            .then(({ data }) => setPosts(data));\n *      }, [])\n *\n *      return (\n *          <Fragment>\n *              {posts.map((post, key) => <PostDetail post={post} key={key} />)}\n *          </Fragment>\n *     );\n * }\n *\n * @example Handling all states (loading, error, success)\n *\n * import { useState, useEffect } from 'react';\n * import { useDataProvider } from 'react-admin';\n *\n * const UserProfile = ({ userId }) => {\n *     const dataProvider = useDataProvider();\n *     const [user, setUser] = useState();\n *     const [loading, setLoading] = useState(true);\n *     const [error, setError] = useState();\n *     useEffect(() => {\n *         dataProvider.getOne('users', { id: userId })\n *             .then(({ data }) => {\n *                 setUser(data);\n *                 setLoading(false);\n *             })\n *             .catch(error => {\n *                 setError(error);\n *                 setLoading(false);\n *             })\n *     }, []);\n *\n *     if (loading) return <Loading />;\n *     if (error) return <Error />\n *     if (!user) return null;\n *\n *     return (\n *         <ul>\n *             <li>Name: {user.name}</li>\n *             <li>Email: {user.email}</li>\n *         </ul>\n *     )\n * }\n */\nexport const useDataProvider = <\n    TDataProvider extends DataProvider = DataProvider\n>(): TDataProvider => {\n    const dataProvider = ((useContext(DataProviderContext) ||\n        defaultDataProvider) as unknown) as TDataProvider;\n\n    const logoutIfAccessDenied = useLogoutIfAccessDenied();\n\n    const dataProviderProxy = useMemo(() => {\n        return new Proxy(dataProvider, {\n            get: (target, name) => {\n                if (typeof name === 'symbol' || name === 'then') {\n                    return;\n                }\n                return (...args) => {\n                    const type = name.toString();\n\n                    if (typeof dataProvider[type] !== 'function') {\n                        throw new Error(\n                            `Unknown dataProvider function: ${type}`\n                        );\n                    }\n\n                    try {\n                        return dataProvider[type]\n                            .apply(dataProvider, args)\n                            .then(response => {\n                                if (process.env.NODE_ENV !== 'production') {\n                                    validateResponseFormat(response, type);\n                                }\n                                return response;\n                            })\n                            .catch(error => {\n                                if (process.env.NODE_ENV !== 'production') {\n                                    console.error(error);\n                                }\n                                return logoutIfAccessDenied(error).then(\n                                    loggedOut => {\n                                        if (loggedOut) return;\n                                        throw error;\n                                    }\n                                );\n                            });\n                    } catch (e) {\n                        if (process.env.NODE_ENV !== 'production') {\n                            console.error(e);\n                        }\n                        throw new Error(\n                            'The dataProvider threw an error. It should return a rejected Promise instead.'\n                        );\n                    }\n                };\n            },\n        });\n    }, [dataProvider, logoutIfAccessDenied]);\n\n    return dataProviderProxy;\n};\n","import {\n    fetchActionsWithRecordResponse,\n    fetchActionsWithArrayOfIdentifiedRecordsResponse,\n    fetchActionsWithArrayOfRecordsResponse,\n    fetchActionsWithTotalResponse,\n} from './dataFetchActions';\n\nfunction validateResponseFormat(\n    response,\n    type,\n    logger = console.error // eslint-disable-line no-console\n) {\n    if (!response) {\n        logger(`The dataProvider returned an empty response for '${type}'.`);\n        throw new Error('ra.notification.data_provider_error');\n    }\n    if (!response.hasOwnProperty('data')) {\n        logger(\n            `The response to '${type}' must be like { data: ... }, but the received response does not have a 'data' key. The dataProvider is probably wrong for '${type}'.`\n        );\n        throw new Error('ra.notification.data_provider_error');\n    }\n    if (\n        fetchActionsWithArrayOfRecordsResponse.includes(type) &&\n        !Array.isArray(response.data)\n    ) {\n        logger(\n            `The response to '${type}' must be like { data : [...] }, but the received data is not an array. The dataProvider is probably wrong for '${type}'`\n        );\n        throw new Error('ra.notification.data_provider_error');\n    }\n    if (\n        fetchActionsWithArrayOfIdentifiedRecordsResponse.includes(type) &&\n        Array.isArray(response.data) &&\n        response.data.length > 0 &&\n        !response.data[0].hasOwnProperty('id')\n    ) {\n        logger(\n            `The response to '${type}' must be like { data : [{ id: 123, ...}, ...] }, but the received data items do not have an 'id' key. The dataProvider is probably wrong for '${type}'`\n        );\n        throw new Error('ra.notification.data_provider_error');\n    }\n    if (\n        fetchActionsWithRecordResponse.includes(type) &&\n        !response.data.hasOwnProperty('id')\n    ) {\n        logger(\n            `The response to '${type}' must be like { data: { id: 123, ... } }, but the received data does not have an 'id' key. The dataProvider is probably wrong for '${type}'`\n        );\n        throw new Error('ra.notification.data_provider_error');\n    }\n    if (\n        fetchActionsWithTotalResponse.includes(type) &&\n        !response.hasOwnProperty('total') &&\n        !response.hasOwnProperty('pageInfo')\n    ) {\n        logger(\n            `The response to '${type}' must be like  { data: [...], total: 123 }, but the received response does not have a 'total' key. The dataProvider is probably wrong for '${type}'`\n        );\n        throw new Error('ra.notification.data_provider_error');\n    }\n}\n\nexport default validateResponseFormat;\n","import { useEffect, useState } from 'react';\nimport { useQueryClient, QueryObserver } from 'react-query';\n\n/**\n * Check if react-query has already fetched data for a query key.\n *\n * This hook is reactive.\n *\n * @example\n * const isCustomerLoaded = useIsDataLoaded(['customers', 'getOne', { id: customerId }]);\n *\n * @returns {boolean} true if the data is loaded, false otherwise\n */\nexport const useIsDataLoaded = (\n    queryKey: any,\n    options: { enabled?: boolean } = {}\n) => {\n    const { enabled = true } = options;\n    const queryClient = useQueryClient();\n    const [isDataLoaded, setDataLoaded] = useState<boolean>(() => {\n        if (!enabled) {\n            return false;\n        }\n        return queryClient.getQueryData(queryKey) !== undefined;\n    });\n\n    useEffect(() => {\n        if (!enabled) return;\n        if (queryClient.getQueryData(queryKey) === undefined) {\n            const observer = new QueryObserver(queryClient, { queryKey });\n            const unsubscribe = observer.subscribe(result => {\n                setDataLoaded(!result.isLoading);\n                unsubscribe();\n            });\n            return unsubscribe;\n        }\n    }, [enabled, queryKey, queryClient]);\n\n    return isDataLoaded;\n};\n","import React from 'react';\n\nimport { notifyManager, useQueryClient } from 'react-query';\n\n/**\n * Get the state of the dataProvider connection.\n *\n * Returns true if a query or a mutation is pending.\n *\n * Custom implementation because react-query's useIsFetching and useIsMutating\n * render each time the number of active queries changes, which is too often.\n *\n * @see useIsFetching\n * @see useIsMutating\n */\nexport const useLoading = (): boolean => {\n    const client = useQueryClient();\n    const mountedRef = React.useRef(false);\n    const isFetchingRef = React.useRef(client.isFetching() > 0);\n    const isMutatingRef = React.useRef(client.isMutating() > 0);\n\n    const [isLoading, setIsLoading] = React.useState<boolean>(\n        isFetchingRef.current || isMutatingRef.current\n    );\n\n    React.useEffect(() => {\n        mountedRef.current = true;\n\n        const unsubscribeQueryCache = client.getQueryCache().subscribe(\n            notifyManager.batchCalls(() => {\n                if (mountedRef.current) {\n                    isFetchingRef.current = client.isFetching() > 0;\n                    setIsLoading(\n                        isFetchingRef.current || isMutatingRef.current\n                    );\n                }\n            })\n        );\n\n        const unsubscribeMutationCache = client.getMutationCache().subscribe(\n            notifyManager.batchCalls(() => {\n                if (mountedRef.current) {\n                    isMutatingRef.current = client.isMutating() > 0;\n                    setIsLoading(\n                        isFetchingRef.current || isMutatingRef.current\n                    );\n                }\n            })\n        );\n\n        return () => {\n            mountedRef.current = false;\n            unsubscribeQueryCache();\n            unsubscribeMutationCache();\n        };\n    }, [client]);\n\n    return isLoading;\n};\n","import { useCallback } from 'react';\nimport { useQueryClient } from 'react-query';\n\n/**\n * Hook for triggering a page refresh. Returns a callback function.\n *\n * The callback invalidates all queries and refetches the active ones.\n * Any component depending on react-query data will be re-rendered.\n *\n * @example\n *\n * const refresh = useRefresh();\n * const handleClick = () => {\n *     refresh();\n * };\n */\nexport const useRefresh = () => {\n    const queryClient = useQueryClient();\n    return useCallback(() => {\n        queryClient.invalidateQueries();\n    }, [queryClient]);\n};\n","import { RaRecord, GetOneParams } from '../types';\nimport { useQuery, UseQueryOptions, UseQueryResult } from 'react-query';\nimport { useDataProvider } from './useDataProvider';\n\n/**\n * Call the dataProvider.getOne() method and return the resolved value\n * as well as the loading state.\n *\n * The return value updates according to the request state:\n *\n * - start: { isLoading: true, isFetching: true, refetch }\n * - success: { data: [data from response], isLoading: false, refetch }\n * - error: { error: [error from response], isLoading: false, refetch }\n *\n * This hook will return the cached result when called a second time\n * with the same parameters, until the response arrives.\n *\n * @param resource The resource name, e.g. 'posts'\n * @param {Params} params The getOne parameters { id, meta }, e.g. { id: 123 }\n * @param {Options} options Options object to pass to the react-query queryClient.\n *\n * @typedef Params\n * @prop id a resource identifier, e.g. 123\n *\n * @typedef Options\n * @prop enabled Flag to conditionally run the query. If it's false, the query will not run\n * @prop onSuccess Side effect function to be executed upon success, e.g. { onSuccess: { refresh: true } }\n * @prop onError Side effect function to be executed upon failure, e.g. { onError: error => notify(error.message) }\n *\n * @returns The current request state. Destructure as { data, error, isLoading, refetch }.\n *\n * @example\n *\n * import { useGetOne } from 'react-admin';\n *\n * const UserProfile = ({ record }) => {\n *     const { data, isLoading, error } = useGetOne('users', { id: record.id });\n *     if (isLoading) { return <Loading />; }\n *     if (error) { return <p>ERROR</p>; }\n *     return <div>User {data.username}</div>;\n * };\n */\nexport const useGetOne = <RecordType extends RaRecord = any>(\n    resource: string,\n    { id, meta }: GetOneParams<RecordType>,\n    options?: UseQueryOptions<RecordType>\n): UseGetOneHookValue<RecordType> => {\n    const dataProvider = useDataProvider();\n    return useQuery<RecordType, unknown, RecordType>(\n        // Sometimes the id comes as a string (e.g. when read from the URL in a Show view).\n        // Sometimes the id comes as a number (e.g. when read from a Record in useGetList response).\n        // As the react-query cache is type-sensitive, we always stringify the identifier to get a match\n        [resource, 'getOne', { id: String(id), meta }],\n        () =>\n            dataProvider\n                .getOne<RecordType>(resource, { id, meta })\n                .then(({ data }) => data),\n        options\n    );\n};\n\nexport type UseGetOneHookValue<\n    RecordType extends RaRecord = any\n> = UseQueryResult<RecordType>;\n","import {\n    useQuery,\n    UseQueryOptions,\n    UseQueryResult,\n    useQueryClient,\n} from 'react-query';\n\nimport { RaRecord, GetListParams, GetListResult } from '../types';\nimport { useDataProvider } from './useDataProvider';\n\n/**\n * Call the dataProvider.getList() method and return the resolved result\n * as well as the loading state.\n *\n * The return value updates according to the request state:\n *\n * - start: { isLoading: true, refetch }\n * - success: { data: [data from store], total: [total from response], isLoading: false, refetch }\n * - error: { error: [error from response], isLoading: false, refetch }\n *\n * This hook will return the cached result when called a second time\n * with the same parameters, until the response arrives.\n *\n * @param {string} resource The resource name, e.g. 'posts'\n * @param {Params} params The getList parameters { pagination, sort, filter, meta }\n * @param {Object} options Options object to pass to the queryClient.\n * May include side effects to be executed upon success or failure, e.g. { onSuccess: () => { refresh(); } }\n *\n * @typedef Params\n * @prop params.pagination The request pagination { page, perPage }, e.g. { page: 1, perPage: 10 }\n * @prop params.sort The request sort { field, order }, e.g. { field: 'id', order: 'DESC' }\n * @prop params.filter The request filters, e.g. { title: 'hello, world' }\n * @prop params.meta Optional meta parameters\n *\n * @returns The current request state. Destructure as { data, total, error, isLoading, refetch }.\n *\n * @example\n *\n * import { useGetList } from 'react-admin';\n *\n * const LatestNews = () => {\n *     const { data, total, isLoading, error } = useGetList(\n *         'posts',\n *         { pagination: { page: 1, perPage: 10 }, sort: { field: 'published_at', order: 'DESC' } }\n *     );\n *     if (isLoading) { return <Loading />; }\n *     if (error) { return <p>ERROR</p>; }\n *     return <ul>{data.map(item =>\n *         <li key={item.id}>{item.title}</li>\n *     )}</ul>;\n * };\n */\nexport const useGetList = <RecordType extends RaRecord = any>(\n    resource: string,\n    params: Partial<GetListParams> = {},\n    options?: UseQueryOptions<GetListResult<RecordType>, Error>\n): UseGetListHookValue<RecordType> => {\n    const {\n        pagination = { page: 1, perPage: 25 },\n        sort = { field: 'id', order: 'DESC' },\n        filter = {},\n        meta,\n    } = params;\n    const dataProvider = useDataProvider();\n    const queryClient = useQueryClient();\n    const result = useQuery<\n        GetListResult<RecordType>,\n        Error,\n        GetListResult<RecordType>\n    >(\n        [resource, 'getList', { pagination, sort, filter, meta }],\n        () =>\n            dataProvider\n                .getList<RecordType>(resource, {\n                    pagination,\n                    sort,\n                    filter,\n                    meta,\n                })\n                .then(({ data, total, pageInfo }) => ({\n                    data,\n                    total,\n                    pageInfo,\n                })),\n        {\n            onSuccess: ({ data }) => {\n                // optimistically populate the getOne cache\n                data.forEach(record => {\n                    queryClient.setQueryData(\n                        [resource, 'getOne', { id: String(record.id), meta }],\n                        oldRecord => oldRecord ?? record\n                    );\n                });\n            },\n            ...options,\n        }\n    );\n\n    return (result.data\n        ? {\n              ...result,\n              data: result.data?.data,\n              total: result.data?.total,\n              pageInfo: result.data?.pageInfo,\n          }\n        : result) as UseQueryResult<RecordType[], Error> & {\n        total?: number;\n        pageInfo?: {\n            hasNextPage?: boolean;\n            hasPreviousPage?: boolean;\n        };\n    };\n};\n\nexport type UseGetListHookValue<\n    RecordType extends RaRecord = any\n> = UseQueryResult<RecordType[], Error> & {\n    total?: number;\n    pageInfo?: {\n        hasNextPage?: boolean;\n        hasPreviousPage?: boolean;\n    };\n};\n","import {\n    useQuery,\n    UseQueryOptions,\n    UseQueryResult,\n    useQueryClient,\n    hashQueryKey,\n} from 'react-query';\n\nimport { RaRecord, GetManyParams } from '../types';\nimport { useDataProvider } from './useDataProvider';\n\n/**\n * Call the dataProvider.getMany() method and return the resolved result\n * as well as the loading state.\n *\n * The return value updates according to the request state:\n *\n * - start: { isLoading: true, refetch }\n * - success: { data: [data from store], isLoading: false, refetch }\n * - error: { error: [error from response], isLoading: false, refetch }\n *\n * This hook will return the cached result when called a second time\n * with the same parameters, until the response arrives.\n *\n * @param {string} resource The resource name, e.g. 'posts'\n * @param {Params} params The getMany parameters { ids, meta }\n * @param {Object} options Options object to pass to the queryClient.\n * May include side effects to be executed upon success or failure, e.g. { onSuccess: () => { refresh(); } }\n *\n * @typedef Params\n * @prop params.ids The ids to get, e.g. [123, 456, 789]\n * @prop params.meta Optional meta parameters\n *\n * @returns The current request state. Destructure as { data, error, isLoading, refetch }.\n *\n * @example\n *\n * import { useGetMany } from 'react-admin';\n *\n * const PostTags = ({ post }) => {\n *     const { data, isLoading, error } = useGetMany(\n *         'tags',\n *         { ids: post.tags },\n *     );\n *     if (isLoading) { return <Loading />; }\n *     if (error) { return <p>ERROR</p>; }\n *     return <ul>{data.map(tag =>\n *         <li key={tag.id}>{tag.name}</li>\n *     )}</ul>;\n * };\n */\nexport const useGetMany = <RecordType extends RaRecord = any>(\n    resource: string,\n    params: Partial<GetManyParams> = {},\n    options?: UseQueryOptions<RecordType[], Error>\n): UseGetManyHookValue<RecordType> => {\n    const { ids, meta } = params;\n    const dataProvider = useDataProvider();\n    const queryClient = useQueryClient();\n    const queryCache = queryClient.getQueryCache();\n\n    return useQuery<RecordType[], Error, RecordType[]>(\n        [resource, 'getMany', { ids: ids.map(id => String(id)), meta }],\n        () => {\n            if (!ids || ids.length === 0) {\n                // no need to call the dataProvider\n                return Promise.resolve([]);\n            }\n            return dataProvider\n                .getMany<RecordType>(resource, { ids, meta })\n                .then(({ data }) => data);\n        },\n        {\n            placeholderData: () => {\n                const records = ids.map(id => {\n                    const queryHash = hashQueryKey([\n                        resource,\n                        'getOne',\n                        { id: String(id), meta },\n                    ]);\n                    return queryCache.get<RecordType>(queryHash)?.state?.data;\n                });\n                if (records.some(record => record === undefined)) {\n                    return undefined;\n                } else {\n                    return records;\n                }\n            },\n            onSuccess: data => {\n                // optimistically populate the getOne cache\n                data.forEach(record => {\n                    queryClient.setQueryData(\n                        [resource, 'getOne', { id: String(record.id), meta }],\n                        oldRecord => oldRecord ?? record\n                    );\n                });\n            },\n            retry: false,\n            ...options,\n        }\n    );\n};\n\nexport type UseGetManyHookValue<\n    RecordType extends RaRecord = any\n> = UseQueryResult<RecordType[], Error>;\n","import { useMemo } from 'react';\nimport {\n    QueryClient,\n    useQueryClient,\n    useQuery,\n    UseQueryOptions,\n    hashQueryKey,\n} from 'react-query';\nimport union from 'lodash/union';\n\nimport { UseGetManyHookValue } from './useGetMany';\nimport { Identifier, RaRecord, GetManyParams, DataProvider } from '../types';\nimport { useDataProvider } from './useDataProvider';\n\n/**\n * Call the dataProvider.getMany() method and return the resolved result\n * as well as the loading state.\n *\n * The return value updates according to the request state:\n *\n * - start: { isLoading: true, isFetching: true, refetch }\n * - success: { data: [data from response], isLoading: false, isFetching: false, refetch }\n * - error: { error: [error from response], isLoading: false, isFetching: false, refetch }\n *\n * This hook will return the cached result when called a second time\n * with the same parameters, until the response arrives.\n *\n * This hook aggregates and deduplicates calls to the same resource, so for instance, if an app calls:\n *\n * useGetManyAggregate('tags', [1, 2, 3]);\n * useGetManyAggregate('tags', [3, 4]);\n *\n * during the same tick, the hook will only call the dataProvider once with the following parameters:\n *\n * dataProvider.getMany('tags', [1, 2, 3, 4])\n *\n * @param resource The resource name, e.g. 'posts'\n * @param {Params} params The getMany parameters { ids, meta }\n * @param {Object} options Options object to pass to the dataProvider.\n * @param {boolean} options.enabled Flag to conditionally run the query. If it's false, the query will not run\n * @param {Function} options.onSuccess Side effect function to be executed upon success, e.g. { onSuccess: { refresh: true } }\n * @param {Function} options.onError Side effect function to be executed upon failure, e.g. { onError: error => notify(error.message) }\n *\n * @typedef Params\n * @prop params.ids The ids to get, e.g. [123, 456, 789]\n * @prop params.meta Optional meta parameters\n\n * @returns The current request state. Destructure as { data, error, isLoading, isFetching, refetch }.\n *\n * @example\n *\n * import { useGetManyAggregate } from 'react-admin';\n *\n * const PostTags = ({ record }) => {\n *     const { data, isLoading, error } = useGetManyAggregate('tags', { ids: record.tagIds });\n *     if (isLoading) { return <Loading />; }\n *     if (error) { return <p>ERROR</p>; }\n *     return (\n *          <ul>\n *              {data.map(tag => (\n *                  <li key={tag.id}>{tag.name}</li>\n *              ))}\n *          </ul>\n *      );\n * };\n */\nexport const useGetManyAggregate = <RecordType extends RaRecord = any>(\n    resource: string,\n    params: GetManyParams,\n    options: UseQueryOptions<RecordType[], Error> = {}\n): UseGetManyHookValue<RecordType> => {\n    const dataProvider = useDataProvider();\n    const queryClient = useQueryClient();\n    const queryCache = queryClient.getQueryCache();\n    const { ids, meta } = params;\n    const placeholderData = useMemo(() => {\n        const records = ids.map(id => {\n            const queryHash = hashQueryKey([\n                resource,\n                'getOne',\n                { id: String(id), meta },\n            ]);\n            return queryCache.get<RecordType>(queryHash)?.state?.data;\n        });\n        if (records.some(record => record === undefined)) {\n            return undefined;\n        } else {\n            return records;\n        }\n    }, [ids, queryCache, resource, meta]);\n\n    return useQuery<RecordType[], Error, RecordType[]>(\n        [resource, 'getMany', { ids: ids.map(id => String(id)), meta }],\n        () =>\n            new Promise((resolve, reject) => {\n                if (!ids || ids.length === 0) {\n                    // no need to call the dataProvider\n                    return resolve([]);\n                }\n                // debounced / batched fetch\n                return callGetManyQueries({\n                    resource,\n                    ids,\n                    meta,\n                    resolve,\n                    reject,\n                    dataProvider,\n                    queryClient,\n                });\n            }),\n        {\n            placeholderData,\n            onSuccess: data => {\n                // optimistically populate the getOne cache\n                data.forEach(record => {\n                    queryClient.setQueryData(\n                        [resource, 'getOne', { id: String(record.id), meta }],\n                        oldRecord => oldRecord ?? record\n                    );\n                });\n            },\n            retry: false,\n            ...options,\n        }\n    );\n};\n\n/**\n * Batch all calls to a function into one single call with the arguments of all the calls.\n *\n * @example\n * let sum = 0;\n * const add = (args) => { sum = args.reduce((arg, total) => total + arg, 0); };\n * const addBatched = batch(add);\n * addBatched(2);\n * addBatched(8);\n * // add will be called once with arguments [2, 8]\n * // and sum will be equal to 10\n */\nconst batch = fn => {\n    let capturedArgs = [];\n    let timeout = null;\n    return arg => {\n        capturedArgs.push(arg);\n        if (timeout) clearTimeout(timeout);\n        timeout = setTimeout(() => {\n            timeout = null;\n            fn([...capturedArgs]);\n            capturedArgs = [];\n        }, 0);\n    };\n};\n\ninterface GetManyCallArgs {\n    resource: string;\n    ids: Identifier[];\n    meta?: any;\n    resolve: (data: any[]) => void;\n    reject: (error?: any) => void;\n    dataProvider: DataProvider;\n    queryClient: QueryClient;\n}\n\n/**\n * Group and execute all calls to the dataProvider.getMany() method for the current tick\n *\n * Thanks to batch(), this function executes at most once per tick,\n * whatever the number of calls to useGetManyAggregate().\n */\nconst callGetManyQueries = batch((calls: GetManyCallArgs[]) => {\n    const dataProvider = calls[0].dataProvider;\n    const queryClient = calls[0].queryClient;\n\n    /**\n     * Aggregate calls by resource\n     *\n     * callsByResource will look like:\n     * {\n     *     posts: [{ resource, ids, resolve, reject, dataProvider, queryClient }, ...],\n     *     tags: [{ resource, ids, resolve, reject, dataProvider, queryClient }, ...],\n     * }\n     */\n    const callsByResource = calls.reduce((acc, callArgs) => {\n        if (!acc[callArgs.resource]) {\n            acc[callArgs.resource] = [];\n        }\n        acc[callArgs.resource].push(callArgs);\n        return acc;\n    }, {} as { [resource: string]: GetManyCallArgs[] });\n\n    /**\n     * For each resource, aggregate ids and call dataProvider.getMany() once\n     */\n    Object.keys(callsByResource).forEach(resource => {\n        const callsForResource = callsByResource[resource];\n\n        /**\n         * Extract ids from queries, aggregate and deduplicate them\n         *\n         * @example from [[1, 2], [2, null, 3], [4, null]] to [1, 2, 3, 4]\n         */\n        const aggregatedIds = callsForResource\n            .reduce((acc, { ids }) => union(acc, ids), []) // concat + unique\n            .filter(v => v != null && v !== ''); // remove null values\n        const uniqueMeta = callsForResource.reduce(\n            (acc, { meta }) => meta || acc,\n            undefined\n        );\n\n        if (aggregatedIds.length === 0) {\n            // no need to call the data provider if all the ids are null\n            callsForResource.forEach(({ resolve }) => {\n                resolve([]);\n            });\n            return;\n        }\n\n        if (\n            callsForResource.find(\n                ({ ids }) =>\n                    JSON.stringify(ids) === JSON.stringify(aggregatedIds)\n            )\n        ) {\n            // There is only one call (no aggregation), or one of the calls has the same ids as the sum of all calls.\n            // Either way, we can't trigger a new fetchQuery with the same signature, as it's already pending.\n            // Therefore, we reply with the dataProvider\n            const {\n                dataProvider,\n                resource,\n                ids,\n                meta,\n                resolve,\n                reject,\n            } = callsForResource[0];\n            dataProvider\n                .getMany<any>(resource, { ids, meta })\n                .then(({ data }) => data)\n                .then(resolve, reject);\n            return;\n        }\n\n        /**\n         * Call dataProvider.getMany() with the aggregatedIds,\n         * and resolve each of the promises using the results\n         */\n        queryClient\n            .fetchQuery<any[], Error, any[]>(\n                [\n                    resource,\n                    'getMany',\n                    {\n                        ids: aggregatedIds.map(id => String(id)),\n                        meta: uniqueMeta,\n                    },\n                ],\n                () =>\n                    dataProvider\n                        .getMany<any>(resource, {\n                            ids: aggregatedIds,\n                            meta: uniqueMeta,\n                        })\n                        .then(({ data }) => data)\n            )\n            .then(data => {\n                callsForResource.forEach(({ ids, resolve }) => {\n                    resolve(data.filter(record => ids.includes(record.id)));\n                });\n            })\n            .catch(error =>\n                callsForResource.forEach(({ reject }) => reject(error))\n            );\n    });\n});\n","import {\n    useQuery,\n    UseQueryOptions,\n    UseQueryResult,\n    useQueryClient,\n} from 'react-query';\n\nimport {\n    RaRecord,\n    GetManyReferenceParams,\n    GetManyReferenceResult,\n} from '../types';\nimport { useDataProvider } from './useDataProvider';\n\n/**\n * Call the dataProvider.getManyReference() method and return the resolved result\n * as well as the loading state.\n *\n * The return value updates according to the request state:\n *\n * - start: { isLoading: true, refetch }\n * - success: { data: [data from store], total: [total from response], isLoading: false, refetch }\n * - error: { error: [error from response], isLoading: false, refetch }\n *\n * This hook will return the cached result when called a second time\n * with the same parameters, until the response arrives.\n *\n * @param {string} resource The resource name, e.g. 'posts'\n * @param {Params} params The getManyReference parameters { target, id, pagination, sort, filter, meta }\n * @param {Object} options Options object to pass to the queryClient.\n * May include side effects to be executed upon success or failure, e.g. { onSuccess: () => { refresh(); } }\n *\n * @typedef Params\n * @prop params.target The target resource key, e.g. 'post_id'\n * @prop params.id The identifier of the record to look for in target, e.g. '123'\n * @prop params.pagination The request pagination { page, perPage }, e.g. { page: 1, perPage: 10 }\n * @prop params.sort The request sort { field, order }, e.g. { field: 'id', order: 'DESC' }\n * @prop params.filter The request filters, e.g. { title: 'hello, world' }\n * @prop params.meta Optional meta parameters\n *\n *\n * @returns The current request state. Destructure as { data, total, error, isLoading, refetch }.\n *\n * @example\n *\n * import { useGetManyReference } from 'react-admin';\n *\n * const PostComments = ({ record }) => {\n *     // fetch all comments related to the current record\n *     const { data, isLoading, error } = useGetManyReference(\n *         'comments',\n *         { target: 'post_id', id: record.id, pagination: { page: 1, perPage: 10 }, sort: { field: 'published_at', order: 'DESC' } }\n *     );\n *     if (isLoading) { return <Loading />; }\n *     if (error) { return <p>ERROR</p>; }\n *     return <ul>{data.map(comment =>\n *         <li key={comment.id}>{comment.body}</li>\n *     )}</ul>;\n * };\n */\nexport const useGetManyReference = <RecordType extends RaRecord = any>(\n    resource: string,\n    params: Partial<GetManyReferenceParams> = {},\n    options?: UseQueryOptions<{ data: RecordType[]; total: number }, Error>\n): UseGetManyReferenceHookValue<RecordType> => {\n    const {\n        target,\n        id,\n        pagination = { page: 1, perPage: 25 },\n        sort = { field: 'id', order: 'DESC' },\n        filter = {},\n        meta,\n    } = params;\n    const dataProvider = useDataProvider();\n    const queryClient = useQueryClient();\n    const result = useQuery<\n        GetManyReferenceResult<RecordType>,\n        Error,\n        GetManyReferenceResult<RecordType>\n    >(\n        [\n            resource,\n            'getManyReference',\n            { target, id, pagination, sort, filter, meta },\n        ],\n        () =>\n            dataProvider\n                .getManyReference<RecordType>(resource, {\n                    target,\n                    id,\n                    pagination,\n                    sort,\n                    filter,\n                    meta,\n                })\n                .then(({ data, total, pageInfo }) => ({\n                    data,\n                    total,\n                    pageInfo,\n                })),\n        {\n            onSuccess: ({ data }) => {\n                // optimistically populate the getOne cache\n                data.forEach(record => {\n                    queryClient.setQueryData(\n                        [resource, 'getOne', { id: String(record.id), meta }],\n                        oldRecord => oldRecord ?? record\n                    );\n                });\n            },\n            ...options,\n        }\n    );\n\n    return (result.data\n        ? {\n              ...result,\n              data: result.data?.data,\n              total: result.data?.total,\n              pageInfo: result.data?.pageInfo,\n          }\n        : result) as UseQueryResult<RecordType[], Error> & {\n        total?: number;\n        pageInfo?: {\n            hasNextPage?: boolean;\n            hasPreviousPage?: boolean;\n        };\n    };\n};\n\nexport type UseGetManyReferenceHookValue<\n    RecordType extends RaRecord = any\n> = UseQueryResult<RecordType[], Error> & {\n    total?: number;\n    pageInfo?: {\n        hasNextPage?: boolean;\n        hasPreviousPage?: boolean;\n    };\n};\n","import { useRef } from 'react';\nimport {\n    useMutation,\n    UseMutationOptions,\n    UseMutationResult,\n    useQueryClient,\n    MutateOptions,\n} from 'react-query';\n\nimport { useDataProvider } from './useDataProvider';\nimport { RaRecord, CreateParams } from '../types';\n\n/**\n * Get a callback to call the dataProvider.create() method, the result and the loading state.\n *\n * @param {string} resource\n * @param {Params} params The create parameters { data }\n * @param {Object} options Options object to pass to the queryClient.\n * May include side effects to be executed upon success or failure, e.g. { onSuccess: () => { refresh(); } }\n *\n * @typedef Params\n * @prop params.data The record to create, e.g. { title: 'hello, world' }\n *\n * @returns The current mutation state. Destructure as [create, { data, error, isLoading }].\n *\n * The return value updates according to the request state:\n *\n * - initial: [create, { isLoading: false, isIdle: true }]\n * - start:   [create, { isLoading: true }]\n * - success: [create, { data: [data from response], isLoading: false, isSuccess: true }]\n * - error:   [create, { error: [error from response], isLoading: false, isError: true }]\n *\n * The create() function must be called with a resource and a parameter object: create(resource, { data, meta }, options)\n *\n * This hook uses react-query useMutation under the hood.\n * This means the state object contains mutate, isIdle, reset and other react-query methods.\n *\n * @see https://react-query.tanstack.com/reference/useMutation\n *\n * @example // set params when calling the create callback\n *\n * import { useCreate } from 'react-admin';\n *\n * const LikeButton = ({ record }) => {\n *     const like = { postId: record.id };\n *     const [create, { isLoading, error }] = useCreate();\n *     const handleClick = () => {\n *         create('likes', { data: like })\n *     }\n *     if (error) { return <p>ERROR</p>; }\n *     return <button disabled={isLoading} onClick={handleClick}>Like</button>;\n * };\n *\n * @example // set params when calling the hook\n *\n * import { useCreate } from 'react-admin';\n *\n * const LikeButton = ({ record }) => {\n *     const like = { postId: record.id };\n *     const [create, { isLoading, error }] = useCreate('likes', { data: like });\n *     if (error) { return <p>ERROR</p>; }\n *     return <button disabled={isLoading} onClick={() => create()}>Like</button>;\n * };\n *\n * @example // TypeScript\n * const [create, { data }] = useCreate<Product>('products', { data: product });\n *                    \\-- data is Product\n */\nexport const useCreate = <RecordType extends RaRecord = any>(\n    resource?: string,\n    params: Partial<CreateParams<Partial<RecordType>>> = {},\n    options: UseCreateOptions<RecordType> = {}\n): UseCreateResult<RecordType> => {\n    const dataProvider = useDataProvider();\n    const queryClient = useQueryClient();\n    const paramsRef = useRef<Partial<CreateParams<Partial<RecordType>>>>(\n        params\n    );\n\n    const mutation = useMutation<\n        RecordType,\n        unknown,\n        Partial<UseCreateMutateParams<RecordType>>\n    >(\n        ({\n            resource: callTimeResource = resource,\n            data: callTimeData = paramsRef.current.data,\n            meta: callTimeMeta = paramsRef.current.meta,\n        } = {}) =>\n            dataProvider\n                .create<RecordType>(callTimeResource, {\n                    data: callTimeData,\n                    meta: callTimeMeta,\n                })\n                .then(({ data }) => data),\n        {\n            ...options,\n            onSuccess: (\n                data: RecordType,\n                variables: Partial<UseCreateMutateParams<RecordType>> = {},\n                context: unknown\n            ) => {\n                const { resource: callTimeResource = resource } = variables;\n                queryClient.setQueryData(\n                    [callTimeResource, 'getOne', { id: String(data.id) }],\n                    data\n                );\n\n                if (options.onSuccess) {\n                    options.onSuccess(data, variables, context);\n                }\n                // call-time success callback is executed by react-query\n            },\n        }\n    );\n\n    const create = (\n        callTimeResource: string = resource,\n        callTimeParams: Partial<CreateParams<RecordType>> = {},\n        createOptions: MutateOptions<\n            RecordType,\n            unknown,\n            Partial<UseCreateMutateParams<RecordType>>,\n            unknown\n        > & { returnPromise?: boolean } = {}\n    ) => {\n        const { returnPromise, ...reactCreateOptions } = createOptions;\n        if (returnPromise) {\n            return mutation.mutateAsync(\n                { resource: callTimeResource, ...callTimeParams },\n                createOptions\n            );\n        }\n        mutation.mutate(\n            { resource: callTimeResource, ...callTimeParams },\n            reactCreateOptions\n        );\n    };\n\n    return [create, mutation];\n};\n\nexport interface UseCreateMutateParams<RecordType extends RaRecord = any> {\n    resource?: string;\n    data?: Partial<RecordType>;\n    meta?: any;\n}\n\nexport type UseCreateOptions<\n    RecordType extends RaRecord = any\n> = UseMutationOptions<\n    RecordType,\n    unknown,\n    Partial<UseCreateMutateParams<RecordType>>\n>;\n\nexport type UseCreateResult<\n    RecordType extends RaRecord = any,\n    TReturnPromise extends boolean = boolean\n> = [\n    (\n        resource?: string,\n        params?: Partial<CreateParams<Partial<RecordType>>>,\n        options?: MutateOptions<\n            RecordType,\n            unknown,\n            Partial<UseCreateMutateParams<RecordType>>,\n            unknown\n        > & { returnPromise?: TReturnPromise }\n    ) => Promise<TReturnPromise extends true ? RecordType : void>,\n    UseMutationResult<\n        RecordType,\n        unknown,\n        Partial<UseCreateMutateParams<RecordType>>,\n        unknown\n    >\n];\n","import { useRef } from 'react';\nimport {\n    useMutation,\n    useQueryClient,\n    UseMutationOptions,\n    UseMutationResult,\n    MutateOptions,\n    QueryKey,\n} from 'react-query';\n\nimport { useDataProvider } from './useDataProvider';\nimport undoableEventEmitter from './undoableEventEmitter';\nimport { RaRecord, UpdateParams, MutationMode } from '../types';\n\n/**\n * Get a callback to call the dataProvider.update() method, the result and the loading state.\n *\n * @param {string} resource\n * @param {Params} params The update parameters { id, data, previousData, meta }\n * @param {Object} options Options object to pass to the queryClient.\n * May include side effects to be executed upon success or failure, e.g. { onSuccess: () => { refresh(); } }\n * May include a mutation mode (optimistic/pessimistic/undoable), e.g. { mutationMode: 'undoable' }\n *\n * @typedef Params\n * @prop params.id The resource identifier, e.g. 123\n * @prop params.data The updates to merge into the record, e.g. { views: 10 }\n * @prop params.previousData The record before the update is applied\n * @prop params.meta Optional meta data\n *\n * @returns The current mutation state. Destructure as [update, { data, error, isLoading }].\n *\n * The return value updates according to the request state:\n *\n * - initial: [update, { isLoading: false, isIdle: true }]\n * - start:   [update, { isLoading: true }]\n * - success: [update, { data: [data from response], isLoading: false, isSuccess: true }]\n * - error:   [update, { error: [error from response], isLoading: false, isError: true }]\n *\n * The update() function must be called with a resource and a parameter object: update(resource, { id, data, previousData }, options)\n *\n * This hook uses react-query useMutation under the hood.\n * This means the state object contains mutate, isIdle, reset and other react-query methods.\n *\n * @see https://react-query.tanstack.com/reference/useMutation\n *\n * @example // set params when calling the update callback\n *\n * import { useUpdate } from 'react-admin';\n *\n * const IncreaseLikeButton = ({ record }) => {\n *     const diff = { likes: record.likes + 1 };\n *     const [update, { isLoading, error }] = useUpdate();\n *     const handleClick = () => {\n *         update('likes', { id: record.id, data: diff, previousData: record })\n *     }\n *     if (error) { return <p>ERROR</p>; }\n *     return <button disabled={isLoading} onClick={handleClick}>Like</div>;\n * };\n *\n * @example // set params when calling the hook\n *\n * import { useUpdate } from 'react-admin';\n *\n * const IncreaseLikeButton = ({ record }) => {\n *     const diff = { likes: record.likes + 1 };\n *     const [update, { isLoading, error }] = useUpdate('likes', { id: record.id, data: diff, previousData: record });\n *     if (error) { return <p>ERROR</p>; }\n *     return <button disabled={isLoading} onClick={() => update()}>Like</button>;\n * };\n *\n * @example // TypeScript\n * const [update, { data }] = useUpdate<Product>('products', { id, data: diff, previousData: product });\n *                    \\-- data is Product\n */\nexport const useUpdate = <RecordType extends RaRecord = any>(\n    resource?: string,\n    params: Partial<UpdateParams<RecordType>> = {},\n    options: UseUpdateOptions<RecordType> = {}\n): UseUpdateResult<RecordType> => {\n    const dataProvider = useDataProvider();\n    const queryClient = useQueryClient();\n    const { id, data, meta } = params;\n    const { mutationMode = 'pessimistic', ...reactMutationOptions } = options;\n    const mode = useRef<MutationMode>(mutationMode);\n    const paramsRef = useRef<Partial<UpdateParams<RecordType>>>(params);\n    const snapshot = useRef<Snapshot>([]);\n\n    const updateCache = ({ resource, id, data }) => {\n        // hack: only way to tell react-query not to fetch this query for the next 5 seconds\n        // because setQueryData doesn't accept a stale time option\n        const now = Date.now();\n        const updatedAt = mode.current === 'undoable' ? now + 5 * 1000 : now;\n\n        const updateColl = (old: RecordType[]) => {\n            if (!old) return;\n            const index = old.findIndex(\n                // eslint-disable-next-line eqeqeq\n                record => record.id == id\n            );\n            if (index === -1) {\n                return old;\n            }\n            return [\n                ...old.slice(0, index),\n                { ...old[index], ...data },\n                ...old.slice(index + 1),\n            ];\n        };\n\n        type GetListResult = { data?: RecordType[]; total?: number };\n\n        queryClient.setQueryData(\n            [resource, 'getOne', { id: String(id), meta }],\n            (record: RecordType) => ({ ...record, ...data }),\n            { updatedAt }\n        );\n        queryClient.setQueriesData(\n            [resource, 'getList'],\n            (res: GetListResult) =>\n                res && res.data\n                    ? { data: updateColl(res.data), total: res.total }\n                    : res,\n            { updatedAt }\n        );\n        queryClient.setQueriesData(\n            [resource, 'getMany'],\n            (coll: RecordType[]) =>\n                coll && coll.length > 0 ? updateColl(coll) : coll,\n            { updatedAt }\n        );\n        queryClient.setQueriesData(\n            [resource, 'getManyReference'],\n            (res: GetListResult) =>\n                res && res.data\n                    ? { data: updateColl(res.data), total: res.total }\n                    : res,\n            { updatedAt }\n        );\n    };\n\n    const mutation = useMutation<\n        RecordType,\n        unknown,\n        Partial<UseUpdateMutateParams<RecordType>>\n    >(\n        ({\n            resource: callTimeResource = resource,\n            id: callTimeId = paramsRef.current.id,\n            data: callTimeData = paramsRef.current.data,\n            meta: callTimeMeta = paramsRef.current.meta,\n            previousData: callTimePreviousData = paramsRef.current.previousData,\n        } = {}) =>\n            dataProvider\n                .update<RecordType>(callTimeResource, {\n                    id: callTimeId,\n                    data: callTimeData,\n                    previousData: callTimePreviousData,\n                    meta: callTimeMeta,\n                })\n                .then(({ data }) => data),\n        {\n            ...reactMutationOptions,\n            onMutate: async (\n                variables: Partial<UseUpdateMutateParams<RecordType>>\n            ) => {\n                if (reactMutationOptions.onMutate) {\n                    const userContext =\n                        (await reactMutationOptions.onMutate(variables)) || {};\n                    return {\n                        snapshot: snapshot.current,\n                        // @ts-ignore\n                        ...userContext,\n                    };\n                } else {\n                    // Return a context object with the snapshot value\n                    return { snapshot: snapshot.current };\n                }\n            },\n            onError: (\n                error: unknown,\n                variables: Partial<UseUpdateMutateParams<RecordType>> = {},\n                context: { snapshot: Snapshot }\n            ) => {\n                if (\n                    mode.current === 'optimistic' ||\n                    mode.current === 'undoable'\n                ) {\n                    // If the mutation fails, use the context returned from onMutate to rollback\n                    context.snapshot.forEach(([key, value]) => {\n                        queryClient.setQueryData(key, value);\n                    });\n                }\n\n                if (reactMutationOptions.onError) {\n                    return reactMutationOptions.onError(\n                        error,\n                        variables,\n                        context\n                    );\n                }\n                // call-time error callback is executed by react-query\n            },\n            onSuccess: (\n                data: RecordType,\n                variables: Partial<UseUpdateMutateParams<RecordType>> = {},\n                context: unknown\n            ) => {\n                if (mode.current === 'pessimistic') {\n                    // update the getOne and getList query cache with the new result\n                    const {\n                        resource: callTimeResource = resource,\n                        id: callTimeId = id,\n                    } = variables;\n                    updateCache({\n                        resource: callTimeResource,\n                        id: callTimeId,\n                        data,\n                    });\n\n                    if (reactMutationOptions.onSuccess) {\n                        reactMutationOptions.onSuccess(\n                            data,\n                            variables,\n                            context\n                        );\n                    }\n                    // call-time success callback is executed by react-query\n                }\n            },\n            onSettled: (\n                data: RecordType,\n                error: unknown,\n                variables: Partial<UseUpdateMutateParams<RecordType>> = {},\n                context: { snapshot: Snapshot }\n            ) => {\n                if (\n                    mode.current === 'optimistic' ||\n                    mode.current === 'undoable'\n                ) {\n                    // Always refetch after error or success:\n                    context.snapshot.forEach(([key]) => {\n                        queryClient.invalidateQueries(key);\n                    });\n                }\n\n                if (reactMutationOptions.onSettled) {\n                    return reactMutationOptions.onSettled(\n                        data,\n                        error,\n                        variables,\n                        context\n                    );\n                }\n            },\n        }\n    );\n\n    const update = async (\n        callTimeResource: string = resource,\n        callTimeParams: Partial<UpdateParams<RecordType>> = {},\n        updateOptions: MutateOptions<\n            RecordType,\n            unknown,\n            Partial<UseUpdateMutateParams<RecordType>>,\n            unknown\n        > & { mutationMode?: MutationMode; returnPromise?: boolean } = {}\n    ) => {\n        const {\n            mutationMode,\n            returnPromise,\n            onSuccess,\n            onSettled,\n            onError,\n        } = updateOptions;\n\n        // store the hook time params *at the moment of the call*\n        // because they may change afterwards, which would break the undoable mode\n        // as the previousData would be overwritten by the optimistic update\n        paramsRef.current = params;\n\n        if (mutationMode) {\n            mode.current = mutationMode;\n        }\n\n        if (returnPromise && mode.current !== 'pessimistic') {\n            console.warn(\n                'The returnPromise parameter can only be used if the mutationMode is set to pessimistic'\n            );\n        }\n\n        if (mode.current === 'pessimistic') {\n            if (returnPromise) {\n                return mutation.mutateAsync(\n                    { resource: callTimeResource, ...callTimeParams },\n                    { onSuccess, onSettled, onError }\n                );\n            }\n            return mutation.mutate(\n                { resource: callTimeResource, ...callTimeParams },\n                { onSuccess, onSettled, onError }\n            );\n        }\n\n        const {\n            id: callTimeId = id,\n            data: callTimeData = data,\n            meta: callTimeMeta = meta,\n        } = callTimeParams;\n\n        // optimistic update as documented in https://react-query.tanstack.com/guides/optimistic-updates\n        // except we do it in a mutate wrapper instead of the onMutate callback\n        // to have access to success side effects\n\n        const previousRecord = queryClient.getQueryData<RecordType>([\n            callTimeResource,\n            'getOne',\n            { id: String(callTimeId), meta: callTimeMeta },\n        ]);\n\n        const queryKeys = [\n            [\n                callTimeResource,\n                'getOne',\n                { id: String(callTimeId), meta: callTimeMeta },\n            ],\n            [callTimeResource, 'getList'],\n            [callTimeResource, 'getMany'],\n            [callTimeResource, 'getManyReference'],\n        ];\n\n        /**\n         * Snapshot the previous values via queryClient.getQueriesData()\n         *\n         * The snapshotData ref will contain an array of tuples [query key, associated data]\n         *\n         * @example\n         * [\n         *   [['posts', 'getOne', { id: '1' }], { id: 1, title: 'Hello' }],\n         *   [['posts', 'getList'], { data: [{ id: 1, title: 'Hello' }], total: 1 }],\n         *   [['posts', 'getMany'], [{ id: 1, title: 'Hello' }]],\n         * ]\n         *\n         * @see https://react-query.tanstack.com/reference/QueryClient#queryclientgetqueriesdata\n         */\n        snapshot.current = queryKeys.reduce(\n            (prev, curr) => prev.concat(queryClient.getQueriesData(curr)),\n            [] as Snapshot\n        );\n\n        // Cancel any outgoing re-fetches (so they don't overwrite our optimistic update)\n        await Promise.all(\n            snapshot.current.map(([key]) => queryClient.cancelQueries(key))\n        );\n\n        // Optimistically update to the new value\n        updateCache({\n            resource: callTimeResource,\n            id: callTimeId,\n            data: callTimeData,\n        });\n\n        // run the success callbacks during the next tick\n        if (onSuccess) {\n            setTimeout(\n                () =>\n                    onSuccess(\n                        previousRecord,\n                        { resource: callTimeResource, ...callTimeParams },\n                        { snapshot: snapshot.current }\n                    ),\n                0\n            );\n        }\n        if (reactMutationOptions.onSuccess) {\n            setTimeout(\n                () =>\n                    reactMutationOptions.onSuccess(\n                        previousRecord,\n                        { resource: callTimeResource, ...callTimeParams },\n                        { snapshot: snapshot.current }\n                    ),\n                0\n            );\n        }\n\n        if (mode.current === 'optimistic') {\n            // call the mutate method without success side effects\n            return mutation.mutate(\n                { resource: callTimeResource, ...callTimeParams },\n                { onSettled, onError }\n            );\n        } else {\n            // undoable mutation: register the mutation for later\n            undoableEventEmitter.once('end', ({ isUndo }) => {\n                if (isUndo) {\n                    // rollback\n                    snapshot.current.forEach(([key, value]) => {\n                        queryClient.setQueryData(key, value);\n                    });\n                } else {\n                    // call the mutate method without success side effects\n                    mutation.mutate(\n                        { resource: callTimeResource, ...callTimeParams },\n                        { onSettled, onError }\n                    );\n                }\n            });\n        }\n    };\n\n    return [update, mutation];\n};\n\ntype Snapshot = [key: QueryKey, value: any][];\n\nexport interface UseUpdateMutateParams<RecordType extends RaRecord = any> {\n    resource?: string;\n    id?: RecordType['id'];\n    data?: Partial<RecordType>;\n    previousData?: any;\n    meta?: any;\n}\n\nexport type UseUpdateOptions<\n    RecordType extends RaRecord = any\n> = UseMutationOptions<\n    RecordType,\n    unknown,\n    Partial<UseUpdateMutateParams<RecordType>>\n> & { mutationMode?: MutationMode };\n\nexport type UseUpdateResult<\n    RecordType extends RaRecord = any,\n    TReturnPromise extends boolean = boolean\n> = [\n    (\n        resource?: string,\n        params?: Partial<UpdateParams<RecordType>>,\n        options?: MutateOptions<\n            RecordType,\n            unknown,\n            Partial<UseUpdateMutateParams<RecordType>>,\n            unknown\n        > & { mutationMode?: MutationMode; returnPromise?: TReturnPromise }\n    ) => Promise<TReturnPromise extends true ? RecordType : void>,\n    UseMutationResult<\n        RecordType,\n        unknown,\n        Partial<UpdateParams<RecordType> & { resource?: string }>,\n        unknown\n    >\n];\n","import { useRef } from 'react';\nimport {\n    useMutation,\n    useQueryClient,\n    UseMutationOptions,\n    UseMutationResult,\n    MutateOptions,\n    QueryKey,\n} from 'react-query';\n\nimport { useDataProvider } from './useDataProvider';\nimport undoableEventEmitter from './undoableEventEmitter';\nimport { RaRecord, UpdateManyParams, MutationMode } from '../types';\nimport { Identifier } from '..';\n\n/**\n * Get a callback to call the dataProvider.updateMany() method, the result and the loading state.\n *\n * @param {string} resource\n * @param {Params} params The updateMany parameters { ids, data, meta }\n * @param {Object} options Options object to pass to the queryClient.\n * May include side effects to be executed upon success or failure, e.g. { onSuccess: () => { refresh(); } }\n * May include a mutation mode (optimistic/pessimistic/undoable), e.g. { mutationMode: 'undoable' }\n *\n * @typedef Params\n * @prop params.ids The resource identifiers, e.g. [123, 456]\n * @prop params.data The updates to merge into the record, e.g. { views: 10 }\n * @prop params.meta Optional meta parameters\n *\n * @returns The current mutation state. Destructure as [updateMany, { data, error, isLoading }].\n *\n * The return value updates according to the request state:\n *\n * - initial: [updateMany, { isLoading: false, isIdle: true }]\n * - start:   [updateMany, { isLoading: true }]\n * - success: [updateMany, { data: [data from response], isLoading: false, isSuccess: true }]\n * - error:   [updateMany, { error: [error from response], isLoading: false, isError: true }]\n *\n * The updateMany() function must be called with a resource and a parameter object: updateMany(resource, { ids, data, previousData }, options)\n *\n * This hook uses react-query useMutation under the hood.\n * This means the state object contains mutate, isIdle, reset and other react-query methods.\n *\n * @see https://react-query.tanstack.com/reference/useMutation\n *\n * @example // set params when calling the updateMany callback\n *\n * import { useUpdateMany } from 'react-admin';\n *\n * const BulkResetViewsButton = ({ selectedIds }) => {\n *     const [updateMany, { isLoading, error }] = useUpdateMany();\n *     const handleClick = () => {\n *         updateMany('posts', { ids: selectedIds, data: { views: 0 } });\n *     }\n *     if (error) { return <p>ERROR</p>; }\n *     return <button disabled={isLoading} onClick={handleClick}>Reset views</button>;\n * };\n *\n * @example // set params when calling the hook\n *\n * import { useUpdateMany } from 'react-admin';\n *\n * const BulkResetViewsButton = ({ selectedIds }) => {\n *     const [updateMany, { isLoading, error }] = useUpdateMany('posts', { ids: selectedIds, data: { views: 0 } });\n *     if (error) { return <p>ERROR</p>; }\n *     return <button disabled={isLoading} onClick={() => updateMany()}>Reset views</button>;\n * };\n */\nexport const useUpdateMany = <RecordType extends RaRecord = any>(\n    resource?: string,\n    params: Partial<UpdateManyParams<Partial<RecordType>>> = {},\n    options: UseUpdateManyOptions<RecordType> = {}\n): UseUpdateManyResult<RecordType> => {\n    const dataProvider = useDataProvider();\n    const queryClient = useQueryClient();\n    const { ids, data, meta } = params;\n    const { mutationMode = 'pessimistic', ...reactMutationOptions } = options;\n    const mode = useRef<MutationMode>(mutationMode);\n    const paramsRef = useRef<Partial<UpdateManyParams<Partial<RecordType>>>>(\n        params\n    );\n    const snapshot = useRef<Snapshot>([]);\n\n    const updateCache = async ({\n        resource,\n        ids,\n        data,\n        meta,\n    }: {\n        resource: string;\n        ids: Identifier[];\n        data: any;\n        meta?: any;\n    }) => {\n        // hack: only way to tell react-query not to fetch this query for the next 5 seconds\n        // because setQueryData doesn't accept a stale time option\n        const updatedAt =\n            mode.current === 'undoable' ? Date.now() + 1000 * 5 : Date.now();\n\n        const updateColl = (old: RecordType[]) => {\n            if (!old) return;\n            let newCollection = [...old];\n            ids.forEach(id => {\n                // eslint-disable-next-line eqeqeq\n                const index = old.findIndex(record => record.id == id);\n                if (index === -1) {\n                    return;\n                }\n                newCollection = [\n                    ...newCollection.slice(0, index),\n                    { ...newCollection[index], ...data },\n                    ...newCollection.slice(index + 1),\n                ];\n            });\n            return newCollection;\n        };\n\n        type GetListResult = { data?: RecordType[]; total?: number };\n\n        ids.forEach(id =>\n            queryClient.setQueryData(\n                [resource, 'getOne', { id: String(id), meta }],\n                (record: RecordType) => ({ ...record, ...data }),\n                { updatedAt }\n            )\n        );\n        queryClient.setQueriesData(\n            [resource, 'getList'],\n            (res: GetListResult) =>\n                res && res.data\n                    ? { data: updateColl(res.data), total: res.total }\n                    : res,\n            { updatedAt }\n        );\n        queryClient.setQueriesData(\n            [resource, 'getMany'],\n            (coll: RecordType[]) =>\n                coll && coll.length > 0 ? updateColl(coll) : coll,\n            { updatedAt }\n        );\n        queryClient.setQueriesData(\n            [resource, 'getManyReference'],\n            (res: GetListResult) =>\n                res && res.data\n                    ? { data: updateColl(res.data), total: res.total }\n                    : res,\n            { updatedAt }\n        );\n    };\n\n    const mutation = useMutation<\n        Array<RecordType['id']>,\n        unknown,\n        Partial<UseUpdateManyMutateParams<RecordType>>\n    >(\n        ({\n            resource: callTimeResource = resource,\n            ids: callTimeIds = paramsRef.current.ids,\n            data: callTimeData = paramsRef.current.data,\n            meta: callTimeMeta = paramsRef.current.meta,\n        } = {}) =>\n            dataProvider\n                .updateMany(callTimeResource, {\n                    ids: callTimeIds,\n                    data: callTimeData,\n                    meta: callTimeMeta,\n                })\n                .then(({ data }) => data),\n        {\n            ...reactMutationOptions,\n            onMutate: async (\n                variables: Partial<UseUpdateManyMutateParams<RecordType>>\n            ) => {\n                if (reactMutationOptions.onMutate) {\n                    const userContext =\n                        (await reactMutationOptions.onMutate(variables)) || {};\n                    return {\n                        snapshot: snapshot.current,\n                        // @ts-ignore\n                        ...userContext,\n                    };\n                } else {\n                    // Return a context object with the snapshot value\n                    return { snapshot: snapshot.current };\n                }\n            },\n            onError: (\n                error: unknown,\n                variables: Partial<UseUpdateManyMutateParams<RecordType>> = {},\n                context: { snapshot: Snapshot }\n            ) => {\n                if (\n                    mode.current === 'optimistic' ||\n                    mode.current === 'undoable'\n                ) {\n                    // If the mutation fails, use the context returned from onMutate to rollback\n                    context.snapshot.forEach(([key, value]) => {\n                        queryClient.setQueryData(key, value);\n                    });\n                }\n\n                if (reactMutationOptions.onError) {\n                    return reactMutationOptions.onError(\n                        error,\n                        variables,\n                        context\n                    );\n                }\n                // call-time error callback is executed by react-query\n            },\n            onSuccess: (\n                data: Array<RecordType['id']>,\n                variables: Partial<UseUpdateManyMutateParams<RecordType>> = {},\n                context: unknown\n            ) => {\n                if (mode.current === 'pessimistic') {\n                    // update the getOne and getList query cache with the new result\n                    const {\n                        resource: callTimeResource = resource,\n                        ids: callTimeIds = ids,\n                        meta: callTimeMeta = meta,\n                    } = variables;\n                    updateCache({\n                        resource: callTimeResource,\n                        ids: callTimeIds,\n                        data,\n                        meta: callTimeMeta,\n                    });\n\n                    if (reactMutationOptions.onSuccess) {\n                        reactMutationOptions.onSuccess(\n                            data,\n                            variables,\n                            context\n                        );\n                    }\n                    // call-time success callback is executed by react-query\n                }\n            },\n            onSettled: (\n                data: Array<RecordType['id']>,\n                error: unknown,\n                variables: Partial<UseUpdateManyMutateParams<RecordType>> = {},\n                context: { snapshot: Snapshot }\n            ) => {\n                if (\n                    mode.current === 'optimistic' ||\n                    mode.current === 'undoable'\n                ) {\n                    // Always refetch after error or success:\n                    context.snapshot.forEach(([key]) => {\n                        queryClient.invalidateQueries(key);\n                    });\n                }\n\n                if (reactMutationOptions.onSettled) {\n                    return reactMutationOptions.onSettled(\n                        data,\n                        error,\n                        variables,\n                        context\n                    );\n                }\n            },\n        }\n    );\n\n    const updateMany = async (\n        callTimeResource: string = resource,\n        callTimeParams: Partial<UpdateManyParams<RecordType>> = {},\n        updateOptions: MutateOptions<\n            Array<RecordType['id']>,\n            unknown,\n            Partial<UseUpdateManyMutateParams<RecordType>>,\n            unknown\n        > & { mutationMode?: MutationMode } = {}\n    ) => {\n        const { mutationMode, onSuccess, onSettled, onError } = updateOptions;\n\n        // store the hook time params *at the moment of the call*\n        // because they may change afterwards, which would break the undoable mode\n        // as the previousData would be overwritten by the optimistic update\n        paramsRef.current = params;\n\n        if (mutationMode) {\n            mode.current = mutationMode;\n        }\n\n        if (mode.current === 'pessimistic') {\n            return mutation.mutate(\n                { resource: callTimeResource, ...callTimeParams },\n                { onSuccess, onSettled, onError }\n            );\n        }\n\n        const {\n            ids: callTimeIds = ids,\n            data: callTimeData = data,\n            meta: callTimeMeta = meta,\n        } = callTimeParams;\n\n        // optimistic update as documented in https://react-query.tanstack.com/guides/optimistic-updates\n        // except we do it in a mutate wrapper instead of the onMutate callback\n        // to have access to success side effects\n\n        const queryKeys = [\n            [callTimeResource, 'getOne'],\n            [callTimeResource, 'getList'],\n            [callTimeResource, 'getMany'],\n            [callTimeResource, 'getManyReference'],\n        ];\n\n        /**\n         * Snapshot the previous values via queryClient.getQueriesData()\n         *\n         * The snapshotData ref will contain an array of tuples [query key, associated data]\n         *\n         * @example\n         * [\n         *   [['posts', 'getOne', { id: '1' }], { id: 1, title: 'Hello' }],\n         *   [['posts', 'getList'], { data: [{ id: 1, title: 'Hello' }], total: 1 }],\n         *   [['posts', 'getMany'], [{ id: 1, title: 'Hello' }]],\n         * ]\n         *\n         * @see https://react-query.tanstack.com/reference/QueryClient#queryclientgetqueriesdata\n         */\n        snapshot.current = queryKeys.reduce(\n            (prev, curr) => prev.concat(queryClient.getQueriesData(curr)),\n            [] as Snapshot\n        );\n\n        // Cancel any outgoing re-fetches (so they don't overwrite our optimistic update)\n        await Promise.all(\n            snapshot.current.map(([key]) => queryClient.cancelQueries(key))\n        );\n\n        // Optimistically update to the new data\n        await updateCache({\n            resource: callTimeResource,\n            ids: callTimeIds,\n            data: callTimeData,\n            meta: callTimeMeta,\n        });\n\n        // run the success callbacks during the next tick\n        if (onSuccess) {\n            setTimeout(\n                () =>\n                    onSuccess(\n                        callTimeIds,\n                        { resource: callTimeResource, ...callTimeParams },\n                        { snapshot: snapshot.current }\n                    ),\n                0\n            );\n        }\n        if (reactMutationOptions.onSuccess) {\n            setTimeout(\n                () =>\n                    reactMutationOptions.onSuccess(\n                        callTimeIds,\n                        { resource: callTimeResource, ...callTimeParams },\n                        { snapshot: snapshot.current }\n                    ),\n                0\n            );\n        }\n\n        if (mode.current === 'optimistic') {\n            // call the mutate method without success side effects\n            return mutation.mutate(\n                { resource: callTimeResource, ...callTimeParams },\n                { onSettled, onError }\n            );\n        } else {\n            // undoable mutation: register the mutation for later\n            undoableEventEmitter.once('end', ({ isUndo }) => {\n                if (isUndo) {\n                    // rollback\n                    snapshot.current.forEach(([key, value]) => {\n                        queryClient.setQueryData(key, value);\n                    });\n                } else {\n                    // call the mutate method without success side effects\n                    mutation.mutate(\n                        { resource: callTimeResource, ...callTimeParams },\n                        { onSettled, onError }\n                    );\n                }\n            });\n        }\n    };\n\n    return [updateMany, mutation];\n};\n\ntype Snapshot = [key: QueryKey, value: any][];\n\nexport interface UseUpdateManyMutateParams<RecordType extends RaRecord = any> {\n    resource?: string;\n    ids?: Array<RecordType['id']>;\n    data?: Partial<RecordType>;\n    previousData?: any;\n    meta?: any;\n}\n\nexport type UseUpdateManyOptions<\n    RecordType extends RaRecord = any\n> = UseMutationOptions<\n    Array<RecordType['id']>,\n    unknown,\n    Partial<UseUpdateManyMutateParams<RecordType>>\n> & { mutationMode?: MutationMode };\n\nexport type UseUpdateManyResult<RecordType extends RaRecord = any> = [\n    (\n        resource?: string,\n        params?: Partial<UpdateManyParams<RecordType>>,\n        options?: MutateOptions<\n            Array<RecordType['id']>,\n            unknown,\n            Partial<UseUpdateManyMutateParams<RecordType>>,\n            unknown\n        > & { mutationMode?: MutationMode }\n    ) => Promise<void>,\n    UseMutationResult<\n        Array<RecordType['id']>,\n        unknown,\n        Partial<UpdateManyParams<Partial<RecordType>> & { resource?: string }>,\n        unknown\n    >\n];\n","import { useRef } from 'react';\nimport {\n    useMutation,\n    useQueryClient,\n    UseMutationOptions,\n    UseMutationResult,\n    MutateOptions,\n    QueryKey,\n} from 'react-query';\n\nimport { useDataProvider } from './useDataProvider';\nimport undoableEventEmitter from './undoableEventEmitter';\nimport { RaRecord, DeleteParams, MutationMode } from '../types';\n\n/**\n * Get a callback to call the dataProvider.delete() method, the result and the loading state.\n *\n * @param {string} resource\n * @param {Params} params The delete parameters { id, previousData }\n * @param {Object} options Options object to pass to the queryClient.\n * May include side effects to be executed upon success or failure, e.g. { onSuccess: () => { refresh(); } }\n * May include a mutation mode (optimistic/pessimistic/undoable), e.g. { mutationMode: 'undoable' }\n *\n * @typedef Params\n * @prop params.id The resource identifier, e.g. 123\n * @prop params.previousData The record before the update is applied\n *\n * @returns The current mutation state. Destructure as [deleteOne, { data, error, isLoading }].\n *\n * The return value updates according to the request state:\n *\n * - initial: [deleteOne, { isLoading: false, isIdle: true }]\n * - start:   [deleteOne, { isLoading: true }]\n * - success: [deleteOne, { data: [data from response], isLoading: false, isSuccess: true }]\n * - error:   [deleteOne, { error: [error from response], isLoading: false, isError: true }]\n *\n * The deleteOne() function must be called with a resource and a parameter object: deleteOne(resource, { id, previousData, meta }, options)\n *\n * This hook uses react-query useMutation under the hood.\n * This means the state object contains mutate, isIdle, reset and other react-query methods.\n *\n * @see https://react-query.tanstack.com/reference/useMutation\n *\n * @example // set params when calling the deleteOne callback\n *\n * import { useDelete } from 'react-admin';\n *\n * const DeleteButton = ({ record }) => {\n *     const [deleteOne, { isLoading, error }] = useDelete();\n *     const handleClick = () => {\n *         deleteOne('likes', { id: record.id }, record)\n *     }\n *     if (error) { return <p>ERROR</p>; }\n *     return <button disabled={isLoading} onClick={handleClick}>Delete</div>;\n * };\n *\n * @example // set params when calling the hook\n *\n * import { useDelete } from 'react-admin';\n *\n * const DeleteButton = ({ record }) => {\n *     const [deleteOne, { isLoading, error }] = useDelete('likes', { id: record.id }, record);\n *     if (error) { return <p>ERROR</p>; }\n *     return <button disabled={isLoading} onClick={() => deleteOne()}>Delete</button>;\n * };\n *\n * @example // TypeScript\n * const [delete, { data }] = useDelete<Product>('products', { id, previousData: product });\n *                    \\-- data is Product\n */\nexport const useDelete = <RecordType extends RaRecord = any>(\n    resource?: string,\n    params: Partial<DeleteParams<RecordType>> = {},\n    options: UseDeleteOptions<RecordType> = {}\n): UseDeleteResult<RecordType> => {\n    const dataProvider = useDataProvider();\n    const queryClient = useQueryClient();\n    const { id, previousData } = params;\n    const { mutationMode = 'pessimistic', ...reactMutationOptions } = options;\n    const mode = useRef<MutationMode>(mutationMode);\n    const paramsRef = useRef<Partial<DeleteParams<RecordType>>>(params);\n    const snapshot = useRef<Snapshot>([]);\n\n    const updateCache = ({ resource, id }) => {\n        // hack: only way to tell react-query not to fetch this query for the next 5 seconds\n        // because setQueryData doesn't accept a stale time option\n        const now = Date.now();\n        const updatedAt = mode.current === 'undoable' ? now + 5 * 1000 : now;\n\n        const updateColl = (old: RecordType[]) => {\n            if (!old) return;\n            const index = old.findIndex(\n                // eslint-disable-next-line eqeqeq\n                record => record.id == id\n            );\n            if (index === -1) {\n                return old;\n            }\n            return [...old.slice(0, index), ...old.slice(index + 1)];\n        };\n\n        type GetListResult = { data?: RecordType[]; total?: number };\n\n        queryClient.setQueriesData(\n            [resource, 'getList'],\n            (res: GetListResult) => {\n                if (!res || !res.data) return res;\n                const newCollection = updateColl(res.data);\n                const recordWasFound = newCollection.length < res.data.length;\n                return recordWasFound\n                    ? {\n                          data: newCollection,\n                          total: res.total - 1,\n                      }\n                    : res;\n            },\n            { updatedAt }\n        );\n        queryClient.setQueriesData(\n            [resource, 'getMany'],\n            (coll: RecordType[]) =>\n                coll && coll.length > 0 ? updateColl(coll) : coll,\n            { updatedAt }\n        );\n        queryClient.setQueriesData(\n            [resource, 'getManyReference'],\n            (res: GetListResult) => {\n                if (!res || !res.data) return res;\n                const newCollection = updateColl(res.data);\n                const recordWasFound = newCollection.length < res.data.length;\n                return recordWasFound\n                    ? {\n                          data: newCollection,\n                          total: res.total - 1,\n                      }\n                    : res;\n            },\n            { updatedAt }\n        );\n    };\n\n    const mutation = useMutation<\n        RecordType,\n        unknown,\n        Partial<UseDeleteMutateParams<RecordType>>\n    >(\n        ({\n            resource: callTimeResource = resource,\n            id: callTimeId = paramsRef.current.id,\n            previousData: callTimePreviousData = paramsRef.current.previousData,\n            meta: callTimeMeta = paramsRef.current.meta,\n        } = {}) =>\n            dataProvider\n                .delete<RecordType>(callTimeResource, {\n                    id: callTimeId,\n                    previousData: callTimePreviousData,\n                    meta: callTimeMeta,\n                })\n                .then(({ data }) => data),\n        {\n            ...reactMutationOptions,\n            onMutate: async (\n                variables: Partial<UseDeleteMutateParams<RecordType>>\n            ) => {\n                if (reactMutationOptions.onMutate) {\n                    const userContext =\n                        (await reactMutationOptions.onMutate(variables)) || {};\n                    return {\n                        snapshot: snapshot.current,\n                        // @ts-ignore\n                        ...userContext,\n                    };\n                } else {\n                    // Return a context object with the snapshot value\n                    return { snapshot: snapshot.current };\n                }\n            },\n            onError: (\n                error: unknown,\n                variables: Partial<UseDeleteMutateParams<RecordType>> = {},\n                context: { snapshot: Snapshot }\n            ) => {\n                if (\n                    mode.current === 'optimistic' ||\n                    mode.current === 'undoable'\n                ) {\n                    // If the mutation fails, use the context returned from onMutate to rollback\n                    context.snapshot.forEach(([key, value]) => {\n                        queryClient.setQueryData(key, value);\n                    });\n                }\n\n                if (reactMutationOptions.onError) {\n                    return reactMutationOptions.onError(\n                        error,\n                        variables,\n                        context\n                    );\n                }\n                // call-time error callback is executed by react-query\n            },\n            onSuccess: (\n                data: RecordType,\n                variables: Partial<UseDeleteMutateParams<RecordType>> = {},\n                context: unknown\n            ) => {\n                if (mode.current === 'pessimistic') {\n                    // update the getOne and getList query cache with the new result\n                    const {\n                        resource: callTimeResource = resource,\n                        id: callTimeId = id,\n                    } = variables;\n                    updateCache({\n                        resource: callTimeResource,\n                        id: callTimeId,\n                    });\n\n                    if (reactMutationOptions.onSuccess) {\n                        reactMutationOptions.onSuccess(\n                            data,\n                            variables,\n                            context\n                        );\n                    }\n                    // call-time success callback is executed by react-query\n                }\n            },\n            onSettled: (\n                data: RecordType,\n                error: unknown,\n                variables: Partial<UseDeleteMutateParams<RecordType>> = {},\n                context: { snapshot: Snapshot }\n            ) => {\n                if (\n                    mode.current === 'optimistic' ||\n                    mode.current === 'undoable'\n                ) {\n                    // Always refetch after error or success:\n                    context.snapshot.forEach(([key]) => {\n                        queryClient.invalidateQueries(key);\n                    });\n                }\n\n                if (reactMutationOptions.onSettled) {\n                    return reactMutationOptions.onSettled(\n                        data,\n                        error,\n                        variables,\n                        context\n                    );\n                }\n            },\n        }\n    );\n\n    const mutate = async (\n        callTimeResource: string = resource,\n        callTimeParams: Partial<DeleteParams<RecordType>> = {},\n        updateOptions: MutateOptions<\n            RecordType,\n            unknown,\n            Partial<UseDeleteMutateParams<RecordType>>,\n            unknown\n        > & { mutationMode?: MutationMode } = {}\n    ) => {\n        const { mutationMode, onSuccess, onSettled, onError } = updateOptions;\n\n        // store the hook time params *at the moment of the call*\n        // because they may change afterwards, which would break the undoable mode\n        // as the previousData would be overwritten by the optimistic update\n        paramsRef.current = params;\n\n        if (mutationMode) {\n            mode.current = mutationMode;\n        }\n\n        if (mode.current === 'pessimistic') {\n            return mutation.mutate(\n                { resource: callTimeResource, ...callTimeParams },\n                { onSuccess, onSettled, onError }\n            );\n        }\n\n        const {\n            id: callTimeId = id,\n            previousData: callTimePreviousData = previousData,\n        } = callTimeParams;\n\n        // optimistic update as documented in https://react-query.tanstack.com/guides/optimistic-updates\n        // except we do it in a mutate wrapper instead of the onMutate callback\n        // to have access to success side effects\n\n        const queryKeys = [\n            [callTimeResource, 'getList'],\n            [callTimeResource, 'getMany'],\n            [callTimeResource, 'getManyReference'],\n        ];\n\n        /**\n         * Snapshot the previous values via queryClient.getQueriesData()\n         *\n         * The snapshotData ref will contain an array of tuples [query key, associated data]\n         *\n         * @example\n         * [\n         *   [['posts', 'getList'], { data: [{ id: 1, title: 'Hello' }], total: 1 }],\n         *   [['posts', 'getMany'], [{ id: 1, title: 'Hello' }]],\n         * ]\n         *\n         * @see https://react-query.tanstack.com/reference/QueryClient#queryclientgetqueriesdata\n         */\n        snapshot.current = queryKeys.reduce(\n            (prev, curr) => prev.concat(queryClient.getQueriesData(curr)),\n            [] as Snapshot\n        );\n\n        // Cancel any outgoing re-fetches (so they don't overwrite our optimistic update)\n        await Promise.all(\n            snapshot.current.map(([key]) => queryClient.cancelQueries(key))\n        );\n\n        // Optimistically update to the new value\n        updateCache({\n            resource: callTimeResource,\n            id: callTimeId,\n        });\n\n        // run the success callbacks during the next tick\n        if (onSuccess) {\n            setTimeout(\n                () =>\n                    onSuccess(\n                        callTimePreviousData,\n                        { resource: callTimeResource, ...callTimeParams },\n                        { snapshot: snapshot.current }\n                    ),\n                0\n            );\n        }\n        if (reactMutationOptions.onSuccess) {\n            setTimeout(\n                () =>\n                    reactMutationOptions.onSuccess(\n                        callTimePreviousData,\n                        { resource: callTimeResource, ...callTimeParams },\n                        { snapshot: snapshot.current }\n                    ),\n                0\n            );\n        }\n\n        if (mode.current === 'optimistic') {\n            // call the mutate method without success side effects\n            return mutation.mutate(\n                { resource: callTimeResource, ...callTimeParams },\n                { onSettled, onError }\n            );\n        } else {\n            // undoable mutation: register the mutation for later\n            undoableEventEmitter.once('end', ({ isUndo }) => {\n                if (isUndo) {\n                    // rollback\n                    snapshot.current.forEach(([key, value]) => {\n                        queryClient.setQueryData(key, value);\n                    });\n                } else {\n                    // call the mutate method without success side effects\n                    mutation.mutate(\n                        { resource: callTimeResource, ...callTimeParams },\n                        { onSettled, onError }\n                    );\n                }\n            });\n        }\n    };\n\n    return [mutate, mutation];\n};\n\ntype Snapshot = [key: QueryKey, value: any][];\n\nexport interface UseDeleteMutateParams<RecordType extends RaRecord = any> {\n    resource?: string;\n    id?: RecordType['id'];\n    data?: Partial<RecordType>;\n    previousData?: any;\n    meta?: any;\n}\n\nexport type UseDeleteOptions<\n    RecordType extends RaRecord = any\n> = UseMutationOptions<\n    RecordType,\n    unknown,\n    Partial<UseDeleteMutateParams<RecordType>>\n> & { mutationMode?: MutationMode };\n\nexport type UseDeleteResult<RecordType extends RaRecord = any> = [\n    (\n        resource?: string,\n        params?: Partial<DeleteParams<RecordType>>,\n        options?: MutateOptions<\n            RecordType,\n            unknown,\n            Partial<UseDeleteMutateParams<RecordType>>,\n            unknown\n        > & { mutationMode?: MutationMode }\n    ) => Promise<void>,\n    UseMutationResult<\n        RecordType,\n        unknown,\n        Partial<DeleteParams<RecordType> & { resource?: string }>,\n        unknown\n    >\n];\n","import { useRef } from 'react';\nimport {\n    useMutation,\n    useQueryClient,\n    UseMutationOptions,\n    UseMutationResult,\n    MutateOptions,\n    QueryKey,\n} from 'react-query';\n\nimport { useDataProvider } from './useDataProvider';\nimport undoableEventEmitter from './undoableEventEmitter';\nimport { RaRecord, DeleteManyParams, MutationMode } from '../types';\n\n/**\n * Get a callback to call the dataProvider.delete() method, the result and the loading state.\n *\n * @param {string} resource\n * @param {Params} params The delete parameters { ids }\n * @param {Object} options Options object to pass to the queryClient.\n * May include side effects to be executed upon success or failure, e.g. { onSuccess: () => { refresh(); } }\n * May include a mutation mode (optimistic/pessimistic/undoable), e.g. { mutationMode: 'undoable' }\n *\n * @typedef Params\n * @prop params.ids The resource identifiers, e.g. [123, 456]\n *\n * @returns The current mutation state. Destructure as [deleteMany, { data, error, isLoading }].\n *\n * The return value updates according to the request state:\n *\n * - initial: [deleteMany, { isLoading: false, isIdle: true }]\n * - start:   [deleteMany, { isLoading: true }]\n * - success: [deleteMany, { data: [data from response], isLoading: false, isSuccess: true }]\n * - error:   [deleteMany, { error: [error from response], isLoading: false, isError: true }]\n *\n * The deleteMany() function must be called with a resource and a parameter object: deleteMany(resource, { ids, meta }, options)\n *\n * This hook uses react-query useMutation under the hood.\n * This means the state object contains mutate, isIdle, reset and other react-query methods.\n *\n * @see https://react-query.tanstack.com/reference/useMutation\n *\n * @example // set params when calling the deleteMany callback\n *\n * import { useDeleteMany } from 'react-admin';\n *\n * const BulkDeletePostsButton = ({ selectedIds }) => {\n *     const [deleteMany, { isLoading, error }] = useDeleteMany();\n *     const handleClick = () => {\n *         deleteMany('posts', { ids: selectedIds })\n *     }\n *     if (error) { return <p>ERROR</p>; }\n *     return <button disabled={isLoading} onClick={handleClick}>Delete selected posts</button>;\n * };\n *\n * @example // set params when calling the hook\n *\n * import { useDeleteMany } from 'react-admin';\n *\n * const BulkDeletePostsButton = ({ selectedIds }) => {\n *     const [deleteMany, { isLoading, error }] = useDeleteMany('posts', { ids: selectedIds });\n *     const handleClick = () => {\n *         deleteMany()\n *     }\n *     if (error) { return <p>ERROR</p>; }\n *     return <button disabled={isLoading} onClick={handleClick}>Delete selected posts</button>;\n * };\n *\n * @example // TypeScript\n * const [deleteMany, { data }] = useDeleteMany<Product>('products', { ids });\n *                        \\-- data is Product\n */\nexport const useDeleteMany = <RecordType extends RaRecord = any>(\n    resource?: string,\n    params: Partial<DeleteManyParams<RecordType>> = {},\n    options: UseDeleteManyOptions<RecordType> = {}\n): UseDeleteManyResult<RecordType> => {\n    const dataProvider = useDataProvider();\n    const queryClient = useQueryClient();\n    const { ids } = params;\n    const { mutationMode = 'pessimistic', ...reactMutationOptions } = options;\n    const mode = useRef<MutationMode>(mutationMode);\n    const paramsRef = useRef<Partial<DeleteManyParams<RecordType>>>({});\n    const snapshot = useRef<Snapshot>([]);\n\n    const updateCache = ({ resource, ids }) => {\n        // hack: only way to tell react-query not to fetch this query for the next 5 seconds\n        // because setQueryData doesn't accept a stale time option\n        const now = Date.now();\n        const updatedAt = mode.current === 'undoable' ? now + 5 * 1000 : now;\n\n        const updateColl = (old: RecordType[]) => {\n            if (!old) return;\n            let newCollection = [...old];\n            ids.forEach(id => {\n                const index = newCollection.findIndex(\n                    // eslint-disable-next-line eqeqeq\n                    record => record.id == id\n                );\n                if (index === -1) {\n                    return;\n                }\n                newCollection = [\n                    ...newCollection.slice(0, index),\n                    ...newCollection.slice(index + 1),\n                ];\n            });\n            return newCollection;\n        };\n\n        type GetListResult = { data?: RecordType[]; total?: number };\n\n        queryClient.setQueriesData(\n            [resource, 'getList'],\n            (res: GetListResult) => {\n                if (!res || !res.data) return res;\n                const newCollection = updateColl(res.data);\n                const recordWasFound = newCollection.length < res.data.length;\n                return recordWasFound\n                    ? {\n                          data: newCollection,\n                          total:\n                              res.total -\n                              (res.data.length - newCollection.length),\n                      }\n                    : res;\n            },\n            { updatedAt }\n        );\n        queryClient.setQueriesData(\n            [resource, 'getMany'],\n            (coll: RecordType[]) =>\n                coll && coll.length > 0 ? updateColl(coll) : coll,\n            { updatedAt }\n        );\n        queryClient.setQueriesData(\n            [resource, 'getManyReference'],\n            (res: GetListResult) => {\n                if (!res || !res.data) return res;\n                const newCollection = updateColl(res.data);\n                const recordWasFound = newCollection.length < res.data.length;\n                return recordWasFound\n                    ? {\n                          data: newCollection,\n                          total:\n                              res.total -\n                              (res.data.length - newCollection.length),\n                      }\n                    : res;\n            },\n            { updatedAt }\n        );\n    };\n\n    const mutation = useMutation<\n        RecordType['id'][],\n        unknown,\n        Partial<UseDeleteManyMutateParams<RecordType>>\n    >(\n        ({\n            resource: callTimeResource = resource,\n            ids: callTimeIds = paramsRef.current.ids,\n            meta: callTimeMeta = paramsRef.current.meta,\n        } = {}) =>\n            dataProvider\n                .deleteMany<RecordType>(callTimeResource, {\n                    ids: callTimeIds,\n                    meta: callTimeMeta,\n                })\n                .then(({ data }) => data),\n        {\n            ...reactMutationOptions,\n            onMutate: async (\n                variables: Partial<UseDeleteManyMutateParams<RecordType>>\n            ) => {\n                if (reactMutationOptions.onMutate) {\n                    const userContext =\n                        (await reactMutationOptions.onMutate(variables)) || {};\n                    return {\n                        snapshot: snapshot.current,\n                        // @ts-ignore\n                        ...userContext,\n                    };\n                } else {\n                    // Return a context object with the snapshot value\n                    return { snapshot: snapshot.current };\n                }\n            },\n            onError: (\n                error: unknown,\n                variables: Partial<UseDeleteManyMutateParams<RecordType>> = {},\n                context: { snapshot: Snapshot }\n            ) => {\n                if (\n                    mode.current === 'optimistic' ||\n                    mode.current === 'undoable'\n                ) {\n                    // If the mutation fails, use the context returned from onMutate to rollback\n                    context.snapshot.forEach(([key, value]) => {\n                        queryClient.setQueryData(key, value);\n                    });\n                }\n\n                if (reactMutationOptions.onError) {\n                    return reactMutationOptions.onError(\n                        error,\n                        variables,\n                        context\n                    );\n                }\n                // call-time error callback is executed by react-query\n            },\n            onSuccess: (\n                data: RecordType['id'][],\n                variables: Partial<UseDeleteManyMutateParams<RecordType>> = {},\n                context: unknown\n            ) => {\n                if (mode.current === 'pessimistic') {\n                    // update the getOne and getList query cache with the new result\n                    const {\n                        resource: callTimeResource = resource,\n                        ids: callTimeIds = ids,\n                    } = variables;\n                    updateCache({\n                        resource: callTimeResource,\n                        ids: callTimeIds,\n                    });\n\n                    if (reactMutationOptions.onSuccess) {\n                        reactMutationOptions.onSuccess(\n                            data,\n                            variables,\n                            context\n                        );\n                    }\n                    // call-time success callback is executed by react-query\n                }\n            },\n            onSettled: (\n                data: RecordType['id'][],\n                error: unknown,\n                variables: Partial<UseDeleteManyMutateParams<RecordType>> = {},\n                context: { snapshot: Snapshot }\n            ) => {\n                if (\n                    mode.current === 'optimistic' ||\n                    mode.current === 'undoable'\n                ) {\n                    // Always refetch after error or success:\n                    context.snapshot.forEach(([key]) => {\n                        queryClient.invalidateQueries(key);\n                    });\n                }\n\n                if (reactMutationOptions.onSettled) {\n                    return reactMutationOptions.onSettled(\n                        data,\n                        error,\n                        variables,\n                        context\n                    );\n                }\n            },\n        }\n    );\n\n    const mutate = async (\n        callTimeResource: string = resource,\n        callTimeParams: Partial<DeleteManyParams<RecordType>> = {},\n        updateOptions: MutateOptions<\n            RecordType['id'][],\n            unknown,\n            Partial<UseDeleteManyMutateParams<RecordType>>,\n            unknown\n        > & { mutationMode?: MutationMode } = {}\n    ) => {\n        const { mutationMode, onSuccess, onSettled, onError } = updateOptions;\n\n        // store the hook time params *at the moment of the call*\n        // because they may change afterwards, which would break the undoable mode\n        // as the previousData would be overwritten by the optimistic update\n        paramsRef.current = params;\n\n        if (mutationMode) {\n            mode.current = mutationMode;\n        }\n\n        if (mode.current === 'pessimistic') {\n            return mutation.mutate(\n                { resource: callTimeResource, ...callTimeParams },\n                { onSuccess, onSettled, onError }\n            );\n        }\n\n        const { ids: callTimeIds = ids } = callTimeParams;\n\n        // optimistic update as documented in https://react-query.tanstack.com/guides/optimistic-updates\n        // except we do it in a mutate wrapper instead of the onMutate callback\n        // to have access to success side effects\n\n        const queryKeys = [\n            [callTimeResource, 'getList'],\n            [callTimeResource, 'getMany'],\n            [callTimeResource, 'getManyReference'],\n        ];\n\n        /**\n         * Snapshot the previous values via queryClient.getQueriesData()\n         *\n         * The snapshotData ref will contain an array of tuples [query key, associated data]\n         *\n         * @example\n         * [\n         *   [['posts', 'getList'], { data: [{ id: 1, title: 'Hello' }], total: 1 }],\n         *   [['posts', 'getMany'], [{ id: 1, title: 'Hello' }]],\n         * ]\n         *\n         * @see https://react-query.tanstack.com/reference/QueryClient#queryclientgetqueriesdata\n         */\n        snapshot.current = queryKeys.reduce(\n            (prev, curr) => prev.concat(queryClient.getQueriesData(curr)),\n            [] as Snapshot\n        );\n\n        // Cancel any outgoing re-fetches (so they don't overwrite our optimistic update)\n        await Promise.all(\n            snapshot.current.map(([key]) => queryClient.cancelQueries(key))\n        );\n\n        // Optimistically update to the new value\n        updateCache({\n            resource: callTimeResource,\n            ids: callTimeIds,\n        });\n\n        // run the success callbacks during the next tick\n        if (onSuccess) {\n            setTimeout(\n                () =>\n                    onSuccess(\n                        callTimeIds,\n                        { resource: callTimeResource, ...callTimeParams },\n                        { snapshot: snapshot.current }\n                    ),\n                0\n            );\n        }\n        if (reactMutationOptions.onSuccess) {\n            setTimeout(\n                () =>\n                    reactMutationOptions.onSuccess(\n                        callTimeIds,\n                        { resource: callTimeResource, ...callTimeParams },\n                        { snapshot: snapshot.current }\n                    ),\n                0\n            );\n        }\n\n        if (mode.current === 'optimistic') {\n            // call the mutate method without success side effects\n            return mutation.mutate(\n                { resource: callTimeResource, ...callTimeParams },\n                { onSettled, onError }\n            );\n        } else {\n            // undoable mutation: register the mutation for later\n            undoableEventEmitter.once('end', ({ isUndo }) => {\n                if (isUndo) {\n                    // rollback\n                    snapshot.current.forEach(([key, value]) => {\n                        queryClient.setQueryData(key, value);\n                    });\n                } else {\n                    // call the mutate method without success side effects\n                    mutation.mutate(\n                        { resource: callTimeResource, ...callTimeParams },\n                        { onSettled, onError }\n                    );\n                }\n            });\n        }\n    };\n\n    return [mutate, mutation];\n};\n\ntype Snapshot = [key: QueryKey, value: any][];\n\nexport interface UseDeleteManyMutateParams<RecordType extends RaRecord = any> {\n    resource?: string;\n    ids?: RecordType['id'][];\n    meta?: any;\n}\n\nexport type UseDeleteManyOptions<\n    RecordType extends RaRecord = any\n> = UseMutationOptions<\n    RecordType['id'][],\n    unknown,\n    Partial<UseDeleteManyMutateParams<RecordType>>\n> & { mutationMode?: MutationMode };\n\nexport type UseDeleteManyResult<RecordType extends RaRecord = any> = [\n    (\n        resource?: string,\n        params?: Partial<DeleteManyParams<RecordType>>,\n        options?: MutateOptions<\n            RecordType['id'][],\n            unknown,\n            Partial<UseDeleteManyMutateParams<RecordType>>,\n            unknown\n        > & { mutationMode?: MutationMode }\n    ) => Promise<void>,\n    UseMutationResult<\n        RecordType['id'][],\n        unknown,\n        Partial<DeleteManyParams<RecordType> & { resource?: string }>,\n        unknown\n    >\n];\n","import * as React from 'react';\nimport { createContext, useCallback, useState } from 'react';\nimport isEqual from 'lodash/isEqual';\n\nimport { ResourceDefinition } from '../types';\n\nexport type ResourceDefinitions = {\n    [name: string]: ResourceDefinition;\n};\n\nexport type ResourceDefinitionContextValue = [\n    ResourceDefinitions,\n    (config: ResourceDefinition) => void\n];\n\nexport const ResourceDefinitionContext = createContext<\n    ResourceDefinitionContextValue\n>([{}, () => {}]);\n\n/**\n * Context to store the current resource Definition.\n *\n * Use the useResourceDefinition() hook to read the context.\n *\n * @example\n *\n * import { useResourceDefinition, useTranslate } from 'ra-core';\n *\n * const PostMenuItem = () => {\n *     const { name, icon } = useResourceDefinition({ resource: 'posts' });\n *\n *     return (\n *          <MenuItem>\n *              <ListItemIcon>{icon}</ListItemIcon>\n *              {name}\n *          </MenuItem>\n *     );\n * };\n */\nexport const ResourceDefinitionContextProvider = ({\n    definitions: defaultDefinitions = {},\n    children,\n}) => {\n    const [definitions, setState] = useState<ResourceDefinitions>(\n        defaultDefinitions\n    );\n\n    const setDefinition = useCallback((config: ResourceDefinition) => {\n        setState(prev =>\n            isEqual(prev[config.name], config)\n                ? prev\n                : {\n                      ...prev,\n                      [config.name]: config,\n                  }\n        );\n    }, []);\n\n    return (\n        <ResourceDefinitionContext.Provider\n            value={[definitions, setDefinition]}\n        >\n            {children}\n        </ResourceDefinitionContext.Provider>\n    );\n};\n","import * as React from 'react';\nimport { ComponentType, useEffect, isValidElement, createElement } from 'react';\nimport { Routes, Route } from 'react-router-dom';\n\nimport { CoreAdminRoutes } from './CoreAdminRoutes';\nimport { Ready } from '../util';\nimport {\n    TitleComponent,\n    LoginComponent,\n    LayoutComponent,\n    CoreLayoutProps,\n    AdminChildren,\n    CatchAllComponent,\n    DashboardComponent,\n    LoadingComponent,\n} from '../types';\n\nexport type ChildrenFunction = () => ComponentType[];\n\nconst DefaultLayout = ({ children }: CoreLayoutProps) => <>{children}</>;\n\nexport interface CoreAdminUIProps {\n    catchAll?: CatchAllComponent;\n    children?: AdminChildren;\n    dashboard?: DashboardComponent;\n    disableTelemetry?: boolean;\n    layout?: LayoutComponent;\n    loading?: LoadingComponent;\n    loginPage?: LoginComponent | boolean;\n    /**\n     * @deprecated use a custom layout instead\n     */\n    menu?: ComponentType;\n    requireAuth?: boolean;\n    ready?: ComponentType;\n    title?: TitleComponent;\n}\n\nexport const CoreAdminUI = (props: CoreAdminUIProps) => {\n    const {\n        catchAll = Noop,\n        children,\n        dashboard,\n        disableTelemetry = false,\n        layout = DefaultLayout,\n        loading = Noop,\n        loginPage: LoginPage = false,\n        menu, // deprecated, use a custom layout instead\n        ready = Ready,\n        title = 'React Admin',\n        requireAuth = false,\n    } = props;\n\n    useEffect(() => {\n        if (\n            disableTelemetry ||\n            process.env.NODE_ENV !== 'production' ||\n            typeof window === 'undefined' ||\n            typeof window.location === 'undefined' ||\n            typeof Image === 'undefined'\n        ) {\n            return;\n        }\n        const img = new Image();\n        img.src = `https://react-admin-telemetry.marmelab.com/react-admin-telemetry?domain=${window.location.hostname}`;\n    }, [disableTelemetry]);\n\n    return (\n        <Routes>\n            {LoginPage !== false && LoginPage !== true ? (\n                <Route path=\"/login\" element={createOrGetElement(LoginPage)} />\n            ) : null}\n            <Route\n                path=\"/*\"\n                element={\n                    <CoreAdminRoutes\n                        catchAll={catchAll}\n                        dashboard={dashboard}\n                        layout={layout}\n                        loading={loading}\n                        menu={menu}\n                        requireAuth={requireAuth}\n                        ready={ready}\n                        title={title}\n                    >\n                        {children}\n                    </CoreAdminRoutes>\n                }\n            />\n        </Routes>\n    );\n};\n\nconst createOrGetElement = el => (isValidElement(el) ? el : createElement(el));\n\nconst Noop = () => null;\n","import * as React from 'react';\nimport { useState, useEffect, Children, ComponentType } from 'react';\nimport { Navigate, Route, Routes } from 'react-router-dom';\n\nimport { WithPermissions, useCheckAuth } from '../auth';\nimport { useTimeout } from '../util';\nimport { useScrollToTop, useCreatePath } from '../routing';\nimport {\n    AdminChildren,\n    CatchAllComponent,\n    LayoutComponent,\n    LoadingComponent,\n    CoreLayoutProps,\n} from '../types';\nimport { useConfigureAdminRouterFromChildren } from './useConfigureAdminRouterFromChildren';\n\nexport const CoreAdminRoutes = (props: CoreAdminRoutesProps) => {\n    const oneSecondHasPassed = useTimeout(1000);\n    useScrollToTop();\n    const createPath = useCreatePath();\n\n    const {\n        customRoutesWithLayout,\n        customRoutesWithoutLayout,\n        status,\n        resources,\n    } = useConfigureAdminRouterFromChildren(props.children);\n\n    const {\n        layout: Layout,\n        catchAll: CatchAll,\n        dashboard,\n        loading: LoadingPage,\n        menu,\n        requireAuth,\n        ready: Ready,\n        title,\n    } = props;\n\n    const [canRender, setCanRender] = useState(!requireAuth);\n    const checkAuth = useCheckAuth();\n\n    useEffect(() => {\n        if (requireAuth) {\n            checkAuth()\n                .then(() => {\n                    setCanRender(true);\n                })\n                .catch(() => {});\n        }\n    }, [checkAuth, requireAuth]);\n\n    if (status === 'empty') {\n        return <Ready />;\n    }\n\n    if (status === 'loading' || !canRender) {\n        return (\n            <Routes>\n                {customRoutesWithoutLayout}\n                {oneSecondHasPassed ? (\n                    <Route path=\"*\" element={<LoadingPage />} />\n                ) : (\n                    <Route path=\"*\" element={null} />\n                )}\n            </Routes>\n        );\n    }\n\n    return (\n        <Routes>\n            {/*\n                Render the custom routes that were outside the child function.\n            */}\n            {customRoutesWithoutLayout}\n            <Route\n                path=\"/*\"\n                element={\n                    <div>\n                        <Layout dashboard={dashboard} menu={menu} title={title}>\n                            <Routes>\n                                {customRoutesWithLayout}\n                                {Children.map(resources, resource => (\n                                    <Route\n                                        key={resource.props.name}\n                                        path={`${resource.props.name}/*`}\n                                        element={resource}\n                                    />\n                                ))}\n                                <Route\n                                    path=\"/\"\n                                    element={\n                                        dashboard ? (\n                                            <WithPermissions\n                                                authParams={defaultAuthParams}\n                                                component={dashboard}\n                                            />\n                                        ) : resources.length > 0 ? (\n                                            <Navigate\n                                                to={createPath({\n                                                    resource:\n                                                        resources[0].props.name,\n                                                    type: 'list',\n                                                })}\n                                            />\n                                        ) : null\n                                    }\n                                />\n                                <Route\n                                    path=\"*\"\n                                    element={<CatchAll title={title} />}\n                                />\n                            </Routes>\n                        </Layout>\n                    </div>\n                }\n            />\n        </Routes>\n    );\n};\n\nCoreAdminRoutes.defaultProps = {\n    customRoutes: [],\n};\n\nexport interface CoreAdminRoutesProps extends CoreLayoutProps {\n    layout: LayoutComponent;\n    catchAll: CatchAllComponent;\n    children?: AdminChildren;\n    loading: LoadingComponent;\n    requireAuth?: boolean;\n    ready?: ComponentType;\n}\n\nconst defaultAuthParams = { route: 'dashboard' };\n","import React, {\n    Children,\n    Fragment,\n    ReactElement,\n    ReactNode,\n    useEffect,\n} from 'react';\nimport { useLogout, useGetPermissions, useAuthState } from '../auth';\nimport { useSafeSetState } from '../util';\nimport {\n    AdminChildren,\n    RenderResourcesFunction,\n    ResourceDefinition,\n    ResourceProps,\n} from '../types';\nimport { CustomRoutesProps } from './CustomRoutes';\nimport { useRegisterResource } from './useRegisterResource';\n\n/**\n * This hook inspects the CoreAdminRouter children and returns them separated in three groups:\n * - Custom routes without layout\n * - Custom routes with layout\n * - Resources\n *\n * It also returns a status:\n * - loading: still loading children from a function child\n * - empty: no resources were provided among children\n * - ready: admin is ready to be rendered\n *\n * @example\n * const {\n *    customRoutesWithLayout,\n *    customRoutesWithoutLayout,\n *    resources,\n *    status,\n * } = useConfigureAdminRouterFromChildren(children);\n */\nexport const useConfigureAdminRouterFromChildren = (\n    children: AdminChildren\n) => {\n    const getPermissions = useGetPermissions();\n    const doLogout = useLogout();\n    const { authenticated } = useAuthState();\n    const registerResource = useRegisterResource();\n    // Gather custom routes and resources that were declared as direct children of CoreAdminRouter\n    // e.g. Not returned from the child function (if any)\n    // We need to know right away wether some resources were declared to correctly\n    // initialize the status at the next stop\n    const routesAndResources = getRoutesAndResourceFromNodes(children);\n\n    const [\n        customRoutesWithoutLayout,\n        setCustomRoutesWithoutLayout,\n    ] = useSafeSetState(routesAndResources.customRoutesWithoutLayout);\n    const [customRoutesWithLayout, setCustomRoutesWithLayout] = useSafeSetState(\n        routesAndResources.customRoutesWithLayout\n    );\n    const [resources, setResources] = useSafeSetState<\n        ReactElement<ResourceProps>[]\n    >(routesAndResources.resources);\n\n    const [status, setStatus] = useSafeSetState<AdminRouterStatus>(() =>\n        !!getSingleChildFunction(children)\n            ? 'loading'\n            : resources.length > 0\n            ? 'ready'\n            : 'empty'\n    );\n\n    // Whenever children are updated, update our custom routes and resources\n    useEffect(() => {\n        const functionChild = getSingleChildFunction(children);\n        const routesAndResources = getRoutesAndResourceFromNodes(children);\n        setCustomRoutesWithLayout(routesAndResources.customRoutesWithLayout);\n        setCustomRoutesWithoutLayout(\n            routesAndResources.customRoutesWithoutLayout\n        );\n        setResources(routesAndResources.resources);\n        setStatus(\n            !!functionChild\n                ? 'loading'\n                : routesAndResources.resources.length > 0\n                ? 'ready'\n                : 'empty'\n        );\n    }, [\n        children,\n        setCustomRoutesWithLayout,\n        setCustomRoutesWithoutLayout,\n        setResources,\n        setStatus,\n    ]);\n\n    useEffect(() => {\n        const resolveChildFunction = async (\n            childFunc: RenderResourcesFunction\n        ) => {\n            const updateRoutesAndResources = nodes => {\n                const routesAndResources = getRoutesAndResourceFromNodes(nodes);\n                setCustomRoutesWithLayout(previous =>\n                    previous.concat(routesAndResources.customRoutesWithLayout)\n                );\n                setCustomRoutesWithoutLayout(previous =>\n                    previous.concat(\n                        routesAndResources.customRoutesWithoutLayout\n                    )\n                );\n                setResources(previous =>\n                    previous.concat(routesAndResources.resources)\n                );\n            };\n\n            try {\n                const permissions = await getPermissions();\n                const childrenFuncResult = childFunc(permissions);\n                if ((childrenFuncResult as Promise<ReactNode>).then) {\n                    (childrenFuncResult as Promise<ReactNode>).then(\n                        resolvedChildren => {\n                            updateRoutesAndResources(resolvedChildren);\n                        }\n                    );\n                } else {\n                    updateRoutesAndResources(childrenFuncResult);\n                }\n\n                setStatus('ready');\n            } catch (error) {\n                console.error(error);\n                doLogout();\n            }\n        };\n\n        const functionChild = getSingleChildFunction(children);\n        if (functionChild) {\n            resolveChildFunction(functionChild);\n        }\n    }, [\n        authenticated,\n        children,\n        doLogout,\n        getPermissions,\n        setCustomRoutesWithLayout,\n        setCustomRoutesWithoutLayout,\n        setResources,\n        setStatus,\n    ]);\n\n    // Whenever the resources change, we must ensure they're all registered\n    useEffect(() => {\n        resources.forEach(resource => {\n            if (\n                typeof ((resource.type as unknown) as ResourceWithRegisterFunction)\n                    .registerResource === 'function'\n            ) {\n                const definition = ((resource.type as unknown) as ResourceWithRegisterFunction).registerResource(\n                    resource.props\n                );\n                registerResource(definition);\n            } else {\n                throw new Error(\n                    'When using a custom Resource element, it must have a static registerResource method accepting its props and returning a ResourceDefinition'\n                );\n            }\n        });\n    }, [registerResource, resources]);\n\n    return {\n        customRoutesWithLayout,\n        customRoutesWithoutLayout,\n        status,\n        resources,\n    };\n};\n\ntype ResourceWithRegisterFunction = {\n    registerResource: (props: ResourceProps) => ResourceDefinition;\n};\n\n/**\n * Inspect the children of a CoreAdminRouter to see if one of them is a function.\n * Throws an error if there are more than one function child.\n * Returns the function child if one was provided, or null otherwise.\n */\nconst getSingleChildFunction = (\n    children: ReactNode\n): RenderResourcesFunction | null => {\n    const childrenArray = Array.isArray(children) ? children : [children];\n\n    const functionChildren = childrenArray.filter(\n        child => typeof child === 'function'\n    );\n\n    if (functionChildren.length > 1) {\n        throw new Error(\n            'You can only provide one function child to AdminRouter'\n        );\n    }\n\n    if (functionChildren.length === 0) {\n        return null;\n    }\n\n    return functionChildren[0] as RenderResourcesFunction;\n};\n\ntype AdminRouterStatus = 'loading' | 'empty' | 'ready';\n\n/**\n * Inspect the children and return an object with the following keys:\n * - customRoutesWithLayout: an array of the custom routes to render inside the layout\n * - customRoutesWithoutLayout: an array of custom routes to render outside the layout\n * - resources: an array of resources elements\n */\nconst getRoutesAndResourceFromNodes = (children: ReactNode) => {\n    const customRoutesWithLayout = [];\n    const customRoutesWithoutLayout = [];\n    const resources = [];\n    Children.forEach(children, element => {\n        if (!React.isValidElement(element)) {\n            // Ignore non-elements. This allows people to more easily inline\n            // conditionals in their route config.\n            return;\n        }\n        if (element.type === Fragment) {\n            const customRoutesFromFragment = getRoutesAndResourceFromNodes(\n                element.props.children\n            );\n            customRoutesWithLayout.push(\n                ...customRoutesFromFragment.customRoutesWithLayout\n            );\n            customRoutesWithoutLayout.push(\n                ...customRoutesFromFragment.customRoutesWithoutLayout\n            );\n            resources.push(...customRoutesFromFragment.resources);\n        }\n\n        if ((element.type as any).raName === 'CustomRoutes') {\n            const customRoutesElement = element as ReactElement<\n                CustomRoutesProps\n            >;\n\n            if (customRoutesElement.props.noLayout) {\n                customRoutesWithoutLayout.push(\n                    customRoutesElement.props.children\n                );\n            } else {\n                customRoutesWithLayout.push(customRoutesElement.props.children);\n            }\n        } else if ((element.type as any).raName === 'Resource') {\n            resources.push(element as ReactElement<ResourceProps>);\n        }\n    });\n\n    return {\n        customRoutesWithLayout,\n        customRoutesWithoutLayout,\n        resources,\n    };\n};\n","import { useCallback, useContext } from 'react';\n\nimport { ResourceDefinitionContext } from './ResourceDefinitionContext';\nimport { ResourceDefinition } from '../types';\n\nexport const useRegisterResource = () => {\n    const [, setResourceConfiguration] = useContext(ResourceDefinitionContext);\n\n    const registerResource = useCallback(\n        (...resources: ResourceDefinition[]) => {\n            resources.forEach(resource => {\n                setResourceConfiguration(resource);\n            });\n        },\n        [setResourceConfiguration]\n    );\n\n    return registerResource;\n};\n","import { ReactNode } from 'react';\n\n/**\n * This component allows you to provide custom routes to the Admin.\n * @param props The component props\n * @param props.children The custom routes.\n * @param props.noLayout A boolean indicating whether to render the routes outside the Layout. Defaults to false.\n * @returns Nothing. This is a configuration component.\n */\nexport const CustomRoutes = (props: CustomRoutesProps) => {\n    return null;\n};\n\nCustomRoutes.raName = 'CustomRoutes';\n\nexport type CustomRoutesProps = {\n    children: ReactNode;\n    noLayout?: boolean;\n};\n","import * as React from 'react';\nimport { isValidElement } from 'react';\nimport { Route, Routes } from 'react-router-dom';\n\nimport { ResourceProps } from '../types';\nimport { ResourceContextProvider } from './ResourceContextProvider';\n\nexport const Resource = (props: ResourceProps) => {\n    const { create: Create, edit: Edit, list: List, name, show: Show } = props;\n\n    return (\n        <ResourceContextProvider value={name}>\n            <Routes>\n                {Create && (\n                    <Route\n                        path=\"create/*\"\n                        element={isValidElement(Create) ? Create : <Create />}\n                    />\n                )}\n                {Show && (\n                    <Route\n                        path=\":id/show/*\"\n                        element={isValidElement(Show) ? Show : <Show />}\n                    />\n                )}\n                {Edit && (\n                    <Route\n                        path=\":id/*\"\n                        element={isValidElement(Edit) ? Edit : <Edit />}\n                    />\n                )}\n                {List && (\n                    <Route\n                        path=\"/*\"\n                        element={isValidElement(List) ? List : <List />}\n                    />\n                )}\n            </Routes>\n        </ResourceContextProvider>\n    );\n};\n\nResource.raName = 'Resource';\n\nResource.registerResource = ({\n    create,\n    edit,\n    icon,\n    list,\n    name,\n    options,\n    show,\n}: ResourceProps) => ({\n    name,\n    options,\n    hasList: !!list,\n    hasCreate: !!create,\n    hasEdit: !!edit,\n    hasShow: !!show,\n    icon,\n});\n","import * as React from 'react';\nimport { ReactElement } from 'react';\nimport { ResourceContext, ResourceContextValue } from './ResourceContext';\n\n/**\n * Create a Resource Context with the resource name\n *\n * Some react-admin components rely on the resource name to be available in the context.\n * This component provides it.\n *\n * If the value is empty, the context is not provided.\n *\n * @param {string} value the resource name\n * @example\n *\n * import { ResourceContextProvider } from 'react-admin';\n *\n * const MyComponent = () => (\n *    <ResourceContextProvider value=\"posts\">\n *       <MyResourceSpecificComponent />\n *   </ResourceContextProvider>\n * );\n */\nexport const ResourceContextProvider = ({\n    children,\n    value,\n}: {\n    children: ReactElement;\n    value?: ResourceContextValue;\n}) =>\n    value ? (\n        <ResourceContext.Provider value={value}>\n            {children}\n        </ResourceContext.Provider>\n    ) : (\n        children\n    );\n","import inflection from 'inflection';\n\nimport { useResourceDefinitions } from './useResourceDefinitions';\nimport { useTranslate } from '../i18n';\n\n/**\n * A hook which returns function to get a translated resource name. It will use the label option of the `Resource` component if it was provided.\n *\n * @returns {GetResourceLabel} A function which takes a resource name and an optional number indicating the number of items (used for pluralization) and returns a translated string.\n * @example\n * const Menu = () => {\n *     const resources = useResourceDefinitions();\n *     const getResourceLabel = useGetResourceLabel();\n *\n *     return (\n *         <ul>\n *             {Object.keys(resources).map(name => (\n *                 <li key={name}>\n *                     {getResourceLabel(name, 2)}\n *                 </li>\n *             ))}\n *         </ul>\n *     )\n * }\n */\nexport const useGetResourceLabel = (): GetResourceLabel => {\n    const translate = useTranslate();\n    const definitions = useResourceDefinitions();\n\n    return (resource: string, count = 2): string => {\n        const resourceDefinition = definitions[resource];\n\n        const label = translate(`resources.${resource}.name`, {\n            smart_count: count,\n            _:\n                resourceDefinition &&\n                resourceDefinition.options &&\n                resourceDefinition.options.label\n                    ? translate(resourceDefinition.options.label, {\n                          smart_count: count,\n                          _: resourceDefinition.options.label,\n                      })\n                    : inflection.humanize(\n                          count > 1\n                              ? inflection.pluralize(resource)\n                              : inflection.singularize(resource)\n                      ),\n        });\n\n        return label;\n    };\n};\n\nexport type GetResourceLabel = (resource: string, count?: number) => string;\n","import { useContext } from 'react';\n\nimport {\n    ResourceDefinitionContext,\n    ResourceDefinitions,\n} from './ResourceDefinitionContext';\n\n/**\n * Get the definition of the all resources\n *\n * @example\n *\n * const definitions = useResourceDefinitions();\n * console.log(definitions.posts);\n * // {\n * //   name: 'posts',\n * //   hasList: true,\n * //   hasEdit: true,\n * //   hasShow: true,\n * //   hasCreate: true,\n * //   options: {},\n * //   icon: PostIcon,\n * // }\n */\nexport const useResourceDefinitions = (): ResourceDefinitions =>\n    useContext(ResourceDefinitionContext)[0];\n","import { useMemo } from 'react';\nimport defaults from 'lodash/defaults';\n\nimport { useResourceDefinitions } from './useResourceDefinitions';\nimport { useResourceContext } from './useResourceContext';\nimport { ResourceDefinition } from '../types';\n\n/**\n * Hook to get the definition of a given resource\n *\n * @example // Get the current resource definition (based on ResourceContext)\n *\n * const definition = useResourceDefinition();\n * console.log(definition);\n * // {\n * //   name: 'posts',\n * //   hasList: true,\n * //   hasEdit: true,\n * //   hasShow: true,\n * //   hasCreate: true,\n * //   options: {},\n * //   icon: PostIcon,\n * // }\n *\n * @example // Pass a resource prop to check a different resource definition\n *\n * const definition = useResourceDefinition({ resource: 'posts' });\n */\nexport const useResourceDefinition = (\n    props?: UseResourceDefinitionOptions\n): ResourceDefinition => {\n    const resource = useResourceContext(props);\n    const resourceDefinitions = useResourceDefinitions();\n    const { hasCreate, hasEdit, hasList, hasShow } = props || {};\n\n    const definition = useMemo(() => {\n        return defaults(\n            {},\n            {\n                hasCreate,\n                hasEdit,\n                hasList,\n                hasShow,\n            },\n            resourceDefinitions[resource]\n        );\n    }, [resource, resourceDefinitions, hasCreate, hasEdit, hasList, hasShow]);\n\n    return definition;\n};\n\nexport interface UseResourceDefinitionOptions {\n    readonly resource?: string;\n    readonly hasList?: boolean;\n    readonly hasEdit?: boolean;\n    readonly hasShow?: boolean;\n    readonly hasCreate?: boolean;\n}\n","import jsonExport from 'jsonexport/dist';\n\nimport downloadCSV from './downloadCSV';\nimport { Exporter } from '../types';\n\nconst defaultExporter: Exporter = (data, _, __, resource) =>\n    jsonExport(data, (err, csv) => downloadCSV(csv, resource));\n\nexport default defaultExporter;\n","export default (csv, filename) => {\n    const fakeLink = document.createElement('a');\n    fakeLink.style.display = 'none';\n    document.body.appendChild(fakeLink);\n    const blob = new Blob([csv], { type: 'text/csv;charset=utf-8' });\n    // @ts-ignore\n    if (window.navigator && window.navigator.msSaveOrOpenBlob) {\n        // Manage IE11+ & Edge\n        // @ts-ignore\n        window.navigator.msSaveOrOpenBlob(blob, `${filename}.csv`);\n    } else {\n        fakeLink.setAttribute('href', URL.createObjectURL(blob));\n        fakeLink.setAttribute('download', `${filename}.csv`);\n        fakeLink.click();\n    }\n};\n","import { createContext } from 'react';\n\nimport { Exporter } from '../types';\nimport defaultExporter from './defaultExporter';\n\nconst ExporterContext = createContext<Exporter | false>(defaultExporter);\n\nExporterContext.displayName = 'ExporterContext';\n\nexport default ExporterContext;\n","import { RaRecord, Identifier, DataProvider } from '../types';\n\n/**\n * Helper function for calling the dataProvider.getMany() method,\n * and getting a Promise for the records indexed by id in return.\n *\n * @example\n *     fetchRelatedRecords(dataProvider)(records, 'post_id', 'posts').then(posts =>\n *         posts.map(record => ({\n *             ...record,\n *             post_title: posts[record.post_id].title,\n *         }))\n *     );\n */\nconst fetchRelatedRecords = (dataProvider: DataProvider) => (\n    data,\n    field,\n    resource\n) =>\n    dataProvider\n        .getMany(resource, { ids: getRelatedIds(data, field) })\n        .then(({ data }) =>\n            data.reduce((acc, post) => {\n                acc[post.id] = post;\n                return acc;\n            }, {})\n        );\n\n/**\n * Extracts, aggregates and deduplicates the ids of related records\n *\n * @example\n *     const books = [\n *         { id: 1, author_id: 123, title: 'Pride and Prejudice' },\n *         { id: 2, author_id: 123, title: 'Sense and Sensibility' },\n *         { id: 3, author_id: 456, title: 'War and Peace' },\n *     ];\n *     getRelatedIds(books, 'author_id'); => [123, 456]\n *\n * @example\n *     const books = [\n *         { id: 1, tag_ids: [1, 2], title: 'Pride and Prejudice' },\n *         { id: 2, tag_ids: [2, 3], title: 'Sense and Sensibility' },\n *         { id: 3, tag_ids: [4], title: 'War and Peace' },\n *     ];\n *     getRelatedIds(records, 'tag_ids'); => [1, 2, 3, 4]\n *\n * @param {Object[]} records An array of records\n * @param {string} field the identifier of the record field to use\n */\nexport const getRelatedIds = (\n    records: RaRecord[],\n    field: string\n): Identifier[] =>\n    Array.from(\n        new Set(\n            records\n                .filter(record => record[field] != null)\n                .map(record => record[field])\n                .reduce((ids, value) => ids.concat(value), [])\n        )\n    );\n\nexport default fetchRelatedRecords;\n","import * as React from 'react';\nimport inflection from 'inflection';\n\nimport getValuesFromRecords from './getValuesFromRecords';\nimport InferredElement from './InferredElement';\n\nimport {\n    isObject,\n    valuesAreArray,\n    valuesAreBoolean,\n    valuesAreDate,\n    valuesAreDateString,\n    valuesAreHtml,\n    valuesAreInteger,\n    valuesAreNumeric,\n    valuesAreObject,\n    valuesAreString,\n} from './assertions';\nimport { InferredTypeMap } from './types';\n\nconst DefaultComponent = () => <span>;</span>;\nconst defaultType = {\n    type: DefaultComponent,\n    representation: () => '<DefaultComponent />',\n};\nconst defaultTypes = {\n    array: defaultType,\n    boolean: defaultType,\n    date: defaultType,\n    email: defaultType,\n    id: defaultType,\n    number: defaultType,\n    reference: defaultType,\n    referenceArray: defaultType,\n    richText: defaultType,\n    string: defaultType,\n    url: defaultType,\n};\n\nconst hasType = (type, types) => typeof types[type] !== 'undefined';\n\n/**\n * Guesses an element based on an array of values\n *\n * @example\n *     inferElementFromValues(\n *         'address',\n *         ['2 Baker Street', '1 Downing street'],\n *         { number: NumberField, string: StringField }\n *     );\n *     // new InferredElement(<StringField source=\"address\" />)\n *\n * Types are optional: if a type isn't provided, the function falls back\n * to the nearest type.\n *\n * @example\n *     inferElementFromValues(\n *         'content',\n *         ['<h1>Hello</h1>'],\n *         { string: StringField } // no richText type\n *     );\n *     // new InferredElement(<StringField source=\"content\" />)\n *\n * Types can be disabled by passing a falsy value.\n *\n * @example\n *     inferElementFromValues(\n *         'content',\n *         ['<h1>Hello</h1>'],\n *         { string: StringField, richText: false }\n *     );\n *     // null\n *\n * @param {string} name Property name, e.g. 'date_of_birth'\n * @param {any[]} values an array of values from which to determine the type, e.g. [12, 34.4, 43]\n * @param {Object} types A set of components indexed by type. The string type is the only required one\n *\n * @return InferredElement\n */\nconst inferElementFromValues = (\n    name,\n    values = [],\n    types: InferredTypeMap = defaultTypes\n) => {\n    if (name === 'id' && hasType('id', types)) {\n        return new InferredElement(types.id, { source: name });\n    }\n    if (name.substr(name.length - 3) === '_id' && hasType('reference', types)) {\n        const reference = inflection.pluralize(name.substr(0, name.length - 3));\n        return (\n            types.reference &&\n            new InferredElement(\n                types.reference,\n                {\n                    source: name,\n                    reference,\n                },\n                new InferredElement(types.referenceChild)\n            )\n        );\n    }\n    if (name.substr(name.length - 2) === 'Id' && hasType('reference', types)) {\n        const reference = inflection.pluralize(name.substr(0, name.length - 2));\n        return (\n            types.reference &&\n            new InferredElement(\n                types.reference,\n                {\n                    source: name,\n                    reference,\n                },\n                new InferredElement(types.referenceChild)\n            )\n        );\n    }\n    if (\n        name.substr(name.length - 4) === '_ids' &&\n        hasType('referenceArray', types)\n    ) {\n        const reference = inflection.pluralize(name.substr(0, name.length - 4));\n        return (\n            types.referenceArray &&\n            new InferredElement(\n                types.referenceArray,\n                {\n                    source: name,\n                    reference,\n                },\n                new InferredElement(types.referenceArrayChild)\n            )\n        );\n    }\n    if (\n        name.substr(name.length - 3) === 'Ids' &&\n        hasType('referenceArray', types)\n    ) {\n        const reference = inflection.pluralize(name.substr(0, name.length - 3));\n        return (\n            types.referenceArray &&\n            new InferredElement(\n                types.referenceArray,\n                {\n                    source: name,\n                    reference,\n                },\n                new InferredElement(types.referenceArrayChild)\n            )\n        );\n    }\n    if (values.length === 0) {\n        // FIXME introspect further using name\n        return new InferredElement(types.string, { source: name });\n    }\n    if (valuesAreArray(values)) {\n        if (isObject(values[0][0]) && hasType('array', types)) {\n            const leafValues = getValuesFromRecords(\n                values.reduce((acc, vals) => acc.concat(vals), [])\n            );\n            // FIXME bad visual representation\n            return (\n                types.array &&\n                new InferredElement(\n                    types.array,\n                    {\n                        source: name,\n                    },\n                    Object.keys(leafValues).map(leafName =>\n                        inferElementFromValues(\n                            leafName,\n                            leafValues[leafName],\n                            types\n                        )\n                    )\n                )\n            );\n        }\n        // FIXME introspect further\n        return new InferredElement(types.string, { source: name });\n    }\n    if (valuesAreBoolean(values) && hasType('boolean', types)) {\n        return new InferredElement(types.boolean, { source: name });\n    }\n    if (valuesAreDate(values) && hasType('date', types)) {\n        return new InferredElement(types.date, { source: name });\n    }\n    if (valuesAreString(values)) {\n        if (name === 'email' && hasType('email', types)) {\n            return new InferredElement(types.email, { source: name });\n        }\n        if (name === 'url' && hasType('url', types)) {\n            return new InferredElement(types.url, { source: name });\n        }\n        if (valuesAreDateString(values) && hasType('date', types)) {\n            return new InferredElement(types.date, { source: name });\n        }\n        if (valuesAreHtml(values) && hasType('richText', types)) {\n            return new InferredElement(types.richText, { source: name });\n        }\n        return new InferredElement(types.string, { source: name });\n    }\n    if (\n        (valuesAreInteger(values) || valuesAreNumeric(values)) &&\n        hasType('number', types)\n    ) {\n        return new InferredElement(types.number, { source: name });\n    }\n    if (valuesAreObject(values)) {\n        // we need to go deeper\n        // Arbitrarily, choose the first prop of the first object\n        const propName = Object.keys(values[0]).shift();\n        const leafValues = values.map(v => v[propName]);\n        return inferElementFromValues(`${name}.${propName}`, leafValues, types);\n    }\n    return new InferredElement(types.string, { source: name });\n};\n\nexport default inferElementFromValues;\n","/**\n * Gets a list of values indexed by field based on a list of records\n *\n * @example\n * const records = [\n *     {\n *         id: 1,\n *         title: \"Lorem Ipsum\",\n *         views: 254,\n *         user_id: 123,\n *     },\n *     {\n *         id: 2,\n *         title: \"Sic Dolor amet\",\n *         views: 65,\n *         user_id: 456,\n *     },\n * ];\n * getValuesFromRecords(records);\n * // {\n * //    id: [1, 2],\n * //    title: ['Lorem Ipsum', 'Sic Dolor amet'],\n * //    views: [254, 65],\n * //    user_id: [123, 456],\n * // }\n */\nexport default (records: any[]) =>\n    records.reduce((values, record) => {\n        Object.keys(record).forEach(fieldName => {\n            if (!values[fieldName]) {\n                values[fieldName] = [];\n            }\n            if (record[fieldName] != null) {\n                const value = Array.isArray(record[fieldName])\n                    ? [record[fieldName]]\n                    : record[fieldName];\n                values[fieldName] = values[fieldName].concat(value);\n            }\n        });\n        return values;\n    }, {});\n","import { createElement } from 'react';\nimport { InferredType } from './types';\n\nclass InferredElement {\n    constructor(\n        private type?: InferredType,\n        private props?: any,\n        private children?: any\n    ) {}\n\n    getElement(props = {}) {\n        if (!this.isDefined()) {\n            return;\n        }\n        return this.children\n            ? createElement(\n                  this.type.component,\n                  { ...this.props, ...props },\n                  this.children.length > 0\n                      ? this.children.map((child, index) =>\n                            child.getElement({ key: index })\n                        )\n                      : this.children.getElement()\n              )\n            : createElement(this.type.component, { ...this.props, ...props });\n    }\n\n    getProps() {\n        return this.props;\n    }\n\n    isDefined() {\n        return !!this.type;\n    }\n\n    getRepresentation() {\n        if (!this.isDefined()) {\n            return;\n        }\n        if (this.type.representation) {\n            return this.type.representation(this.props, this.children);\n        }\n        return `<${\n            this.type.component.displayName || this.type.component.name\n        } source=\"${this.props.source}\" />`;\n    }\n}\n\nexport default InferredElement;\n","import { isMatch, isValid, parseISO } from 'date-fns';\n\nexport const isNumeric = (value: any) =>\n    !isNaN(parseFloat(value)) && isFinite(value);\nexport const valuesAreNumeric = (values: any[]) => values.every(isNumeric);\n\nexport const isInteger = (value: any) =>\n    Number.isInteger(value) || !isNaN(parseInt(value));\nexport const valuesAreInteger = (values: any[]) => values.every(isInteger);\n\nexport const isBoolean = (value: any) => typeof value === 'boolean';\nexport const valuesAreBoolean = (values: any[]) => values.every(isBoolean);\n\nexport const isBooleanString = (value: any) =>\n    ['true', 'false'].includes(value.toString().toLowerCase());\nexport const valuesAreBooleanString = (values: any[]) =>\n    values.every(isBooleanString);\n\nexport const isString = (value: any) => typeof value === 'string';\nexport const valuesAreString = (values: any[]) => values.every(isString);\n\nconst HtmlRegexp = /<([A-Z][A-Z0-9]*)\\b[^>]*>(.*?)<\\/\\1>/i;\nexport const isHtml = (value: any) => !value || HtmlRegexp.test(value);\nexport const valuesAreHtml = (values: any[]) => values.every(isHtml);\n\nconst UrlRegexp = /http(s*):\\/\\/.*/i;\nexport const isUrl = (value: any) => !value || UrlRegexp.test(value);\nexport const valuesAreUrl = (values: any[]) => values.every(isUrl);\n\nconst ImageUrlRegexp = /http(s*):\\/\\/.*\\.(jpeg|jpg|jfif|pjpeg|pjp|png|svg|gif|webp|apng|bmp|ico|cur|tif|tiff)/i;\nexport const isImageUrl = (value: any) => !value || ImageUrlRegexp.test(value);\nexport const valuesAreImageUrl = (values: any[]) => values.every(isImageUrl);\n\n// This is a very simple regex to find emails\n// It is NOT meant to validate emails as the spec is way more complicated but is\n// enough for our inference needs\nconst EmailRegexp = /@{1}/;\nexport const isEmail = (value: any) => !value || EmailRegexp.test(value);\nexport const valuesAreEmail = (values: any[]) => values.every(isEmail);\n\nexport const isArray = (value: any) => Array.isArray(value);\nexport const valuesAreArray = (values: any[]) => values.every(isArray);\n\nexport const isDate = (value: any) => !value || value instanceof Date;\nexport const valuesAreDate = (values: any[]) => values.every(isDate);\n\nexport const isDateString = (value: any) =>\n    !value ||\n    (typeof value === 'string' &&\n        (isMatch(value, 'MM/dd/yyyy') ||\n            isMatch(value, 'MM/dd/yy') ||\n            isValid(parseISO(value))));\n\nexport const valuesAreDateString = (values: any[]) =>\n    values.every(isDateString);\n\nexport const isObject = (value: any) =>\n    Object.prototype.toString.call(value) === '[object Object]';\nexport const valuesAreObject = (values: any[]) => values.every(isObject);\n","import inferElementFromValues from './inferElementFromValues';\nimport getValuesFromRecords from './getValuesFromRecords';\nimport { InferredTypeMap } from './types';\n\n/**\n * Get a list of React-admin field components from a list of records\n *\n * @example\n * const records = [\n *     {\n *         \"id\": 1,\n *         \"title\": \"Lorem Ipsum\",\n *         \"views\": 254,\n *         \"user_id\": 123,\n *     },\n *     {\n *         \"id\": 2,\n *         \"title\": \"Sic Dolor amet\",\n *         \"user_id\": 456,\n *     },\n * ];\n * const types = {\n *     id: NumberField,\n *     string: TextField,\n *     number: NumberField,\n *     reference: ReferenceField\n * };\n * const components = getElementsFromRecords(records, types);\n * // [\n * //    <NumberField source=\"id\" />,\n * //    <TextField source=\"title\" />,\n * //    <NumberField source=\"views\" />,\n * //    <ReferenceField source=\"user_id\" reference=\"users\"><NumberField source=\"id\" /></ReferenceField>,\n * // ];\n */\nexport default (records: any[], types: InferredTypeMap) => {\n    const fieldValues = getValuesFromRecords(records);\n    return Object.keys(fieldValues)\n        .reduce(\n            (fields, fieldName) =>\n                fields.concat(\n                    inferElementFromValues(\n                        fieldName,\n                        fieldValues[fieldName],\n                        types\n                    )\n                ),\n            []\n        )\n        .filter(inferredElement => inferredElement.isDefined());\n};\n","import inflection from 'inflection';\n\nimport getValuesFromRecords from './getValuesFromRecords';\n\nimport {\n    isObject,\n    valuesAreArray,\n    valuesAreBoolean,\n    valuesAreDate,\n    valuesAreDateString,\n    valuesAreHtml,\n    valuesAreInteger,\n    valuesAreNumeric,\n    valuesAreObject,\n    valuesAreString,\n    valuesAreUrl,\n    valuesAreImageUrl,\n    valuesAreEmail,\n} from './assertions';\n\nexport const InferenceTypes = [\n    'array',\n    'boolean',\n    'date',\n    'email',\n    'id',\n    'image',\n    'number',\n    'reference',\n    'referenceChild',\n    'referenceArray',\n    'referenceArrayChild',\n    'richText',\n    'string',\n    'url',\n    'object',\n] as const;\n\nexport type PossibleInferredElementTypes = typeof InferenceTypes[number];\n\nexport interface InferredElementDescription {\n    type: PossibleInferredElementTypes;\n    props?: any;\n    children?: InferredElementDescription | InferredElementDescription[];\n}\n\n/**\n * Guesses an element type based on an array of values\n *\n * @example\n *     inferElementFromValues(\n *         'address',\n *         ['2 Baker Street', '1 Downing street'],\n *     );\n *     // { type: 'string', props: { source: 'address' } }\n *\n * @param {string} name Property name, e.g. 'date_of_birth'\n * @param {any[]} values an array of values from which to determine the type, e.g. [12, 34.4, 43]\n */\nexport const inferTypeFromValues = (\n    name,\n    values = []\n): InferredElementDescription => {\n    if (name === 'id') {\n        return { type: 'id', props: { source: name } };\n    }\n    if (name.substr(name.length - 3) === '_id') {\n        return {\n            type: 'reference',\n            props: {\n                source: name,\n                reference: inflection.pluralize(\n                    name.substr(0, name.length - 3)\n                ),\n            },\n            children: { type: 'referenceChild' },\n        };\n    }\n    if (name.substr(name.length - 2) === 'Id') {\n        return {\n            type: 'reference',\n            props: {\n                source: name,\n                reference: inflection.pluralize(\n                    name.substr(0, name.length - 2)\n                ),\n            },\n            children: { type: 'referenceChild' },\n        };\n    }\n    if (name.substr(name.length - 4) === '_ids') {\n        return {\n            type: 'referenceArray',\n            props: {\n                source: name,\n                reference: inflection.pluralize(\n                    name.substr(0, name.length - 4)\n                ),\n            },\n            children: { type: 'referenceArrayChild' },\n        };\n    }\n    if (name.substr(name.length - 3) === 'Ids') {\n        return {\n            type: 'referenceArray',\n            props: {\n                source: name,\n                reference: inflection.pluralize(\n                    name.substr(0, name.length - 3)\n                ),\n            },\n            children: { type: 'referenceArrayChild' },\n        };\n    }\n    if (values.length === 0) {\n        if (name === 'email') {\n            return { type: 'email', props: { source: name } };\n        }\n        if (name === 'url') {\n            return { type: 'url', props: { source: name } };\n        }\n        // FIXME introspect further using name\n        return { type: 'string', props: { source: name } };\n    }\n    if (valuesAreArray(values)) {\n        if (isObject(values[0][0])) {\n            const leafValues = getValuesFromRecords(\n                values.reduce((acc, vals) => acc.concat(vals), [])\n            );\n            // FIXME bad visual representation\n            return {\n                type: 'array',\n                props: { source: name },\n                children: Object.keys(leafValues).map(leafName =>\n                    inferTypeFromValues(leafName, leafValues[leafName])\n                ),\n            };\n        }\n        // FIXME introspect further\n        return { type: 'string', props: { source: name } };\n    }\n    if (valuesAreBoolean(values)) {\n        return { type: 'boolean', props: { source: name } };\n    }\n    if (valuesAreDate(values)) {\n        return { type: 'date', props: { source: name } };\n    }\n    if (valuesAreString(values)) {\n        if (name === 'email' || valuesAreEmail(values)) {\n            return { type: 'email', props: { source: name } };\n        }\n        if (name === 'url' || valuesAreUrl(values)) {\n            if (valuesAreImageUrl(values)) {\n                return { type: 'image', props: { source: name } };\n            }\n            return { type: 'url', props: { source: name } };\n        }\n        if (valuesAreDateString(values)) {\n            return { type: 'date', props: { source: name } };\n        }\n        if (valuesAreHtml(values)) {\n            return { type: 'richText', props: { source: name } };\n        }\n        if (valuesAreInteger(values) || valuesAreNumeric(values)) {\n            return { type: 'number', props: { source: name } };\n        }\n        return { type: 'string', props: { source: name } };\n    }\n    if (valuesAreInteger(values) || valuesAreNumeric(values)) {\n        return { type: 'number', props: { source: name } };\n    }\n    if (valuesAreObject(values)) {\n        /// Arbitrarily, choose the first prop of the first object\n        const propName = Object.keys(values[0]).shift();\n        const leafValues = values.map(v => v[propName]);\n        return inferTypeFromValues(`${name}.${propName}`, leafValues);\n    }\n    return { type: 'string', props: { source: name } };\n};\n","import { useEffect, useRef, useCallback } from 'react';\nimport debounce from 'lodash/debounce';\nimport isEqual from 'lodash/isEqual';\n\nimport { useSafeSetState } from '../util';\nimport { FilterPayload } from '../types';\n\ninterface UseFilterStateOptions {\n    filterToQuery?: (v: string) => FilterPayload;\n    permanentFilter?: FilterPayload;\n    debounceTime?: number;\n}\n\n/**\n * @typedef UseFilterStateProps\n * @property {Object} filter: The filter object.\n * @property {setFilter} setFilter: Update the filter with the given string\n */\ninterface UseFilterStateProps {\n    filter: FilterPayload;\n    setFilter: (v: string) => void;\n}\n\nconst defaultFilterToQuery = (v: string) => ({ q: v });\n\n/**\n * Hooks to provide filter state and setFilter which update the query part of the filter\n *\n * @example\n *\n * const { filter, setFilter } = useFilter({\n *      filterToQuery: v => ({ query: v }),\n *      permanentFilter: { foo: 'bar' },\n *      debounceTime: 500,\n * });\n * // filter initial value:\n * {\n *      query: '',\n *      foo: 'bar'\n * }\n *  // after updating filter\n *  setFilter('needle');\n *  {\n *      query: 'needle',\n *      foo: 'bar'\n *  }\n *\n * @param {Object} option\n * @param {Function} option.filterToQuery Function to convert the filter string to a filter object. Defaults to v => ({ q: v }).\n * @param {Object} option.permanentFilter Permanent filter to be merged with the filter string. Defaults to {}.\n * @param {number} option.debounceTime Time in ms between filter updates - used to debounce the search. Defaults to 500ms.\n *\n * @returns {UseFilterStateOptions} The filter props\n */\nexport default ({\n    filterToQuery = defaultFilterToQuery,\n    permanentFilter = {},\n    debounceTime = 500,\n}: UseFilterStateOptions): UseFilterStateProps => {\n    const permanentFilterProp = useRef(permanentFilter);\n    const latestValue = useRef<string>();\n    const [filter, setFilterValue] = useSafeSetState({\n        ...permanentFilter,\n        ...filterToQuery(''),\n    });\n    // Developers often pass an object literal as permanent filter\n    // e.g. <ReferenceInput source=\"book_id\" reference=\"books\" filter={{ is_published: true }}>\n    // The effect should execute again when the parent component updates the filter value,\n    // but not when the object literal describes the same values. Therefore,\n    // we use JSON.stringify(permanentFilter) in the `useEffect` and `useCallback`\n    // dependencies instead of permanentFilter.\n    const permanentFilterSignature = JSON.stringify(permanentFilter);\n\n    useEffect(() => {\n        if (!isEqual(permanentFilterProp.current, permanentFilter)) {\n            permanentFilterProp.current = permanentFilter;\n            setFilterValue({\n                ...permanentFilter,\n                ...filterToQuery(latestValue.current),\n            });\n        }\n    }, [permanentFilterSignature, permanentFilterProp, filterToQuery]); // eslint-disable-line react-hooks/exhaustive-deps\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    const setFilter = useCallback(\n        debounce((value: string) => {\n            setFilterValue({\n                ...permanentFilter,\n                ...filterToQuery(value),\n            });\n            latestValue.current = value;\n        }, debounceTime),\n        [permanentFilterSignature] // eslint-disable-line react-hooks/exhaustive-deps\n    );\n\n    return {\n        filter,\n        setFilter,\n    };\n};\n","import { useReducer, useEffect, useRef, useCallback } from 'react';\n\nimport { SORT_ASC, SORT_DESC } from './list/queryReducer';\nimport { SortPayload } from '../types';\n\nexport interface SortProps {\n    setSortField: (field: SortPayload['field']) => void;\n    setSortOrder: (order: SortPayload['order']) => void;\n    setSort: (sort: SortPayload) => void;\n    sort: SortPayload;\n}\n\ntype Action =\n    | { type: 'SET_SORT'; payload: SortPayload }\n    | { type: 'SET_SORT_FIELD'; payload: SortPayload['field'] }\n    | { type: 'SET_SORT_ORDER'; payload: SortPayload['order'] };\n\nconst sortReducer = (state: SortPayload, action: Action): SortPayload => {\n    switch (action.type) {\n        case 'SET_SORT':\n            return action.payload;\n        case 'SET_SORT_FIELD': {\n            const field = action.payload;\n            const order =\n                state.field === field\n                    ? state.order === SORT_ASC\n                        ? SORT_DESC\n                        : SORT_ASC\n                    : SORT_ASC;\n            return { field, order };\n        }\n        case 'SET_SORT_ORDER': {\n            const order = action.payload;\n            return {\n                ...state,\n                order,\n            };\n        }\n        default:\n            return state;\n    }\n};\n\nexport const defaultSort = { field: 'id', order: 'DESC' };\n\n/**\n * Set the sort { field, order }\n * @name setSort\n * @function\n * @param {SortPayload} sort the sort object\n */\n\n/**\n * Set the sort field, swap the order if the field is the same\n * @name setSortField\n * @function\n * @param {string} field the sort field\n */\n\n/**\n * Set the sort order\n * @name setSortOrder\n * @function\n * @param {string} order The sort order, either ASC or DESC\n */\n\n/**\n * @typedef SortProps\n * @type {Object}\n * @property {Object} sort: the sort object.\n * @property {string} sort.field: the sort object.\n * @property {'ASC' | 'DESC'} sort.order: the sort object.\n * @property {setSort} setSort\n * @property {setSortField} setSortField\n * @property {setSortOrder} setSortOrder\n */\n\n/**\n * Hooks to provide sort state\n *\n * @example\n *\n * const { sort, setSort, setSortField, setSortOrder } = useSort({\n *      field: 'name',\n *      order: 'ASC',\n * });\n *\n * setSort({ field: 'name', order: 'ASC' });\n * // is the same as\n * setSortField('name');\n * setSortOrder('ASC');\n *\n * @param {Object} initialSort\n * @param {string} initialSort.field The initial sort field\n * @param {string} initialSort.order The initial sort order\n * @returns {SortProps} The sort props\n */\nconst useSortState = (initialSort: SortPayload = defaultSort): SortProps => {\n    const [sort, dispatch] = useReducer(sortReducer, initialSort);\n    const isFirstRender = useRef(true);\n    useEffect(() => {\n        if (isFirstRender.current) {\n            isFirstRender.current = false;\n            return;\n        }\n        dispatch({ type: 'SET_SORT', payload: initialSort });\n    }, [initialSort.field, initialSort.order]); // eslint-disable-line react-hooks/exhaustive-deps\n\n    return {\n        setSort: useCallback(\n            (sort: SortPayload) =>\n                dispatch({ type: 'SET_SORT', payload: sort }),\n            [dispatch]\n        ),\n        setSortField: useCallback(\n            (field: string) =>\n                dispatch({ type: 'SET_SORT_FIELD', payload: field }),\n            [dispatch]\n        ),\n        setSortOrder: useCallback(\n            (order: string) =>\n                dispatch({ type: 'SET_SORT_ORDER', payload: order }),\n            [dispatch]\n        ),\n        sort,\n    };\n};\n\nexport default useSortState;\n","import { Reducer } from 'react';\nimport set from 'lodash/set';\n\nimport removeEmpty from '../../util/removeEmpty';\nimport removeKey from '../../util/removeKey';\nimport { ListParams } from './useListParams';\n\nexport const SET_SORT = 'SET_SORT';\nexport const SORT_ASC = 'ASC';\nexport const SORT_DESC = 'DESC';\n\nexport const SET_PAGE = 'SET_PAGE';\nexport const SET_PER_PAGE = 'SET_PER_PAGE';\n\nexport const SET_FILTER = 'SET_FILTER';\nexport const SHOW_FILTER = 'SHOW_FILTER';\nexport const HIDE_FILTER = 'HIDE_FILTER';\n\nconst oppositeOrder = direction =>\n    direction === SORT_DESC ? SORT_ASC : SORT_DESC;\n\ntype ActionTypes =\n    | {\n          type: typeof SET_SORT;\n          payload: {\n              field: string;\n              order?: typeof SORT_ASC | typeof SORT_DESC;\n          };\n      }\n    | {\n          type: typeof SET_PAGE;\n          payload: number;\n      }\n    | {\n          type: typeof SET_PER_PAGE;\n          payload: number;\n      }\n    | {\n          type: typeof SET_FILTER;\n          payload: {\n              filter: any;\n              displayedFilters?: { [key: string]: boolean };\n          };\n      }\n    | {\n          type: typeof SHOW_FILTER;\n          payload: { filterName: string; defaultValue?: any };\n      }\n    | {\n          type: typeof HIDE_FILTER;\n          payload: string;\n      };\n\n/**\n * This reducer is for the react-router query string.\n */\nexport const queryReducer: Reducer<ListParams, ActionTypes> = (\n    previousState,\n    action\n) => {\n    switch (action.type) {\n        case SET_SORT:\n            if (action.payload.field === previousState.sort) {\n                return {\n                    ...previousState,\n                    order: oppositeOrder(previousState.order),\n                    page: 1,\n                };\n            }\n\n            return {\n                ...previousState,\n                sort: action.payload.field,\n                order: action.payload.order || SORT_ASC,\n                page: 1,\n            };\n\n        case SET_PAGE:\n            return { ...previousState, page: action.payload };\n\n        case SET_PER_PAGE:\n            return { ...previousState, page: 1, perPage: action.payload };\n\n        case SET_FILTER: {\n            return {\n                ...previousState,\n                page: 1,\n                filter: action.payload.filter,\n                displayedFilters: action.payload.displayedFilters\n                    ? action.payload.displayedFilters\n                    : previousState.displayedFilters,\n            };\n        }\n\n        case SHOW_FILTER: {\n            if (\n                previousState.displayedFilters &&\n                previousState.displayedFilters[action.payload.filterName]\n            ) {\n                // the filter is already shown\n                return previousState;\n            }\n            return {\n                ...previousState,\n                filter:\n                    typeof action.payload.defaultValue !== 'undefined'\n                        ? set(\n                              previousState.filter,\n                              action.payload.filterName,\n                              action.payload.defaultValue\n                          )\n                        : previousState.filter,\n                // we don't use lodash.set() for displayed filters\n                // to avoid problems with compound filter names (e.g. 'author.name')\n                displayedFilters: {\n                    ...previousState.displayedFilters,\n                    [action.payload.filterName]: true,\n                },\n            };\n        }\n\n        case HIDE_FILTER: {\n            return {\n                ...previousState,\n                filter: removeEmpty(\n                    removeKey(previousState.filter, action.payload)\n                ),\n                // we don't use lodash.set() for displayed filters\n                // to avoid problems with compound filter names (e.g. 'author.name')\n                displayedFilters: previousState.displayedFilters\n                    ? Object.keys(previousState.displayedFilters).reduce(\n                          (filters, filter) => {\n                              return filter !== action.payload\n                                  ? { ...filters, [filter]: true }\n                                  : filters;\n                          },\n                          {}\n                      )\n                    : previousState.displayedFilters,\n            };\n        }\n\n        default:\n            return previousState;\n    }\n};\n\nexport default queryReducer;\n","import { useEffect, useReducer, useCallback, useRef } from 'react';\nimport { PaginationPayload } from '../types';\n\n/**\n * @typedef PaginationProps\n * @type {Object}\n * @property {number} page: The page number.\n * @property {number} perPage: The number of item per page.\n * @property {Function} setPage: Set the page number\n * @property {Function} setPerPage: Set the per page number\n * @property {Function} setPagination: Set page and perPage pagination numbers\n */\nexport interface PaginationHookResult {\n    page: number;\n    perPage: number;\n    pagination: PaginationPayload;\n    setPage: (page: number) => void;\n    setPerPage: (perPage: number) => void;\n    setPagination: (pagination: PaginationPayload) => void;\n}\n\nconst paginationReducer = (\n    prevState: PaginationPayload,\n    nextState: Partial<PaginationPayload>\n): PaginationPayload => {\n    return {\n        ...prevState,\n        ...nextState,\n    };\n};\n\nconst defaultPagination = {\n    page: 1,\n    perPage: 25,\n};\n\n/**\n * Hooks to provide pagination state (page and perPage)\n *\n * @example\n *\n * const { page, setPage, perPage, setPerPage } = usePagination(initialPerPage);\n *\n * @param {number} initialPagination the initial value per page\n * @returns {PaginationHookResult} The pagination props\n */\nexport default (\n    initialPagination: { perPage?: number; page?: number } = {}\n): PaginationHookResult => {\n    const [pagination, setPagination] = useReducer(paginationReducer, {\n        ...defaultPagination,\n        ...initialPagination,\n    });\n    const isFirstRender = useRef(true);\n\n    const setPerPage = useCallback(\n        perPage => setPagination({ perPage, page: 1 }),\n        []\n    );\n    const setPage = useCallback(page => setPagination({ page }), []);\n\n    useEffect(() => {\n        if (isFirstRender.current) {\n            isFirstRender.current = false;\n            return;\n        }\n        setPerPage(initialPagination.perPage || 25);\n    }, [initialPagination.perPage, setPerPage]);\n\n    return {\n        page: pagination.page,\n        perPage: pagination.perPage,\n        pagination,\n        setPage,\n        setPerPage,\n        setPagination,\n    };\n};\n","import * as React from 'react';\nimport { ComponentType } from 'react';\n\nconst checkMinimumRequiredProps = (\n    displayName: string,\n    requiredProps: string[]\n) => (WrappedComponent: ComponentType) => (props: any) => {\n    useCheckMinimumRequiredProps(displayName, requiredProps, props);\n    return <WrappedComponent {...props} />;\n};\n\nexport default checkMinimumRequiredProps;\n\n// Not a hook but named that way to avoid conflicts with the old one\nexport const useCheckMinimumRequiredProps = (\n    displayName: string,\n    requiredProps: string[],\n    props: any\n): void => {\n    const propNames = Object.keys(props);\n    const missingProps = requiredProps.filter(\n        prop => !propNames.includes(prop)\n    );\n\n    if (missingProps.length > 0) {\n        throw new Error(\n            `<${displayName}> component is not properly configured, some essential props are missing.\nBe sure to pass the props from the parent. Example:\n\nconst My${displayName} = props => (\n    <${displayName} {...props}></${displayName}>\n);\n\nThe missing props are: ${missingProps.join(', ')}`\n        );\n    }\n};\n","import { useCallback, ReactEventHandler } from 'react';\nimport { UseMutationOptions } from 'react-query';\n\nimport { useDelete } from '../../dataProvider';\nimport { useUnselect } from '../../controller';\nimport { useRedirect, RedirectionSideEffect } from '../../routing';\nimport { useNotify } from '../../notification';\nimport { RaRecord, DeleteParams } from '../../types';\nimport { useResourceContext } from '../../core';\n\n/**\n * Prepare callback for a Delete button with undo support\n *\n * @example\n *\n * import React from 'react';\n * import ActionDelete from '@mui/icons-material/Delete';\n * import { Button, useDeleteWithUndoController } from 'react-admin';\n *\n * const DeleteButton = ({\n *     resource,\n *     record,\n *     redirect,\n *     onClick,\n *     ...rest\n * }) => {\n *     const { isLoading, handleDelete } = useDeleteWithUndoController({\n *         resource,\n *         record,\n *         redirect,\n *         onClick,\n *     });\n *\n *     return (\n *         <Button\n *             onClick={handleDelete}\n *             disabled={isLoading}\n *             label=\"ra.action.delete\"\n *             {...rest}\n *         >\n *             <ActionDelete />\n *         </Button>\n *     );\n * };\n */\nconst useDeleteWithUndoController = <RecordType extends RaRecord = any>(\n    props: UseDeleteWithUndoControllerParams<RecordType>\n): UseDeleteWithUndoControllerReturn => {\n    const {\n        record,\n        redirect: redirectTo = 'list',\n        onClick,\n        mutationOptions,\n    } = props;\n    const resource = useResourceContext(props);\n    const notify = useNotify();\n    const unselect = useUnselect(resource);\n    const redirect = useRedirect();\n    const [deleteOne, { isLoading }] = useDelete<RecordType>();\n\n    const handleDelete = useCallback(\n        event => {\n            event.stopPropagation();\n            deleteOne(\n                resource,\n                { id: record.id, previousData: record },\n                {\n                    onSuccess: () => {\n                        notify('ra.notification.deleted', {\n                            type: 'info',\n                            messageArgs: { smart_count: 1 },\n                            undoable: true,\n                        });\n                        unselect([record.id]);\n                        redirect(redirectTo, resource);\n                    },\n                    onError: (error: Error) => {\n                        notify(\n                            typeof error === 'string'\n                                ? error\n                                : error.message || 'ra.notification.http_error',\n                            {\n                                type: 'warning',\n                                messageArgs: {\n                                    _:\n                                        typeof error === 'string'\n                                            ? error\n                                            : error && error.message\n                                            ? error.message\n                                            : undefined,\n                                },\n                            }\n                        );\n                    },\n                    mutationMode: 'undoable',\n                    ...mutationOptions,\n                }\n            );\n            if (typeof onClick === 'function') {\n                onClick(event);\n            }\n        },\n        [\n            deleteOne,\n            mutationOptions,\n            notify,\n            onClick,\n            record,\n            redirect,\n            redirectTo,\n            resource,\n            unselect,\n        ]\n    );\n\n    return { isLoading, handleDelete };\n};\n\nexport interface UseDeleteWithUndoControllerParams<\n    RecordType extends RaRecord = any\n> {\n    record?: RecordType;\n    redirect?: RedirectionSideEffect;\n    // @deprecated. This hook get the resource from the context\n    resource?: string;\n    onClick?: ReactEventHandler<any>;\n    mutationOptions?: UseMutationOptions<\n        RecordType,\n        unknown,\n        DeleteParams<RecordType>\n    >;\n}\n\nexport interface UseDeleteWithUndoControllerReturn {\n    isLoading: boolean;\n    handleDelete: ReactEventHandler<any>;\n}\n\nexport default useDeleteWithUndoController;\n","import {\n    useState,\n    useCallback,\n    ReactEventHandler,\n    SyntheticEvent,\n} from 'react';\nimport { UseMutationOptions } from 'react-query';\n\nimport { useDelete } from '../../dataProvider';\nimport { useUnselect } from '../../controller';\nimport { useRedirect, RedirectionSideEffect } from '../../routing';\nimport { useNotify } from '../../notification';\nimport { RaRecord, MutationMode, DeleteParams } from '../../types';\nimport { useResourceContext } from '../../core';\n\n/**\n * Prepare a set of callbacks for a delete button guarded by confirmation dialog\n *\n * @example\n *\n * const DeleteButton = ({\n *     resource,\n *     record,\n *     redirect,\n *     onClick,\n *     ...rest\n * }) => {\n *     const {\n *         open,\n *         isLoading,\n *         handleDialogOpen,\n *         handleDialogClose,\n *         handleDelete,\n *     } = useDeleteWithConfirmController({\n *         resource,\n *         record,\n *         redirect,\n *         onClick,\n *     });\n *\n *     return (\n *         <Fragment>\n *             <Button\n *                 onClick={handleDialogOpen}\n *                 label=\"ra.action.delete\"\n *                 {...rest}\n *             >\n *                 {icon}\n *             </Button>\n *             <Confirm\n *                 isOpen={open}\n *                 loading={isLoading}\n *                 title=\"ra.message.delete_title\"\n *                 content=\"ra.message.delete_content\"\n *                 translateOptions={{\n *                     name: resource,\n *                     id: record.id,\n *                 }}\n *                 onConfirm={handleDelete}\n *                 onClose={handleDialogClose}\n *             />\n *         </Fragment>\n *     );\n * };\n */\nconst useDeleteWithConfirmController = <RecordType extends RaRecord = any>(\n    props: UseDeleteWithConfirmControllerParams<RecordType>\n): UseDeleteWithConfirmControllerReturn => {\n    const {\n        record,\n        redirect: redirectTo,\n        mutationMode,\n        onClick,\n        mutationOptions,\n    } = props;\n    const resource = useResourceContext(props);\n    const [open, setOpen] = useState(false);\n    const notify = useNotify();\n    const unselect = useUnselect(resource);\n    const redirect = useRedirect();\n    const [deleteOne, { isLoading }] = useDelete<RecordType>();\n\n    const handleDialogOpen = e => {\n        setOpen(true);\n        e.stopPropagation();\n    };\n\n    const handleDialogClose = e => {\n        setOpen(false);\n        e.stopPropagation();\n    };\n\n    const handleDelete = useCallback(\n        event => {\n            event.stopPropagation();\n            deleteOne(\n                resource,\n                { id: record.id, previousData: record },\n                {\n                    onSuccess: () => {\n                        setOpen(false);\n                        notify('ra.notification.deleted', {\n                            type: 'info',\n                            messageArgs: { smart_count: 1 },\n                            undoable: mutationMode === 'undoable',\n                        });\n                        unselect([record.id]);\n                        redirect(redirectTo, resource);\n                    },\n                    onError: (error: Error) => {\n                        setOpen(false);\n\n                        notify(\n                            typeof error === 'string'\n                                ? error\n                                : error.message || 'ra.notification.http_error',\n                            {\n                                type: 'warning',\n                                messageArgs: {\n                                    _:\n                                        typeof error === 'string'\n                                            ? error\n                                            : error && error.message\n                                            ? error.message\n                                            : undefined,\n                                },\n                            }\n                        );\n                    },\n                    mutationMode,\n                    ...mutationOptions,\n                }\n            );\n            if (typeof onClick === 'function') {\n                onClick(event);\n            }\n        },\n        [\n            deleteOne,\n            mutationMode,\n            mutationOptions,\n            notify,\n            onClick,\n            record,\n            redirect,\n            redirectTo,\n            resource,\n            unselect,\n        ]\n    );\n\n    return {\n        open,\n        isLoading,\n        handleDialogOpen,\n        handleDialogClose,\n        handleDelete,\n    };\n};\n\nexport interface UseDeleteWithConfirmControllerParams<\n    RecordType extends RaRecord = any\n> {\n    mutationMode?: MutationMode;\n    record?: RecordType;\n    redirect?: RedirectionSideEffect;\n    // @deprecated. This hook get the resource from the context\n    resource?: string;\n    onClick?: ReactEventHandler<any>;\n    mutationOptions?: UseMutationOptions<\n        RecordType,\n        unknown,\n        DeleteParams<RecordType>\n    >;\n}\n\nexport interface UseDeleteWithConfirmControllerReturn {\n    open: boolean;\n    isLoading: boolean;\n    handleDialogOpen: (e: SyntheticEvent) => void;\n    handleDialogClose: (e: SyntheticEvent) => void;\n    handleDelete: ReactEventHandler<any>;\n}\n\nexport default useDeleteWithConfirmController;\n","import * as React from 'react';\nimport { ReactNode } from 'react';\nimport {\n    useCreateController,\n    CreateControllerProps,\n} from './useCreateController';\nimport { CreateContextProvider } from './CreateContextProvider';\nimport { RaRecord } from '../../types';\n\n/**\n * Call useCreateController and put the value in a CreateContext\n *\n * Base class for <Create> components, without UI.\n *\n * Accepts any props accepted by useCreateController:\n * - id: The record identifier\n * - resource: The resource\n *\n * @example // Custom edit layout\n *\n * const PostCreate = props => (\n *     <CreateBase {...props}>\n *         <Grid container>\n *             <Grid item xs={8}>\n *                 <SimpleForm>\n *                     ...\n *                 </SimpleForm>\n *             </Grid>\n *             <Grid item xs={4}>\n *                 Create instructions...\n *             </Grid>\n *         </Grid>\n *         <div>\n *             Post related links...\n *         </div>\n *     </CreateBase>\n * );\n */\nexport const CreateBase = <RecordType extends RaRecord = any>({\n    children,\n    ...props\n}: CreateControllerProps<RecordType> & { children: ReactNode }) => (\n    <CreateContextProvider value={useCreateController(props)}>\n        {children}\n    </CreateContextProvider>\n);\n","import { useCallback } from 'react';\n// @ts-ignore\nimport { parse } from 'query-string';\nimport { useLocation } from 'react-router-dom';\nimport { Location } from 'history';\nimport { UseMutationOptions } from 'react-query';\n\nimport { useAuthenticated } from '../../auth';\nimport { useCreate } from '../../dataProvider';\nimport { useRedirect, RedirectionSideEffect } from '../../routing';\nimport { useNotify } from '../../notification';\nimport { SaveHandler } from '../saveContext';\nimport { useTranslate } from '../../i18n';\nimport { RaRecord, CreateParams, TransformData } from '../../types';\nimport {\n    useResourceContext,\n    useResourceDefinition,\n    useGetResourceLabel,\n} from '../../core';\n\n/**\n * Prepare data for the Create view\n *\n * @param {Object} props The props passed to the Create component.\n *\n * @return {Object} controllerProps Fetched data and callbacks for the Create view\n *\n * @example\n *\n * import { useCreateController } from 'react-admin';\n * import CreateView from './CreateView';\n *\n * const MyCreate = props => {\n *     const controllerProps = useCreateController(props);\n *     return <CreateView {...controllerProps} {...props} />;\n * }\n */\nexport const useCreateController = <RecordType extends RaRecord = RaRecord>(\n    props: CreateControllerProps<RecordType> = {}\n): CreateControllerResult<RecordType> => {\n    const {\n        disableAuthentication,\n        record,\n        redirect: redirectTo,\n        transform,\n        mutationOptions = {},\n    } = props;\n\n    useAuthenticated({ enabled: !disableAuthentication });\n    const resource = useResourceContext(props);\n    const { hasEdit, hasShow } = useResourceDefinition(props);\n    const finalRedirectTo =\n        redirectTo || getDefaultRedirectRoute(hasShow, hasEdit);\n    const location = useLocation();\n    const translate = useTranslate();\n    const notify = useNotify();\n    const redirect = useRedirect();\n    const recordToUse = record ?? getRecordFromLocation(location) ?? undefined;\n    const { onSuccess, onError, ...otherMutationOptions } = mutationOptions;\n\n    const [create, { isLoading: saving }] = useCreate<RecordType>(\n        resource,\n        undefined,\n        otherMutationOptions\n    );\n\n    const save = useCallback(\n        (\n            data: Partial<RecordType>,\n            {\n                onSuccess: onSuccessFromSave,\n                onError: onErrorFromSave,\n                transform: transformFromSave,\n            } = {}\n        ) =>\n            Promise.resolve(\n                transformFromSave\n                    ? transformFromSave(data)\n                    : transform\n                    ? transform(data)\n                    : data\n            ).then((data: Partial<RecordType>) =>\n                create(\n                    resource,\n                    { data },\n                    {\n                        onSuccess: onSuccessFromSave\n                            ? onSuccessFromSave\n                            : onSuccess\n                            ? onSuccess\n                            : newRecord => {\n                                  notify('ra.notification.created', {\n                                      type: 'info',\n                                      messageArgs: { smart_count: 1 },\n                                  });\n                                  redirect(\n                                      finalRedirectTo,\n                                      resource,\n                                      newRecord.id,\n                                      newRecord\n                                  );\n                              },\n                        onError: onErrorFromSave\n                            ? onErrorFromSave\n                            : onError\n                            ? onError\n                            : (error: Error) => {\n                                  notify(\n                                      typeof error === 'string'\n                                          ? error\n                                          : error.message ||\n                                                'ra.notification.http_error',\n                                      {\n                                          type: 'warning',\n                                          messageArgs: {\n                                              _:\n                                                  typeof error === 'string'\n                                                      ? error\n                                                      : error && error.message\n                                                      ? error.message\n                                                      : undefined,\n                                          },\n                                      }\n                                  );\n                              },\n                    }\n                )\n            ),\n        [\n            create,\n            finalRedirectTo,\n            notify,\n            onError,\n            onSuccess,\n            redirect,\n            resource,\n            transform,\n        ]\n    );\n\n    const getResourceLabel = useGetResourceLabel();\n    const defaultTitle = translate('ra.page.create', {\n        name: getResourceLabel(resource, 1),\n    });\n\n    return {\n        isFetching: false,\n        isLoading: false,\n        saving,\n        defaultTitle,\n        save,\n        resource,\n        record: recordToUse,\n        redirect: finalRedirectTo,\n    };\n};\n\nexport interface CreateControllerProps<RecordType extends RaRecord = RaRecord> {\n    disableAuthentication?: boolean;\n    record?: Partial<RecordType>;\n    redirect?: RedirectionSideEffect;\n    resource?: string;\n    mutationOptions?: UseMutationOptions<\n        RecordType,\n        unknown,\n        CreateParams<RecordType>\n    >;\n    transform?: TransformData;\n}\n\nexport interface CreateControllerResult<\n    RecordType extends RaRecord = RaRecord\n> {\n    // Necessary for actions (EditActions) which expect a data prop containing the record\n    // @deprecated - to be removed in 4.0d\n    data?: RecordType;\n    defaultTitle: string;\n    isFetching: boolean;\n    isLoading: boolean;\n    save: SaveHandler<RecordType>;\n    saving: boolean;\n    record?: Partial<RecordType>;\n    redirect: RedirectionSideEffect;\n    resource: string;\n}\n\n/**\n * Get the initial record from the location, whether it comes from the location\n * state or is serialized in the url search part.\n */\nexport const getRecordFromLocation = ({ state, search }: Location) => {\n    if (state && (state as StateWithRecord).record) {\n        return (state as StateWithRecord).record;\n    }\n    if (search) {\n        try {\n            const searchParams = parse(search);\n            if (searchParams.source) {\n                if (Array.isArray(searchParams.source)) {\n                    console.error(\n                        `Failed to parse location search parameter '${search}'. To pre-fill some fields in the Create form, pass a stringified source parameter (e.g. '?source={\"title\":\"foo\"}')`\n                    );\n                    return;\n                }\n                return JSON.parse(searchParams.source);\n            }\n        } catch (e) {\n            console.error(\n                `Failed to parse location search parameter '${search}'. To pre-fill some fields in the Create form, pass a stringified source parameter (e.g. '?source={\"title\":\"foo\"}')`\n            );\n        }\n    }\n    return null;\n};\n\ntype StateWithRecord = {\n    record?: Partial<RaRecord>;\n};\n\nconst getDefaultRedirectRoute = (hasShow, hasEdit) => {\n    if (hasEdit) {\n        return 'edit';\n    }\n    if (hasShow) {\n        return 'show';\n    }\n    return 'list';\n};\n","import * as React from 'react';\nimport { ReactNode } from 'react';\n\nimport { RaRecord } from '../../types';\nimport { RecordContextProvider } from '../record/RecordContext';\nimport { CreateContext } from './CreateContext';\nimport { CreateControllerResult } from './useCreateController';\nimport { SaveContextProvider, usePickSaveContext } from '../saveContext';\n\n/**\n * Create a Create Context.\n *\n * @example\n *\n * const MyCreate = (props) => {\n *     const controllerProps = useCreateController(props);\n *     return (\n *         <CreateContextProvider value={controllerProps}>\n *             <MyCreateView>\n *         </CreateContextProvider>\n *     );\n * };\n *\n * const MyCreateView = () => {\n *     const record = useRecordContext();\n *     // or, to rerender only when the save operation change but not data\n *     const { saving } = useCreateContext();\n * }\n *\n * @see CreateContext\n * @see RecordContext\n */\nexport const CreateContextProvider = ({\n    children,\n    value,\n}: {\n    children: ReactNode;\n    value: CreateControllerResult;\n}) => (\n    <CreateContext.Provider value={value}>\n        <SaveContextProvider\n            value={{\n                ...usePickSaveContext(value),\n                mutationMode: 'pessimistic',\n            }}\n        >\n            <RecordContextProvider<Partial<RaRecord>>\n                value={value && value.record}\n            >\n                {children}\n            </RecordContextProvider>\n        </SaveContextProvider>\n    </CreateContext.Provider>\n);\n","import * as React from 'react';\nimport { createContext, ReactNode } from 'react';\nimport { RaRecord } from '../../types';\n\n/**\n * Context to store a record.\n *\n * @see RecordContextProvider\n * @see useRecordContext\n */\nexport const RecordContext = createContext<RaRecord | Omit<RaRecord, 'id'>>(\n    undefined\n);\n\nRecordContext.displayName = 'RecordContext';\n\n/**\n * Provider for the Record Context, to store a record.\n *\n * Use the useRecordContext() hook to read the context.\n * That's what the Edit and Show components do in react-admin.\n *\n * Many react-admin components read the RecordContext, including all Field\n * components.\n *\n * @example\n *\n * import { useGetOne, RecordContextProvider } from 'ra-core';\n *\n * const Show = ({ resource, id }) => {\n *     const { data } = useGetOne(resource, { id });\n *     return (\n *         <RecordContextProvider value={data}>\n *             ...\n *         </RecordContextProvider>\n *     );\n * };\n */\nexport const RecordContextProvider = <\n    RecordType extends RaRecord | Omit<RaRecord, 'id'> = RaRecord\n>({\n    children,\n    value,\n}: RecordContextProviderProps<RecordType>) => (\n    <RecordContext.Provider value={value}>{children}</RecordContext.Provider>\n);\n\nexport interface RecordContextProviderProps<RecordType> {\n    children: ReactNode;\n    value?: RecordType;\n}\n","import { createContext } from 'react';\nimport { CreateControllerResult } from './useCreateController';\n\n/**\n * Context to store the result of the useCreateController() hook.\n *\n * Use the useCreateContext() hook to read the context. That's what the Create components do in react-admin.\n *\n * @example\n *\n * import { useCreateController, CreateContextProvider } from 'ra-core';\n *\n * const Create = props => {\n *     const controllerProps = useCreateController(props);\n *     return (\n *         <CreateContextProvider value={controllerProps}>\n *             ...\n *         </CreateContextProvider>\n *     );\n * };\n */\nexport const CreateContext = createContext<CreateControllerResult>({\n    record: null,\n    defaultTitle: null,\n    isFetching: null,\n    isLoading: null,\n    redirect: null,\n    resource: null,\n    save: null,\n    saving: null,\n});\n\nCreateContext.displayName = 'CreateContext';\n","import { createContext } from 'react';\nimport {\n    RaRecord,\n    onError,\n    OnSuccess,\n    TransformData,\n    MutationMode,\n} from '../../types';\n\nexport interface SaveContextValue<RecordType extends RaRecord = any> {\n    save?: SaveHandler<RecordType>;\n    saving?: boolean;\n    mutationMode?: MutationMode;\n}\n\nexport type SaveHandler<RecordType> = (\n    record: Partial<RecordType>,\n    callbacks?: {\n        onSuccess?: OnSuccess;\n        onError?: onError;\n        transform?: TransformData;\n    }\n) => Promise<void | RecordType> | Record<string, string>;\n\nexport const SaveContext = createContext<SaveContextValue>(undefined);\n","import * as React from 'react';\nimport { SaveContext } from './SaveContext';\n\nexport const SaveContextProvider = ({ children, value }) => (\n    <SaveContext.Provider value={value}>{children}</SaveContext.Provider>\n);\n","import { useMemo } from 'react';\nimport pick from 'lodash/pick';\nimport { SaveContextValue } from './SaveContext';\n\n/**\n * This hook extracts the `save`, `saving` and mutationMode properties from either the `CreateContext` or `EditContext`. This ensures the `SaveContext` doesn't rerender when those two contexts have other properties changes.\n */\nexport const usePickSaveContext = <\n    ContextType extends SaveContextValue = SaveContextValue\n>(\n    context: ContextType\n): SaveContextValue => {\n    const value = useMemo(\n        () => pick(context, ['save', 'saving', 'mutationMode']),\n        /* eslint-disable react-hooks/exhaustive-deps */\n        [context.save, context.saving, context.mutationMode]\n        /* eslint-enable react-hooks/exhaustive-deps */\n    );\n\n    return value;\n};\n","import { useContext } from 'react';\nimport { SaveContext, SaveContextValue } from './SaveContext';\n/**\n * Get the save() function and its status\n *\n * Used in forms.\n *\n * @example\n *\n * const {\n *     save,\n *     saving\n * } = useSaveContext();\n */\nexport const useSaveContext = <\n    PropsType extends SaveContextValue = SaveContextValue\n>(\n    props?: PropsType\n): SaveContextValue => {\n    return useContext(SaveContext);\n};\n","import {\n    useCreateController,\n    CreateControllerProps,\n    CreateControllerResult,\n} from './useCreateController';\n\n/**\n * Render prop version of the useCreateController hook\n *\n * @see useCreateController\n * @example\n *\n * const CreateView = () => <div>...</div>\n * const MyCreate = props => (\n *     <CreateController {...props}>\n *         {controllerProps => <CreateView {...controllerProps} {...props} />}\n *     </CreateController>\n * );\n */\nexport const CreateController = ({\n    children,\n    ...props\n}: {\n    children: (params: CreateControllerResult) => JSX.Element;\n} & CreateControllerProps) => {\n    const controllerProps = useCreateController(props);\n    return children(controllerProps);\n};\n","import { useContext, useMemo } from 'react';\nimport defaults from 'lodash/defaults';\n\nimport { RaRecord } from '../../types';\nimport { CreateContext } from './CreateContext';\nimport { CreateControllerResult } from './useCreateController';\n\n/**\n * Hook to read the create controller props from the CreateContext.\n *\n * Mostly used within a <CreateContext.Provider> (e.g. as a descendent of <Create>).\n *\n * But you can also use it without a <CreateContext.Provider>. In this case, it is up to you\n * to pass all the necessary props.\n *\n * The given props will take precedence over context values.\n *\n * @typedef {Object} CreateControllerProps\n *\n * @returns {CreateControllerResult} create controller props\n *\n * @see useCreateController for how it is filled\n *\n */\nexport const useCreateContext = <RecordType extends RaRecord = RaRecord>(\n    props?: Partial<CreateControllerResult<RecordType>>\n): Partial<CreateControllerResult<RecordType>> => {\n    const context = useContext<CreateControllerResult<RecordType>>(\n        // Can't find a way to specify the RecordType when CreateContext is declared\n        // @ts-ignore\n        CreateContext\n    );\n    // Props take precedence over the context\n    return useMemo(\n        () =>\n            defaults(\n                {},\n                props != null ? extractCreateContextProps(props) : {},\n                context\n            ),\n        [context, props]\n    );\n};\n\n/**\n * Extract only the create controller props\n *\n * @param {Object} props props passed to the useCreateContext hook\n *\n * @returns {CreateControllerResult} create controller props\n */\nconst extractCreateContextProps = ({\n    record,\n    defaultTitle,\n    isFetching,\n    isLoading,\n    redirect,\n    resource,\n    save,\n    saving,\n}: any) => ({\n    record,\n    defaultTitle,\n    isFetching,\n    isLoading,\n    redirect,\n    resource,\n    save,\n    saving,\n});\n","import * as React from 'react';\nimport { ReactNode } from 'react';\n\nimport { RaRecord } from '../../types';\nimport { useEditController, EditControllerProps } from './useEditController';\nimport { EditContextProvider } from './EditContextProvider';\n\n/**\n * Call useEditController and put the value in a EditContext\n *\n * Base class for <Edit> components, without UI.\n *\n * Accepts any props accepted by useEditController:\n * - id: The record identifier\n * - resource: The resource\n *\n * @example // Custom edit layout\n *\n * const PostEdit = () => (\n *     <EditBase resource=\"posts\">\n *         <Grid container>\n *             <Grid item xs={8}>\n *                 <SimpleForm>\n *                     ...\n *                 </SimpleForm>\n *             </Grid>\n *             <Grid item xs={4}>\n *                 Edit instructions...\n *             </Grid>\n *         </Grid>\n *         <div>\n *             Post related links...\n *         </div>\n *     </EditBase>\n * );\n */\nexport const EditBase = <RecordType extends RaRecord = any>({\n    children,\n    ...props\n}: { children: ReactNode } & EditControllerProps<RecordType>) => (\n    <EditContextProvider value={useEditController<RecordType>(props)}>\n        {children}\n    </EditContextProvider>\n);\n","import { useCallback } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { UseQueryOptions, UseMutationOptions } from 'react-query';\n\nimport { useAuthenticated } from '../../auth';\nimport {\n    RaRecord,\n    MutationMode,\n    TransformData,\n    UpdateParams,\n} from '../../types';\nimport { useRedirect, RedirectionSideEffect } from '../../routing';\nimport { useNotify } from '../../notification';\nimport {\n    useGetOne,\n    useUpdate,\n    useRefresh,\n    UseGetOneHookValue,\n} from '../../dataProvider';\nimport { useTranslate } from '../../i18n';\nimport { useResourceContext, useGetResourceLabel } from '../../core';\nimport { SaveHandler } from '../saveContext';\n\n/**\n * Prepare data for the Edit view.\n *\n * useEditController does a few things:\n * - it grabs the id from the URL and the resource name from the ResourceContext,\n * - it fetches the record via useGetOne,\n * - it prepares the page title.\n *\n * @param {Object} props The props passed to the Edit component.\n *\n * @return {Object} controllerProps Fetched data and callbacks for the Edit view\n *\n * @example\n *\n * import { useEditController } from 'react-admin';\n * import EditView from './EditView';\n *\n * const MyEdit = () => {\n *     const controllerProps = useEditController({ resource: 'posts', id: 123 });\n *     return <EditView {...controllerProps} {...props} />;\n * }\n */\nexport const useEditController = <RecordType extends RaRecord = any>(\n    props: EditControllerProps<RecordType> = {}\n): EditControllerResult<RecordType> => {\n    const {\n        disableAuthentication,\n        id: propsId,\n        mutationMode = 'undoable',\n        mutationOptions = {},\n        queryOptions = {},\n        redirect: redirectTo = DefaultRedirect,\n        transform,\n    } = props;\n    useAuthenticated({ enabled: !disableAuthentication });\n    const resource = useResourceContext(props);\n    const translate = useTranslate();\n    const notify = useNotify();\n    const redirect = useRedirect();\n    const refresh = useRefresh();\n    const { id: routeId } = useParams<'id'>();\n    const id = propsId || decodeURIComponent(routeId);\n    const { onSuccess, onError, ...otherMutationOptions } = mutationOptions;\n\n    const { data: record, error, isLoading, isFetching, refetch } = useGetOne<\n        RecordType\n    >(\n        resource,\n        { id },\n        {\n            onError: () => {\n                notify('ra.notification.item_doesnt_exist', {\n                    type: 'warning',\n                });\n                redirect('list', resource);\n                refresh();\n            },\n            refetchOnReconnect: false,\n            refetchOnWindowFocus: false,\n            retry: false,\n            ...queryOptions,\n        }\n    );\n\n    // eslint-disable-next-line eqeqeq\n    if (record && record.id && record.id != id) {\n        throw new Error(\n            `useEditController: Fetched record's id attribute (${record.id}) must match the requested 'id' (${id})`\n        );\n    }\n\n    const getResourceLabel = useGetResourceLabel();\n    const defaultTitle = translate('ra.page.edit', {\n        name: getResourceLabel(resource, 1),\n        id,\n        record,\n    });\n\n    const recordCached = { id, previousData: record };\n\n    const [update, { isLoading: saving }] = useUpdate<RecordType>(\n        resource,\n        recordCached,\n        { ...otherMutationOptions, mutationMode }\n    );\n\n    const save = useCallback(\n        (\n            data: Partial<RecordType>,\n            {\n                onSuccess: onSuccessFromSave,\n                onError: onErrorFromSave,\n                transform: transformFromSave,\n            } = {}\n        ) =>\n            Promise.resolve(\n                transformFromSave\n                    ? transformFromSave(data, {\n                          previousData: recordCached.previousData,\n                      })\n                    : transform\n                    ? transform(data, {\n                          previousData: recordCached.previousData,\n                      })\n                    : data\n            ).then((data: Partial<RecordType>) =>\n                update(\n                    resource,\n                    { data },\n                    {\n                        onSuccess: onSuccessFromSave\n                            ? onSuccessFromSave\n                            : onSuccess\n                            ? onSuccess\n                            : () => {\n                                  notify('ra.notification.updated', {\n                                      type: 'info',\n                                      messageArgs: { smart_count: 1 },\n                                      undoable: mutationMode === 'undoable',\n                                  });\n                                  redirect(redirectTo, resource, data.id, data);\n                              },\n                        onError: onErrorFromSave\n                            ? onErrorFromSave\n                            : onError\n                            ? onError\n                            : (error: Error | string) => {\n                                  notify(\n                                      typeof error === 'string'\n                                          ? error\n                                          : error.message ||\n                                                'ra.notification.http_error',\n                                      {\n                                          type: 'warning',\n                                          messageArgs: {\n                                              _:\n                                                  typeof error === 'string'\n                                                      ? error\n                                                      : error && error.message\n                                                      ? error.message\n                                                      : undefined,\n                                          },\n                                      }\n                                  );\n                              },\n                    }\n                )\n            ),\n        [\n            mutationMode,\n            notify,\n            onError,\n            onSuccess,\n            redirect,\n            redirectTo,\n            resource,\n            transform,\n            update,\n            recordCached.previousData,\n        ]\n    );\n\n    return {\n        defaultTitle,\n        error,\n        isFetching,\n        isLoading,\n        mutationMode,\n        record,\n        redirect: DefaultRedirect,\n        refetch,\n        resource,\n        save,\n        saving,\n    };\n};\n\nexport interface EditControllerProps<RecordType extends RaRecord = any> {\n    disableAuthentication?: boolean;\n    id?: RecordType['id'];\n    mutationMode?: MutationMode;\n    mutationOptions?: UseMutationOptions<\n        RecordType,\n        unknown,\n        UpdateParams<RecordType>\n    >;\n    queryOptions?: UseQueryOptions<RecordType>;\n    redirect?: RedirectionSideEffect;\n    resource?: string;\n    transform?: TransformData;\n    [key: string]: any;\n}\n\nexport interface EditControllerResult<RecordType extends RaRecord = any> {\n    // Necessary for actions (EditActions) which expect a data prop containing the record\n    // @deprecated - to be removed in 4.0d\n    data?: RecordType;\n    error?: any;\n    defaultTitle: string;\n    isFetching: boolean;\n    isLoading: boolean;\n    mutationMode?: MutationMode;\n    save: SaveHandler<RecordType>;\n    saving: boolean;\n    record?: RecordType;\n    refetch: UseGetOneHookValue<RecordType>['refetch'];\n    redirect: RedirectionSideEffect;\n    resource: string;\n}\n\nconst DefaultRedirect = 'list';\n","import * as React from 'react';\nimport { ReactNode } from 'react';\nimport { RaRecord } from '../../types';\nimport { RecordContextProvider } from '../record';\nimport { SaveContextProvider, usePickSaveContext } from '../saveContext';\nimport { EditContext } from './EditContext';\nimport { EditControllerResult } from './useEditController';\n\n/**\n * Create an Edit Context.\n *\n * @example\n *\n * const MyEdit = (props) => {\n *     const controllerProps = useEditController(props);\n *     return (\n *         <EditContextProvider value={controllerProps}>\n *             <MyEditView>\n *         </EditContextProvider>\n *     );\n * };\n *\n * const MyEditView = () => {\n *     const record = useRecordContext();\n *     // or, to rerender only when the save operation change but not data\n *     const { saving } = useEditContext();\n * }\n *\n * @see EditContext\n * @see RecordContext\n */\nexport const EditContextProvider = ({\n    children,\n    value,\n}: {\n    children: ReactNode;\n    value: EditControllerResult;\n}) => (\n    <EditContext.Provider value={value}>\n        <SaveContextProvider value={usePickSaveContext(value)}>\n            <RecordContextProvider<Partial<RaRecord>>\n                value={value && value.record}\n            >\n                {children}\n            </RecordContextProvider>\n        </SaveContextProvider>\n    </EditContext.Provider>\n);\n","import { useContext } from 'react';\nimport { RaRecord } from '../../types';\nimport { RecordContext } from './RecordContext';\n\n/**\n * Hook to read the record from a RecordContext.\n *\n * Must be used within a <RecordContext> such as provided by the <EditContextProvider>\n * (e.g. as a descendent of <Edit> or <EditBase>) or within a <ShowContextProvider>\n * (e.g. as a descendent of <Show> or <ShowBase>)\n *\n * @example // basic usage\n *\n * import { useRecordContext } from 'ra-core';\n *\n * const TitleField = () => {\n *     const record = useRecordContext();\n *     return <span>{record && record.title}</span>;\n * };\n *\n * @example // allow record override via props\n *\n * import { useRecordContext } from 'ra-core';\n *\n * const TitleField = (props) => {\n *     const record = useRecordContext(props);\n *     return <span>{record && record.title}</span>;\n * };\n * render(<TextField record={record} />);\n *\n * @returns {RaRecord} A record object\n */\nexport const useRecordContext = <\n    RecordType extends RaRecord | Omit<RaRecord, 'id'> = RaRecord\n>(\n    props?: UseRecordContextParams<RecordType>\n): RecordType | undefined => {\n    // Can't find a way to specify the RecordType when CreateContext is declared\n    // @ts-ignore\n    const context = useContext<RecordType>(RecordContext);\n\n    return (props && props.record) || context;\n};\n\nexport interface UseRecordContextParams<\n    RecordType extends RaRecord | Omit<RaRecord, 'id'> = RaRecord\n> {\n    record?: RecordType;\n    [key: string]: any;\n}\n","import { ReactElement } from 'react';\nimport { RaRecord } from '../../types';\nimport { useRecordContext } from './useRecordContext';\n\n/**\n * Render prop version of useRecordContext\n *\n * @example\n * const BookShow = () => (\n *    <Show>\n *       <SimpleShowLayout>\n *          <WithRecord render={record => <span>{record.title}</span>} />\n *      </SimpleShowLayout>\n *   </Show>\n * );\n */\nexport const WithRecord = <RecordType extends RaRecord>({\n    render,\n}: WithRecordProps<RecordType>) => {\n    const record = useRecordContext<RecordType>();\n    return record ? render(record) : null;\n};\n\nexport interface WithRecordProps<RecordType extends RaRecord> {\n    render: (record: RecordType) => ReactElement;\n    label?: string;\n}\n","import * as React from 'react';\nimport { ReactElement } from 'react';\nimport { RaRecord } from '../../types';\nimport { RecordContextProvider } from './RecordContext';\n\n/**\n * Wrap children with a RecordContext provider only if the value is defined.\n *\n * Allows a component to work outside of a record context.\n *\n * @example\n *\n * import { OptionalRecordContextProvider, TextField } from 'react-admin';\n *\n * const RecordTitle = ({ record }) => (\n *     <OptionalRecordContextProvider value={record}>\n *         <TextField source=\"title\" />\n *     </OptionalRecordContextProvider>\n * );\n */\nexport const OptionalRecordContextProvider = <\n    RecordType extends RaRecord | Omit<RaRecord, 'id'> = RaRecord\n>({\n    value,\n    children,\n}: {\n    children: ReactElement;\n    value?: RecordType;\n}) =>\n    value ? (\n        <RecordContextProvider value={value}>{children}</RecordContextProvider>\n    ) : (\n        children\n    );\n","import { createContext } from 'react';\nimport { EditControllerResult } from './useEditController';\n\n/**\n * Context to store the result of the useEditController() hook.\n *\n * Use the useEditContext() hook to read the context. That's what the Edit components do in react-admin.\n *\n * @example\n *\n * import { useEditController, EditContextProvider } from 'ra-core';\n *\n * const Edit = props => {\n *     const controllerProps = useEditController(props);\n *     return (\n *         <EditContextProvider value={controllerProps}>\n *             ...\n *         </EditContextProvider>\n *     );\n * };\n */\nexport const EditContext = createContext<EditControllerResult>({\n    record: null,\n    defaultTitle: null,\n    isFetching: null,\n    isLoading: null,\n    mutationMode: null,\n    redirect: null,\n    refetch: null,\n    resource: null,\n    save: null,\n    saving: null,\n});\n\nEditContext.displayName = 'EditContext';\n","import {\n    useEditController,\n    EditControllerProps,\n    EditControllerResult,\n} from './useEditController';\n\n/**\n * Render prop version of the useEditController hook\n *\n * @see useEditController\n * @example\n *\n * const EditView = () => <div>...</div>\n * const MyEdit = props => (\n *     <EditController {...props}>\n *         {controllerProps => <EditView {...controllerProps} {...props} />}\n *     </EditController>\n * );\n */\nexport const EditController = ({\n    children,\n    ...props\n}: {\n    children: (params: EditControllerResult) => JSX.Element;\n} & EditControllerProps) => {\n    const controllerProps = useEditController(props);\n    return children(controllerProps);\n};\n","import { useContext, useMemo } from 'react';\nimport defaults from 'lodash/defaults';\n\nimport { RaRecord } from '../../types';\nimport { EditContext } from './EditContext';\nimport { EditControllerResult } from './useEditController';\n\n/**\n * Hook to read the edit controller props from the CreateContext.\n *\n * Mostly used within a <EditContext.Provider> (e.g. as a descendent of <Edit>).\n *\n * But you can also use it without a <EditContext.Provider>. In this case, it is up to you\n * to pass all the necessary props.\n *\n * The given props will take precedence over context values.\n *\n * @typedef {Object} EditControllerProps\n *\n * @returns {EditControllerResult} edit controller props\n *\n * @see useEditController for how it is filled\n *\n */\nexport const useEditContext = <RecordType extends RaRecord = any>(\n    props?: Partial<EditControllerResult<RecordType>>\n): Partial<EditControllerResult<RecordType>> => {\n    // Can't find a way to specify the RecordType when EditContext is declared\n    // @ts-ignore\n    const context = useContext<EditControllerResult<RecordType>>(EditContext);\n\n    // Props take precedence over the context\n    return useMemo(\n        () =>\n            defaults(\n                {},\n                props != null ? extractEditContextProps(props) : {},\n                context\n            ),\n        [context, props]\n    );\n};\n\n/**\n * Extract only the edit controller props\n *\n * @param {Object} props props passed to the useEditContext hook\n *\n * @returns {EditControllerResult} edit controller props\n */\nconst extractEditContextProps = ({\n    data,\n    record,\n    defaultTitle,\n    isFetching,\n    isLoading,\n    mutationMode,\n    redirect,\n    resource,\n    save,\n    saving,\n}: any) => ({\n    // Necessary for actions (EditActions) which expect a data prop containing the record\n    // @deprecated - to be removed in 4.0d\n    data: record || data,\n    record: record || data,\n    defaultTitle,\n    isFetching,\n    isLoading,\n    mutationMode,\n    redirect,\n    resource,\n    save,\n    saving,\n});\n","import get from 'lodash/get';\n\nimport { RaRecord, SortPayload } from '../../types';\nimport { useGetManyAggregate } from '../../dataProvider';\nimport { ListControllerResult, useList } from '../list';\nimport { useNotify } from '../../notification';\n\nexport interface UseReferenceArrayFieldControllerParams {\n    filter?: any;\n    page?: number;\n    perPage?: number;\n    record?: RaRecord;\n    reference: string;\n    resource: string;\n    sort?: SortPayload;\n    source: string;\n}\n\nconst emptyArray = [];\nconst defaultFilter = {};\nconst defaultSort = { field: null, order: null };\n\n/**\n * Hook that fetches records from another resource specified\n * by an array of *ids* in current record.\n *\n * @example\n *\n * const { data, error, isFetching, isLoading } = useReferenceArrayFieldController({\n *      record: { referenceIds: ['id1', 'id2']};\n *      reference: 'reference';\n *      resource: 'resource';\n *      source: 'referenceIds';\n * });\n *\n * @param {Object} props\n * @param {Object} props.record The current resource record\n * @param {string} props.reference The linked resource name\n * @param {string} props.resource The current resource name\n * @param {string} props.source The key of the linked resource identifier\n *\n * @param {Props} props\n *\n * @returns {ListControllerResult} The reference props\n */\nexport const useReferenceArrayFieldController = (\n    props: UseReferenceArrayFieldControllerParams\n): ListControllerResult => {\n    const {\n        filter = defaultFilter,\n        page = 1,\n        perPage = 1000,\n        record,\n        reference,\n        sort = defaultSort,\n        source,\n    } = props;\n    const notify = useNotify();\n    const ids = get(record, source) || emptyArray;\n    const { data, error, isLoading, isFetching, refetch } = useGetManyAggregate(\n        reference,\n        { ids },\n        {\n            onError: error =>\n                notify(\n                    typeof error === 'string'\n                        ? error\n                        : error.message || 'ra.notification.http_error',\n                    {\n                        type: 'warning',\n                        messageArgs: {\n                            _:\n                                typeof error === 'string'\n                                    ? error\n                                    : error && error.message\n                                    ? error.message\n                                    : undefined,\n                        },\n                    }\n                ),\n        }\n    );\n\n    const listProps = useList({\n        data,\n        error,\n        filter,\n        isFetching,\n        isLoading,\n        page,\n        perPage,\n        sort,\n    });\n\n    return {\n        ...listProps,\n        defaultTitle: null,\n        refetch,\n        resource: reference,\n    };\n};\n","import * as React from 'react';\nimport { ReactNode } from 'react';\nimport { useListController, ListControllerProps } from './useListController';\nimport { ResourceContextProvider } from '../../core';\nimport { RaRecord } from '../../types';\nimport { ListContextProvider } from './ListContextProvider';\n\n/**\n * Call useListController and put the value in a ListContext\n *\n * Base class for <List> components, without UI.\n *\n * Accepts any props accepted by useListController:\n * - filter: permanent filter applied to the list\n * - filters: Filter element, to display the filters\n * - filterDefaultValues: object;\n * - perPage: Number of results per page\n * - sort: Default sort\n * - exporter: exported function\n *\n * @example // Custom list layout\n *\n * const PostList = props => (\n *     <ListBase {...props} perPage={10}>\n *         <div>\n *              List metrics...\n *         </div>\n *         <Grid container>\n *             <Grid item xs={8}>\n *                 <SimpleList primaryText={record => record.title} />\n *             </Grid>\n *             <Grid item xs={4}>\n *                 List instructions...\n *             </Grid>\n *         </Grid>\n *         <div>\n *             Post related links...\n *         </div>\n *     </ListBase>\n * );\n */\nexport const ListBase = <RecordType extends RaRecord = any>({\n    children,\n    ...props\n}: ListControllerProps<RecordType> & { children: ReactNode }) => (\n    <ResourceContextProvider value={props.resource}>\n        <ListContextProvider value={useListController<RecordType>(props)}>\n            {children}\n        </ListContextProvider>\n    </ResourceContextProvider>\n);\n","import { isValidElement, useEffect, useMemo } from 'react';\nimport { UseQueryOptions } from 'react-query';\n\nimport { useAuthenticated } from '../../auth';\nimport { useTranslate } from '../../i18n';\nimport { useNotify } from '../../notification';\nimport { useGetList, UseGetListHookValue } from '../../dataProvider';\nimport { SORT_ASC } from './queryReducer';\nimport { defaultExporter } from '../../export';\nimport { FilterPayload, SortPayload, RaRecord, Exporter } from '../../types';\nimport { useResourceContext, useGetResourceLabel } from '../../core';\nimport { useRecordSelection } from './useRecordSelection';\nimport { useListParams } from './useListParams';\n\n/**\n * Prepare data for the List view\n *\n * @param {Object} props The props passed to the List component.\n *\n * @return {Object} controllerProps Fetched and computed data for the List view\n *\n * @example\n *\n * import { useListController } from 'react-admin';\n * import ListView from './ListView';\n *\n * const MyList = props => {\n *     const controllerProps = useListController(props);\n *     return <ListView {...controllerProps} {...props} />;\n * }\n */\nexport const useListController = <RecordType extends RaRecord = any>(\n    props: ListControllerProps<RecordType> = {}\n): ListControllerResult<RecordType> => {\n    const {\n        disableAuthentication,\n        exporter = defaultExporter,\n        filterDefaultValues,\n        sort = defaultSort,\n        perPage = 10,\n        filter,\n        debounce = 500,\n        disableSyncWithLocation,\n        queryOptions,\n    } = props;\n    useAuthenticated({ enabled: !disableAuthentication });\n    const resource = useResourceContext(props);\n\n    if (!resource) {\n        throw new Error(\n            `<List> was called outside of a ResourceContext and without a resource prop. You must set the resource prop.`\n        );\n    }\n    if (filter && isValidElement(filter)) {\n        throw new Error(\n            '<List> received a React element as `filter` props. If you intended to set the list filter elements, use the `filters` (with an s) prop instead. The `filter` prop is internal and should not be set by the developer.'\n        );\n    }\n\n    const translate = useTranslate();\n    const notify = useNotify();\n\n    const [query, queryModifiers] = useListParams({\n        resource,\n        filterDefaultValues,\n        sort,\n        perPage,\n        debounce,\n        disableSyncWithLocation,\n    });\n\n    const [selectedIds, selectionModifiers] = useRecordSelection(resource);\n\n    const {\n        data,\n        pageInfo,\n        total,\n        error,\n        isLoading,\n        isFetching,\n        refetch,\n    } = useGetList<RecordType>(\n        resource,\n        {\n            pagination: {\n                page: query.page,\n                perPage: query.perPage,\n            },\n            sort: { field: query.sort, order: query.order },\n            filter: { ...query.filter, ...filter },\n        },\n        {\n            keepPreviousData: true,\n            retry: false,\n            onError: error =>\n                notify(error?.message || 'ra.notification.http_error', {\n                    type: 'warning',\n                    messageArgs: {\n                        _: error?.message,\n                    },\n                }),\n            ...queryOptions,\n        }\n    );\n\n    // change page if there is no data\n    useEffect(() => {\n        if (\n            query.page <= 0 ||\n            (!isFetching && query.page > 1 && data.length === 0)\n        ) {\n            // Query for a page that doesn't exist, set page to 1\n            queryModifiers.setPage(1);\n            return;\n        }\n        if (total == null) {\n            return;\n        }\n        const totalPages = Math.ceil(total / query.perPage) || 1;\n        if (!isFetching && query.page > totalPages) {\n            // Query for a page out of bounds, set page to the last existing page\n            // It occurs when deleting the last element of the last page\n            queryModifiers.setPage(totalPages);\n        }\n    }, [isFetching, query.page, query.perPage, data, queryModifiers, total]);\n\n    const currentSort = useMemo(\n        () => ({\n            field: query.sort,\n            order: query.order,\n        }),\n        [query.sort, query.order]\n    );\n\n    const getResourceLabel = useGetResourceLabel();\n    const defaultTitle = translate('ra.page.list', {\n        name: getResourceLabel(resource, 2),\n    });\n\n    return {\n        sort: currentSort,\n        data,\n        defaultTitle,\n        displayedFilters: query.displayedFilters,\n        error,\n        exporter,\n        filter,\n        filterValues: query.filterValues,\n        hideFilter: queryModifiers.hideFilter,\n        isFetching,\n        isLoading,\n        onSelect: selectionModifiers.select,\n        onToggleItem: selectionModifiers.toggle,\n        onUnselectItems: selectionModifiers.clearSelection,\n        page: query.page,\n        perPage: query.perPage,\n        refetch,\n        resource,\n        selectedIds,\n        setFilters: queryModifiers.setFilters,\n        setPage: queryModifiers.setPage,\n        setPerPage: queryModifiers.setPerPage,\n        setSort: queryModifiers.setSort,\n        showFilter: queryModifiers.showFilter,\n        total: total,\n        hasNextPage: pageInfo\n            ? pageInfo.hasNextPage\n            : total != null\n            ? query.page * query.perPage < total\n            : undefined,\n        hasPreviousPage: pageInfo ? pageInfo.hasPreviousPage : query.page > 1,\n    };\n};\n\nexport interface ListControllerProps<RecordType extends RaRecord = any> {\n    debounce?: number;\n    disableAuthentication?: boolean;\n    /**\n     * Whether to disable the synchronization of the list parameters with the current location (URL search parameters)\n     */\n    disableSyncWithLocation?: boolean;\n    exporter?: Exporter | false;\n    filter?: FilterPayload;\n    filterDefaultValues?: object;\n    perPage?: number;\n    queryOptions?: UseQueryOptions<{\n        data: RecordType[];\n        total?: number;\n        pageInfo?: {\n            hasNextPage?: boolean;\n            hasPreviousPage?: boolean;\n        };\n    }>;\n    resource?: string;\n    sort?: SortPayload;\n}\n\nconst defaultSort = {\n    field: 'id',\n    order: SORT_ASC,\n};\n\nexport interface ListControllerResult<RecordType extends RaRecord = any> {\n    sort: SortPayload;\n    data: RecordType[];\n    defaultTitle?: string;\n    displayedFilters: any;\n    error?: any;\n    exporter?: Exporter | false;\n    filter?: FilterPayload;\n    filterValues: any;\n    hideFilter: (filterName: string) => void;\n    isFetching: boolean;\n    isLoading: boolean;\n    onSelect: (ids: RecordType['id'][]) => void;\n    onToggleItem: (id: RecordType['id']) => void;\n    onUnselectItems: () => void;\n    page: number;\n    perPage: number;\n    refetch: UseGetListHookValue<RecordType>['refetch'];\n    resource: string;\n    selectedIds: RecordType['id'][];\n    setFilters: (\n        filters: any,\n        displayedFilters: any,\n        debounce?: boolean\n    ) => void;\n    setPage: (page: number) => void;\n    setPerPage: (page: number) => void;\n    setSort: (sort: SortPayload) => void;\n    showFilter: (filterName: string, defaultValue: any) => void;\n    total: number;\n    hasNextPage: boolean;\n    hasPreviousPage: boolean;\n}\n\nexport const injectedProps = [\n    'sort',\n    'data',\n    'defaultTitle',\n    'displayedFilters',\n    'error',\n    'exporter',\n    'filterValues',\n    'hideFilter',\n    'isFetching',\n    'isLoading',\n    'onSelect',\n    'onToggleItem',\n    'onUnselectItems',\n    'page',\n    'perPage',\n    'refetch',\n    'refresh',\n    'resource',\n    'selectedIds',\n    'setFilters',\n    'setPage',\n    'setPerPage',\n    'setSort',\n    'showFilter',\n    'total',\n    'totalPages',\n];\n\n/**\n * Select the props injected by the useListController hook\n * to be passed to the List children need\n * This is an implementation of pick()\n */\nexport const getListControllerProps = props =>\n    injectedProps.reduce((acc, key) => ({ ...acc, [key]: props[key] }), {});\n\n/**\n * Select the props not injected by the useListController hook\n * to be used inside the List children to sanitize props injected by List\n * This is an implementation of omit()\n */\nexport const sanitizeListRestProps = props =>\n    Object.keys(props)\n        .filter(propName => !injectedProps.includes(propName))\n        .reduce((acc, key) => ({ ...acc, [key]: props[key] }), {});\n","import { useMemo } from 'react';\n\nimport { useStore, useRemoveFromStore } from '../../store';\nimport { Identifier } from '../../types';\n\n/**\n * Get the list of selected items for a resource, and callbacks to change the selection\n *\n * @param resource The resource name, e.g. 'posts'\n *\n * @returns {Object} Destructure as [selectedIds, { select, toggle, clearSelection }].\n */\nexport const useRecordSelection = (\n    resource: string\n): [\n    Identifier[],\n    {\n        select: (ids: Identifier[]) => void;\n        unselect: (ids: Identifier[]) => void;\n        toggle: (id: Identifier) => void;\n        clearSelection: () => void;\n    }\n] => {\n    const storeKey = `${resource}.selectedIds`;\n    const [ids, setIds] = useStore(storeKey, defaultSelection);\n    const reset = useRemoveFromStore(storeKey);\n\n    const selectionModifiers = useMemo(\n        () => ({\n            select: (idsToAdd: Identifier[]) => {\n                if (!idsToAdd) return;\n                setIds([...idsToAdd]);\n            },\n            unselect(idsToRemove: Identifier[]) {\n                if (!idsToRemove || idsToRemove.length === 0) return;\n                setIds(ids => {\n                    if (!Array.isArray(ids)) return [];\n                    return ids.filter(id => !idsToRemove.includes(id));\n                });\n            },\n            toggle: (id: Identifier) => {\n                if (typeof id === 'undefined') return;\n                setIds(ids => {\n                    if (!Array.isArray(ids)) return [...ids];\n                    const index = ids.indexOf(id);\n                    return index > -1\n                        ? [...ids.slice(0, index), ...ids.slice(index + 1)]\n                        : [...ids, id];\n                });\n            },\n            clearSelection: () => {\n                reset();\n            },\n        }),\n        [setIds, reset]\n    );\n\n    return [ids, selectionModifiers];\n};\n\nconst defaultSelection = [];\n","import { useCallback, useMemo, useEffect, useState, useRef } from 'react';\nimport { parse, stringify } from 'query-string';\nimport lodashDebounce from 'lodash/debounce';\nimport pickBy from 'lodash/pickBy';\nimport { useNavigate, useLocation } from 'react-router-dom';\n\nimport { useStore } from '../../store';\nimport queryReducer, {\n    SET_FILTER,\n    HIDE_FILTER,\n    SHOW_FILTER,\n    SET_PAGE,\n    SET_PER_PAGE,\n    SET_SORT,\n    SORT_ASC,\n} from './queryReducer';\nimport { SortPayload, FilterPayload } from '../../types';\nimport removeEmpty from '../../util/removeEmpty';\nimport { useIsMounted } from '../../util/hooks';\n\nexport interface ListParams {\n    sort: string;\n    order: string;\n    page: number;\n    perPage: number;\n    filter: any;\n    displayedFilters: any;\n}\n\n/**\n * Get the list parameters (page, sort, filters) and modifiers.\n *\n * These parameters are merged from 3 sources:\n *   - the query string from the URL\n *   - the params stored in the state (from previous navigation)\n *   - the options passed to the hook (including the filter defaultValues)\n *\n * @returns {Array} A tuple [parameters, modifiers].\n * Destructure as [\n *    { page, perPage, sort, order, filter, filterValues, displayedFilters, requestSignature },\n *    { setFilters, hideFilter, showFilter, setPage, setPerPage, setSort }\n * ]\n *\n * @example\n *\n * const [listParams, listParamsActions] = useListParams({\n *      resource: 'posts',\n *      location: location // From react-router. Injected to your component by react-admin inside a List\n *      filterDefaultValues: {\n *          published: true\n *      },\n *      sort: {\n *          field: 'published_at',\n *          order: 'DESC'\n *      },\n *      perPage: 25\n * });\n *\n * const {\n *      page,\n *      perPage,\n *      sort,\n *      order,\n *      filter,\n *      filterValues,\n *      displayedFilters,\n *      requestSignature\n * } = listParams;\n *\n * const {\n *      setFilters,\n *      hideFilter,\n *      showFilter,\n *      setPage,\n *      setPerPage,\n *      setSort,\n * } = listParamsActions;\n */\nexport const useListParams = ({\n    resource,\n    filterDefaultValues,\n    sort = defaultSort,\n    perPage = 10,\n    debounce = 500,\n    disableSyncWithLocation = false,\n}: ListParamsOptions): [Parameters, Modifiers] => {\n    const location = useLocation();\n    const navigate = useNavigate();\n    const [localParams, setLocalParams] = useState(defaultParams);\n    const storeKey = `${resource}.listParams`;\n    const [params, setParams] = useStore(storeKey, defaultParams);\n    const tempParams = useRef<ListParams>();\n    const isMounted = useIsMounted();\n\n    const requestSignature = [\n        location.search,\n        resource,\n        JSON.stringify(disableSyncWithLocation ? localParams : params),\n        JSON.stringify(filterDefaultValues),\n        JSON.stringify(sort),\n        perPage,\n        disableSyncWithLocation,\n    ];\n\n    const queryFromLocation = disableSyncWithLocation\n        ? {}\n        : parseQueryFromLocation(location);\n\n    const query = useMemo(\n        () =>\n            getQuery({\n                queryFromLocation,\n                params: disableSyncWithLocation ? localParams : params,\n                filterDefaultValues,\n                sort,\n                perPage,\n            }),\n        requestSignature // eslint-disable-line react-hooks/exhaustive-deps\n    );\n\n    // if the location includes params (for example from a link like\n    // the categories products on the demo), we need to persist them in the\n    // store as well so that we don't lose them after a redirection back\n    // to the list\n    useEffect(() => {\n        if (Object.keys(queryFromLocation).length > 0) {\n            setParams(query);\n        }\n    }, [location.search]); // eslint-disable-line\n\n    const changeParams = useCallback(action => {\n        // do not change params if the component is already unmounted\n        // this is necessary because changeParams can be debounced, and therefore\n        // executed after the component is unmounted\n        if (!isMounted.current) return;\n\n        if (!tempParams.current) {\n            // no other changeParams action dispatched this tick\n            tempParams.current = queryReducer(query, action);\n            // schedule side effects for next tick\n            setTimeout(() => {\n                if (disableSyncWithLocation) {\n                    setLocalParams(tempParams.current);\n                } else {\n                    // the useEffect above will apply the changes to the params in the store\n                    navigate(\n                        {\n                            search: `?${stringify({\n                                ...tempParams.current,\n                                filter: JSON.stringify(\n                                    tempParams.current.filter\n                                ),\n                                displayedFilters: JSON.stringify(\n                                    tempParams.current.displayedFilters\n                                ),\n                            })}`,\n                        },\n                        {\n                            state: { _scrollToTop: action.type === SET_PAGE },\n                        }\n                    );\n                }\n                tempParams.current = undefined;\n            }, 0);\n        } else {\n            // side effects already scheduled, just change the params\n            tempParams.current = queryReducer(tempParams.current, action);\n        }\n    }, requestSignature); // eslint-disable-line react-hooks/exhaustive-deps\n\n    const setSort = useCallback(\n        (sort: SortPayload) =>\n            changeParams({\n                type: SET_SORT,\n                payload: sort,\n            }),\n        requestSignature // eslint-disable-line react-hooks/exhaustive-deps\n    );\n\n    const setPage = useCallback(\n        (newPage: number) => changeParams({ type: SET_PAGE, payload: newPage }),\n        requestSignature // eslint-disable-line react-hooks/exhaustive-deps\n    );\n\n    const setPerPage = useCallback(\n        (newPerPage: number) =>\n            changeParams({ type: SET_PER_PAGE, payload: newPerPage }),\n        requestSignature // eslint-disable-line react-hooks/exhaustive-deps\n    );\n\n    const filterValues = query.filter || emptyObject;\n    const displayedFilterValues = query.displayedFilters || emptyObject;\n\n    const debouncedSetFilters = lodashDebounce((filter, displayedFilters) => {\n        changeParams({\n            type: SET_FILTER,\n            payload: {\n                filter: removeEmpty(filter),\n                displayedFilters,\n            },\n        });\n    }, debounce);\n\n    const setFilters = useCallback(\n        (filter, displayedFilters, debounce = true) =>\n            debounce\n                ? debouncedSetFilters(filter, displayedFilters)\n                : changeParams({\n                      type: SET_FILTER,\n                      payload: {\n                          filter: removeEmpty(filter),\n                          displayedFilters,\n                      },\n                  }),\n        requestSignature // eslint-disable-line react-hooks/exhaustive-deps\n    );\n\n    const hideFilter = useCallback((filterName: string) => {\n        changeParams({\n            type: HIDE_FILTER,\n            payload: filterName,\n        });\n    }, requestSignature); // eslint-disable-line react-hooks/exhaustive-deps\n\n    const showFilter = useCallback((filterName: string, defaultValue: any) => {\n        changeParams({\n            type: SHOW_FILTER,\n            payload: {\n                filterName,\n                defaultValue,\n            },\n        });\n    }, requestSignature); // eslint-disable-line react-hooks/exhaustive-deps\n\n    return [\n        {\n            displayedFilters: displayedFilterValues,\n            filterValues,\n            requestSignature,\n            ...query,\n        },\n        {\n            changeParams,\n            setPage,\n            setPerPage,\n            setSort,\n            setFilters,\n            hideFilter,\n            showFilter,\n        },\n    ];\n};\n\nexport const validQueryParams = [\n    'page',\n    'perPage',\n    'sort',\n    'order',\n    'filter',\n    'displayedFilters',\n];\n\nconst parseObject = (query, field) => {\n    if (query[field] && typeof query[field] === 'string') {\n        try {\n            query[field] = JSON.parse(query[field]);\n        } catch (err) {\n            delete query[field];\n        }\n    }\n};\n\nexport const parseQueryFromLocation = ({ search }): Partial<ListParams> => {\n    const query = pickBy(\n        parse(search),\n        (v, k) => validQueryParams.indexOf(k) !== -1\n    );\n    parseObject(query, 'filter');\n    parseObject(query, 'displayedFilters');\n    return query;\n};\n\n/**\n * Check if user has already set custom sort, page, or filters for this list\n *\n * User params come from the store as the params props. By default,\n * this object is:\n *\n * { filter: {}, order: null, page: 1, perPage: null, sort: null }\n *\n * To check if the user has custom params, we must compare the params\n * to these initial values.\n *\n * @param {Object} params\n */\nexport const hasCustomParams = (params: ListParams) => {\n    return (\n        params &&\n        params.filter &&\n        (Object.keys(params.filter).length > 0 ||\n            params.order != null ||\n            params.page !== 1 ||\n            params.perPage != null ||\n            params.sort != null)\n    );\n};\n\n/**\n * Merge list params from 3 different sources:\n *   - the query string\n *   - the params stored in the state (from previous navigation)\n *   - the props passed to the List component (including the filter defaultValues)\n */\nexport const getQuery = ({\n    queryFromLocation,\n    params,\n    filterDefaultValues,\n    sort,\n    perPage,\n}) => {\n    const query: Partial<ListParams> =\n        Object.keys(queryFromLocation).length > 0\n            ? queryFromLocation\n            : hasCustomParams(params)\n            ? { ...params }\n            : { filter: filterDefaultValues || {} };\n\n    if (!query.sort) {\n        query.sort = sort.field;\n        query.order = sort.order;\n    }\n    if (query.perPage == null) {\n        query.perPage = perPage;\n    }\n    if (query.page == null) {\n        query.page = 1;\n    }\n\n    return {\n        ...query,\n        page: getNumberOrDefault(query.page, 1),\n        perPage: getNumberOrDefault(query.perPage, 10),\n    } as ListParams;\n};\n\nexport const getNumberOrDefault = (\n    possibleNumber: string | number | undefined,\n    defaultValue: number\n) => {\n    const parsedNumber =\n        typeof possibleNumber === 'string'\n            ? parseInt(possibleNumber, 10)\n            : possibleNumber;\n\n    return isNaN(parsedNumber) ? defaultValue : parsedNumber;\n};\n\nexport interface ListParamsOptions {\n    resource: string;\n    perPage?: number;\n    sort?: SortPayload;\n    // default value for a filter when displayed but not yet set\n    filterDefaultValues?: FilterPayload;\n    debounce?: number;\n    // Whether to disable the synchronization of the list parameters with\n    // the current location (URL search parameters)\n    disableSyncWithLocation?: boolean;\n}\n\ninterface Parameters extends ListParams {\n    filterValues: object;\n    displayedFilters: {\n        [key: string]: boolean;\n    };\n    requestSignature: any[];\n}\n\ninterface Modifiers {\n    changeParams: (action: any) => void;\n    setPage: (page: number) => void;\n    setPerPage: (pageSize: number) => void;\n    setSort: (sort: SortPayload) => void;\n    setFilters: (filters: any, displayedFilters: any) => void;\n    hideFilter: (filterName: string) => void;\n    showFilter: (filterName: string, defaultValue: any) => void;\n}\n\nconst emptyObject = {};\n\nconst defaultSort = {\n    field: 'id',\n    order: SORT_ASC,\n};\n\nconst defaultParams = {};\n","import * as React from 'react';\nimport { ListContext } from './ListContext';\nimport { ListFilterContext, usePickFilterContext } from './ListFilterContext';\nimport { ListSortContext, usePickSortContext } from './ListSortContext';\nimport {\n    ListPaginationContext,\n    usePickPaginationContext,\n} from './ListPaginationContext';\n\n/**\n * Create a List Context and several thematic List subcontext.\n *\n * Allows children to subscribe to part of the ListContext, and bail out of\n * rendering when some parts of the context that they don't depend on change\n * (because unfortunately React doesn't allow to use context selectors yet).\n *\n * @example\n *\n * const MyList = (props) => {\n *     const controllerProps = useListController(props);\n *     return (\n *         <ListContextProvider value={controllerProps}>\n *             <MyListView>\n *         </ListContextProvider>\n *     );\n * };\n *\n * const MyListView = () => {\n *     const { data, filterValues, setFilters } = useListContext();\n *     // or, to rerender only when filters change but not data\n *     const { filterValues, setFilters } = useListFilterContext();\n * }\n *\n * @see ListContext\n * @see ListFilterContext\n */\nexport const ListContextProvider = ({ value, children }) => (\n    <ListContext.Provider value={value}>\n        <ListFilterContext.Provider value={usePickFilterContext(value)}>\n            <ListSortContext.Provider value={usePickSortContext(value)}>\n                <ListPaginationContext.Provider\n                    value={usePickPaginationContext(value)}\n                >\n                    {children}\n                </ListPaginationContext.Provider>\n            </ListSortContext.Provider>\n        </ListFilterContext.Provider>\n    </ListContext.Provider>\n);\n","import { createContext } from 'react';\nimport { ListControllerResult } from './useListController';\n\n/**\n * Context to store the result of the useListController() hook.\n *\n * Use the useListContext() hook to read the context. That's what many\n * List components do in react-admin (e.g. <Datagrid>, <FilterForm>, <Pagination>).\n *\n * @typedef {Object} ListControllerProps\n * @prop {Array}    data an array of the list records, e.g. [{ id: 123, title: 'hello world' }, { ... }]\n * @prop {integer}  total the total number of results for the current filters, excluding pagination. Useful to build the pagination controls. e.g. 23\n * @prop {boolean}  isFetching boolean that is true on mount, and false once the data was fetched\n * @prop {boolean}  isLoading boolean that is false until the data is available\n * @prop {integer}  page the current page. Starts at 1\n * @prop {Function} setPage a callback to change the page, e.g. setPage(3)\n * @prop {integer}  perPage the number of results per page. Defaults to 25\n * @prop {Function} setPerPage a callback to change the number of results per page, e.g. setPerPage(25)\n * @prop {Object}   sort a sort object { field, order }, e.g. { field: 'date', order: 'DESC' }\n * @prop {Function} setSort a callback to change the sort, e.g. setSort({ field: 'name', order: 'ASC' })\n * @prop {Object}   filterValues a dictionary of filter values, e.g. { title: 'lorem', nationality: 'fr' }\n * @prop {Function} setFilters a callback to update the filters, e.g. setFilters(filters, displayedFilters)\n * @prop {Object}   displayedFilters a dictionary of the displayed filters, e.g. { title: true, nationality: true }\n * @prop {Function} showFilter a callback to show one of the filters, e.g. showFilter('title', defaultValue)\n * @prop {Function} hideFilter a callback to hide one of the filters, e.g. hideFilter('title')\n * @prop {Array}    selectedIds an array listing the ids of the selected rows, e.g. [123, 456]\n * @prop {Function} onSelect callback to change the list of selected rows, e.g. onSelect([456, 789])\n * @prop {Function} onToggleItem callback to toggle the selection of a given record based on its id, e.g. onToggleItem(456)\n * @prop {Function} onUnselectItems callback to clear the selection, e.g. onUnselectItems();\n * @prop {string}   defaultTitle the translated title based on the resource, e.g. 'Posts'\n * @prop {string}   resource the resource name, deduced from the location. e.g. 'posts'\n * @prop {Function} refetch a function for triggering a refetch of the list data\n *\n * @typedef Props\n * @prop {ListControllerResult} value\n *\n * @param {Props}\n *\n * @see useListController\n * @see useListContext\n *\n * @example\n *\n * import { useListController, ListContext } from 'ra-core';\n *\n * const List = props => {\n *     const controllerProps = useListController(props);\n *     return (\n *         <ListContext.Provider value={controllerProps}>\n *             ...\n *         </ListContext.Provider>\n *     );\n * };\n */\nexport const ListContext = createContext<ListControllerResult>({\n    sort: null,\n    data: null,\n    defaultTitle: null,\n    displayedFilters: null,\n    exporter: null,\n    filterValues: null,\n    hasNextPage: null,\n    hasPreviousPage: null,\n    hideFilter: null,\n    isFetching: null,\n    isLoading: null,\n    onSelect: null,\n    onToggleItem: null,\n    onUnselectItems: null,\n    page: null,\n    perPage: null,\n    refetch: null,\n    resource: null,\n    selectedIds: undefined,\n    setFilters: null,\n    setPage: null,\n    setPerPage: null,\n    setSort: null,\n    showFilter: null,\n    total: null,\n});\n\nListContext.displayName = 'ListContext';\n","import { createContext, useMemo } from 'react';\nimport pick from 'lodash/pick';\nimport { ListControllerResult } from './useListController';\n\n/**\n * Context to store the filter part of the useListController() result.\n *\n * Use the useListFilterContext() hook to read the context. That's what many\n * List components do in react-admin (e.g. <FilterForm>, <FilterListItem>).\n *\n * @typedef {Object} ListFilterContextValue\n * @prop {Object}   filterValues a dictionary of filter values, e.g. { title: 'lorem', nationality: 'fr' }\n * @prop {Function} setFilters a callback to update the filters, e.g. setFilters(filters, displayedFilters)\n * @prop {Object}   displayedFilters a dictionary of the displayed filters, e.g. { title: true, nationality: true }\n * @prop {Function} showFilter a callback to show one of the filters, e.g. showFilter('title', defaultValue)\n * @prop {Function} hideFilter a callback to hide one of the filters, e.g. hideFilter('title')\n * @prop {string}   resource the resource name, deduced from the location. e.g. 'posts'\n *\n * @typedef Props\n * @prop {ListFilterContextValue} value\n *\n * @param {Props}\n *\n * @see useListController\n * @see useListFilterContext\n *\n * @example\n *\n * import { useListController, usePickFilterContext, ListFilterContext } from 'ra-core';\n *\n * const List = props => {\n *     const controllerProps = useListController(props);\n *     return (\n *         <ListFilterContext.Provider value={usePickFilterContext(controllerProps)}>\n *             ...\n *         </ListFilterContext.Provider>\n *     );\n * };\n */\nexport const ListFilterContext = createContext<ListFilterContextValue>({\n    displayedFilters: null,\n    filterValues: null,\n    hideFilter: null,\n    setFilters: null,\n    showFilter: null,\n    resource: null,\n});\n\nexport type ListFilterContextValue = Pick<\n    ListControllerResult,\n    | 'displayedFilters'\n    | 'filterValues'\n    | 'hideFilter'\n    | 'setFilters'\n    | 'showFilter'\n    | 'resource'\n>;\n\nexport const usePickFilterContext = (\n    context: ListControllerResult\n): ListFilterContextValue =>\n    useMemo(\n        () =>\n            pick(context, [\n                'displayedFilters',\n                'filterValues',\n                'hideFilter',\n                'setFilters',\n                'showFilter',\n                'resource',\n            ]),\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n        [\n            context.displayedFilters,\n            context.filterValues,\n            context.hideFilter,\n            context.setFilters,\n            context.showFilter,\n        ]\n    );\n\nListFilterContext.displayName = 'ListFilterContext';\n","import { createContext, useMemo } from 'react';\nimport pick from 'lodash/pick';\nimport { ListControllerResult } from './useListController';\n\n/**\n * Context to store the sort part of the useListController() result.\n *\n * Use the useListSortContext() hook to read the context. That's what many\n * List components do in react-admin (e.g. <SortButton>).\n *\n * @typedef {Object} ListSortContextValue\n * @prop {Object}   sort a sort object { field, order }, e.g. { field: 'date', order: 'DESC' }\n * @prop {Function} setSort a callback to change the sort, e.g. setSort({ field: 'name', order: 'ASC' })\n * @prop {string}   resource the resource name, deduced from the location. e.g. 'posts'\n *\n * @typedef Props\n * @prop {ListSortContextValue} value\n *\n * @param {Props}\n *\n * @see useListController\n * @see useListSortContext\n *\n * @example\n *\n * import { useListController, usePickSortContext, ListSortContext } from 'ra-core';\n *\n * const List = props => {\n *     const controllerProps = useListController(props);\n *     return (\n *         <ListSortContext.Provider value={usePickSortContext(controllerProps)}>\n *             ...\n *         </ListSortContext.Provider>\n *     );\n * };\n */\nexport const ListSortContext = createContext<ListSortContextValue>({\n    sort: null,\n    setSort: null,\n    resource: null,\n});\n\nexport type ListSortContextValue = Pick<\n    ListControllerResult,\n    'sort' | 'setSort' | 'resource'\n>;\n\nexport const usePickSortContext = (\n    context: ListControllerResult\n): ListSortContextValue =>\n    useMemo(\n        () => pick(context, ['sort', 'setSort', 'resource']),\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n        [context.sort, context.setSort]\n    );\n\nListSortContext.displayName = 'ListSortContext';\n","import { createContext, useMemo } from 'react';\nimport pick from 'lodash/pick';\nimport { ListControllerResult } from './useListController';\n\n/**\n * Context to store the pagination part of the useListController() result.\n *\n * Use the useListPaginationContext() hook to read the pagination information.\n * That's what List components do in react-admin (e.g. <Pagination>).\n *\n * @typedef {Object} ListPaginationContextValue\n * @prop {boolean}  isLoading boolean that is false until the data is available\n * @prop {integer}  total the total number of results for the current filters, excluding pagination. Useful to build the pagination controls. e.g. 23\n * @prop {integer}  page the current page. Starts at 1\n * @prop {Function} setPage a callback to change the page, e.g. setPage(3)\n * @prop {integer}  perPage the number of results per page. Defaults to 25\n * @prop {Function} setPerPage a callback to change the number of results per page, e.g. setPerPage(25)\n * @prop {Boolean}  hasPreviousPage true if the current page is not the first one\n * @prop {Boolean}  hasNextPage true if the current page is not the last one\n\n * @prop {string}   resource the resource name, deduced from the location. e.g. 'posts'\n *\n * @typedef Props\n * @prop {ListPaginationContextValue} value\n *\n * @param {Props}\n *\n * @see useListController\n * @see useListContext\n *\n * @example\n *\n * import { useListController, ListPaginationContext } from 'ra-core';\n *\n * const List = props => {\n *     const controllerProps = useListController(props);\n *     return (\n *         <ListPaginationContext.Provider value={controllerProps}>\n *             ...\n *         </ListPaginationContext.Provider>\n *     );\n * };\n */\nexport const ListPaginationContext = createContext<ListPaginationContextValue>({\n    isLoading: null,\n    page: null,\n    perPage: null,\n    setPage: null,\n    setPerPage: null,\n    hasPreviousPage: null,\n    hasNextPage: null,\n    total: undefined,\n    resource: null,\n});\n\nListPaginationContext.displayName = 'ListPaginationContext';\n\nexport type ListPaginationContextValue = Pick<\n    ListControllerResult,\n    | 'isLoading'\n    | 'hasPreviousPage'\n    | 'hasNextPage'\n    | 'page'\n    | 'perPage'\n    | 'setPage'\n    | 'setPerPage'\n    | 'total'\n    | 'resource'\n>;\n\nexport const usePickPaginationContext = (\n    context: ListControllerResult\n): ListPaginationContextValue =>\n    useMemo(\n        () =>\n            pick(context, [\n                'isLoading',\n                'hasPreviousPage',\n                'hasNextPage',\n                'page',\n                'perPage',\n                'setPage',\n                'setPerPage',\n                'total',\n                'resource',\n            ]),\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n        [\n            context.isLoading,\n            context.hasPreviousPage,\n            context.hasNextPage,\n            context.page,\n            context.perPage,\n            context.setPage,\n            context.setPerPage,\n            context.total,\n        ]\n    );\n","import {\n    useListController,\n    ListControllerProps,\n    ListControllerResult,\n} from './useListController';\n\n/**\n * Render prop version of the useListController hook.\n *\n * @see useListController\n * @example\n *\n * const ListView = () => <div>...</div>;\n * const List = props => (\n *     <ListController {...props}>\n *        {controllerProps => <ListView {...controllerProps} {...props} />}\n *     </ListController>\n * )\n */\nexport const ListController = ({\n    children,\n    ...props\n}: {\n    children: (params: ListControllerResult) => JSX.Element;\n} & ListControllerProps) => {\n    const controllerProps = useListController(props);\n    return children(controllerProps);\n};\n","import { useCallback, useEffect, useRef } from 'react';\nimport get from 'lodash/get';\nimport isEqual from 'lodash/isEqual';\nimport { removeEmpty, useSafeSetState } from '../../util';\nimport { FilterPayload, RaRecord, SortPayload } from '../../types';\nimport { useResourceContext } from '../../core';\nimport usePaginationState from '../usePaginationState';\nimport useSortState from '../useSortState';\nimport { useRecordSelection } from './useRecordSelection';\nimport { ListControllerResult } from './useListController';\n\nconst refetch = () => {\n    throw new Error(\n        'refetch is not available for a ListContext built from useList based on local data'\n    );\n};\n\n/**\n * Handle filtering, sorting and pagination on local data.\n *\n * Returns the data and callbacks expected by <ListContext>.\n *\n * @example\n * const data = [\n *     { id: 1, name: 'Arnold' },\n *     { id: 2, name: 'Sylvester' },\n *     { id: 3, name: 'Jean-Claude' },\n * ]\n *\n * const MyComponent = () => {\n *     const listContext = useList({ data });\n *     return (\n *         <ListContextProvider value={listContext}>\n *             <Datagrid>\n *                 <TextField source=\"id\" />\n *                 <TextField source=\"name\" />\n *             </Datagrid>\n *         </ListContextProvider>\n *     );\n * };\n *\n * @param {UseListOptions} props\n * @param {RaRecord[]} props.data An array of records\n * @param {Boolean} props.isFetching: Optional. A boolean indicating whether the data is being loaded\n * @param {Boolean} props.isLoading: Optional. A boolean indicating whether the data has been loaded at least once\n * @param {Error | String} props.error: Optional. The error if any occurred while loading the data\n * @param {Object} props.filter: Optional. An object containing the filters applied on the data\n * @param {Number} props.page: Optional. The initial page index\n * @param {Number} props.perPage: Optional. The initial page size\n * @param {SortPayload} props.sort: Optional. The initial sort (field and order)\n */\nexport const useList = <RecordType extends RaRecord = any>(\n    props: UseListOptions<RecordType>\n): UseListValue<RecordType> => {\n    const {\n        data,\n        error,\n        filter = defaultFilter,\n        isFetching = false,\n        isLoading = false,\n        page: initialPage = 1,\n        perPage: initialPerPage = 1000,\n        sort: initialSort = defaultSort,\n    } = props;\n    const resource = useResourceContext(props);\n\n    const [fetchingState, setFetchingState] = useSafeSetState<boolean>(\n        isFetching\n    );\n    const [loadingState, setLoadingState] = useSafeSetState<boolean>(isLoading);\n\n    const [finalItems, setFinalItems] = useSafeSetState<{\n        data?: RecordType[];\n        total: number;\n    }>(() => ({\n        data,\n        total: data ? data.length : undefined,\n    }));\n\n    // pagination logic\n    const { page, setPage, perPage, setPerPage } = usePaginationState({\n        page: initialPage,\n        perPage: initialPerPage,\n    });\n\n    // sort logic\n    const { sort, setSort: setSortState } = useSortState(initialSort);\n    const setSort = useCallback(\n        (sort: SortPayload) => {\n            setSortState(sort);\n            setPage(1);\n        },\n        [setPage, setSortState]\n    );\n\n    // selection logic\n    const [selectedIds, selectionModifiers] = useRecordSelection(resource);\n\n    // filter logic\n    const filterRef = useRef(filter);\n    const [displayedFilters, setDisplayedFilters] = useSafeSetState<{\n        [key: string]: boolean;\n    }>({});\n    const [filterValues, setFilterValues] = useSafeSetState<{\n        [key: string]: any;\n    }>(filter);\n    const hideFilter = useCallback(\n        (filterName: string) => {\n            setDisplayedFilters(previousState => {\n                const { [filterName]: _, ...newState } = previousState;\n                return newState;\n            });\n            setFilterValues(previousState => {\n                const { [filterName]: _, ...newState } = previousState;\n                return newState;\n            });\n        },\n        [setDisplayedFilters, setFilterValues]\n    );\n    const showFilter = useCallback(\n        (filterName: string, defaultValue: any) => {\n            setDisplayedFilters(previousState => ({\n                ...previousState,\n                [filterName]: true,\n            }));\n            setFilterValues(previousState =>\n                removeEmpty({\n                    ...previousState,\n                    [filterName]: defaultValue,\n                })\n            );\n        },\n        [setDisplayedFilters, setFilterValues]\n    );\n    const setFilters = useCallback(\n        (filters, displayedFilters) => {\n            setFilterValues(removeEmpty(filters));\n            if (displayedFilters) {\n                setDisplayedFilters(displayedFilters);\n            }\n            setPage(1);\n        },\n        [setDisplayedFilters, setFilterValues, setPage]\n    );\n    // handle filter prop change\n    useEffect(() => {\n        if (!isEqual(filter, filterRef.current)) {\n            filterRef.current = filter;\n            setFilterValues(filter);\n        }\n    });\n\n    // We do all the data processing (filtering, sorting, paginating) client-side\n    useEffect(\n        () => {\n            if (isLoading || !data) return;\n\n            // 1. filter\n            let tempData = data.filter(record =>\n                Object.entries(filterValues).every(\n                    ([filterName, filterValue]) => {\n                        const recordValue = get(record, filterName);\n                        const result = Array.isArray(recordValue)\n                            ? Array.isArray(filterValue)\n                                ? recordValue.some(item =>\n                                      filterValue.includes(item)\n                                  )\n                                : recordValue.includes(filterValue)\n                            : Array.isArray(filterValue)\n                            ? filterValue.includes(recordValue)\n                            : filterValue == recordValue; // eslint-disable-line eqeqeq\n                        return result;\n                    }\n                )\n            );\n\n            const filteredLength = tempData.length;\n\n            // 2. sort\n            if (sort.field) {\n                tempData = tempData.sort((a, b) => {\n                    if (get(a, sort.field) > get(b, sort.field)) {\n                        return sort.order === 'ASC' ? 1 : -1;\n                    }\n                    if (get(a, sort.field) < get(b, sort.field)) {\n                        return sort.order === 'ASC' ? -1 : 1;\n                    }\n                    return 0;\n                });\n            }\n\n            // 3. paginate\n            tempData = tempData.slice((page - 1) * perPage, page * perPage);\n\n            setFinalItems({\n                data: tempData,\n                total: filteredLength,\n            });\n        }, // eslint-disable-next-line react-hooks/exhaustive-deps\n        [\n            // eslint-disable-next-line react-hooks/exhaustive-deps\n            JSON.stringify(data),\n            filterValues,\n            isLoading,\n            page,\n            perPage,\n            setFinalItems,\n            sort.field,\n            sort.order,\n        ]\n    );\n\n    useEffect(() => {\n        if (isFetching !== fetchingState) {\n            setFetchingState(isFetching);\n        }\n    }, [isFetching, fetchingState, setFetchingState]);\n\n    useEffect(() => {\n        if (isLoading !== loadingState) {\n            setLoadingState(isLoading);\n        }\n    }, [isLoading, loadingState, setLoadingState]);\n\n    return {\n        sort,\n        data: finalItems.data,\n        defaultTitle: '',\n        error,\n        displayedFilters,\n        filterValues,\n        hasNextPage: page * perPage < finalItems.total,\n        hasPreviousPage: page > 1,\n        hideFilter,\n        isFetching: fetchingState,\n        isLoading: loadingState,\n        onSelect: selectionModifiers.select,\n        onToggleItem: selectionModifiers.toggle,\n        onUnselectItems: selectionModifiers.clearSelection,\n        page,\n        perPage,\n        resource: undefined,\n        refetch,\n        selectedIds,\n        setFilters,\n        setPage,\n        setPerPage,\n        setSort,\n        showFilter,\n        total: finalItems.total,\n    };\n};\n\nexport interface UseListOptions<RecordType extends RaRecord = any> {\n    data?: RecordType[];\n    error?: any;\n    filter?: FilterPayload;\n    isFetching?: boolean;\n    isLoading?: boolean;\n    page?: number;\n    perPage?: number;\n    sort?: SortPayload;\n    resource?: string;\n}\n\nexport type UseListValue<\n    RecordType extends RaRecord = any\n> = ListControllerResult<RecordType>;\n\nconst defaultFilter = {};\nconst defaultSort = { field: null, order: null };\n","import { useContext, useMemo } from 'react';\nimport defaults from 'lodash/defaults';\n\nimport { ListContext } from './ListContext';\nimport { ListControllerResult } from './useListController';\nimport { RaRecord } from '../../types';\n\n/**\n * Hook to read the list controller props from the ListContext.\n *\n * Mostly used within a <ListContext.Provider> (e.g. as a descendent of <List>\n * or <ListBase>).\n *\n * But you can also use it without a <ListContext.Provider>. In this case, it is up to you\n * to pass all the necessary props (see the list below).\n *\n * The given props will take precedence over context values.\n *\n * @typedef {Object} ListControllerProps\n * @prop {Object}   data an array of the list records, e.g. [{ id: 123, title: 'hello world' }, { ... }]\n * @prop {integer}  total the total number of results for the current filters, excluding pagination. Useful to build the pagination controls. e.g. 23\n * @prop {boolean}  isFetching boolean that is true on mount, and false once the data was fetched\n * @prop {boolean}  isLoading boolean that is false until the data is available\n * @prop {integer}  page the current page. Starts at 1\n * @prop {Function} setPage a callback to change the page, e.g. setPage(3)\n * @prop {integer}  perPage the number of results per page. Defaults to 25\n * @prop {Function} setPerPage a callback to change the number of results per page, e.g. setPerPage(25)\n * @prop {Object}   sort a sort object { field, order }, e.g. { field: 'date', order: 'DESC' }\n * @prop {Function} setSort a callback to change the sort, e.g. setSort({ field : 'name', order: 'ASC' })\n * @prop {Object}   filterValues a dictionary of filter values, e.g. { title: 'lorem', nationality: 'fr' }\n * @prop {Function} setFilters a callback to update the filters, e.g. setFilters(filters, displayedFilters)\n * @prop {Object}   displayedFilters a dictionary of the displayed filters, e.g. { title: true, nationality: true }\n * @prop {Function} showFilter a callback to show one of the filters, e.g. showFilter('title', defaultValue)\n * @prop {Function} hideFilter a callback to hide one of the filters, e.g. hideFilter('title')\n * @prop {Array}    selectedIds an array listing the ids of the selected rows, e.g. [123, 456]\n * @prop {Function} onSelect callback to change the list of selected rows, e.g. onSelect([456, 789])\n * @prop {Function} onToggleItem callback to toggle the selection of a given record based on its id, e.g. onToggleItem(456)\n * @prop {Function} onUnselectItems callback to clear the selection, e.g. onUnselectItems();\n * @prop {string}   defaultTitle the translated title based on the resource, e.g. 'Posts'\n * @prop {string}   resource the resource name, deduced from the location. e.g. 'posts'\n *\n * @returns {ListControllerResult} list controller props\n *\n * @see useListController for how it is filled\n *\n * @example // custom list view\n *\n * import { useListContext } from 'react-admin';\n *\n * const MyList = () => {\n *     const { data, isLoading } = useListContext();\n *     if (isLoading) {\n *         return <>Loading...</>;\n *     }\n *     return (\n *         <ul>\n *             {data.map(record => (\n *                 <li key={record.id}>{record.name}</li>\n *             ))}\n *         </ul>\n *     );\n * }\n *\n * @example // custom pagination\n *\n * import { useListContext } from 'react-admin';\n * import { Button, Toolbar } from '@mui/material';\n * import ChevronLeft from '@mui/icons-material/ChevronLeft';\n * import ChevronRight from '@mui/icons-material/ChevronRight';\n *\n * const PrevNextPagination = () => {\n *     const { page, perPage, total, setPage } = useListContext();\n *     const nbPages = Math.ceil(total / perPage) || 1;\n *     return (\n *         nbPages > 1 &&\n *             <Toolbar>\n *                 {page > 1 &&\n *                     <Button color=\"primary\" key=\"prev\" onClick={() => setPage(page - 1)}>\n *                         <ChevronLeft />\n *                         Prev\n *                     </Button>\n *                 }\n *                 {page !== nbPages &&\n *                     <Button color=\"primary\" key=\"next\" onClick={() => setPage(page + 1)}>\n *                         Next\n *                         <ChevronRight />\n *                     </Button>\n *                 }\n *             </Toolbar>\n *     );\n * }\n */\nexport const useListContext = <RecordType extends RaRecord = any>(\n    props?: any\n): ListControllerResult<RecordType> => {\n    const context = useContext(ListContext);\n    // Props take precedence over the context\n    // @ts-ignore\n    return useMemo(\n        () =>\n            defaults(\n                {},\n                props != null ? extractListContextProps(props) : {},\n                context\n            ),\n        [context, props]\n    );\n};\n\n/**\n * Extract only the list controller props\n *\n * @param {Object} props Props passed to the useListContext hook\n *\n * @returns {ListControllerResult} List controller props\n */\nconst extractListContextProps = ({\n    sort,\n    data,\n    defaultTitle,\n    displayedFilters,\n    exporter,\n    filterValues,\n    hasCreate,\n    hideFilter,\n    isFetching,\n    isLoading,\n    onSelect,\n    onToggleItem,\n    onUnselectItems,\n    page,\n    perPage,\n    refetch,\n    resource,\n    selectedIds,\n    setFilters,\n    setPage,\n    setPerPage,\n    setSort,\n    showFilter,\n    total,\n}) => ({\n    sort,\n    data,\n    defaultTitle,\n    displayedFilters,\n    exporter,\n    filterValues,\n    hasCreate,\n    hideFilter,\n    isFetching,\n    isLoading,\n    onSelect,\n    onToggleItem,\n    onUnselectItems,\n    page,\n    perPage,\n    refetch,\n    resource,\n    selectedIds,\n    setFilters,\n    setPage,\n    setPerPage,\n    setSort,\n    showFilter,\n    total,\n});\n","import { useContext } from 'react';\n\nimport { ListFilterContext, ListFilterContextValue } from './ListFilterContext';\n\n/**\n * Hook to read the list controller props from the ListContext.\n *\n * Must be used within a <ListContextProvider> (e.g. as a descendent of <List>\n * or <ListBase>).\n *\n * @typedef {Object} ListFilterContextValue\n * @prop {Object}   filterValues a dictionary of filter values, e.g. { title: 'lorem', nationality: 'fr' }\n * @prop {Function} setFilters a callback to update the filters, e.g. setFilters(filters, displayedFilters)\n * @prop {Object}   displayedFilters a dictionary of the displayed filters, e.g. { title: true, nationality: true }\n * @prop {Function} showFilter a callback to show one of the filters, e.g. showFilter('title', defaultValue)\n * @prop {Function} hideFilter a callback to hide one of the filters, e.g. hideFilter('title')\n * @prop {string}   resource the resource name, deduced from the location. e.g. 'posts'\n *\n * @returns {ListFilterContextValue} list controller props\n *\n * @see useListController for how it is filled\n */\nexport const useListFilterContext = (props?: any): ListFilterContextValue => {\n    const context = useContext(ListFilterContext);\n    if (!context.hideFilter) {\n        /**\n         * The element isn't inside a <ListFilterContext.Provider>\n         *\n         * This may only happen when using Datagrid / SimpleList / SingleFieldList components\n         * outside of a List / ReferenceManyField / ReferenceArrayField -\n         * which isn't documented but tolerated.\n         * To avoid breakage in that case, fallback to props\n         *\n         * @deprecated - to be removed in 4.0\n         */\n        if (process.env.NODE_ENV !== 'production') {\n            console.log(\n                \"List components must be used inside a <ListContextProvider>. Relying on props rather than context to get List data and callbacks is deprecated and won't be supported in the next major version of react-admin.\"\n            );\n        }\n        return props;\n    }\n    return context;\n};\n","import { useContext } from 'react';\n\nimport {\n    ListPaginationContext,\n    ListPaginationContextValue,\n} from './ListPaginationContext';\n\n/**\n * Hook to read the list controller props from the ListContext.\n *\n * Must be used within a <ListContextProvider> (e.g. as a descendent of <List>\n * or <ListBase>).\n *\n * @typedef {Object} ListPaginationContextValue\n * @prop {integer}  total the total number of results for the current filters, excluding pagination. Useful to build the pagination controls. e.g. 23\n * @prop {integer}  page the current page. Starts at 1\n * @prop {Function} setPage a callback to change the page, e.g. setPage(3)\n * @prop {integer}  perPage the number of results per page. Defaults to 25\n * @prop {Function} setPerPage a callback to change the number of results per page, e.g. setPerPage(25)\n * @prop {Boolean}  hasPreviousPage true if the current page is not the first one\n * @prop {Boolean}  hasNextPage true if the current page is not the last one\n * @prop {string}   resource the resource name, deduced from the location. e.g. 'posts'\n *\n * @returns {ListPaginationContextValue} list controller props\n *\n * @see useListController for how it is filled\n */\nexport const useListPaginationContext = (\n    props?: any\n): ListPaginationContextValue => {\n    const context = useContext(ListPaginationContext);\n    if (!context.setPage) {\n        /**\n         * The element isn't inside a <ListPaginationContext.Provider>\n         *\n         * This may only happen when using Datagrid / SimpleList / SingleFieldList components\n         * outside of a List / ReferenceManyField / ReferenceArrayField -\n         * which isn't documented but tolerated.\n         * To avoid breakage in that case, fallback to props\n         *\n         * @deprecated - to be removed in 4.0\n         */\n        if (process.env.NODE_ENV !== 'production') {\n            console.log(\n                \"List components must be used inside a <ListContextProvider>. Relying on props rather than context to get List data and callbacks is deprecated and won't be supported in the next major version of react-admin.\"\n            );\n        }\n        return props;\n    }\n    return context;\n};\n\nexport default useListPaginationContext;\n","import { useContext } from 'react';\n\nimport { ListSortContext, ListSortContextValue } from './ListSortContext';\n\n/**\n * Hook to read the list controller props from the ListContext.\n *\n * Must be used within a <ListContextProvider> (e.g. as a descendent of <List>\n * or <ListBase>).\n *\n * @typedef {Object} ListSortContextValue\n * @prop {Object}   sort a sort object { field, order }, e.g. { field: 'date', order: 'DESC' }\n * @prop {Function} setSort a callback to change the sort, e.g. setSort({ field: 'name', order: 'ASC' })\n * @prop {string}   resource the resource name, deduced from the location. e.g. 'posts'\n *\n * @returns {ListSortContextValue} list controller props\n *\n * @see useListController for how it is filled\n */\nexport const useListSortContext = (props?: any): ListSortContextValue => {\n    const context = useContext(ListSortContext);\n    if (!context.setSort) {\n        /**\n         * The element isn't inside a <ListSortContext.Provider>\n         *\n         * This may only happen when using Datagrid / SimpleList / SingleFieldList components\n         * outside of a List / ReferenceManyField / ReferenceArrayField -\n         * which isn't documented but tolerated.\n         * To avoid breakage in that case, fallback to props\n         *\n         * @deprecated - to be removed in 4.0\n         */\n        if (process.env.NODE_ENV !== 'production') {\n            console.log(\n                \"List components must be used inside a <ListContextProvider>. Relying on props rather than context to get List data and callbacks is deprecated and won't be supported in the next major version of react-admin.\"\n            );\n        }\n        return props;\n    }\n    return context;\n};\n","import { useCallback } from 'react';\n\nimport { useRecordSelection } from './useRecordSelection';\nimport { Identifier } from '../../types';\n\n/**\n * Hook to Unselect the rows of a datagrid\n *\n * @example\n *\n * const unselect = useUnselect('posts');\n * unselect([123, 456]);\n */\nexport const useUnselect = (resource: string) => {\n    const [, { unselect }] = useRecordSelection(resource);\n    return useCallback(\n        (ids: Identifier[]) => {\n            unselect(ids);\n        },\n        [unselect]\n    );\n};\n","import { useCallback } from 'react';\n\nimport { useRecordSelection } from './useRecordSelection';\n\n/**\n * Hook to unselect all row of a datagrid\n *\n * @example\n *\n * const unselectAll = useUnselectAll('posts');\n * unselectAll();\n */\nexport const useUnselectAll = (resource: string) => {\n    const [, { clearSelection }] = useRecordSelection(resource);\n    return useCallback(() => {\n        clearSelection();\n    }, [clearSelection]);\n};\n","import { useCallback } from 'react';\n\nimport { useStore } from '../../store';\nimport { Identifier } from '../../types';\n\n/**\n * State-like hook for controlling the expanded state of a list item\n *\n * @param {string} resource The resource name, e.g. 'posts'\n * @param {string|integer} id The record identifier, e.g. 123\n * @param {boolean} single Forces only one id to be expanded at a time\n * @returns {Object} Destructure as [expanded, toggleExpanded].\n *\n * @example\n *\n * const [expanded, toggleExpanded] = useExpanded('posts', 123);\n * const expandIcon = expanded ? ExpandLess : ExpandMore;\n * const onExpandClick = () => toggleExpanded();\n */\nexport const useExpanded = (\n    resource: string,\n    id: Identifier,\n    single: boolean = false\n): [boolean, () => void] => {\n    const [expandedIds, setExpandedIds] = useStore<Identifier[]>(\n        `${resource}.datagrid.expanded`,\n        []\n    );\n    const expanded = Array.isArray(expandedIds)\n        ? // eslint-disable-next-line eqeqeq\n          expandedIds.map(el => el == id).indexOf(true) !== -1\n        : false;\n\n    const toggleExpanded = useCallback(() => {\n        setExpandedIds(ids => {\n            if (!Array.isArray(ids)) {\n                return [id];\n            }\n            const index = ids.findIndex(el => el == id); // eslint-disable-line eqeqeq\n            return index > -1\n                ? single\n                    ? []\n                    : [...ids.slice(0, index), ...ids.slice(index + 1)]\n                : single\n                ? [id]\n                : [...ids, id];\n        });\n    }, [setExpandedIds, id, single]);\n\n    return [expanded, toggleExpanded];\n};\n","import get from 'lodash/get';\nimport { useCallback, useEffect, useRef } from 'react';\nimport isEqual from 'lodash/isEqual';\n\nimport { useSafeSetState, removeEmpty } from '../../util';\nimport { useGetManyReference } from '../../dataProvider';\nimport { useNotify } from '../../notification';\nimport { RaRecord, SortPayload } from '../../types';\nimport { ListControllerResult } from '../list';\nimport usePaginationState from '../usePaginationState';\nimport { useRecordSelection } from '../list/useRecordSelection';\nimport useSortState from '../useSortState';\n\nexport interface UseReferenceManyFieldControllerParams {\n    filter?: any;\n    page?: number;\n    perPage?: number;\n    record?: RaRecord;\n    reference: string;\n    resource: string;\n    sort?: SortPayload;\n    source?: string;\n    target: string;\n}\n\nconst defaultFilter = {};\n\n/**\n * Fetch reference records, and return them when available\n *\n * The reference prop should be the name of one of the <Resource> components\n * added as <Admin> child.\n *\n * @example\n *\n * const { isLoading, data } = useReferenceManyFieldController({\n *     resource\n *     reference: 'users',\n *     record: {\n *         userId: 7\n *     }\n *     target: 'comments',\n *     source: 'userId',\n *     page: 1,\n *     perPage: 25,\n * });\n *\n * @param {Object} props\n * @param {string} props.resource The current resource name\n * @param {string} props.reference The linked resource name\n * @param {Object} props.record The current resource record\n * @param {string} props.target The target resource key\n * @param {Object} props.filter The filter applied on the recorded records list\n * @param {string} props.source The key of the linked resource identifier\n * @param {number} props.page the page number\n * @param {number} props.perPage the number of item per page\n * @param {Object} props.sort the sort to apply to the referenced records\n *\n * @returns {ListControllerResult} The reference many props\n */\nexport const useReferenceManyFieldController = (\n    props: UseReferenceManyFieldControllerParams\n): ListControllerResult => {\n    const {\n        reference,\n        record,\n        target,\n        filter = defaultFilter,\n        source,\n        page: initialPage,\n        perPage: initialPerPage,\n        sort: initialSort = { field: 'id', order: 'DESC' },\n    } = props;\n    const notify = useNotify();\n\n    // pagination logic\n    const { page, setPage, perPage, setPerPage } = usePaginationState({\n        page: initialPage,\n        perPage: initialPerPage,\n    });\n\n    // sort logic\n    const { sort, setSort: setSortState } = useSortState(initialSort);\n    const setSort = useCallback(\n        (sort: SortPayload) => {\n            setSortState(sort);\n            setPage(1);\n        },\n        [setPage, setSortState]\n    );\n\n    // selection logic\n    const [selectedIds, selectionModifiers] = useRecordSelection(reference);\n\n    // filter logic\n    const filterRef = useRef(filter);\n    const [displayedFilters, setDisplayedFilters] = useSafeSetState<{\n        [key: string]: boolean;\n    }>({});\n    const [filterValues, setFilterValues] = useSafeSetState<{\n        [key: string]: any;\n    }>(filter);\n    const hideFilter = useCallback(\n        (filterName: string) => {\n            setDisplayedFilters(previousState => {\n                const { [filterName]: _, ...newState } = previousState;\n                return newState;\n            });\n            setFilterValues(previousState => {\n                const { [filterName]: _, ...newState } = previousState;\n                return newState;\n            });\n        },\n        [setDisplayedFilters, setFilterValues]\n    );\n    const showFilter = useCallback(\n        (filterName: string, defaultValue: any) => {\n            setDisplayedFilters(previousState => ({\n                ...previousState,\n                [filterName]: true,\n            }));\n            setFilterValues(previousState => ({\n                ...previousState,\n                [filterName]: defaultValue,\n            }));\n        },\n        [setDisplayedFilters, setFilterValues]\n    );\n    const setFilters = useCallback(\n        (filters, displayedFilters) => {\n            setFilterValues(removeEmpty(filters));\n            setDisplayedFilters(displayedFilters);\n            setPage(1);\n        },\n        [setDisplayedFilters, setFilterValues, setPage]\n    );\n    // handle filter prop change\n    useEffect(() => {\n        if (!isEqual(filter, filterRef.current)) {\n            filterRef.current = filter;\n            setFilterValues(filter);\n        }\n    });\n\n    const {\n        data,\n        total,\n        pageInfo,\n        error,\n        isFetching,\n        isLoading,\n        refetch,\n    } = useGetManyReference(\n        reference,\n        {\n            target,\n            id: get(record, source),\n            pagination: { page, perPage },\n            sort,\n            filter: filterValues,\n        },\n        {\n            keepPreviousData: true,\n            onError: error =>\n                notify(\n                    typeof error === 'string'\n                        ? error\n                        : error.message || 'ra.notification.http_error',\n                    {\n                        type: 'warning',\n                        messageArgs: {\n                            _:\n                                typeof error === 'string'\n                                    ? error\n                                    : error && error.message\n                                    ? error.message\n                                    : undefined,\n                        },\n                    }\n                ),\n        }\n    );\n\n    return {\n        sort,\n        data,\n        defaultTitle: null,\n        displayedFilters,\n        error,\n        filterValues,\n        hideFilter,\n        isFetching,\n        isLoading,\n        onSelect: selectionModifiers.select,\n        onToggleItem: selectionModifiers.toggle,\n        onUnselectItems: selectionModifiers.clearSelection,\n        page,\n        perPage,\n        refetch,\n        resource: reference,\n        selectedIds,\n        setFilters,\n        setPage,\n        setPerPage,\n        hasNextPage: pageInfo\n            ? pageInfo.hasNextPage\n            : total != null\n            ? page * perPage < total\n            : undefined,\n        hasPreviousPage: pageInfo ? pageInfo.hasPreviousPage : page > 1,\n        setSort,\n        showFilter,\n        total,\n    };\n};\n","import get from 'lodash/get';\n\nimport { useGetManyReference } from '../../dataProvider';\nimport { useNotify } from '../../notification';\nimport { RaRecord } from '../../types';\nimport { UseReferenceResult } from '../useReference';\n\nexport interface UseReferenceOneFieldControllerParams {\n    record?: RaRecord;\n    reference: string;\n    source?: string;\n    target: string;\n}\n\n/**\n * Fetch a reference record in a one-to-one relationship, and return it when available\n *\n * The reference prop should be the name of one of the <Resource> components\n * added as <Admin> child.\n *\n * @example\n *\n * const { data, isLoading, error } = useReferenceOneFieldController({\n *     record: { id: 7, name: 'James Joyce'}\n *     reference: 'bios',\n *     target: 'author_id',\n * });\n *\n * @typedef {Object} UseReferenceOneFieldControllerParams\n * @prop {Object} props.record The current resource record\n * @prop {string} props.reference The linked resource name\n * @prop {string} props.target The target resource key\n * @prop {string} props.source The key current record identifier ('id' by default)\n *\n * @returns {UseReferenceResult} The request state. Destructure as { referenceRecord, isLoading, error }.\n */\nexport const useReferenceOneFieldController = (\n    props: UseReferenceOneFieldControllerParams\n): UseReferenceResult => {\n    const { reference, record, target, source = 'id' } = props;\n    const notify = useNotify();\n\n    const { data, error, isFetching, isLoading, refetch } = useGetManyReference(\n        reference,\n        {\n            target,\n            id: get(record, source),\n            pagination: { page: 1, perPage: 1 },\n            sort: { field: 'id', order: 'ASC' },\n            filter: {},\n        },\n        {\n            enabled: !!record,\n            onError: error =>\n                notify(\n                    typeof error === 'string'\n                        ? error\n                        : error.message || 'ra.notification.http_error',\n                    {\n                        type: 'warning',\n                        messageArgs: {\n                            _:\n                                typeof error === 'string'\n                                    ? error\n                                    : error && error.message\n                                    ? error.message\n                                    : undefined,\n                        },\n                    }\n                ),\n        }\n    );\n\n    return {\n        referenceRecord: data ? data[0] : undefined,\n        error,\n        isFetching,\n        isLoading,\n        refetch,\n    };\n};\n","import { RaRecord, Translate } from '../../types';\nimport { MatchingReferencesError } from './types';\nimport { ControllerRenderProps } from 'react-hook-form';\n\ninterface GetStatusForInputParams<RecordType extends RaRecord = RaRecord> {\n    field: Pick<ControllerRenderProps, 'value'>;\n    matchingReferences: RecordType[] | MatchingReferencesError;\n    referenceRecord: RecordType;\n    translate: Translate;\n}\n\nconst isMatchingReferencesError = (\n    matchingReferences?: any\n): matchingReferences is MatchingReferencesError =>\n    matchingReferences && matchingReferences.error !== undefined;\n\nexport const getStatusForInput = <RecordType extends RaRecord = RaRecord>({\n    field,\n    matchingReferences,\n    referenceRecord,\n    translate = x => x,\n}: GetStatusForInputParams<RecordType>) => {\n    const matchingReferencesError = isMatchingReferencesError(\n        matchingReferences\n    )\n        ? translate(matchingReferences.error, {\n              _: matchingReferences.error,\n          })\n        : null;\n    const selectedReferenceError =\n        field.value && !referenceRecord\n            ? translate('ra.input.references.single_missing', {\n                  _: 'ra.input.references.single_missing',\n              })\n            : null;\n\n    return {\n        waiting:\n            (field.value && selectedReferenceError && !matchingReferences) ||\n            (!field.value && !matchingReferences),\n        error:\n            (field.value &&\n                selectedReferenceError &&\n                matchingReferencesError) ||\n            (!field.value && matchingReferencesError)\n                ? field.value\n                    ? selectedReferenceError\n                    : matchingReferencesError\n                : null,\n        warning: selectedReferenceError || matchingReferencesError,\n        choices: Array.isArray(matchingReferences)\n            ? matchingReferences\n            : [referenceRecord].filter(choice => choice),\n    };\n};\n\nexport const REFERENCES_STATUS_READY = 'REFERENCES_STATUS_READY';\nexport const REFERENCES_STATUS_INCOMPLETE = 'REFERENCES_STATUS_INCOMPLETE';\nexport const REFERENCES_STATUS_EMPTY = 'REFERENCES_STATUS_EMPTY';\n\nexport const getSelectedReferencesStatus = <RecordType extends RaRecord = any>(\n    field: Pick<ControllerRenderProps, 'value'>,\n    referenceRecords: RecordType[]\n) =>\n    !field.value || field.value.length === referenceRecords.length\n        ? REFERENCES_STATUS_READY\n        : referenceRecords.length > 0\n        ? REFERENCES_STATUS_INCOMPLETE\n        : REFERENCES_STATUS_EMPTY;\n\ninterface GetStatusForArrayInputParams<RecordType extends RaRecord = any> {\n    field: ControllerRenderProps;\n    matchingReferences: RecordType[] | MatchingReferencesError;\n    referenceRecords: RecordType[];\n    translate: Translate;\n}\n\nexport const getStatusForArrayInput = <RecordType extends RaRecord = any>({\n    field,\n    matchingReferences,\n    referenceRecords,\n    translate = x => x,\n}: GetStatusForArrayInputParams<RecordType>) => {\n    // selectedReferencesDataStatus can be \"empty\" (no data was found for references from input.value)\n    // or \"incomplete\" (Not all of the reference data was found)\n    // or \"ready\" (all references data was found or there is no references from input.value)\n    const selectedReferencesDataStatus = getSelectedReferencesStatus(\n        field,\n        referenceRecords\n    );\n\n    const matchingReferencesError = isMatchingReferencesError(\n        matchingReferences\n    )\n        ? translate(matchingReferences.error, {\n              _: matchingReferences.error,\n          })\n        : null;\n\n    const choices = Array.isArray(matchingReferences)\n        ? referenceRecords.concat(\n              matchingReferences.filter(\n                  choice =>\n                      referenceRecords.findIndex(c => c.id === choice.id) === -1\n              )\n          )\n        : referenceRecords;\n\n    return {\n        waiting:\n            (!matchingReferences &&\n                field.value &&\n                selectedReferencesDataStatus === REFERENCES_STATUS_EMPTY) ||\n            (!matchingReferences && !field.value),\n        error:\n            matchingReferencesError &&\n            (!field.value ||\n                (field.value &&\n                    selectedReferencesDataStatus === REFERENCES_STATUS_EMPTY))\n                ? translate('ra.input.references.all_missing', {\n                      _: 'ra.input.references.all_missing',\n                  })\n                : null,\n        warning:\n            matchingReferencesError ||\n            (field.value &&\n                selectedReferencesDataStatus !== REFERENCES_STATUS_READY)\n                ? matchingReferencesError ||\n                  translate('ra.input.references.many_missing', {\n                      _: 'ra.input.references.many_missing',\n                  })\n                : null,\n        choices,\n    };\n};\n","import { useCallback, useMemo } from 'react';\nimport { useWatch } from 'react-hook-form';\n\nimport { FilterPayload, RaRecord, SortPayload } from '../../types';\nimport { useGetList, useGetManyAggregate } from '../../dataProvider';\nimport { useReferenceParams } from './useReferenceParams';\nimport { ChoicesContextValue } from '../../form';\nimport { UseQueryOptions } from 'react-query';\n\n/**\n * Prepare data for the ReferenceArrayInput components\n *\n * @example\n *\n * const { allChoices, availableChoices, selectedChoices, error, isFetching, isLoading } = useReferenceArrayInputController({\n *      record: { referenceIds: ['id1', 'id2']};\n *      reference: 'reference';\n *      resource: 'resource';\n *      source: 'referenceIds';\n * });\n *\n * @param {Object} props\n * @param {Object} props.record The current resource record\n * @param {string} props.reference The linked resource name\n * @param {string} props.resource The current resource name\n * @param {string} props.source The key of the linked resource identifier\n *\n * @param {Props} props\n *\n * @return {Object} controllerProps Fetched data and callbacks for the ReferenceArrayInput components\n */\nexport const useReferenceArrayInputController = <\n    RecordType extends RaRecord = any\n>(\n    props: UseReferenceArrayInputParams<RecordType>\n): ChoicesContextValue<RecordType> => {\n    const {\n        debounce,\n        enableGetChoices,\n        filter,\n        page: initialPage = 1,\n        perPage: initialPerPage = 25,\n        sort: initialSort = { field: 'id', order: 'DESC' },\n        queryOptions = {},\n        reference,\n        source,\n    } = props;\n    const value = useWatch({ name: source });\n\n    /**\n     * Get the records related to the current value (with getMany)\n     */\n    const {\n        data: referenceRecords,\n        error: errorGetMany,\n        isLoading: isLoadingGetMany,\n        isFetching: isFetchingGetMany,\n        refetch: refetchGetMany,\n    } = useGetManyAggregate<RecordType>(\n        reference,\n        {\n            ids: value || EmptyArray,\n        },\n        {\n            enabled: value != null && value.length > 0,\n        }\n    );\n\n    const [params, paramsModifiers] = useReferenceParams({\n        resource: reference,\n        page: initialPage,\n        perPage: initialPerPage,\n        sort: initialSort,\n        debounce,\n        filter,\n    });\n\n    // filter out not found references - happens when the dataProvider doesn't guarantee referential integrity\n    const finalReferenceRecords = referenceRecords\n        ? referenceRecords.filter(Boolean)\n        : [];\n\n    const isGetMatchingEnabled = enableGetChoices\n        ? enableGetChoices(params.filterValues)\n        : true;\n\n    const {\n        data: matchingReferences,\n        total,\n        pageInfo,\n        error: errorGetList,\n        isLoading: isLoadingGetList,\n        isFetching: isFetchingGetList,\n        refetch: refetchGetMatching,\n    } = useGetList<RecordType>(\n        reference,\n        {\n            pagination: {\n                page: params.page,\n                perPage: params.perPage,\n            },\n            sort: { field: params.sort, order: params.order },\n            filter: { ...params.filter, ...filter },\n        },\n        { retry: false, enabled: isGetMatchingEnabled, ...queryOptions }\n    );\n\n    // We merge the currently selected records with the matching ones, otherwise\n    // the component displaying the currently selected records may fail\n    const finalMatchingReferences =\n        matchingReferences && matchingReferences.length > 0\n            ? mergeReferences(matchingReferences, finalReferenceRecords)\n            : finalReferenceRecords.length > 0\n            ? finalReferenceRecords\n            : matchingReferences;\n\n    const refetch = useCallback(() => {\n        refetchGetMany();\n        refetchGetMatching();\n    }, [refetchGetMany, refetchGetMatching]);\n\n    const currentSort = useMemo(\n        () => ({\n            field: params.sort,\n            order: params.order,\n        }),\n        [params.sort, params.order]\n    );\n    return {\n        sort: currentSort,\n        allChoices: finalMatchingReferences,\n        availableChoices: matchingReferences,\n        selectedChoices: finalReferenceRecords,\n        displayedFilters: params.displayedFilters,\n        error: errorGetMany || errorGetList,\n        filter,\n        filterValues: params.filterValues,\n        hideFilter: paramsModifiers.hideFilter,\n        isFetching: isFetchingGetMany || isFetchingGetList,\n        isLoading: isLoadingGetMany || isLoadingGetList,\n        page: params.page,\n        perPage: params.perPage,\n        refetch,\n        resource: reference,\n        setFilters: paramsModifiers.setFilters,\n        setPage: paramsModifiers.setPage,\n        setPerPage: paramsModifiers.setPerPage,\n        setSort: paramsModifiers.setSort,\n        showFilter: paramsModifiers.showFilter,\n        source,\n        total: total,\n        hasNextPage: pageInfo\n            ? pageInfo.hasNextPage\n            : total != null\n            ? params.page * params.perPage < total\n            : undefined,\n        hasPreviousPage: pageInfo ? pageInfo.hasPreviousPage : params.page > 1,\n    };\n};\n\nconst EmptyArray = [];\n\n// concatenate and deduplicate two lists of records\nconst mergeReferences = <RecordType extends RaRecord = any>(\n    ref1: RecordType[],\n    ref2: RecordType[]\n): RecordType[] => {\n    const res = [...ref1];\n    const ids = ref1.map(ref => ref.id);\n    ref2.forEach(ref => {\n        if (!ids.includes(ref.id)) {\n            ids.push(ref.id);\n            res.push(ref);\n        }\n    });\n    return res;\n};\n\nexport interface UseReferenceArrayInputParams<\n    RecordType extends RaRecord = any\n> {\n    debounce?: number;\n    filter?: FilterPayload;\n    queryOptions?: UseQueryOptions<{\n        data: RecordType[];\n        total?: number;\n        pageInfo?: {\n            hasNextPage?: boolean;\n            hasPreviousPage?: boolean;\n        };\n    }>;\n    page?: number;\n    perPage?: number;\n    record?: RecordType;\n    reference: string;\n    resource?: string;\n    sort?: SortPayload;\n    source: string;\n    enableGetChoices?: (filters: any) => boolean;\n}\n","import { useCallback, useMemo, useState, useRef } from 'react';\nimport lodashDebounce from 'lodash/debounce';\n\nimport { SortPayload, FilterPayload } from '../../types';\nimport removeEmpty from '../../util/removeEmpty';\nimport {\n    queryReducer,\n    HIDE_FILTER,\n    SET_FILTER,\n    SET_PAGE,\n    SET_PER_PAGE,\n    SET_SORT,\n    SHOW_FILTER,\n    SORT_ASC,\n} from '../list';\n\n/**\n * Get the reference inputs parameters (page, sort, filters) and modifiers.\n *\n * @returns {Array} A tuple [parameters, modifiers].\n * Destructure as [\n *    { page, perPage, sort, order, filter, filterValues, displayedFilters, requestSignature },\n *    { setFilters, hideFilter, showFilter, setPage, setPerPage, setSort }\n * ]\n *\n * @example\n *\n * const [referenceParams, referenceParamsActions] = useReferenceParams({\n *      resource: 'posts',\n *      filterDefaultValues: {\n *          published: true\n *      },\n *      sort: {\n *          field: 'published_at',\n *          order: 'DESC'\n *      },\n *      perPage: 25\n * });\n *\n * const {\n *      page,\n *      perPage,\n *      sort,\n *      order,\n *      filter,\n *      filterValues,\n *      displayedFilters,\n *      requestSignature\n * } = referenceParams;\n *\n * const {\n *      setFilters,\n *      hideFilter,\n *      showFilter,\n *      setPage,\n *      setPerPage,\n *      setSort,\n * } = referenceParamsActions;\n */\nexport const useReferenceParams = ({\n    resource,\n    filter,\n    sort = defaultSort,\n    page = 1,\n    perPage = 10,\n    debounce = 500,\n}: ReferenceParamsOptions): [Parameters, Modifiers] => {\n    const [params, setParams] = useState(defaultParams);\n    const tempParams = useRef<ReferenceParams>();\n\n    const requestSignature = [\n        resource,\n        JSON.stringify(params),\n        JSON.stringify(filter),\n        JSON.stringify(sort),\n        page,\n        perPage,\n    ];\n\n    const query = useMemo(\n        () =>\n            getQuery({\n                params: params,\n                filterDefaultValues: filter,\n                sort,\n                page,\n                perPage,\n            }),\n        requestSignature // eslint-disable-line react-hooks/exhaustive-deps\n    );\n\n    const changeParams = useCallback(action => {\n        if (!tempParams.current) {\n            // no other changeParams action dispatched this tick\n            tempParams.current = queryReducer(query, action);\n            // schedule side effects for next tick\n            setTimeout(() => {\n                setParams(tempParams.current);\n                tempParams.current = undefined;\n            }, 0);\n        } else {\n            // side effects already scheduled, just change the params\n            tempParams.current = queryReducer(tempParams.current, action);\n        }\n    }, requestSignature); // eslint-disable-line react-hooks/exhaustive-deps\n\n    const setSort = useCallback(\n        (sort: SortPayload) =>\n            changeParams({\n                type: SET_SORT,\n                payload: sort,\n            }),\n        requestSignature // eslint-disable-line react-hooks/exhaustive-deps\n    );\n\n    const setPage = useCallback(\n        (newPage: number) => changeParams({ type: SET_PAGE, payload: newPage }),\n        requestSignature // eslint-disable-line react-hooks/exhaustive-deps\n    );\n\n    const setPerPage = useCallback(\n        (newPerPage: number) =>\n            changeParams({ type: SET_PER_PAGE, payload: newPerPage }),\n        requestSignature // eslint-disable-line react-hooks/exhaustive-deps\n    );\n\n    const filterValues = query.filter || emptyObject;\n    const displayedFilterValues = query.displayedFilters || emptyObject;\n\n    const debouncedSetFilters = lodashDebounce((filter, displayedFilters) => {\n        changeParams({\n            type: SET_FILTER,\n            payload: {\n                filter: removeEmpty(filter),\n                displayedFilters,\n            },\n        });\n    }, debounce);\n\n    const setFilters = useCallback(\n        (filter, displayedFilters, debounce = true) => {\n            debounce\n                ? debouncedSetFilters(filter, displayedFilters)\n                : changeParams({\n                      type: SET_FILTER,\n                      payload: {\n                          filter: removeEmpty(filter),\n                          displayedFilters,\n                      },\n                  });\n        },\n        requestSignature // eslint-disable-line react-hooks/exhaustive-deps\n    );\n\n    const hideFilter = useCallback((filterName: string) => {\n        changeParams({\n            type: HIDE_FILTER,\n            payload: filterName,\n        });\n    }, requestSignature); // eslint-disable-line react-hooks/exhaustive-deps\n\n    const showFilter = useCallback((filterName: string, defaultValue: any) => {\n        changeParams({\n            type: SHOW_FILTER,\n            payload: {\n                filterName,\n                defaultValue,\n            },\n        });\n    }, requestSignature); // eslint-disable-line react-hooks/exhaustive-deps\n    return [\n        {\n            displayedFilters: displayedFilterValues,\n            filterValues,\n            requestSignature,\n            ...query,\n        },\n        {\n            changeParams,\n            setPage,\n            setPerPage,\n            setSort,\n            setFilters,\n            hideFilter,\n            showFilter,\n        },\n    ];\n};\n\nexport const validQueryParams = [\n    'page',\n    'perPage',\n    'sort',\n    'order',\n    'filter',\n    'displayedFilters',\n];\n\n/**\n * Merge list params from 2 different sources:\n *   - the params stored in the local state\n *   - the props passed to the List component (including the filter defaultValues)\n */\nexport const getQuery = ({\n    params,\n    filterDefaultValues,\n    sort,\n    page,\n    perPage,\n}) => {\n    const query: Partial<ReferenceParams> = hasCustomParams(params)\n        ? { ...params }\n        : { filter: filterDefaultValues || {} };\n\n    if (!query.sort) {\n        query.sort = sort.field;\n        query.order = sort.order;\n    }\n    if (query.page == null) {\n        query.page = page;\n    }\n    if (query.perPage == null) {\n        query.perPage = perPage;\n    }\n    if (query.page == null) {\n        query.page = 1;\n    }\n\n    return {\n        ...query,\n        page: getNumberOrDefault(query.page, 1),\n        perPage: getNumberOrDefault(query.perPage, 10),\n    } as ReferenceParams;\n};\n\n/**\n * Check if user has already set custom sort, page, or filters for this list\n *\n * User params come from the Redux store as the params props. By default,\n * this object is:\n *\n * { filter: {}, order: null, page: 1, perPage: null, sort: null }\n *\n * To check if the user has custom params, we must compare the params\n * to these initial values.\n *\n * @param {Object} params\n */\nexport const hasCustomParams = (params: ReferenceParams) => {\n    return (\n        params &&\n        params.filter &&\n        (Object.keys(params.filter).length > 0 ||\n            params.order != null ||\n            params.page !== 1 ||\n            params.perPage != null ||\n            params.sort != null)\n    );\n};\n\nexport const getNumberOrDefault = (\n    possibleNumber: string | number | undefined,\n    defaultValue: number\n) => {\n    const parsedNumber =\n        typeof possibleNumber === 'string'\n            ? parseInt(possibleNumber, 10)\n            : possibleNumber;\n\n    return isNaN(parsedNumber) ? defaultValue : parsedNumber;\n};\n\nexport interface ReferenceParamsOptions {\n    resource: string;\n    page?: number;\n    perPage?: number;\n    sort?: SortPayload;\n    // default value for a filter when displayed but not yet set\n    filter?: FilterPayload;\n    debounce?: number;\n}\n\nexport interface ReferenceParams {\n    sort: string;\n    order: string;\n    page: number;\n    perPage: number;\n    filter: any;\n    displayedFilters: any;\n}\n\ninterface Parameters extends ReferenceParams {\n    filterValues: object;\n    displayedFilters: {\n        [key: string]: boolean;\n    };\n    requestSignature: any[];\n}\n\ninterface Modifiers {\n    changeParams: (action: any) => void;\n    setPage: (page: number) => void;\n    setPerPage: (pageSize: number) => void;\n    setSort: (sort: SortPayload) => void;\n    setFilters: (filters: any, displayedFilters: any) => void;\n    hideFilter: (filterName: string) => void;\n    showFilter: (filterName: string, defaultValue: any) => void;\n}\n\nconst emptyObject = {};\n\nconst defaultSort = {\n    field: 'id',\n    order: SORT_ASC,\n};\n\nconst defaultParams = {};\n","import { useCallback, useMemo } from 'react';\nimport { useWatch } from 'react-hook-form';\nimport { useGetList } from '../../dataProvider';\nimport { FilterPayload, RaRecord, SortPayload } from '../../types';\nimport { useReference } from '../useReference';\nimport { ChoicesContextValue } from '../../form';\nimport { useReferenceParams } from './useReferenceParams';\nimport { UseQueryOptions } from 'react-query';\n\nconst defaultReferenceSource = (resource: string, source: string) =>\n    `${resource}@${source}`;\n\n/**\n * A hook for choosing a reference record. Useful for foreign keys.\n *\n * This hook fetches the possible values in the reference resource\n * (using `dataProvider.getList()`), it returns the possible choices\n * as the `choices` attribute.\n *\n * @example\n * const {\n *      choices, // the available reference resource\n * } = useReferenceInputController({\n *      input, // the input props\n *      resource: 'comments',\n *      reference: 'posts',\n *      source: 'post_id',\n * });\n *\n * The hook also allow to filter results. It returns a `setFilters`\n * function. It uses the value to create a filter for the query.\n * You can also add a permanentFilter to further filter the result:\n *\n * @example\n * const {\n *      choices, // the available reference resource\n *      setFilter,\n * } = useReferenceInputController({\n *      input, // the input props\n *      resource: 'comments',\n *      reference: 'posts',\n *      source: 'post_id',\n *      permanentFilter: {\n *          author: 'john'\n *      },\n * });\n */\nexport const useReferenceInputController = <RecordType extends RaRecord = any>(\n    props: UseReferenceInputControllerParams\n): ChoicesContextValue<RecordType> => {\n    const {\n        debounce,\n        enableGetChoices,\n        filter,\n        page: initialPage = 1,\n        perPage: initialPerPage = 25,\n        sort: initialSort,\n        queryOptions = {},\n        reference,\n        source,\n    } = props;\n\n    const [params, paramsModifiers] = useReferenceParams({\n        resource: reference,\n        page: initialPage,\n        perPage: initialPerPage,\n        sort: initialSort,\n        debounce,\n        filter,\n    });\n\n    // selection logic\n    const currentValue = useWatch({ name: source });\n\n    const isGetMatchingEnabled = enableGetChoices\n        ? enableGetChoices(params.filterValues)\n        : true;\n\n    // fetch possible values\n    const {\n        data: possibleValuesData = [],\n        total,\n        pageInfo,\n        isFetching: possibleValuesFetching,\n        isLoading: possibleValuesLoading,\n        error: possibleValuesError,\n        refetch: refetchGetList,\n    } = useGetList<RecordType>(\n        reference,\n        {\n            pagination: {\n                page: params.page,\n                perPage: params.perPage,\n            },\n            sort: { field: params.sort, order: params.order },\n            filter: { ...params.filter, ...filter },\n        },\n        {\n            enabled: isGetMatchingEnabled,\n            ...queryOptions,\n        }\n    );\n\n    // fetch current value\n    const {\n        referenceRecord,\n        refetch: refetchReference,\n        error: referenceError,\n        isLoading: referenceLoading,\n        isFetching: referenceFetching,\n    } = useReference<RecordType>({\n        id: currentValue,\n        reference,\n    });\n    // add current value to possible sources\n    let finalData: RecordType[], finalTotal: number;\n    if (\n        !referenceRecord ||\n        possibleValuesData.find(record => record.id === currentValue)\n    ) {\n        finalData = possibleValuesData;\n        finalTotal = total;\n    } else {\n        finalData = [referenceRecord, ...possibleValuesData];\n        finalTotal = total == null ? undefined : total + 1;\n    }\n\n    const refetch = useCallback(() => {\n        refetchGetList();\n        refetchReference();\n    }, [refetchGetList, refetchReference]);\n\n    const currentSort = useMemo(\n        () => ({\n            field: params.sort,\n            order: params.order,\n        }),\n        [params.sort, params.order]\n    );\n    return {\n        sort: currentSort,\n        allChoices: finalData,\n        availableChoices: possibleValuesData,\n        selectedChoices: [referenceRecord],\n        displayedFilters: params.displayedFilters,\n        error: referenceError || possibleValuesError,\n        filter: params.filter,\n        filterValues: params.filterValues,\n        hideFilter: paramsModifiers.hideFilter,\n        isFetching: referenceFetching || possibleValuesFetching,\n        isLoading: referenceLoading || possibleValuesLoading,\n        page: params.page,\n        perPage: params.perPage,\n        refetch,\n        resource: reference,\n        setFilters: paramsModifiers.setFilters,\n        setPage: paramsModifiers.setPage,\n        setPerPage: paramsModifiers.setPerPage,\n        setSort: paramsModifiers.setSort,\n        showFilter: paramsModifiers.showFilter,\n        source,\n        total: finalTotal,\n        hasNextPage: pageInfo\n            ? pageInfo.hasNextPage\n            : total != null\n            ? params.page * params.perPage < total\n            : undefined,\n        hasPreviousPage: pageInfo ? pageInfo.hasPreviousPage : params.page > 1,\n    };\n};\n\nexport interface UseReferenceInputControllerParams<\n    RecordType extends RaRecord = any\n> {\n    debounce?: number;\n    filter?: FilterPayload;\n    queryOptions?: UseQueryOptions<{\n        data: RecordType[];\n        total?: number;\n        pageInfo?: {\n            hasNextPage?: boolean;\n            hasPreviousPage?: boolean;\n        };\n    }>;\n    page?: number;\n    perPage?: number;\n    record?: RaRecord;\n    reference: string;\n    // @deprecated ignored\n    referenceSource?: typeof defaultReferenceSource;\n    resource?: string;\n    sort?: SortPayload;\n    source: string;\n    enableGetChoices?: (filters: any) => boolean;\n}\n","import { RaRecord, Identifier } from '../types';\nimport { UseGetManyHookValue, useGetManyAggregate } from '../dataProvider';\n\ninterface UseReferenceProps {\n    id: Identifier;\n    reference: string;\n}\n\nexport interface UseReferenceResult<RecordType extends RaRecord = any> {\n    isLoading: boolean;\n    isFetching: boolean;\n    referenceRecord?: RecordType;\n    error?: any;\n    refetch: UseGetManyHookValue<RecordType>['refetch'];\n}\n\n/**\n * @typedef UseReferenceResult\n * @type {Object}\n * @property {boolean} isFetching: boolean indicating if the reference is loading\n * @property {boolean} isLoading: boolean indicating if the reference has loaded at least once\n * @property {Object} referenceRecord: the referenced record.\n */\n\n/**\n * Fetch reference record, and return it when available\n *\n * The reference prop should be the name of one of the <Resource> components\n * added as <Admin> child.\n *\n * @example\n *\n * const { isLoading, referenceRecord } = useReference({\n *     id: 7,\n *     reference: 'users',\n * });\n *\n * @param {Object} option\n * @param {string} option.reference The linked resource name\n * @param {string} option.id The id of the reference\n *\n * @returns {UseReferenceResult} The reference record\n */\nexport const useReference = <RecordType extends RaRecord = any>({\n    reference,\n    id,\n}: UseReferenceProps): UseReferenceResult<RecordType> => {\n    const { data, error, isLoading, isFetching, refetch } = useGetManyAggregate<\n        RecordType\n    >(reference, { ids: [id] });\n    return {\n        referenceRecord: error ? undefined : data ? data[0] : undefined,\n        refetch,\n        error,\n        isLoading,\n        isFetching,\n    };\n};\n","import * as React from 'react';\nimport { ReactElement } from 'react';\n\nimport { RaRecord } from '../../types';\nimport { useShowController, ShowControllerProps } from './useShowController';\nimport { ShowContextProvider } from './ShowContextProvider';\n\n/**\n * Call useShowController and put the value in a ShowContext\n *\n * Base class for <Show> components, without UI.\n *\n * Accepts any props accepted by useShowController:\n * - id: The record identifier\n * - resource: The resource\n *\n * @example // Custom show layout\n *\n * const PostShow = () => (\n *     <ShowBase resource=\"posts\">\n *         <Grid container>\n *             <Grid item xs={8}>\n *                 <SimpleForm>\n *                     ...\n *                 </SimpleForm>\n *             </Grid>\n *             <Grid item xs={4}>\n *                 Show instructions...\n *             </Grid>\n *         </Grid>\n *         <div>\n *             Post related links...\n *         </div>\n *     </ShowBase>\n * );\n */\nexport const ShowBase = <RecordType extends RaRecord = any>({\n    children,\n    ...props\n}: { children: ReactElement } & ShowControllerProps<RecordType>) => (\n    <ShowContextProvider value={useShowController<RecordType>(props)}>\n        {children}\n    </ShowContextProvider>\n);\n","import { useParams } from 'react-router-dom';\nimport { UseQueryOptions } from 'react-query';\n\nimport { useAuthenticated } from '../../auth';\nimport { RaRecord } from '../../types';\nimport { useGetOne, useRefresh, UseGetOneHookValue } from '../../dataProvider';\nimport { useTranslate } from '../../i18n';\nimport { useRedirect } from '../../routing';\nimport { useNotify } from '../../notification';\nimport { useResourceContext, useGetResourceLabel } from '../../core';\n\n/**\n * Prepare data for the Show view.\n *\n * useShowController does a few things:\n * - it grabs the id from the URL and the resource name from the ResourceContext,\n * - it fetches the record via useGetOne,\n * - it prepares the page title.\n *\n * @param {Object} props The props passed to the Show component.\n *\n * @return {Object} controllerProps Fetched data and callbacks for the Show view\n *\n * @example\n *\n * import { useShowController } from 'react-admin';\n * import ShowView from './ShowView';\n *\n * const MyShow = () => {\n *     const controllerProps = useShowController();\n *     return <ShowView {...controllerProps} />;\n * };\n *\n * @example // useShowController can also take its parameters from props\n *\n * import { useShowController } from 'react-admin';\n * import ShowView from './ShowView';\n *\n * const MyShow = () => {\n *     const controllerProps = useShowController({ resource: 'posts', id: 1234 });\n *     return <ShowView {...controllerProps} />;\n * };\n */\nexport const useShowController = <RecordType extends RaRecord = any>(\n    props: ShowControllerProps<RecordType> = {}\n): ShowControllerResult<RecordType> => {\n    const { disableAuthentication, id: propsId, queryOptions = {} } = props;\n\n    useAuthenticated({ enabled: !disableAuthentication });\n\n    const resource = useResourceContext(props);\n    const translate = useTranslate();\n    const notify = useNotify();\n    const redirect = useRedirect();\n    const refresh = useRefresh();\n    const { id: routeId } = useParams<'id'>();\n    const id = propsId || decodeURIComponent(routeId);\n\n    const { data: record, error, isLoading, isFetching, refetch } = useGetOne<\n        RecordType\n    >(\n        resource,\n        { id },\n        {\n            onError: () => {\n                notify('ra.notification.item_doesnt_exist', {\n                    type: 'warning',\n                });\n                redirect('list', resource);\n                refresh();\n            },\n            retry: false,\n            ...queryOptions,\n        }\n    );\n\n    // eslint-disable-next-line eqeqeq\n    if (record && record.id && record.id != id) {\n        throw new Error(\n            `useShowController: Fetched record's id attribute (${record.id}) must match the requested 'id' (${id})`\n        );\n    }\n\n    const getResourceLabel = useGetResourceLabel();\n    const defaultTitle = translate('ra.page.show', {\n        name: getResourceLabel(resource, 1),\n        id,\n        record,\n    });\n\n    return {\n        defaultTitle,\n        error,\n        isLoading,\n        isFetching,\n        record,\n        refetch,\n        resource,\n    };\n};\n\nexport interface ShowControllerProps<RecordType extends RaRecord = any> {\n    disableAuthentication?: boolean;\n    id?: RecordType['id'];\n    queryOptions?: UseQueryOptions<RecordType>;\n    resource?: string;\n}\n\nexport interface ShowControllerResult<RecordType extends RaRecord = any> {\n    defaultTitle: string;\n    // Necessary for actions (EditActions) which expect a data prop containing the record\n    // @deprecated - to be removed in 4.0d\n    data?: RecordType;\n    error?: any;\n    isFetching: boolean;\n    isLoading: boolean;\n    resource: string;\n    record?: RecordType;\n    refetch: UseGetOneHookValue<RecordType>['refetch'];\n}\n","import * as React from 'react';\nimport { ReactNode } from 'react';\nimport { RaRecord } from '../../types';\nimport { RecordContextProvider } from '../record/RecordContext';\nimport { ShowContext } from './ShowContext';\nimport { ShowControllerResult } from './useShowController';\n\n/**\n * Create a Show Context.\n *\n * @example\n *\n * const MyShow = (props) => {\n *     const controllerProps = useShowController(props);\n *     return (\n *         <ShowContextProvider value={controllerProps}>\n *             <MyShowView>\n *         </ShowContextProvider>\n *     );\n * };\n *\n * const MyShowView = () => {\n *     const record = useRecordContext();\n * }\n *\n * @see ShowContext\n * @see RecordContext\n */\nexport const ShowContextProvider = ({\n    children,\n    value,\n}: {\n    children: ReactNode;\n    value: ShowControllerResult;\n}) => (\n    <ShowContext.Provider value={value}>\n        <RecordContextProvider<Partial<RaRecord>> value={value && value.record}>\n            {children}\n        </RecordContextProvider>\n    </ShowContext.Provider>\n);\n","import { createContext } from 'react';\nimport { ShowControllerResult } from './useShowController';\n\n/**\n * Context to store the result of the useShowController() hook.\n *\n * Use the useShowContext() hook to read the context. That's what the Show components do in react-admin.\n *\n * @example\n *\n * import { useShowController, ShowContextProvider } from 'ra-core';\n *\n * const Show = props => {\n *     const controllerProps = useShowController(props);\n *     return (\n *         <ShowContextProvider value={controllerProps}>\n *             ...\n *         </ShowContextProvider>\n *     );\n * };\n */\nexport const ShowContext = createContext<ShowControllerResult>({\n    record: null,\n    defaultTitle: null,\n    isFetching: null,\n    isLoading: null,\n    refetch: null,\n    resource: null,\n});\n\nShowContext.displayName = 'ShowContext';\n","import {\n    useShowController,\n    ShowControllerProps,\n    ShowControllerResult,\n} from './useShowController';\n\n/**\n * Render prop version of the useShowController hook\n *\n * @see useShowController\n * @example\n *\n * const ShowView = () => <div>...</div>\n * const MyShow = () => (\n *     <ShowController>\n *         {controllerProps => <ShowView {...controllerProps} {...props} />}\n *     </ShowController>\n * );\n */\nexport const ShowController = ({\n    children,\n    ...props\n}: {\n    children: (params: ShowControllerResult) => JSX.Element;\n} & ShowControllerProps) => {\n    const controllerProps = useShowController(props);\n    return children(controllerProps);\n};\n","import { useContext, useMemo } from 'react';\nimport defaults from 'lodash/defaults';\n\nimport { RaRecord } from '../../types';\nimport { ShowContext } from './ShowContext';\nimport { ShowControllerResult } from './useShowController';\n\n/**\n * Hook to read the show controller props from the ShowContext.\n *\n * Mostly used within a <ShowContext.Provider> (e.g. as a descendent of <Show>).\n *\n * But you can also use it without a <ShowContext.Provider>. In this case, it is up to you\n * to pass all the necessary props.\n *\n * The given props will take precedence over context values.\n *\n * @typedef {Object} ShowControllerResult\n *\n * @returns {ShowControllerResult} create controller props\n *\n * @see useShowController for how it is filled\n *\n */\nexport const useShowContext = <RecordType extends RaRecord = any>(\n    props?: Partial<ShowControllerResult<RecordType>>\n): Partial<ShowControllerResult<RecordType>> => {\n    // Can't find a way to specify the RecordType when ShowContext is declared\n    // @ts-ignore\n    const context = useContext<ShowControllerResult<RecordType>>(ShowContext);\n\n    // Props take precedence over the context\n    return useMemo(\n        () =>\n            defaults(\n                {},\n                props != null ? extractShowContextProps(props) : {},\n                context\n            ),\n        [context, props]\n    );\n};\n\n/**\n * Extract only the show controller props\n *\n * @param {Object} props props passed to the useShowContext hook\n *\n * @returns {ShowControllerResult} show controller props\n */\nconst extractShowContextProps = ({\n    record,\n    data,\n    defaultTitle,\n    isFetching,\n    isLoading,\n    resource,\n}: any) => ({\n    // Necessary for actions (EditActions) which expect a data prop containing the record\n    // @deprecated - to be removed in 4.0d\n    record: record || data,\n    data: record || data,\n    defaultTitle,\n    isFetching,\n    isLoading,\n    resource,\n});\n","import * as React from 'react';\nimport { ReactNode } from 'react';\nimport { useWatch } from 'react-hook-form';\nimport get from 'lodash/get';\n\nimport warning from '../util/warning';\n/**\n * Get the current (edited) value of the record from the form and pass it\n * to a child function\n *\n * @example\n *\n * const PostEdit = (props) => (\n *     <Edit {...props}>\n *         <SimpleForm>\n *             <BooleanInput source=\"hasEmail\" />\n *             <FormDataConsumer>\n *                 {({ formData, ...rest }) => formData.hasEmail &&\n *                      <TextInput source=\"email\" {...rest} />\n *                 }\n *             </FormDataConsumer>\n *         </SimpleForm>\n *     </Edit>\n * );\n *\n * @example\n *\n * const OrderEdit = (props) => (\n *     <Edit {...props}>\n *         <SimpleForm>\n *             <SelectInput source=\"country\" choices={countries} />\n *             <FormDataConsumer>\n *                 {({ formData, ...rest }) =>\n *                      <SelectInput\n *                          source=\"city\"\n *                          choices={getCitiesFor(formData.country)}\n *                          {...rest}\n *                      />\n *                 }\n *             </FormDataConsumer>\n *         </SimpleForm>\n *     </Edit>\n * );\n */\nconst FormDataConsumer = (props: ConnectedProps) => {\n    const formData = useWatch();\n\n    return <FormDataConsumerView formData={formData} {...props} />;\n};\n\nexport const FormDataConsumerView = (props: Props) => {\n    const { children, form, formData, source, index, ...rest } = props;\n    let scopedFormData = formData;\n    let getSource;\n    let getSourceHasBeenCalled = false;\n    let ret;\n\n    // If we have an index, we are in an iterator like component (such as the SimpleFormIterator)\n    if (typeof index !== 'undefined') {\n        scopedFormData = get(formData, source);\n        getSource = (scopedSource: string) => {\n            getSourceHasBeenCalled = true;\n            return `${source}.${scopedSource}`;\n        };\n        ret = children({ formData, scopedFormData, getSource, ...rest });\n    } else {\n        ret = children({ formData, ...rest });\n    }\n\n    warning(\n        typeof index !== 'undefined' && ret && !getSourceHasBeenCalled,\n        `You're using a FormDataConsumer inside an ArrayInput and you did not call the getSource function supplied by the FormDataConsumer component. This is required for your inputs to get the proper source.\n\n<ArrayInput source=\"users\">\n    <SimpleFormIterator>\n        <TextInput source=\"name\" />\n\n        <FormDataConsumer>\n            {({\n                formData, // The whole form data\n                scopedFormData, // The data for this item of the ArrayInput\n                getSource, // A function to get the valid source inside an ArrayInput\n                ...rest,\n            }) =>\n                scopedFormData.name ? (\n                    <SelectInput\n                        source={getSource('role')} // Will translate to \"users[0].role\"\n                        choices={[{id: 1, name: 'Admin'}, {id: 2, name: 'User'},\n                        {...rest}\n                    />\n                ) : null\n            }\n        </FormDataConsumer>\n    </SimpleFormIterator>\n</ArrayInput>`\n    );\n\n    return ret === undefined ? null : ret;\n};\n\nexport default FormDataConsumer;\n\nexport interface FormDataConsumerRenderParams {\n    formData: any;\n    scopedFormData?: any;\n    getSource?: (source: string) => string;\n}\n\nexport type FormDataConsumerRender = (\n    params: FormDataConsumerRenderParams\n) => ReactNode;\n\ninterface ConnectedProps {\n    children: FormDataConsumerRender;\n    form?: string;\n    record?: any;\n    source?: string;\n    [key: string]: any;\n}\n\ninterface Props extends ConnectedProps {\n    formData: any;\n    index?: number;\n}\n","import { createContext } from 'react';\n\nexport const FormGroupsContext = createContext<FormGroupsContextValue>(\n    undefined\n);\n\nexport type FormGroupSubscriber = () => void;\n\nexport type FormGroupsContextValue = {\n    registerGroup: (name: string) => void;\n    unregisterGroup: (name: string) => void;\n    registerField: (source: string, group?: string) => void;\n    unregisterField: (source: string, group?: string) => void;\n    getGroupFields: (name: string) => string[];\n    /**\n     * Subscribe to any changes of the group content (fields added or removed).\n     * Subscribers can get the current fields of the group by calling getGroupFields.\n     * Returns a function to unsubscribe.\n     */\n    subscribe: (name: string, subscriber: FormGroupSubscriber) => () => void;\n};\n","import * as React from 'react';\nimport {\n    ValidationErrorMessage,\n    ValidationErrorMessageWithArgs,\n} from './validate';\nimport { useTranslate } from '../i18n';\n\nexport interface ValidationErrorProps {\n    error: ValidationErrorMessage;\n}\n\nconst ValidationError = (props: ValidationErrorProps) => {\n    const { error } = props;\n    const translate = useTranslate();\n    if ((error as ValidationErrorMessageWithArgs).message) {\n        const { message, args } = error as ValidationErrorMessageWithArgs;\n        return <>{translate(message, { _: message, ...args })}</>;\n    }\n\n    return <>{translate(error as string, { _: error })}</>;\n};\n\nexport default ValidationError;\n","import { FieldValues } from 'react-hook-form';\nimport _ from 'lodash';\n\n// Flattening an object into path keys:\n// https://github.com/lodash/lodash/issues/2240#issuecomment-418820848\nexport const flattenKeys = (obj, path = []) =>\n    !_.isObject(obj)\n        ? { [path.join('.')]: obj }\n        : _.reduce(\n              obj,\n              (cum, next, key) =>\n                  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n                  _.merge(cum, flattenKeys(next, [...path, key])),\n              {}\n          );\n\n/**\n * Convert a simple validation function that returns an object matching the form shape with errors\n * to a validation resolver compatible with react-hook-form.\n *\n * @example\n * const validate = (values: any) => {\n *     if (values.username == null || values.username.trim() === '') {\n *         return { username: 'Required' };\n *     }\n * }\n *\n * const validationResolver = getSimpleValidationResolver(validate);\n *\n * const UserForm = () => (\n *     <Form\n *         defaultValues={{ username: 'John' }}\n *         validationResolver={validationResolver}\n *     >\n *         <TextField source=\"username\" />\n *     </Form>\n * );\n */\nexport const getSimpleValidationResolver = (validate: ValidateForm) => async (\n    data: FieldValues\n) => {\n    const errors = await validate(data);\n\n    if (!errors || Object.getOwnPropertyNames(errors).length === 0) {\n        return { values: data, errors: {} };\n    }\n    const flattenedErrors = flattenKeys(errors);\n\n    return {\n        values: {},\n        errors: Object.keys(flattenedErrors).reduce(\n            (acc, field) => ({\n                ...acc,\n                [field]: {\n                    type: 'manual',\n                    message: flattenedErrors[field],\n                },\n            }),\n            {} as FieldValues\n        ),\n    };\n};\n\nexport type ValidateForm = (\n    data: FieldValues\n) => FieldValues | Promise<FieldValues>;\n","import { createContext } from 'react';\nimport { FilterPayload, RaRecord, SortPayload } from '../../types';\n\n/**\n * Context to store choices and functions to retrieve them.\n *\n * Use the useChoicesContext() hook to read the context.\n */\nexport const ChoicesContext = createContext<ChoicesContextValue>(undefined);\n\nexport type ChoicesContextValue<RecordType extends RaRecord = any> = {\n    allChoices: RecordType[];\n    availableChoices: RecordType[];\n    displayedFilters: any;\n    error?: any;\n    filter?: FilterPayload;\n    filterValues: any;\n    hasNextPage: boolean;\n    hasPreviousPage: boolean;\n    hideFilter: (filterName: string) => void;\n    isFetching: boolean;\n    isLoading: boolean;\n    page: number;\n    perPage: number;\n    refetch: () => void;\n    resource: string;\n    selectedChoices: RecordType[];\n    setFilters: (\n        filters: any,\n        displayedFilters: any,\n        debounce?: boolean\n    ) => void;\n    setPage: (page: number) => void;\n    setPerPage: (page: number) => void;\n    setSort: (sort: SortPayload) => void;\n    showFilter: (filterName: string, defaultValue: any) => void;\n    sort: SortPayload;\n    source: string;\n    total: number;\n};\n","import * as React from 'react';\nimport { ReactNode } from 'react';\nimport { ChoicesContext, ChoicesContextValue } from './ChoicesContext';\n\nexport const ChoicesContextProvider = ({\n    children,\n    value,\n}: {\n    children: ReactNode;\n    value: ChoicesContextValue;\n}) => (\n    <ChoicesContext.Provider value={value}>{children}</ChoicesContext.Provider>\n);\n","import { useContext, useMemo } from 'react';\nimport { RaRecord } from '../../types';\nimport { useList } from '../../controller';\nimport { ChoicesContext, ChoicesContextValue } from './ChoicesContext';\n\nexport const useChoicesContext = <ChoicesType extends RaRecord = RaRecord>(\n    options: Partial<ChoicesContextValue> & { choices?: ChoicesType[] } = {}\n): ChoicesContextValue => {\n    const context = useContext(ChoicesContext) as ChoicesContextValue<\n        ChoicesType\n    >;\n    const { data, ...list } = useList<ChoicesType>({ data: options.choices });\n    const result = useMemo(\n        () => ({\n            allChoices: context?.allChoices ?? data,\n            availableChoices:\n                context?.availableChoices ?? options.availableChoices ?? data,\n            selectedChoices:\n                context?.selectedChoices ?? options.selectedChoices ?? data,\n            displayedFilters:\n                context?.displayedFilters ??\n                options.displayedFilters ??\n                list.displayedFilters,\n            error: context?.error ?? options.error ?? list.error,\n            filter: context?.filter ?? options.filter ?? list.filter,\n            filterValues:\n                context?.filterValues ??\n                options.filterValues ??\n                list.filterValues,\n            hasNextPage:\n                context?.hasNextPage ?? options.hasNextPage ?? list.hasNextPage,\n            hasPreviousPage:\n                context?.hasPreviousPage ??\n                options.hasPreviousPage ??\n                list.hasPreviousPage,\n            hideFilter:\n                context?.hideFilter ?? options.hideFilter ?? list.hideFilter,\n            isFetching:\n                context?.isFetching ?? options.isFetching ?? list.isFetching,\n            isLoading:\n                context?.isLoading ?? options.isLoading ?? list.isLoading,\n            page: context?.page ?? options.page ?? list.page,\n            perPage: context?.perPage ?? options.perPage ?? list.perPage,\n            refetch: context?.refetch ?? options.refetch ?? list.refetch,\n            resource: context?.resource ?? options.resource ?? list.resource,\n            setFilters:\n                context?.setFilters ?? options.setFilters ?? list.setFilters,\n            setPage: context?.setPage ?? options.setPage ?? list.setPage,\n            setPerPage:\n                context?.setPerPage ?? options.setPerPage ?? list.setPerPage,\n            setSort: context?.setSort ?? options.setSort ?? list.setSort,\n            showFilter:\n                context?.showFilter ?? options.showFilter ?? list.showFilter,\n            sort: context?.sort ?? options.sort ?? list.sort,\n            source: context?.source ?? options.source,\n            total: context?.total ?? options.total ?? list.total,\n        }),\n        [context, data, list, options]\n    );\n\n    return result;\n};\n","import * as React from 'react';\nimport { ReactNode } from 'react';\nimport { FormProvider, FieldValues, UseFormProps } from 'react-hook-form';\n\nimport { FormGroupsProvider } from './FormGroupsProvider';\nimport { RaRecord } from '../types';\nimport { useRecordContext, OptionalRecordContextProvider } from '../controller';\nimport { ValidateForm } from './getSimpleValidationResolver';\nimport { useAugmentedForm } from './useAugmentedForm';\n\n/**\n * Creates a form element, initialized with the current record, calling the saveContext on submit\n *\n * Wrapper around react-hook-form's useForm, FormContextProvider, and <form>.\n * Also sets up a FormGroupContext, and handles submission validation.\n *\n * @example\n *\n * const MyForm = ({ record, defaultValues, validate }) => (\n *    <Form record={record} defaultValues={defaultValues} validate={validate}>\n *        <Stack>\n *            <TextInput source=\"title\" />\n *            <SaveButton />\n *        </Stack>\n *    </Form>\n * );\n *\n * @typedef {Object} Props the props you can use\n * @prop {Object} defaultValues\n * @prop {Function} validate\n * @prop {Function} save\n *\n * @see useForm\n * @see FormGroupContext\n *\n * @link https://react-hook-form.com/api/useformcontext\n */\nexport const Form = (props: FormProps) => {\n    const { children, id, className, noValidate = false } = props;\n    const record = useRecordContext(props);\n    const { form, formHandleSubmit } = useAugmentedForm(props);\n\n    return (\n        <OptionalRecordContextProvider value={record}>\n            <FormProvider {...form}>\n                <FormGroupsProvider>\n                    <form\n                        onSubmit={formHandleSubmit}\n                        noValidate={noValidate}\n                        id={id}\n                        className={className}\n                    >\n                        {children}\n                    </form>\n                </FormGroupsProvider>\n            </FormProvider>\n        </OptionalRecordContextProvider>\n    );\n};\n\nexport type FormProps = FormOwnProps &\n    Omit<UseFormProps, 'onSubmit'> & {\n        validate?: ValidateForm;\n        noValidate?: boolean;\n    };\n\nexport interface FormOwnProps {\n    children: ReactNode;\n    className?: string;\n    defaultValues?: any;\n    formRootPathname?: string;\n    id?: string;\n    record?: Partial<RaRecord>;\n    onSubmit?: (data: FieldValues) => any | Promise<any>;\n    warnWhenUnsavedChanges?: boolean;\n}\n","import * as React from 'react';\nimport { ReactNode, useMemo, useRef } from 'react';\nimport {\n    FormGroupsContext,\n    FormGroupsContextValue,\n    FormGroupSubscriber,\n} from './FormGroupsContext';\n\n/**\n * This component provides functions through context to manage form groups,\n * allowing to link or unlink an input to a group.\n * @see FormGroupContextProvider\n * @see useFormGroup\n * @see useFormGroups\n */\nexport const FormGroupsProvider = ({ children }: { children: ReactNode }) => {\n    const formGroups = useRef<{ [key: string]: string[] }>({});\n    const subscribers = useRef<{\n        [key: string]: FormGroupSubscriber[];\n    }>({});\n\n    const formContextValue = useMemo<FormGroupsContextValue>(\n        () => ({\n            /**\n             * Register a subscriber function for the specified group. The subscriber\n             * will be called whenever the group content changes (fields added or removed).\n             */\n            subscribe: (group, subscriber) => {\n                if (!subscribers.current[group]) {\n                    subscribers.current[group] = [];\n                }\n                subscribers.current[group].push(subscriber);\n\n                return () => {\n                    subscribers.current[group] = subscribers.current[\n                        group\n                    ].filter(s => s !== subscriber);\n                };\n            },\n            getGroupFields: name => formGroups.current[name] || [],\n            registerGroup: name => {\n                formGroups.current[name] = formGroups.current[name] || [];\n            },\n            unregisterGroup: name => {\n                delete formGroups[name];\n            },\n            registerField: (source, group) => {\n                if (group != null) {\n                    if (!(formGroups.current[group] || []).includes(source)) {\n                        formGroups.current[group] = [\n                            ...(formGroups.current[group] || []),\n                            source,\n                        ];\n                        // Notify subscribers that the group fields have changed\n                        if (subscribers.current[group]) {\n                            subscribers.current[group].forEach(subscriber =>\n                                subscriber()\n                            );\n                        }\n                    }\n                }\n            },\n            unregisterField: (source, group) => {\n                if (group != null) {\n                    if (!formGroups.current[group]) {\n                        console.warn(`Invalid form group ${group}`);\n                    } else {\n                        const fields = new Set(formGroups.current[group]);\n                        fields.delete(source);\n                        formGroups.current[group] = Array.from(fields);\n\n                        // Notify subscribers that the group fields have changed\n                        if (subscribers.current[group]) {\n                            subscribers.current[group].forEach(subscriber =>\n                                subscriber()\n                            );\n                        }\n                    }\n                }\n            },\n        }),\n        []\n    );\n\n    return (\n        <FormGroupsContext.Provider value={formContextValue}>\n            {children}\n        </FormGroupsContext.Provider>\n    );\n};\n","import { BaseSyntheticEvent, useCallback, useMemo, useEffect } from 'react';\nimport { FieldValues, useForm, UseFormProps } from 'react-hook-form';\n\nimport { RaRecord } from '../types';\nimport { useSaveContext } from '../controller';\nimport { useRecordContext } from '../controller';\nimport getFormInitialValues from './getFormInitialValues';\nimport {\n    getSimpleValidationResolver,\n    ValidateForm,\n} from './getSimpleValidationResolver';\nimport { setSubmissionErrors } from './setSubmissionErrors';\nimport { useNotify } from '../notification';\nimport { useIsFormInvalid } from './useIsFormInvalid';\nimport { useWarnWhenUnsavedChanges } from './useWarnWhenUnsavedChanges';\n\n/**\n * Wrapper around react-hook-form's useForm\n *\n * This hook adds the following features to react-hook-form's useForm:\n *\n * - form initialization based on RecordContext\n * - validation based on a validate function\n * - notification on invalid form\n * - stop form submission event propagation\n */\nexport const useAugmentedForm = (props: UseAugmentedFormProps) => {\n    const {\n        context,\n        criteriaMode = 'firstError',\n        defaultValues,\n        delayError,\n        formRootPathname,\n        mode,\n        resolver,\n        reValidateMode = 'onChange',\n        onSubmit,\n        shouldFocusError,\n        shouldUnregister,\n        shouldUseNativeValidation,\n        warnWhenUnsavedChanges,\n        validate,\n    } = props;\n    const record = useRecordContext(props);\n    const saveContext = useSaveContext();\n\n    const defaultValuesIncludingRecord = useMemo(\n        () => getFormInitialValues(defaultValues, record),\n        [JSON.stringify({ defaultValues, record })] // eslint-disable-line\n    );\n\n    const finalResolver = resolver\n        ? resolver\n        : validate\n        ? getSimpleValidationResolver(validate)\n        : undefined;\n\n    const form = useForm({\n        context,\n        criteriaMode,\n        defaultValues: defaultValuesIncludingRecord,\n        delayError,\n        mode,\n        reValidateMode,\n        resolver: finalResolver,\n        shouldFocusError,\n        shouldUnregister,\n        shouldUseNativeValidation,\n    });\n\n    // initialize form with record\n    useEffect(() => {\n        if (!record) {\n            return;\n        }\n        const initialValues = getFormInitialValues(defaultValues, record);\n        form.reset(initialValues);\n    }, [form.reset, JSON.stringify(record, defaultValues)]); // eslint-disable-line react-hooks/exhaustive-deps\n\n    // notify on invalid form\n    const isInvalid = useIsFormInvalid(form.control);\n    const notify = useNotify();\n    useEffect(() => {\n        if (isInvalid) {\n            notify('ra.message.invalid_form', { type: 'warning' });\n        }\n    }, [isInvalid, notify]);\n\n    // warn when unsaved change\n    useWarnWhenUnsavedChanges(\n        warnWhenUnsavedChanges,\n        formRootPathname,\n        form.control\n    );\n\n    // submit callbacks\n    const handleSubmit = useCallback(\n        async values => {\n            let errors;\n\n            if (onSubmit) {\n                errors = await onSubmit(values);\n            }\n            if (onSubmit == null && saveContext?.save) {\n                errors = await saveContext.save(values);\n            }\n            if (errors != null) {\n                setSubmissionErrors(errors, form.setError);\n            }\n        },\n        [form, onSubmit, saveContext]\n    );\n\n    const formHandleSubmit = useCallback(\n        (event: BaseSyntheticEvent) => {\n            // Prevent outer forms to receive the event\n            event.stopPropagation();\n            form.handleSubmit(handleSubmit)(event);\n            return;\n        },\n        [form, handleSubmit]\n    );\n\n    return {\n        form,\n        handleSubmit,\n        formHandleSubmit,\n        isInvalid,\n    };\n};\n\nexport type UseAugmentedFormProps = UseFormOwnProps &\n    Omit<UseFormProps, 'onSubmit'> & {\n        validate?: ValidateForm;\n    };\n\nexport interface UseFormOwnProps {\n    defaultValues?: any;\n    formRootPathname?: string;\n    record?: Partial<RaRecord>;\n    onSubmit?: (data: FieldValues) => any | Promise<any>;\n    warnWhenUnsavedChanges?: boolean;\n}\n","import merge from 'lodash/merge';\nimport { RaRecord } from '../types';\n\nexport default function getFormInitialValues(\n    defaultValues: DefaultValue,\n    record: Partial<RaRecord>\n) {\n    const finalInitialValues = merge(\n        {},\n        getValues(defaultValues, record),\n        record\n    );\n    return finalInitialValues;\n}\n\nfunction getValues(values, record) {\n    if (typeof values === 'object') {\n        return values;\n    }\n\n    if (typeof values === 'function') {\n        return values(record);\n    }\n\n    return {};\n}\n\ninterface DefaultValueObject {\n    [key: string]: any;\n}\ntype DefaultValueFunction = (record: RaRecord) => DefaultValueObject;\ntype DefaultValue = DefaultValueObject | DefaultValueFunction;\n","import { FieldValues, UseFormSetError } from 'react-hook-form';\n\n/**\n * This internal function is used to convert an object matching the form shape with errors to a\n * format compatible with react-hook-form. It's used to handle submission errors. Only useful when\n * you are implementing a custom form without leveraging our Form component.\n *\n * @example\n * const MyForm = () => {\n *     const { register, handleSubmit, setError } = useForm();\n *     const onSubmit = data => {\n *         return saveAsync(data).catch(error => setSubmissionErrors(error.body.details));\n *     };\n *\n *     return (\n *         <form onSubmit={handleSubmit(onSubmit)}>\n *             ...\n *         </form>\n *     );\n * };\n */\nexport const setSubmissionErrors = (\n    errors: FieldValues,\n    setError: UseFormSetError<FieldValues>\n) => {\n    const setErrorFromArray = (errors: any[], rootPath: string) => {\n        errors.forEach((error, index) => {\n            if (typeof error === 'object') {\n                setErrorFromObject(error, `${rootPath}.${index}.`);\n                return;\n            }\n            if (Array.isArray(error)) {\n                setErrorFromArray(error, `${rootPath}.${index}.`);\n                return;\n            }\n            setError(`${rootPath}.${index}`, {\n                type: 'server',\n                message: error.toString(),\n            });\n        });\n    };\n    const setErrorFromObject = (errors: any, rootPath: string) => {\n        Object.entries(errors).forEach(([name, error]) => {\n            if (typeof error === 'object') {\n                setErrorFromObject(error, `${rootPath}${name}.`);\n                return;\n            }\n            if (Array.isArray(error)) {\n                setErrorFromArray(error, `${rootPath}${name}.`);\n                return;\n            }\n            setError(`${rootPath}${name}`, {\n                type: 'server',\n                message: error.toString(),\n            });\n        });\n    };\n    setErrorFromObject(errors, '');\n};\n","import { useEffect, useState, useRef } from 'react';\nimport { useFormState, Control } from 'react-hook-form';\n\n/**\n * This hook returns a boolean indicating whether the form is invalid.\n * We use this to display an error message on submit in Form and SaveButton.\n *\n * We can't do the form validity check in the form submit handler\n * as the form state may not have been updated yet when onSubmit validation mode is enabled\n * or when the form hasn't been touched at all.\n */\nexport const useIsFormInvalid = (control?: Control) => {\n    const [isInvalid, setIsInvalid] = useState(false);\n    const { isValid, submitCount, errors } = useFormState(\n        control ? { control } : undefined\n    );\n    const submitCountRef = useRef(submitCount);\n\n    useEffect(() => {\n        // Checking the submit count allows us to only display the notification after users\n        // tried to submit\n        if (submitCount > submitCountRef.current) {\n            submitCountRef.current = submitCount;\n\n            // For some reason, the validation state might not be sync yet on first submit\n            // so we need to check if there are actually some errors even though the isValid is false\n            if (Object.keys(errors).length > 0 && !isValid) {\n                setIsInvalid(true);\n            } else {\n                setIsInvalid(false);\n            }\n        }\n    }, [errors, isValid, submitCount]);\n\n    return isInvalid;\n};\n","import { useContext, useEffect, useRef } from 'react';\nimport { useFormState, Control } from 'react-hook-form';\nimport { UNSAFE_NavigationContext, useLocation } from 'react-router-dom';\nimport { History, Transition } from 'history';\nimport { useTranslate } from '../i18n';\n\n/**\n * Display a confirmation dialog if the form has unsaved changes.\n * - If the user confirms, the navigation continues and the changes are lost.\n * - If the user cancels, the navigation is cancelled and the changes are kept.\n */\nexport const useWarnWhenUnsavedChanges = (\n    enable: boolean,\n    formRootPathname?: string,\n    control?: Control\n) => {\n    // react-router v6 does not yet provide a way to block navigation\n    // This is planned for a future release\n    // See https://github.com/remix-run/react-router/issues/8139\n    const navigator = useContext(UNSAFE_NavigationContext).navigator as History;\n    const location = useLocation();\n    const translate = useTranslate();\n    const { isSubmitSuccessful, isSubmitting, dirtyFields } = useFormState(\n        control ? { control } : undefined\n    );\n    const isDirty = Object.keys(dirtyFields).length > 0;\n    const initialLocation = useRef(formRootPathname || location.pathname);\n\n    useEffect(() => {\n        if (!enable || !isDirty) return;\n\n        let unblock = navigator.block((tx: Transition) => {\n            const newLocationIsInsideForm = tx.location.pathname.startsWith(\n                initialLocation.current\n            );\n\n            if (\n                !isSubmitting &&\n                (newLocationIsInsideForm ||\n                    isSubmitSuccessful ||\n                    window.confirm(translate('ra.message.unsaved_changes')))\n            ) {\n                unblock();\n                tx.retry();\n            }\n        });\n\n        return unblock;\n    }, [\n        enable,\n        location,\n        navigator,\n        isDirty,\n        isSubmitting,\n        isSubmitSuccessful,\n        translate,\n    ]);\n};\n","import lodashMemoize from 'lodash/memoize';\n\n/* eslint-disable no-underscore-dangle */\n/* @link http://stackoverflow.com/questions/46155/validate-email-address-in-javascript */\nconst EMAIL_REGEX = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/; // eslint-disable-line no-useless-escape\n\nconst isEmpty = (value: any) =>\n    typeof value === 'undefined' ||\n    value === null ||\n    value === '' ||\n    (Array.isArray(value) && value.length === 0);\n\nexport interface ValidationErrorMessageWithArgs {\n    message: string;\n    args: {\n        [key: string]: ValidationErrorMessageWithArgs | any;\n    };\n}\n\nexport type ValidationErrorMessage = string | ValidationErrorMessageWithArgs;\n\nexport type Validator = (\n    value: any,\n    values: any,\n    props: any\n) =>\n    | ValidationErrorMessage\n    | null\n    | undefined\n    | Promise<ValidationErrorMessage | null | undefined>;\n\n// type predicate, see https://www.typescriptlang.org/docs/handbook/2/narrowing.html#using-type-predicates\nfunction isValidationErrorMessageWithArgs(\n    error: ReturnType<Validator>\n): error is ValidationErrorMessageWithArgs {\n    return error.hasOwnProperty('message');\n}\n\ninterface MessageFuncParams {\n    args: any;\n    value: any;\n    values: any;\n}\n\ntype MessageFunc = (params: MessageFuncParams) => ValidationErrorMessage;\n\nconst getMessage = (\n    message: string | MessageFunc,\n    messageArgs: any,\n    value: any,\n    values: any\n) =>\n    typeof message === 'function'\n        ? message({\n              args: messageArgs,\n              value,\n              values,\n          })\n        : messageArgs\n        ? {\n              message,\n              args: messageArgs,\n          }\n        : message;\n\ntype Memoize = <T extends (...args: any[]) => any>(\n    func: T,\n    resolver?: (...args: any[]) => any\n) => T;\n\n// If we define validation functions directly in JSX, it will\n// result in a new function at every render, and then trigger infinite re-render.\n// Hence, we memoize every built-in validator to prevent a \"Maximum call stack\" error.\nconst memoize: Memoize = (fn: any) =>\n    lodashMemoize(fn, (...args) => JSON.stringify(args));\n\nconst isFunction = value => typeof value === 'function';\n\nexport const combine2Validators = (\n    validator1: Validator,\n    validator2: Validator\n): Validator => {\n    return (value, values, meta) => {\n        const result1 = validator1(value, values, meta);\n        if (!result1) {\n            return validator2(value, values, meta);\n        }\n        if (\n            typeof result1 === 'string' ||\n            isValidationErrorMessageWithArgs(result1)\n        ) {\n            return result1;\n        }\n\n        return result1.then(resolvedResult1 => {\n            if (!resolvedResult1) {\n                return validator2(value, values, meta);\n            }\n            return resolvedResult1;\n        });\n    };\n};\n\n// Compose multiple validators into a single one for use with react-hook-form\nexport const composeValidators = (...validators) => {\n    const allValidators = (Array.isArray(validators[0])\n        ? validators[0]\n        : validators\n    ).filter(isFunction) as Validator[];\n    return allValidators.reduce(combine2Validators, () => null);\n};\n\n// Compose multiple validators into a single one for use with react-hook-form\nexport const composeSyncValidators = (...validators) => (\n    value,\n    values,\n    meta\n) => {\n    const allValidators = (Array.isArray(validators[0])\n        ? validators[0]\n        : validators\n    ).filter(isFunction) as Validator[];\n\n    for (const validator of allValidators) {\n        const error = validator(value, values, meta);\n\n        if (error) {\n            return error;\n        }\n    }\n};\n\n/**\n * Required validator\n *\n * Returns an error if the value is null, undefined, or empty\n *\n * @param {string|Function} message\n *\n * @example\n *\n * const titleValidators = [required('The title is required')];\n * <TextInput name=\"title\" validate={titleValidators} />\n */\nexport const required = memoize((message = 'ra.validation.required') =>\n    Object.assign(\n        (value, values) =>\n            isEmpty(value)\n                ? getMessage(message, undefined, value, values)\n                : undefined,\n        { isRequired: true }\n    )\n);\n\n/**\n * Minimum length validator\n *\n * Returns an error if the value has a length less than the parameter\n *\n * @param {integer} min\n * @param {string|Function} message\n *\n * @example\n *\n * const passwordValidators = [minLength(10, 'Should be at least 10 characters')];\n * <TextInput type=\"password\" name=\"password\" validate={passwordValidators} />\n */\nexport const minLength = memoize(\n    (min, message = 'ra.validation.minLength') => (value, values) =>\n        !isEmpty(value) && value.length < min\n            ? getMessage(message, { min }, value, values)\n            : undefined\n);\n\n/**\n * Maximum length validator\n *\n * Returns an error if the value has a length higher than the parameter\n *\n * @param {integer} max\n * @param {string|Function} message\n *\n * @example\n *\n * const nameValidators = [maxLength(10, 'Should be at most 10 characters')];\n * <TextInput name=\"name\" validate={nameValidators} />\n */\nexport const maxLength = memoize(\n    (max, message = 'ra.validation.maxLength') => (value, values) =>\n        !isEmpty(value) && value.length > max\n            ? getMessage(message, { max }, value, values)\n            : undefined\n);\n\n/**\n * Minimum validator\n *\n * Returns an error if the value is less than the parameter\n *\n * @param {integer} min\n * @param {string|Function} message\n *\n * @example\n *\n * const fooValidators = [minValue(5, 'Should be more than 5')];\n * <NumberInput name=\"foo\" validate={fooValidators} />\n */\nexport const minValue = memoize(\n    (min, message = 'ra.validation.minValue') => (value, values) =>\n        !isEmpty(value) && value < min\n            ? getMessage(message, { min }, value, values)\n            : undefined\n);\n\n/**\n * Maximum validator\n *\n * Returns an error if the value is higher than the parameter\n *\n * @param {integer} max\n * @param {string|Function} message\n *\n * @example\n *\n * const fooValidators = [maxValue(10, 'Should be less than 10')];\n * <NumberInput name=\"foo\" validate={fooValidators} />\n */\nexport const maxValue = memoize(\n    (max, message = 'ra.validation.maxValue') => (value, values) =>\n        !isEmpty(value) && value > max\n            ? getMessage(message, { max }, value, values)\n            : undefined\n);\n\n/**\n * Number validator\n *\n * Returns an error if the value is not a number\n *\n * @param {string|Function} message\n *\n * @example\n *\n * const ageValidators = [number('Must be a number')];\n * <TextInput name=\"age\" validate={ageValidators} />\n */\nexport const number = memoize(\n    (message = 'ra.validation.number') => (value, values) =>\n        !isEmpty(value) && isNaN(Number(value))\n            ? getMessage(message, undefined, value, values)\n            : undefined\n);\n\n/**\n * Regular expression validator\n *\n * Returns an error if the value does not match the pattern given as parameter\n *\n * @param {RegExp} pattern\n * @param {string|Function} message\n *\n * @example\n *\n * const zipValidators = [regex(/^\\d{5}(?:[-\\s]\\d{4})?$/, 'Must be a zip code')];\n * <TextInput name=\"zip\" validate={zipValidators} />\n */\nexport const regex = lodashMemoize(\n    (pattern, message = 'ra.validation.regex') => (value, values?) =>\n        !isEmpty(value) && typeof value === 'string' && !pattern.test(value)\n            ? getMessage(message, { pattern }, value, values)\n            : undefined,\n    (pattern, message) => {\n        return pattern.toString() + message;\n    }\n);\n\n/**\n * Email validator\n *\n * Returns an error if the value is not a valid email\n *\n * @param {string|Function} message\n *\n * @example\n *\n * const emailValidators = [email('Must be an email')];\n * <TextInput name=\"email\" validate={emailValidators} />\n */\nexport const email = memoize((message = 'ra.validation.email') =>\n    regex(EMAIL_REGEX, message)\n);\n\nconst oneOfTypeMessage: MessageFunc = ({ args }) => ({\n    message: 'ra.validation.oneOf',\n    args,\n});\n\n/**\n * Choices validator\n *\n * Returns an error if the value is not among the list passed as parameter\n *\n * @param {array} list\n * @param {string|Function} message\n *\n * @example\n *\n * const genderValidators = [choices(['male', 'female'], 'Must be either Male or Female')];\n * <TextInput name=\"gender\" validate={genderValidators} />\n */\nexport const choices = memoize(\n    (list, message = oneOfTypeMessage) => (value, values) =>\n        !isEmpty(value) && list.indexOf(value) === -1\n            ? getMessage(message, { list }, value, values)\n            : undefined\n);\n\n/**\n * Given a validator, returns a boolean indicating whether the field is required or not.\n */\nexport const isRequired = validate => {\n    if (validate && validate.isRequired) {\n        return true;\n    }\n    if (Array.isArray(validate)) {\n        return !!validate.find(it => it.isRequired);\n    }\n    return false;\n};\n","import { createContext } from 'react';\n\n/**\n * Context allowing inputs to register to a specific group.\n * This enables other components in the group to access group properties such as its\n * validation (valid/invalid) or whether its inputs have been updated (dirty/pristine).\n *\n * This should only be used through a FormGroupContextProvider.\n */\nexport const FormGroupContext = createContext<FormGroupContextValue>(undefined);\n\nexport type FormGroupContextValue = string;\n","import * as React from 'react';\nimport { ReactNode, useEffect } from 'react';\nimport { FormGroupContext } from './FormGroupContext';\nimport { useFormGroups } from './useFormGroups';\n\n/**\n * This provider allows its input children to register to a specific group.\n * This enables other components in the group to access group properties such as its\n * validation (valid/invalid) or whether its inputs have been updated (dirty/pristine).\n *\n * @example\n * import { Edit, SimpleForm, TextInput, FormGroupContextProvider, useFormGroup } from 'react-admin';\n * import { Accordion, AccordionDetails, AccordionSummary, Typography } from '@mui/material';\n *\n * const PostEdit = (props) => (\n *     <Edit {...props}>\n *         <SimpleForm>\n *             <TextInput source=\"title\" />\n *             <FormGroupContextProvider name=\"options\">\n *                 <Accordion>\n *                     <AccordionSummary\n *                         expandIcon={<ExpandMoreIcon />}\n *                         aria-controls=\"options-content\"\n *                         id=\"options-header\"\n *                     >\n *                         <AccordionSectionTitle name=\"options\">Options</AccordionSectionTitle>\n *                     </AccordionSummary>\n *                     <AccordionDetails id=\"options-content\" aria-labelledby=\"options-header\">\n *                         <TextInput source=\"teaser\" validate={minLength(20)} />\n *                     </AccordionDetails>\n *                 </Accordion>\n *             </FormGroupContextProvider>\n *         </SimpleForm>\n *     </Edit>\n * );\n *\n * const AccordionSectionTitle = ({ children, name }) => {\n *     const formGroupState = useFormGroup(name);\n *     return (\n *         <Typography color={formGroupState.invalid && formGroupState.dirty ? 'error' : 'inherit'}>\n *             {children}\n *         </Typography>\n *     );\n * }\n *\n * @param props The component props\n * @param {ReactNode} props.children The form group content\n * @param {String} props.name The form group name\n */\nexport const FormGroupContextProvider = ({\n    children,\n    name,\n}: {\n    children: ReactNode;\n    name: string;\n}) => {\n    const formGroups = useFormGroups();\n\n    useEffect(() => {\n        if (\n            !formGroups ||\n            !formGroups.registerGroup ||\n            !formGroups.unregisterGroup\n        ) {\n            console.warn(\n                `The FormGroupContextProvider can only be used inside a FormContext such as provided by the SimpleForm and TabbedForm components`\n            );\n            return;\n        }\n        formGroups.registerGroup(name);\n\n        return () => {\n            formGroups.unregisterGroup(name);\n        };\n    }, [formGroups, name]);\n\n    return (\n        <FormGroupContext.Provider value={name}>\n            {children}\n        </FormGroupContext.Provider>\n    );\n};\n","import { useContext } from 'react';\nimport { FormGroupsContext } from './FormGroupsContext';\n\n/**\n * Retrieve the form groups management context. Used by inputs to register themselves into a form group.\n */\nexport const useFormGroups = () => {\n    const context = useContext(FormGroupsContext);\n    return context;\n};\n","import { useEffect } from 'react';\nimport { useFormContext } from 'react-hook-form';\nimport get from 'lodash/get';\nimport { useRecordContext } from '../controller';\nimport { InputProps } from './useInput';\n\n/*\n * This hook updates the input default value whenever the record changes\n * It applies either the record value if it has one or the defaultValue if it was specified\n */\nexport const useApplyInputDefaultValues = (props: Partial<InputProps>) => {\n    const { defaultValue, source } = props;\n    const record = useRecordContext(props);\n    const { getValues, resetField } = useFormContext();\n    const recordValue = get(record, source);\n    const formValue = get(getValues(), source);\n\n    useEffect(() => {\n        if (defaultValue == null) return;\n        if (formValue == null && recordValue == null) {\n            // special case for ArrayInput: since we use get(record, source),\n            // if source is like foo.23.bar, this effect will run.\n            // but we only want to set the default value for the subfield bar\n            // if the record actually has a value for foo.23\n            const pathContainsIndex = source\n                .split('.')\n                .some(pathPart => numericRegex.test(pathPart));\n            if (pathContainsIndex) {\n                const parentPath = source.split('.').slice(0, -1).join('.');\n                const parentValue = get(getValues(), parentPath);\n                if (parentValue == null) {\n                    // the parent is undefined, so we don't want to set the default value\n                    return;\n                }\n            }\n            resetField(source, { defaultValue });\n        }\n    });\n};\n\nconst numericRegex = /^\\d+$/;\n","import * as React from 'react';\nimport { ReactElement, isValidElement, useCallback } from 'react';\nimport get from 'lodash/get';\n\nimport { useTranslate } from '../i18n';\nimport { RaRecord } from '../types';\nimport { RecordContextProvider } from '../controller';\n\nexport type OptionTextElement = ReactElement<{\n    record: RaRecord;\n}>;\nexport type OptionTextFunc = (choice: any) => string | OptionTextElement;\nexport type OptionText = OptionTextElement | OptionTextFunc | string;\n\nexport interface ChoicesProps {\n    choices?: RaRecord[];\n    isFetching?: boolean;\n    isLoading?: boolean;\n    optionValue?: string;\n    optionText?: OptionText;\n    translateChoice?: boolean;\n}\n\nexport interface UseChoicesOptions {\n    optionValue?: string;\n    optionText?: OptionText;\n    disableValue?: string;\n    translateChoice?: boolean;\n}\n\n/*\n * Returns helper functions for choices handling.\n *\n * @param optionText Either a string defining the property to use to get the choice text, a function or a React element\n * @param optionValue The property to use to get the choice value\n * @param translateChoice A boolean indicating whether to option text should be translated\n *\n * @returns An object with helper functions:\n * - getChoiceText: Returns the choice text or a React element\n * - getChoiceValue: Returns the choice value\n */\nexport const useChoices = ({\n    optionText = 'name',\n    optionValue = 'id',\n    disableValue = 'disabled',\n    translateChoice = true,\n}: UseChoicesOptions) => {\n    const translate = useTranslate();\n\n    const getChoiceText = useCallback(\n        choice => {\n            if (isValidElement<{ record: any }>(optionText)) {\n                return (\n                    <RecordContextProvider value={choice}>\n                        {optionText}\n                    </RecordContextProvider>\n                );\n            }\n            const choiceName =\n                typeof optionText === 'function'\n                    ? optionText(choice)\n                    : get(choice, optionText);\n\n            return isValidElement(choiceName)\n                ? choiceName\n                : translateChoice\n                ? translate(String(choiceName), { _: choiceName })\n                : String(choiceName);\n        },\n        [optionText, translate, translateChoice]\n    );\n\n    const getChoiceValue = useCallback(choice => get(choice, optionValue), [\n        optionValue,\n    ]);\n\n    const getDisableValue = useCallback(choice => get(choice, disableValue), [\n        disableValue,\n    ]);\n\n    return {\n        getChoiceText,\n        getChoiceValue,\n        getDisableValue,\n    };\n};\n","import { useCallback, useEffect, useState } from 'react';\nimport get from 'lodash/get';\nimport isEqual from 'lodash/isEqual';\nimport { useFormState } from 'react-hook-form';\nimport { useFormGroups } from './useFormGroups';\n\ntype FieldState = {\n    name: string;\n    error?: any;\n    isDirty: boolean;\n    isTouched: boolean;\n    isValid: boolean;\n};\n\ntype FormGroupState = {\n    errors: object;\n    isDirty: boolean;\n    isTouched: boolean;\n    isValid: boolean;\n};\n\n/**\n * Retrieve a specific form group data such as its validation status (valid/invalid) or\n * or whether its inputs have been updated (dirty/pristine)\n *\n * @example\n * import { Edit, SimpleForm, TextInput, FormGroupContextProvider, useFormGroup, minLength } from 'react-admin';\n * import { Accordion, AccordionDetails, AccordionSummary, Typography } from '@mui/material';\n * import ExpandMoreIcon from '@mui/icons-material/ExpandMoreIcon';\n *\n * const PostEdit = (props) => (\n *     <Edit {...props}>\n *         <SimpleForm>\n *             <TextInput source=\"title\" />\n *             <FormGroupContextProvider name=\"options\">\n *                 <Accordion>\n *                     <AccordionSummary\n *                         expandIcon={<ExpandMoreIcon />}\n *                         aria-controls=\"options-content\"\n *                         id=\"options-header\"\n *                     >\n *                         <AccordionSectionTitle name=\"options\">Options</AccordionSectionTitle>\n *                     </AccordionSummary>\n *                     <AccordionDetails id=\"options-content\" aria-labelledby=\"options-header\">\n *                         <TextInput source=\"teaser\" validate={minLength(20)} />\n *                     </AccordionDetails>\n *                 </Accordion>\n *             </FormGroupContextProvider>\n *         </SimpleForm>\n *     </Edit>\n * );\n *\n * const AccordionSectionTitle = ({ children, name }) => {\n *     const formGroupState = useFormGroup(name);\n *     return (\n *         <Typography color={!formGroupState.isValid && formGroupState.isDirty ? 'error' : 'inherit'}>\n *             {children}\n *         </Typography>\n *     );\n * }\n *\n * @param {string} name The form group name\n * @returns {FormGroupState} The form group state\n */\nexport const useFormGroup = (name: string): FormGroupState => {\n    const { dirtyFields, touchedFields, errors } = useFormState();\n    const formGroups = useFormGroups();\n    const [state, setState] = useState<FormGroupState>({\n        errors: undefined,\n        isDirty: false,\n        isTouched: false,\n        isValid: true,\n    });\n\n    const updateGroupState = useCallback(() => {\n        const fields = formGroups.getGroupFields(name);\n        const fieldStates = fields\n            .map<FieldState>(field => {\n                return {\n                    name: field,\n                    error: get(errors, field, undefined),\n                    isDirty: get(dirtyFields, field, false),\n                    isValid: get(errors, field, undefined) == undefined, // eslint-disable-line\n                    isTouched: get(touchedFields, field, false),\n                };\n            })\n            .filter(fieldState => fieldState != undefined); // eslint-disable-line\n\n        const newState = getFormGroupState(fieldStates);\n        setState(oldState => {\n            if (!isEqual(oldState, newState)) {\n                return newState;\n            }\n\n            return oldState;\n        });\n    }, [dirtyFields, errors, touchedFields, formGroups, name]);\n\n    useEffect(\n        () => {\n            updateGroupState();\n        },\n        // eslint-disable-next-line\n        [\n            // eslint-disable-next-line\n            JSON.stringify({ dirtyFields, errors, touchedFields }),\n            updateGroupState,\n        ]\n    );\n\n    useEffect(() => {\n        // Whenever the group content changes (input are added or removed)\n        // we must update its state\n        return formGroups.subscribe(name, () => {\n            updateGroupState();\n        });\n    }, [formGroups, name, updateGroupState]);\n\n    return state;\n};\n\n/**\n * Get the state of a form group\n *\n * @param {FieldState[]} fieldStates A map of field states from react-hook-form where the key is the field name.\n * @returns {FormGroupState} The state of the group.\n */\nexport const getFormGroupState = (\n    fieldStates: FieldState[]\n): FormGroupState => {\n    return fieldStates.reduce(\n        (acc, fieldState) => {\n            let errors = acc.errors || {};\n\n            if (fieldState.error) {\n                errors[fieldState.name] = fieldState.error;\n            }\n\n            const newState = {\n                isDirty: acc.isDirty || fieldState.isDirty,\n                errors,\n                isTouched: acc.isTouched || fieldState.isTouched,\n                isValid: acc.isValid && fieldState.isValid,\n            };\n\n            return newState;\n        },\n        {\n            isDirty: false,\n            errors: undefined,\n            isValid: true,\n            isTouched: false,\n        }\n    );\n};\n","import { useContext } from 'react';\nimport { FormGroupContext } from './FormGroupContext';\n\n/**\n * Retrieve the name of the form group the consumer belongs to. May be undefined if the consumer is not inside a form group.\n */\nexport const useFormGroupContext = () => {\n    const context = useContext(FormGroupContext);\n    return context;\n};\n","import {\n    ValidationErrorMessage,\n    ValidationErrorMessageWithArgs,\n} from './validate';\nimport { useTranslate } from '../i18n';\n\n/**\n * This internal hook returns a function that can translate an error message.\n * It handles simple string errors and those which have a message and args.\n * Only useful if you are implementing custom inputs without leveraging our useInput hook.\n *\n * @example\n * const MyInput = props => {\n *      const { field, fieldState } = useController(props);\n *      useEffect(() => {\n *          if (fieldState.error) {\n *              const errorMessage = useGetValidationErrorMessage(fieldState.error);\n *              alert(errorMessage);\n *          }\n *      }, [fieldState.error]);\n *\n *      return (\n *          <input {...field} />\n *      );\n * }\n *\n * @see ValidationErrorMessage\n * @see ValidationErrorMessageWithArgs\n */\nexport const useGetValidationErrorMessage = () => {\n    const translate = useTranslate();\n\n    return (error: ValidationErrorMessage) => {\n        if ((error as ValidationErrorMessageWithArgs).message != null) {\n            const { message, args } = error as ValidationErrorMessageWithArgs;\n            return translate(message, { _: message, ...args });\n        }\n        return translate(error as string, { _: error });\n    };\n};\n","import { useEffect } from 'react';\nimport { useFormContext } from 'react-hook-form';\nimport getFormInitialValues from './getFormInitialValues';\n\n/**\n * Restore the record values which should override any default values specified on the form.\n */\nexport const useInitializeFormWithRecord = (defaultValues, record) => {\n    const { reset } = useFormContext();\n\n    useEffect(() => {\n        if (!record) {\n            return;\n        }\n        const initialValues = getFormInitialValues(defaultValues, record);\n        reset(initialValues);\n    }, [reset, JSON.stringify(record, defaultValues)]); // eslint-disable-line react-hooks/exhaustive-deps\n};\n","import { ReactElement, useEffect } from 'react';\nimport {\n    ControllerFieldState,\n    ControllerRenderProps,\n    useController,\n    UseControllerProps,\n    UseControllerReturn,\n    useFormContext,\n    UseFormStateReturn,\n} from 'react-hook-form';\nimport get from 'lodash/get';\n\nimport { useRecordContext } from '../controller';\nimport { composeValidators, Validator } from './validate';\nimport isRequired from './isRequired';\nimport { useFormGroupContext } from './useFormGroupContext';\nimport { useGetValidationErrorMessage } from './useGetValidationErrorMessage';\nimport { useFormGroups } from './useFormGroups';\nimport { useApplyInputDefaultValues } from './useApplyInputDefaultValues';\n\nexport const useInput = (props: InputProps): UseInputValue => {\n    const {\n        defaultValue,\n        format,\n        id,\n        isRequired: isRequiredOption,\n        name,\n        onBlur,\n        onChange,\n        parse,\n        source,\n        validate,\n        ...options\n    } = props;\n    const finalName = name || source;\n    const formGroupName = useFormGroupContext();\n    const formGroups = useFormGroups();\n    const record = useRecordContext();\n    const getValidationErrorMessage = useGetValidationErrorMessage();\n    const formContext = useFormContext();\n\n    useEffect(() => {\n        if (!formGroups || formGroupName == null) {\n            return;\n        }\n\n        formGroups.registerField(source, formGroupName);\n\n        return () => {\n            formGroups.unregisterField(source, formGroupName);\n        };\n    }, [formGroups, formGroupName, source]);\n\n    const sanitizedValidate = Array.isArray(validate)\n        ? composeValidators(validate)\n        : validate;\n\n    // Fetch the defaultValue from the record if available or apply the provided defaultValue.\n    // This ensures dynamically added inputs have their value set correctly (ArrayInput for example).\n    // We don't do this for the form level defaultValues so that it works as it should in react-hook-form\n    // (i.e. field level defaultValue override form level defaultValues for this field).\n    const { field: controllerField, fieldState, formState } = useController({\n        name: finalName,\n        defaultValue: get(record, source, defaultValue),\n        rules: {\n            validate: async value => {\n                if (!sanitizedValidate) return true;\n                const error = await sanitizedValidate(\n                    value,\n                    formContext.getValues(),\n                    props\n                );\n\n                if (!error) return true;\n                return getValidationErrorMessage(error);\n            },\n        },\n        ...options,\n    });\n\n    // Because our forms may receive an asynchronously loaded record for instance,\n    // they may reset their default values which would override the input default value.\n    // This hook ensures that the input default value is applied when a new record is loaded but has\n    // no value for the input.\n    useApplyInputDefaultValues(props);\n\n    const field = {\n        ...controllerField,\n        value: format ? format(controllerField.value) : controllerField.value,\n        onBlur: (...event: any[]) => {\n            if (onBlur) {\n                onBlur(...event);\n            }\n            controllerField.onBlur();\n        },\n        onChange: (...event: any[]) => {\n            if (onChange) {\n                onChange(...event);\n            }\n            const eventOrValue = (typeof event[0]?.target?.checked ===\n                'boolean' && event[0]?.target?.value === 'on'\n                ? event[0].target.checked\n                : event[0]?.target?.value ?? event[0]) as any;\n            controllerField.onChange(\n                parse ? parse(eventOrValue) : eventOrValue\n            );\n        },\n    };\n\n    return {\n        id: id || source,\n        field,\n        fieldState,\n        formState,\n        isRequired: isRequiredOption || isRequired(validate),\n    };\n};\n\nexport type InputProps<ValueType = any> = Omit<\n    UseControllerProps,\n    'name' | 'defaultValue' | 'rules'\n> &\n    Partial<UseControllerReturn> & {\n        alwaysOn?: any;\n        defaultValue?: any;\n        format?: (value: ValueType) => any;\n        id?: string;\n        isRequired?: boolean;\n        label?: string | ReactElement | false;\n        helperText?: string | ReactElement | false;\n        name?: string;\n        onBlur?: (...event: any[]) => void;\n        onChange?: (...event: any[]) => void;\n        parse?: (value: any) => ValueType;\n        resource?: string;\n        source: string;\n        validate?: Validator | Validator[];\n    };\n\nexport type UseInputValue = {\n    id: string;\n    isRequired: boolean;\n    field: ControllerRenderProps;\n    formState: UseFormStateReturn<Record<string, string>>;\n    fieldState: ControllerFieldState;\n};\n","const isRequired = validate => {\n    if (validate && validate.isRequired) {\n        return true;\n    }\n    if (Array.isArray(validate)) {\n        return validate.some(it => it.isRequired);\n    }\n    return false;\n};\n\nexport default isRequired;\n","import { useCallback, isValidElement, ReactElement } from 'react';\nimport set from 'lodash/set';\nimport { useChoices, OptionText, UseChoicesOptions } from './useChoices';\nimport { useTranslate } from '../i18n';\n\n/*\n * Returns helper functions for suggestions handling.\n *\n * @param allowDuplicates A boolean indicating whether a suggestion can be added several times\n * @param choices An array of available choices\n * @param emptyText The text to use for the empty suggestion. Defaults to an empty string\n * @param emptyValue The value to use for the empty suggestion. Defaults to `null`\n * @param limitChoicesToValue A boolean indicating whether the initial suggestions should be limited to the currently selected one(s)\n * @param matchSuggestion Optional unless `optionText` is a React element. Function which check whether a choice matches a filter. Must return a boolean.\n * @param optionText Either a string defining the property to use to get the choice text, a function or a React element\n * @param optionValue The property to use to get the choice value\n * @param selectedItem The currently selected item. May be an array of selected items\n * @param suggestionLimit The maximum number of suggestions returned\n * @param translateChoice A boolean indicating whether to option text should be translated\n *\n * @returns An object with helper functions:\n * - getChoiceText: Returns the choice text or a React element\n * - getChoiceValue: Returns the choice value\n * - getSuggestions: A function taking a filter value (string) and returning the matching suggestions\n */\nexport const useSuggestions = ({\n    allowCreate,\n    choices,\n    createText = 'ra.action.create',\n    createValue = '@@create',\n    emptyText = '',\n    emptyValue = null,\n    limitChoicesToValue,\n    matchSuggestion,\n    optionText,\n    optionValue,\n    selectedItem,\n    suggestionLimit = 0,\n    translateChoice,\n}: UseSuggestionsOptions) => {\n    const translate = useTranslate();\n    const { getChoiceText, getChoiceValue } = useChoices({\n        optionText,\n        optionValue,\n        translateChoice,\n    });\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    const getSuggestions = useCallback(\n        getSuggestionsFactory({\n            allowCreate,\n            choices,\n            createText,\n            createValue,\n            emptyText: translate(emptyText, { _: emptyText }),\n            emptyValue,\n            getChoiceText,\n            getChoiceValue,\n            limitChoicesToValue,\n            matchSuggestion,\n            optionText,\n            optionValue,\n            selectedItem,\n            suggestionLimit,\n        }),\n        [\n            allowCreate,\n            choices,\n            createText,\n            createValue,\n            emptyText,\n            emptyValue,\n            getChoiceText,\n            getChoiceValue,\n            limitChoicesToValue,\n            matchSuggestion,\n            optionText,\n            optionValue,\n            selectedItem,\n            suggestionLimit,\n            translate,\n        ]\n    );\n\n    return {\n        getChoiceText,\n        getChoiceValue,\n        getSuggestions,\n    };\n};\n\nconst escapeRegExp = value =>\n    value ? value.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&') : ''; // $& means the whole matched string\n\nexport interface UseSuggestionsOptions extends UseChoicesOptions {\n    allowCreate?: boolean;\n    allowDuplicates?: boolean;\n    choices: any[];\n    createText?: string;\n    createValue?: any;\n    emptyText?: string;\n    emptyValue?: any;\n    limitChoicesToValue?: boolean;\n    matchSuggestion?: (\n        filter: string,\n        suggestion: any,\n        exact?: boolean\n    ) => boolean;\n    suggestionLimit?: number;\n    selectedItem?: any | any[];\n}\n\n/**\n * Default matcher implementation which check whether the suggestion text matches the filter.\n */\nconst defaultMatchSuggestion = getChoiceText => (\n    filter,\n    suggestion,\n    exact = false\n) => {\n    const suggestionText = getChoiceText(suggestion);\n\n    const isReactElement = isValidElement(suggestionText);\n    const regex = escapeRegExp(filter);\n\n    return isReactElement\n        ? false\n        : suggestionText &&\n              !!suggestionText.match(\n                  // We must escape any RegExp reserved characters to avoid errors\n                  // For example, the filter might contain * which must be escaped as \\*\n                  new RegExp(exact ? `^${regex}$` : regex, 'i')\n              );\n};\n\n/**\n * Get the suggestions to display after applying a fuzzy search on the available choices\n *\n * @example\n *\n * getSuggestions({\n *   choices: [{ id: 1, name: 'admin' }, { id: 2, name: 'publisher' }],\n *   optionText: 'name',\n *   optionValue: 'id',\n *   getSuggestionText: choice => choice[optionText],\n * })('pub')\n *\n * // Will return [{ id: 2, name: 'publisher' }]\n * getSuggestions({\n *   choices: [{ id: 1, name: 'admin' }, { id: 2, name: 'publisher' }],\n *   optionText: 'name',\n *   optionValue: 'id',\n *   getSuggestionText: choice => choice[optionText],\n * })('pub')\n *\n * // Will return [{ id: 2, name: 'publisher' }]\n */\nexport const getSuggestionsFactory = ({\n    allowCreate = false,\n    choices = [],\n    createText = 'ra.action.create',\n    createValue = '@@create',\n    emptyText = '',\n    emptyValue = null,\n    optionText = 'name',\n    optionValue = 'id',\n    getChoiceText,\n    getChoiceValue,\n    limitChoicesToValue = false,\n    matchSuggestion = defaultMatchSuggestion(getChoiceText),\n    selectedItem,\n    suggestionLimit = 0,\n}: UseSuggestionsOptions & {\n    getChoiceText: (choice: any) => string | ReactElement;\n    getChoiceValue: (choice: any) => string;\n}) => filter => {\n    let suggestions = [];\n    // if an item is selected and matches the filter\n    if (\n        selectedItem &&\n        !Array.isArray(selectedItem) &&\n        matchSuggestion(filter, selectedItem)\n    ) {\n        if (limitChoicesToValue) {\n            // display only the selected item\n            suggestions = choices.filter(\n                choice =>\n                    getChoiceValue(choice) === getChoiceValue(selectedItem)\n            );\n        } else {\n            suggestions = [...choices];\n        }\n    } else {\n        suggestions = choices.filter(\n            choice =>\n                matchSuggestion(filter, choice) ||\n                (selectedItem != null &&\n                    (!Array.isArray(selectedItem)\n                        ? getChoiceValue(choice) ===\n                          getChoiceValue(selectedItem)\n                        : selectedItem.some(\n                              selected =>\n                                  getChoiceValue(choice) ===\n                                  getChoiceValue(selected)\n                          )))\n        );\n    }\n\n    suggestions = limitSuggestions(suggestions, suggestionLimit);\n\n    const hasExactMatch = suggestions.some(suggestion =>\n        matchSuggestion(filter, suggestion, true)\n    );\n\n    if (allowCreate) {\n        const filterIsSelectedItem =\n            // If the selectedItem is an array (for example AutocompleteArrayInput)\n            // we shouldn't try to match\n            !!selectedItem && !Array.isArray(selectedItem)\n                ? matchSuggestion(filter, selectedItem, true)\n                : false;\n        if (!hasExactMatch && !filterIsSelectedItem) {\n            suggestions.push(\n                getSuggestion({\n                    optionText,\n                    optionValue,\n                    text: createText,\n                    value: createValue,\n                })\n            );\n        }\n    }\n\n    // Only keep unique items. Necessary because we might have fetched\n    // the currently selected choice in addition of the possible choices\n    // that may also contain it\n    const result = suggestions.filter(\n        (suggestion, index) => suggestions.indexOf(suggestion) === index\n    );\n    return result;\n};\n\n/**\n * @example\n *\n * limitSuggestions(\n *  [{ id: 1, name: 'foo'}, { id: 2, name: 'bar' }],\n *  1\n * );\n *\n * // Will return [{ id: 1, name: 'foo' }]\n *\n * @param suggestions List of suggestions\n * @param limit\n */\nconst limitSuggestions = (suggestions: any[], limit: any = 0) =>\n    Number.isInteger(limit) && limit > 0\n        ? suggestions.slice(0, limit)\n        : suggestions;\n\n/**\n * addSuggestion(\n *  [{ id: 1, name: 'foo'}, { id: 2, name: 'bar' }],\n * );\n *\n * // Will return [{ id: null, name: '' }, { id: 1, name: 'foo' }, , { id: 2, name: 'bar' }]\n *\n * @param suggestions List of suggestions\n * @param options\n * @param options.optionText\n */\nconst getSuggestion = ({\n    optionText = 'name',\n    optionValue = 'id',\n    text = '',\n    value = null,\n}: {\n    optionText: OptionText;\n    optionValue: string;\n    text: string;\n    value: any;\n}) => {\n    const suggestion = {};\n    set(suggestion, optionValue, value);\n    if (typeof optionText === 'string') {\n        set(suggestion, optionText, text);\n    }\n\n    return suggestion;\n};\n","import { ReactNode, ReactElement, ComponentType } from 'react';\n\nimport { WithPermissionsChildrenParams } from './auth/WithPermissions';\nimport { AuthActionType } from './auth/types';\n\n/**\n * data types\n */\n\nexport type Identifier = string | number;\n\nexport interface RaRecord {\n    id: Identifier;\n    [key: string]: any;\n}\n\nexport interface SortPayload {\n    field: string;\n    order: string;\n}\nexport interface FilterPayload {\n    [k: string]: any;\n}\nexport interface PaginationPayload {\n    page: number;\n    perPage: number;\n}\nexport type ValidUntil = Date;\n/**\n * i18nProvider types\n */\n\nexport const I18N_TRANSLATE = 'I18N_TRANSLATE';\nexport const I18N_CHANGE_LOCALE = 'I18N_CHANGE_LOCALE';\n\nexport type Translate = (key: string, options?: any) => string;\n\nexport type I18nProvider = {\n    translate: Translate;\n    changeLocale: (locale: string, options?: any) => Promise<void>;\n    getLocale: () => string;\n    [key: string]: any;\n};\n\nexport interface UserIdentity {\n    id: Identifier;\n    fullName?: string;\n    avatar?: string;\n    [key: string]: any;\n}\n\n/**\n * authProvider types\n */\nexport type AuthProvider = {\n    login: (params: any) => Promise<any>;\n    logout: (params: any) => Promise<void | false | string>;\n    checkAuth: (params: any) => Promise<void>;\n    checkError: (error: any) => Promise<void>;\n    getIdentity?: () => Promise<UserIdentity>;\n    getPermissions: (params: any) => Promise<any>;\n    getRoles?: () => Promise<any>;\n    [key: string]: any;\n};\n\nexport type LegacyAuthProvider = (\n    type: AuthActionType,\n    params?: any\n) => Promise<any>;\n\n/**\n * dataProvider types\n */\n\nexport type DataProvider<ResourceType extends string = string> = {\n    getList: <RecordType extends RaRecord = any>(\n        resource: ResourceType,\n        params: GetListParams\n    ) => Promise<GetListResult<RecordType>>;\n\n    getOne: <RecordType extends RaRecord = any>(\n        resource: ResourceType,\n        params: GetOneParams\n    ) => Promise<GetOneResult<RecordType>>;\n\n    getMany: <RecordType extends RaRecord = any>(\n        resource: ResourceType,\n        params: GetManyParams\n    ) => Promise<GetManyResult<RecordType>>;\n\n    getManyReference: <RecordType extends RaRecord = any>(\n        resource: ResourceType,\n        params: GetManyReferenceParams\n    ) => Promise<GetManyReferenceResult<RecordType>>;\n\n    update: <RecordType extends RaRecord = any>(\n        resource: ResourceType,\n        params: UpdateParams\n    ) => Promise<UpdateResult<RecordType>>;\n\n    updateMany: <RecordType extends RaRecord = any>(\n        resource: ResourceType,\n        params: UpdateManyParams\n    ) => Promise<UpdateManyResult<RecordType>>;\n\n    create: <RecordType extends RaRecord = any>(\n        resource: ResourceType,\n        params: CreateParams\n    ) => Promise<CreateResult<RecordType>>;\n\n    delete: <RecordType extends RaRecord = any>(\n        resource: ResourceType,\n        params: DeleteParams<RecordType>\n    ) => Promise<DeleteResult<RecordType>>;\n\n    deleteMany: <RecordType extends RaRecord = any>(\n        resource: ResourceType,\n        params: DeleteManyParams<RecordType>\n    ) => Promise<DeleteManyResult<RecordType>>;\n\n    [key: string]: any;\n};\n\nexport interface GetListParams {\n    pagination: PaginationPayload;\n    sort: SortPayload;\n    filter: any;\n    meta?: any;\n}\nexport interface GetListResult<RecordType extends RaRecord = any> {\n    data: RecordType[];\n    total?: number;\n    pageInfo?: {\n        hasNextPage?: boolean;\n        hasPreviousPage?: boolean;\n    };\n}\n\nexport interface GetOneParams<RecordType extends RaRecord = any> {\n    id: RecordType['id'];\n    meta?: any;\n}\nexport interface GetOneResult<RecordType extends RaRecord = any> {\n    data: RecordType;\n}\n\nexport interface GetManyParams {\n    ids: Identifier[];\n    meta?: any;\n}\nexport interface GetManyResult<RecordType extends RaRecord = any> {\n    data: RecordType[];\n}\n\nexport interface GetManyReferenceParams {\n    target: string;\n    id: Identifier;\n    pagination: PaginationPayload;\n    sort: SortPayload;\n    filter: any;\n    meta?: any;\n}\nexport interface GetManyReferenceResult<RecordType extends RaRecord = any> {\n    data: RecordType[];\n    total?: number;\n    pageInfo?: {\n        hasNextPage?: boolean;\n        hasPreviousPage?: boolean;\n    };\n}\n\nexport interface UpdateParams<T = any> {\n    id: Identifier;\n    data: Partial<T>;\n    previousData: T;\n    meta?: any;\n}\nexport interface UpdateResult<RecordType extends RaRecord = any> {\n    data: RecordType;\n}\n\nexport interface UpdateManyParams<T = any> {\n    ids: Identifier[];\n    data: T;\n    meta?: any;\n}\nexport interface UpdateManyResult<RecordType extends RaRecord = any> {\n    data?: RecordType['id'][];\n}\n\nexport interface CreateParams<T = any> {\n    data: T;\n    meta?: any;\n}\nexport interface CreateResult<RecordType extends RaRecord = any> {\n    data: RecordType;\n}\n\nexport interface DeleteParams<RecordType extends RaRecord = any> {\n    id: Identifier;\n    previousData?: RecordType;\n    meta?: any;\n}\nexport interface DeleteResult<RecordType extends RaRecord = any> {\n    data: RecordType;\n}\n\nexport interface DeleteManyParams<RecordType extends RaRecord = any> {\n    ids: RecordType['id'][];\n    meta?: any;\n}\nexport interface DeleteManyResult<RecordType extends RaRecord = any> {\n    data?: RecordType['id'][];\n}\n\nexport type DataProviderResult<RecordType extends RaRecord = any> =\n    | CreateResult<RecordType>\n    | DeleteResult<RecordType>\n    | DeleteManyResult\n    | GetListResult<RecordType>\n    | GetManyResult<RecordType>\n    | GetManyReferenceResult<RecordType>\n    | GetOneResult<RecordType>\n    | UpdateResult<RecordType>\n    | UpdateManyResult;\n\nexport type MutationMode = 'pessimistic' | 'optimistic' | 'undoable';\nexport type OnSuccess = (\n    response?: any,\n    variables?: any,\n    context?: any\n) => void;\nexport type onError = (error?: any, variables?: any, context?: any) => void;\nexport type TransformData = (\n    data: any,\n    options?: { previousData: any }\n) => any | Promise<any>;\n\nexport interface UseDataProviderOptions {\n    action?: string;\n    fetch?: string;\n    meta?: object;\n    mutationMode?: MutationMode;\n    onSuccess?: OnSuccess;\n    onError?: onError;\n    enabled?: boolean;\n}\n\nexport type LegacyDataProvider = (\n    type: string,\n    resource: string,\n    params: any\n) => Promise<any>;\n\nexport interface ResourceDefinition {\n    readonly name: string;\n    readonly options?: any;\n    readonly hasList?: boolean;\n    readonly hasEdit?: boolean;\n    readonly hasShow?: boolean;\n    readonly hasCreate?: boolean;\n    readonly icon?: any;\n}\n\n/**\n * Misc types\n */\n\nexport type Dispatch<T> = T extends (...args: infer A) => any\n    ? (...args: A) => void\n    : never;\n\nexport type ResourceElement = ReactElement<ResourceProps>;\nexport type RenderResourcesFunction = (\n    permissions: any\n) => ResourceElement[] | Promise<ResourceElement[]>;\nexport type AdminChildren = RenderResourcesFunction | ReactNode;\n\nexport type TitleComponent = string | ReactElement<any>;\nexport type CatchAllComponent = ComponentType<{ title?: TitleComponent }>;\n\nexport type LoginComponent = ComponentType<{}> | ReactElement<any>;\nexport type DashboardComponent = ComponentType<WithPermissionsChildrenParams>;\n\nexport interface CoreLayoutProps {\n    children?: ReactNode;\n    dashboard?: DashboardComponent;\n    menu?: ComponentType<{\n        hasDashboard?: boolean;\n    }>;\n    title?: TitleComponent;\n}\n\nexport type LayoutComponent = ComponentType<CoreLayoutProps>;\nexport type LoadingComponent = ComponentType<{\n    loadingPrimary?: string;\n    loadingSecondary?: string;\n}>;\n\nexport interface ResourceComponentInjectedProps {\n    permissions?: any;\n    resource?: string;\n    options?: any;\n    hasList?: boolean;\n    hasEdit?: boolean;\n    hasShow?: boolean;\n    hasCreate?: boolean;\n}\n\nexport interface ResourceOptions {\n    label?: string;\n    [key: string]: any;\n}\n\nexport interface ResourceProps {\n    intent?: 'route' | 'registration';\n    name: string;\n    list?: ComponentType<any> | ReactElement;\n    create?: ComponentType<any> | ReactElement;\n    edit?: ComponentType<any> | ReactElement;\n    show?: ComponentType<any> | ReactElement;\n    icon?: ComponentType<any>;\n    options?: ResourceOptions;\n}\n\nexport type Exporter = (\n    data: any,\n    fetchRelatedRecords: (\n        data: any,\n        field: string,\n        resource: string\n    ) => Promise<any>,\n    dataProvider: DataProvider,\n    resource?: string\n) => void | Promise<void>;\n\nexport type SetOnSave = (\n    onSave?: (values: object, redirect: any) => void\n) => void;\n\nexport type FormFunctions = {\n    setOnSave?: SetOnSave;\n};\n"]},"metadata":{},"sourceType":"module"}