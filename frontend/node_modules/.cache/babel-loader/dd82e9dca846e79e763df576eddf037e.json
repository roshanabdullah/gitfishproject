{"ast":null,"code":"import _defineProperty from\"D:/myFishProject/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"D:/myFishProject/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"D:/myFishProject/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import{useNavigate}from\"react-router-dom\";import{transitions,positions}from'react-alert';import{useAlert}from\"react-alert\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Account(){var alert=useAlert();var navigate=useNavigate();var initialValues={first_name:\"\",email:\"\",password:\"\"};var _useState=useState(initialValues),_useState2=_slicedToArray(_useState,2),formValues=_useState2[0],setFormValues=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),formErrors=_useState4[0],setFormErrors=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isSubmit=_useState6[0],setIsSubmit=_useState6[1];var accountAlert={position:positions.TOP_MIDDLE,timeout:5000,offset:'30px',transition:transitions.SCALE};var handleChange=function handleChange(e){e.preventDefault();var _e$target=e.target,name=_e$target.name,value=_e$target.value;setFormValues(_objectSpread(_objectSpread({},formValues),{},_defineProperty({},name,value)));console.log(formValues);};var handleSubmit=function handleSubmit(e){e.preventDefault();setFormErrors(validate(formValues));setIsSubmit(true);var data={first_name:formValues.first_name,email:formValues.email,password:formValues.password};fetch('http://127.0.0.1:8000/users/',{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(data)}).then(function(res){console.log(res.data);navigate('/gitfishproject',{replace:true});}).catch(function(err){alert.show(\"Account Creation Failed\",_objectSpread({},accountAlert));});};useEffect(function(){console.log(formErrors);if(Object.keys(formErrors).length===0&&isSubmit){console.log(formValues);}},[formErrors,formValues,isSubmit]);var validate=function validate(values){var errors={};var regex=/^[^\\s@]+@[^\\s@]+\\.[^\\s@]{2,}$/;if(!values.first_name){errors.first_name=\"Username is required!\";}if(!values.email){errors.email=\"Email is required!\";}else if(!regex.test(values.email)){errors.email=\"This is not a valid email format!\";}if(!values.password){errors.password=\"Password is required\";}else if(values.password.length<4){errors.password=\"Password must be more than 4 characters\";}else if(values.password.length>20){errors.password=\"Password cannot exceed more than 10 characters\";}return errors;};var alreadyAccount=function alreadyAccount(e){e.preventDefault();navigate('gitfishproject/LoginAccount',{replace:true});};return/*#__PURE__*/_jsx(\"section\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"Container\",children:[/*#__PURE__*/_jsx(\"button\",{id:\"alreadyButton\",onClick:alreadyAccount,children:\"Already have an account?\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"inner-box\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"acc-row1\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"accHeading\",children:\"Create An Account Here...\"}),/*#__PURE__*/_jsx(\"p\",{className:\"accParaDetail\",children:\"Enter your details below to create an account for free\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"createAccForm\",children:[Object.keys(formErrors).length===0&&isSubmit?/*#__PURE__*/_jsx(\"div\",{className:\"message\",children:\"Account Created\"}):/*#__PURE__*/_jsx(\"pre\",{children:JSON.stringify(undefined,2)}),/*#__PURE__*/_jsxs(\"form\",{className:\"accFormClass\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"username\",name:\"first_name\",placeholder:\"Enter Your Username\",value:formValues.first_name,onChange:handleChange}),/*#__PURE__*/_jsx(\"p\",{className:\"errorsClass\",children:formErrors.first_name}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",id:\"email\",name:\"email\",placeholder:\"Enter Your Email\",value:formValues.email,onChange:handleChange}),/*#__PURE__*/_jsx(\"p\",{className:\"errorsClass\",children:formErrors.email}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"password\",name:\"password\",placeholder:\"Enter Your Password\",value:formValues.password,onChange:handleChange}),/*#__PURE__*/_jsx(\"p\",{className:\"errorsClass\",children:formErrors.password}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSubmit,className:\"accRegisterButton\",children:\"Submit\"})]})]})]})]})});}export default Account;","map":{"version":3,"sources":["D:/myFishProject/frontend/src/components/Accountpage.js"],"names":["React","useState","useEffect","useNavigate","transitions","positions","useAlert","Account","alert","navigate","initialValues","first_name","email","password","formValues","setFormValues","formErrors","setFormErrors","isSubmit","setIsSubmit","accountAlert","position","TOP_MIDDLE","timeout","offset","transition","SCALE","handleChange","e","preventDefault","target","name","value","console","log","handleSubmit","validate","data","fetch","method","headers","body","JSON","stringify","then","res","replace","catch","err","show","Object","keys","length","values","errors","regex","test","alreadyAccount","undefined"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from \"react\";\r\nimport {useNavigate} from \"react-router-dom\";\r\nimport {transitions, positions} from 'react-alert';\r\nimport {useAlert} from \"react-alert\";\r\n\r\n\r\n\r\n\r\n\r\nfunction Account(){\r\n    \r\n    const alert=useAlert();\r\n    const navigate=useNavigate();\r\n    const initialValues={first_name:\"\", email:\"\", password:\"\"};\r\n    const [formValues, setFormValues]=useState(initialValues);\r\n    const [formErrors, setFormErrors]=useState({});\r\n    const [isSubmit, setIsSubmit]=useState(false);\r\n    \r\n    const accountAlert={\r\n        position: positions.TOP_MIDDLE,\r\n        timeout: 5000,\r\n        offset: '30px',\r\n \r\n        transition: transitions.SCALE\r\n    }\r\n\r\n\r\n    const handleChange=(e)=>{\r\n        e.preventDefault();\r\n        const {name, value}=e.target;\r\n        setFormValues({...formValues, [name]:value});\r\n        console.log(formValues);\r\n    };\r\n    \r\n    const handleSubmit=(e)=>{\r\n        \r\n        e.preventDefault();\r\n        setFormErrors(validate(formValues));\r\n        setIsSubmit(true);\r\n            const data={ first_name:formValues.first_name,\r\n            email:formValues.email, password:formValues.password}\r\n            fetch('http://127.0.0.1:8000/users/', {\r\n                method:\"POST\",\r\n                headers: {\"Content-Type\":\"application/json\"},\r\n                body: JSON.stringify(data),\r\n                \r\n            }).then((res)=> {\r\n                console.log(res.data);\r\n                navigate('/gitfishproject', {replace:true})\r\n            }).catch((err)=>{\r\n                alert.show(\"Account Creation Failed\", {...accountAlert});\r\n            }) \r\n        }\r\n    \r\n    useEffect(() => {\r\n        console.log(formErrors);\r\n        if (Object.keys(formErrors).length === 0 && isSubmit) {\r\n          console.log(formValues);\r\n        }\r\n        \r\n        }, [formErrors, formValues, isSubmit]);\r\n    \r\n    const validate = (values) => { \r\n        const errors={};\r\n        const regex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]{2,}$/;\r\n        if(!values.first_name){\r\n            errors.first_name=\"Username is required!\";\r\n            \r\n        }\r\n        if(!values.email){\r\n            errors.email=\"Email is required!\"; \r\n        } else if (!regex.test(values.email)) {\r\n            errors.email = \"This is not a valid email format!\";\r\n            \r\n        }\r\n        if(!values.password){\r\n            errors.password=\"Password is required\";\r\n        } else if (values.password.length < 4) {\r\n            errors.password = \"Password must be more than 4 characters\";\r\n        } else if (values.password.length > 20) {\r\n            errors.password = \"Password cannot exceed more than 10 characters\";\r\n        }\r\n        \r\n        \r\n        \r\n        \r\n        return errors;\r\n    };\r\n    const alreadyAccount=(e)=>{\r\n        e.preventDefault();\r\n        navigate('gitfishproject/LoginAccount', {replace:true});\r\n    }\r\n    \r\n    return(\r\n        \r\n        \r\n\r\n        <section>\r\n            \r\n            <div className=\"Container\">\r\n                <button id=\"alreadyButton\" onClick={alreadyAccount}>Already have an account?</button> \r\n                    <div className=\"inner-box\">\r\n                        <div className=\"acc-row1\">\r\n                            <h1 className=\"accHeading\">Create An Account Here...</h1>\r\n                            <p className=\"accParaDetail\">Enter your details below to create an account for free</p>\r\n                        </div>\r\n                            \r\n                        <div className=\"createAccForm\">\r\n                        {Object.keys(formErrors).length === 0 && isSubmit ? (\r\n                            <div className=\"message\">Account Created</div>\r\n                        \r\n                        ) : (\r\n                            <pre>{JSON.stringify(undefined, 2)}</pre>\r\n                        )}\r\n                        \r\n                        <form  className=\"accFormClass\">\r\n                                \r\n                                <input type=\"text\" id=\"username\" name=\"first_name\"  \r\n                                placeholder=\"Enter Your Username\"   value={formValues.first_name} onChange={handleChange}  />\r\n                                \r\n                                \r\n                                <p className=\"errorsClass\">{formErrors.first_name}</p>\r\n                                \r\n                                \r\n                                    \r\n                                \r\n                                \r\n                                    <input type=\"email\"  id=\"email\"\r\n                                    name=\"email\"  placeholder=\"Enter Your Email\"  \r\n                                    value={formValues.email} onChange={handleChange} />\r\n                                \r\n                                \r\n                                <p className=\"errorsClass\">{formErrors.email}</p> \r\n                                \r\n                                <input type=\"password\"  id=\"password\"\r\n                                    name=\"password\"  placeholder=\"Enter Your Password\"  \r\n                                    value={formValues.password} onChange={handleChange} />\r\n                                \r\n                                \r\n                                <p className=\"errorsClass\">{formErrors.password}</p>\r\n                                \r\n                                \r\n                                <button onClick={handleSubmit}  className=\"accRegisterButton\">Submit</button>\r\n                        </form>\r\n                            \r\n                    </div>\r\n                </div>\r\n            </div> \r\n    </section>\r\n            \r\n        \r\n            \r\n);\r\n    \r\n}\r\nexport default Account;"]},"metadata":{},"sourceType":"module"}