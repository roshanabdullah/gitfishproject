{"ast":null,"code":"import _slicedToArray from\"D:/myFishProject/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _defineProperty from\"D:/myFishProject/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"D:/myFishProject/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React from\"react\";import{useCart}from\"react-use-cart\";import{useState}from\"react\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Cart(){var navigate=useNavigate();var user_id=localStorage.getItem(\"User_ID\");var changeCheckout=function changeCheckout(e){e.preventDefault();var _e$target=e.target,name=_e$target.name,value=_e$target.value;setCheckoutData(_objectSpread(_objectSpread({},checkoutData),{},_defineProperty({},name,value)));console.log(checkoutData);};var handleCheckout=function handleCheckout(e){e.preventDefault();var main_data={notes:checkoutData.notes,user:user_id,quantity:totalItems,item:totalUniqueItems};var authCheckout=JSON.parse(localStorage.getItem('authToken'));fetch('http://127.0.0.1:8000/cart/',{method:\"POST\",headers:{'Authorization':\"token \".concat(authCheckout),'Content-Type':'application/json','Accept':'application/json'},body:JSON.stringify(main_data)}).then(function(res){console.log(res.data);navigate('/Cart/Checkout',{replace:false});});};var emptyback=function emptyback(e){e.preventDefault();navigate('/',{replace:true});};var _useCart=useCart(),isEmpty=_useCart.isEmpty,totalUniqueItems=_useCart.totalUniqueItems,updateItemQuantity=_useCart.updateItemQuantity,items=_useCart.items,removeItem=_useCart.removeItem,totalItems=_useCart.totalItems,cartTotal=_useCart.cartTotal;var delivery=cartTotal+2.5;var VAT=parseFloat(delivery*0.05).toFixed(2);var totalAmount=parseFloat(delivery+VAT).toFixed(2);var checkoutValues={notes:\"\"};var _useState=useState(checkoutValues),_useState2=_slicedToArray(_useState,2),checkoutData=_useState2[0],setCheckoutData=_useState2[1];var addMore=function addMore(e){e.preventDefault();navigate('/',{replace:true});};if(isEmpty)return/*#__PURE__*/_jsxs(\"div\",{className:\"emptyDiv\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"emptyCart\",children:\"Your Cart is Empty\"}),/*#__PURE__*/_jsx(\"button\",{className:\"emptyBackButton\",onClick:emptyback,children:\"Go Back\"})]});return/*#__PURE__*/_jsx(\"section\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"mainSection\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:addMore,id:\"addMore\",children:\"Add more items!\"}),/*#__PURE__*/_jsx(\"h1\",{className:\"shoppingHeading\",children:\"Shopping Cart\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"paraShoppingHeading\",children:[\"You have \",totalItems,\" items in your shopping cart\"]}),items.map(function(item){return/*#__PURE__*/_jsxs(\"div\",{className:\"cartRow\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"img\",{className:\"cartImage\",src:item.img,alt:\"\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"cartName\",children:item.name}),/*#__PURE__*/_jsx(\"h3\",{className:\"cartArab\",children:item.arab})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"ul\",{children:/*#__PURE__*/_jsxs(\"li\",{children:[item.quantity,\"*\",item.name,\" \\u2014\",/*#__PURE__*/_jsx(\"button\",{className:\"updateButton\",onClick:function onClick(){return updateItemQuantity(item.id,item.quantity-1);},children:\"-\"}),/*#__PURE__*/_jsx(\"button\",{className:\"updateButton\",onClick:function onClick(){return updateItemQuantity(item.id,item.quantity+1);},children:\"+\"}),/*#__PURE__*/_jsx(\"button\",{className:\"updateButton\",onClick:function onClick(){return removeItem(item.id);},children:\"\\xD7\"})]})})})]},item.id);}),/*#__PURE__*/_jsxs(\"div\",{className:\"cartRow2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"cartRow3\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"paymentHeading\",children:\"Payment Summary\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"paymentSummary\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Items Price Total: \",/*#__PURE__*/_jsxs(\"mark\",{children:[cartTotal,\"BD\"]})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Delivery Fee: \",/*#__PURE__*/_jsxs(\"mark\",{children:[delivery,\"BD\"]}),\" \"]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"VAT Fee: \",/*#__PURE__*/_jsxs(\"mark\",{children:[VAT,\"BD\"]})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Your Final Amount is: \",/*#__PURE__*/_jsxs(\"mark\",{children:[totalAmount,\"BD\"]})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"cartRow4\",children:/*#__PURE__*/_jsx(\"button\",{id:\"checkoutButton\",onClick:handleCheckout,children:\"Proceed to Checkout\"})}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"div\",{className:\"note\",children:/*#__PURE__*/_jsx(\"form\",{children:/*#__PURE__*/_jsxs(\"label\",{children:[\"Leave a note here\",/*#__PURE__*/_jsx(\"input\",{className:\"noteInput\",type:\"text\",id:\"noteID\",onChange:changeCheckout,name:\"notes\",value:checkoutData.notes})]})})})]})]})});}export default Cart;","map":{"version":3,"sources":["D:/myFishProject/frontend/src/components/Addcart.js"],"names":["React","useCart","useState","useNavigate","Cart","navigate","user_id","localStorage","getItem","changeCheckout","e","preventDefault","target","name","value","setCheckoutData","checkoutData","console","log","handleCheckout","main_data","notes","user","quantity","totalItems","item","totalUniqueItems","authCheckout","JSON","parse","fetch","method","headers","body","stringify","then","res","data","replace","emptyback","isEmpty","updateItemQuantity","items","removeItem","cartTotal","delivery","VAT","parseFloat","toFixed","totalAmount","checkoutValues","addMore","map","img","arab","id"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { useCart } from \"react-use-cart\";\r\nimport {  useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\n\r\n\r\nfunction Cart(){\r\n    \r\n    const navigate=useNavigate();\r\n        \r\n    const user_id=localStorage.getItem(\"User_ID\");\r\n   \r\n    \r\n\r\n    \r\n   \r\n   const changeCheckout=(e)=>{\r\n       e.preventDefault();\r\n       const {name, value}=e.target;\r\n       setCheckoutData({...checkoutData, [name]:value});\r\n       console.log(checkoutData);\r\n   }\r\n  \r\n    \r\n   const handleCheckout=(e)=>{\r\n       e.preventDefault();\r\n       const main_data={notes:checkoutData.notes, user:user_id, quantity:totalItems, item:totalUniqueItems}\r\n         \r\n        \r\n       const authCheckout=JSON.parse(localStorage.getItem('authToken'));\r\n       \r\n       fetch('http://127.0.0.1:8000/cart/', {\r\n        method:\"POST\",\r\n        headers:{\r\n            'Authorization': `token ${authCheckout}`,\r\n            'Content-Type':'application/json',\r\n            'Accept':'application/json'\r\n        },\r\n        body:JSON.stringify(main_data),\r\n       } ).then((res)=>{\r\n            console.log(res.data);\r\n            navigate('/Cart/Checkout', {replace:false})   \r\n        })\r\n\r\n        \r\n        \r\n   } \r\n   \r\n   const emptyback=(e)=>{\r\n       e.preventDefault();\r\n       navigate('/', {replace:true});\r\n\r\n   }\r\n   \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n   \r\n\r\n    \r\n    const {\r\n        isEmpty,\r\n        totalUniqueItems,\r\n        updateItemQuantity,\r\n        items,\r\n        removeItem,\r\n        totalItems,\r\n        cartTotal,\r\n    } = useCart();\r\n    const delivery=cartTotal+2.5;\r\n    const VAT=parseFloat(delivery*0.05).toFixed(2);\r\n    const totalAmount=parseFloat(delivery+VAT).toFixed(2);\r\n    \r\n    const checkoutValues={notes:\"\"};\r\n    let [checkoutData, setCheckoutData]=useState(checkoutValues);\r\n    const addMore=(e)=>{\r\n        e.preventDefault();\r\n        navigate('/', {replace:true});\r\n    }\r\n    \r\n    \r\n    \r\n             \r\n    \r\n\r\n   \r\n   \r\n  \r\n    \r\n    if(isEmpty) return <div className=\"emptyDiv\">\r\n        <h1 className=\"emptyCart\">Your Cart is Empty</h1>\r\n        <button className=\"emptyBackButton\" onClick={emptyback}>Go Back</button>\r\n    </div>  \r\n    return(\r\n        \r\n        <section>\r\n            \r\n            <div className=\"mainSection\">\r\n            <button onClick={addMore} id=\"addMore\">Add more items!</button>\r\n            <h1 className=\"shoppingHeading\">Shopping Cart</h1>\r\n            <p className=\"paraShoppingHeading\">You have {totalItems} items in your shopping cart</p>   \r\n               {items.map((item) =>\r\n                    <div className=\"cartRow\" key={item.id} >\r\n                        <div>\r\n                            <img className=\"cartImage\" src={item.img} alt=\"\" />\r\n                        </div>\r\n                        <div>\r\n                            <h3 className=\"cartName\">{item.name}</h3>\r\n                            <h3 className=\"cartArab\">{item.arab}</h3>\r\n                        </div>\r\n                        <div>\r\n                            <ul>\r\n                                <li>\r\n                                    {item.quantity}*{item.name} &mdash;\r\n                                    \r\n                                    <button className=\"updateButton\" onClick={()=>updateItemQuantity(item.id, item.quantity-1)}>\r\n                                        -\r\n                                    </button>\r\n                                    <button className=\"updateButton\" onClick={()=>updateItemQuantity(item.id, item.quantity+1)}>\r\n                                        +\r\n                                    </button>\r\n                                    <button className=\"updateButton\" onClick={()=>removeItem(item.id)}>\r\n                                        &times;\r\n                                    </button>\r\n                                </li>  \r\n                               \r\n                            </ul>\r\n                        </div>\r\n                        \r\n                    </div>\r\n                )}\r\n                <div className=\"cartRow2\">\r\n                   \r\n                    \r\n                    \r\n                    <div className=\"cartRow3\">\r\n                        <h1 className=\"paymentHeading\">Payment Summary</h1>\r\n                        <div className=\"paymentSummary\">\r\n                            <p>Items Price Total: <mark>{cartTotal}BD</mark></p>\r\n                            <p>Delivery Fee: <mark>{delivery}BD</mark> </p>\r\n                            <p>VAT Fee: <mark>{VAT}BD</mark></p>\r\n                            <p>Your Final Amount is: <mark>{totalAmount}BD</mark></p>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"cartRow4\">\r\n                        <button id=\"checkoutButton\" onClick={handleCheckout}>Proceed to Checkout</button>\r\n                        \r\n                    </div>\r\n                    <hr/>\r\n                    <div className=\"note\">\r\n                        <form>\r\n                        <label>\r\n                            Leave a note here\r\n                            <input className=\"noteInput\" type=\"text\" id=\"noteID\" onChange={changeCheckout} name=\"notes\" value={checkoutData.notes}/>\r\n                        </label> \r\n                        </form>\r\n                    </div>\r\n                    \r\n                    \r\n                </div>\r\n                \r\n\r\n            </div>\r\n        </section>\r\n    )}\r\nexport default Cart;\r\n\r\n"]},"metadata":{},"sourceType":"module"}