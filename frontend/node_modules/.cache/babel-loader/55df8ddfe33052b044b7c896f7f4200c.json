{"ast":null,"code":"import _assertThisInitialized from \"D:/myFishProject/frontend/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";\nimport _inherits from \"D:/myFishProject/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"D:/myFishProject/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nimport _wrapNativeSuper from \"D:/myFishProject/frontend/node_modules/@babel/runtime/helpers/esm/wrapNativeSuper.js\";\nimport _asyncToGenerator from \"D:/myFishProject/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _defineProperty from \"D:/myFishProject/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport _toArray from \"D:/myFishProject/frontend/node_modules/@babel/runtime/helpers/esm/toArray.js\";\nimport _toConsumableArray from \"D:/myFishProject/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _classCallCheck from \"D:/myFishProject/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"D:/myFishProject/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _slicedToArray from \"D:/myFishProject/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _createForOfIteratorHelper from \"D:/myFishProject/frontend/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";\nimport _regeneratorRuntime from \"D:\\\\myFishProject\\\\frontend\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";\nvar Sr = Object.defineProperty,\n    os = Object.defineProperties;\nvar ns = Object.getOwnPropertyDescriptors;\nvar Mt = Object.getOwnPropertySymbols;\nvar No = Object.prototype.hasOwnProperty,\n    Fo = Object.prototype.propertyIsEnumerable;\n\nvar Oo = function Oo(e, t, r) {\n  return t in e ? Sr(e, t, {\n    enumerable: !0,\n    configurable: !0,\n    writable: !0,\n    value: r\n  }) : e[t] = r;\n},\n    y = function y(e, t) {\n  for (var r in t || (t = {})) {\n    No.call(t, r) && Oo(e, r, t[r]);\n  }\n\n  if (Mt) {\n    var _iterator = _createForOfIteratorHelper(Mt(t)),\n        _step;\n\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var r = _step.value;\n        Fo.call(t, r) && Oo(e, r, t[r]);\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n  }\n\n  return e;\n},\n    D = function D(e, t) {\n  return os(e, ns(t));\n};\n\nvar n = function n(e, t) {\n  return Sr(e, \"name\", {\n    value: t,\n    configurable: !0\n  });\n};\n\nvar Ae = function Ae(e) {\n  return typeof e == \"symbol\" ? e : e + \"\";\n},\n    N = function N(e, t) {\n  var r = {};\n\n  for (var o in e) {\n    No.call(e, o) && t.indexOf(o) < 0 && (r[o] = e[o]);\n  }\n\n  if (e != null && Mt) {\n    var _iterator2 = _createForOfIteratorHelper(Mt(e)),\n        _step2;\n\n    try {\n      for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n        var o = _step2.value;\n        t.indexOf(o) < 0 && Fo.call(e, o) && (r[o] = e[o]);\n      }\n    } catch (err) {\n      _iterator2.e(err);\n    } finally {\n      _iterator2.f();\n    }\n  }\n\n  return r;\n};\n\nvar as = function as(e, t) {\n  for (var r in t) {\n    Sr(e, r, {\n      get: t[r],\n      enumerable: !0\n    });\n  }\n};\n\nimport * as so from \"react\";\nimport * as ge from \"react\";\nimport { useMemo as eo } from \"react\";\nimport { QueryClientProvider as Xc, QueryClient as eu } from \"react-query\";\nimport * as Le from \"react\";\nimport { useMemo as ls } from \"react\";\nimport { useInRouterContext as ds } from \"react-router-dom\";\nimport { createHashHistory as ps } from \"history\";\nimport * as Uo from \"react\";\nimport { useLayoutEffect as ss, useState as is } from \"react\";\nimport { Router as cs } from \"react-router\";\n\nfunction ko(_ref) {\n  var e = _ref.basename,\n      t = _ref.children,\n      r = _ref.history;\n\n  var _is = is({\n    action: r.action,\n    location: r.location\n  }),\n      _is2 = _slicedToArray(_is, 2),\n      o = _is2[0],\n      a = _is2[1];\n\n  return ss(function () {\n    return r.listen(a);\n  }, [r]), Uo.createElement(cs, {\n    basename: e,\n    children: t,\n    location: o.location,\n    navigationType: o.action,\n    navigator: r\n  });\n}\n\nn(ko, \"HistoryRouter\");\nimport * as jo from \"react\";\nimport { createContext as us } from \"react\";\nvar St = us(\"\");\nvar Vo = n(function (_ref2) {\n  var e = _ref2.children,\n      t = _ref2.basename;\n  return jo.createElement(St.Provider, {\n    value: t\n  }, e);\n}, \"BasenameContextProvider\");\nvar Go = n(function (_ref3) {\n  var e = _ref3.history,\n      _ref3$basename = _ref3.basename,\n      t = _ref3$basename === void 0 ? \"\" : _ref3$basename,\n      r = _ref3.children;\n  var o = ds();\n  return Le.createElement(Vo, {\n    basename: o ? t : \"\"\n  }, Le.createElement(o ? ms : fs, {\n    basename: t,\n    history: e\n  }, r));\n}, \"AdminRouter\"),\n    ms = n(function (_ref4) {\n  var e = _ref4.children;\n  return Le.createElement(Le.Fragment, null, e);\n}, \"DummyRouter\"),\n    fs = n(function (_ref5) {\n  var e = _ref5.children,\n      t = _ref5.history;\n  var r = ls(function () {\n    return t || ps();\n  }, [t]);\n  return Le.createElement(ko, {\n    history: r\n  }, e);\n}, \"InternalRouter\");\nvar Gm = n(function (e, t) {\n  var r = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \"edit\";\n  var o = \"\".concat(e, \"/\").concat(encodeURIComponent(t));\n  return r === \"show\" ? \"\".concat(o, \"/show\") : o;\n}, \"linkToRecord\");\n\nvar _m = n(function (e, t, r, o) {\n  var a = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : \"\";\n\n  if (typeof e == \"function\") {\n    var s = e(t, r, o);\n    return typeof s == \"string\" ? Ne(\"\".concat(a, \"/\").concat(s)) : y({\n      pathname: Ne(\"\".concat(a, \"/\").concat(s.pathname))\n    }, s);\n  }\n\n  switch (e) {\n    case \"list\":\n      return Ne(\"\".concat(a, \"/\").concat(t));\n\n    case \"create\":\n      return Ne(\"\".concat(a, \"/\").concat(t, \"/create\"));\n\n    case \"edit\":\n      return Ne(\"\".concat(a, \"/\").concat(t, \"/\").concat(encodeURIComponent(r)));\n\n    case \"show\":\n      return Ne(\"\".concat(a, \"/\").concat(t, \"/\").concat(encodeURIComponent(r), \"/show\"));\n\n    default:\n      return e;\n  }\n}, \"resolveRedirectTo\"),\n    Ne = n(function (e) {\n  return e.replace(\"//\", \"/\");\n}, \"removeDoubleSlashes\");\n\nimport { useContext as ys } from \"react\";\nvar se = n(function () {\n  return ys(St);\n}, \"useBasename\");\nimport { useCallback as gs } from \"react\";\nvar Lt = n(function () {\n  var e = se();\n  return gs(function (_ref6) {\n    var t = _ref6.resource,\n        r = _ref6.id,\n        o = _ref6.type;\n\n    switch (o) {\n      case \"list\":\n        return ie(\"\".concat(e, \"/\").concat(t));\n\n      case \"create\":\n        return ie(\"\".concat(e, \"/\").concat(t, \"/create\"));\n\n      case \"edit\":\n        return ie(\"\".concat(e, \"/\").concat(t, \"/\").concat(encodeURIComponent(r)));\n\n      case \"show\":\n        return ie(\"\".concat(e, \"/\").concat(t, \"/\").concat(encodeURIComponent(r), \"/show\"));\n\n      default:\n        return o;\n    }\n  }, [e]);\n}, \"useCreatePath\"),\n    ie = n(function (e) {\n  return e.replace(\"//\", \"/\");\n}, \"removeDoubleSlashes\");\nimport { useCallback as Rs } from \"react\";\nimport { useNavigate as Ps } from \"react-router-dom\";\nimport { parsePath as hs } from \"history\";\nvar ce = n(function () {\n  var e = Ps(),\n      t = se(),\n      r = Lt();\n  return Rs(function (o) {\n    var a = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"\";\n    var s = arguments.length > 2 ? arguments[2] : undefined;\n    var i = arguments.length > 3 ? arguments[3] : undefined;\n    var u = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : {};\n    if (o) {\n      if (typeof o == \"function\") {\n        var c = o(a, s, i),\n            l = typeof c == \"string\" ? \"\".concat(t, \"/\").concat(c) : y({\n          pathname: \"\".concat(t, \"/\").concat(c.pathname)\n        }, c);\n        e(typeof l == \"string\" ? hs(l) : l, {\n          state: y({\n            _scrollToTop: !0\n          }, u)\n        });\n        return;\n      } else if (typeof o == \"string\" && o.startsWith(\"http\") && window) {\n        window.location.href = o;\n        return;\n      } else {\n        e(r({\n          resource: a,\n          id: s,\n          type: o\n        }), {\n          state: y({\n            _scrollToTop: !0\n          }, u)\n        });\n        return;\n      }\n    } else return;\n  }, [e, t, r]);\n}, \"useRedirect\");\nimport { useEffect as xs } from \"react\";\nimport { useLocation as Cs } from \"react-router-dom\";\nvar Qo = n(function () {\n  var e = Cs();\n  xs(function () {\n    var t;\n    ((t = e.state) == null ? void 0 : t._scrollToTop) && typeof window != \"undefined\" && window.scrollTo(0, 0);\n  }, [e]);\n}, \"useScrollToTop\");\nimport { createContext as Ts } from \"react\";\n\nvar Ms = {\n  id: \"\"\n},\n    Ss = {\n  login: function login() {\n    return Promise.resolve();\n  },\n  logout: function logout() {\n    return Promise.resolve();\n  },\n  checkAuth: function checkAuth() {\n    return Promise.resolve();\n  },\n  checkError: function checkError() {\n    return Promise.resolve();\n  },\n  getPermissions: function getPermissions() {\n    return Promise.resolve();\n  },\n  getIdentity: function getIdentity() {\n    return Promise.resolve(Ms);\n  }\n},\n    _o = Ts(Ss);\n\n_o.displayName = \"AuthContext\";\nvar Ye = _o;\nimport { useContext as Ls } from \"react\";\nvar Fe = {\n  loginUrl: \"/login\",\n  afterLoginUrl: \"/\"\n},\n    bs = n(function () {\n  return Ls(Ye);\n}, \"useAuthProvider\"),\n    ee = bs;\nimport { useEffect as wi } from \"react\";\nimport { useCallback as Ei } from \"react\";\nimport { useCallback as mn, useEffect as Mi, useRef as fn } from \"react\";\n\nvar fe = \"RaStore\",\n    bt = fe.length,\n    Es = n(function () {\n  if (typeof window == \"undefined\" || window.localStorage == null) return !1;\n\n  try {\n    return window.localStorage.setItem(\"test\", \"test\"), window.localStorage.removeItem(\"test\"), !0;\n  } catch (_unused) {\n    return !1;\n  }\n}, \"testLocalStorage\"),\n    Lr = Es(),\n    pf = n(function () {\n  var e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"1\";\n  var t = {},\n      r = n(function (a, s) {\n    Object.keys(t).forEach(function (i) {\n      !t[i] || t[i].key === a && t[i].callback(s);\n    });\n  }, \"publish\"),\n      o = n(function (a) {\n    if (a.key.substring(0, bt) !== fe) return;\n    var s = a.key.substring(bt + 1),\n        i = zo(a.newValue);\n    Object.keys(t).forEach(function (u) {\n      !t[u] || t[u].key === s && (i === null ? t[u].callback(void 0) : t[u].callback(i == null ? void 0 : i));\n    });\n  }, \"onLocalStorageChange\");\n  return {\n    setup: function setup() {\n      if (Lr) {\n        var a = Re().getItem(\"\".concat(fe, \".version\"));\n        a && a !== e && Re().clear(), Re().setItem(\"\".concat(fe, \".version\"), e), window.addEventListener(\"storage\", o);\n      }\n    },\n    teardown: function teardown() {\n      Lr && window.removeEventListener(\"storage\", o);\n    },\n    getItem: function getItem(a, s) {\n      var i = zo(Re().getItem(\"\".concat(fe, \".\").concat(a)));\n      return i == null ? s : i;\n    },\n    setItem: function setItem(a, s) {\n      s === void 0 ? Re().removeItem(\"\".concat(fe, \".\").concat(a)) : Re().setItem(\"\".concat(fe, \".\").concat(a), JSON.stringify(s)), r(a, s);\n    },\n    removeItem: function removeItem(a) {\n      Re().removeItem(\"\".concat(fe, \".\").concat(a)), r(a, void 0);\n    },\n    reset: function reset() {\n      var a = Re();\n\n      for (var s = 0; s < a.length; s++) {\n        if (a.key(s).substring(0, bt) === fe) {\n          var i = a.key(s).substring(bt + 1);\n          a.removeItem(a.key(s)), r(i, void 0);\n        }\n      }\n    },\n    subscribe: function subscribe(a, s) {\n      var i = Math.random().toString();\n      return t[i] = {\n        key: a,\n        callback: s\n      }, function () {\n        delete t[i];\n      };\n    }\n  };\n}, \"localStorageStore\"),\n    zo = n(function (e) {\n  try {\n    return JSON.parse(e);\n  } catch (_unused2) {\n    return e;\n  }\n}, \"tryParse\"),\n    br = /*#__PURE__*/function () {\n  function br() {\n    _classCallCheck(this, br);\n\n    this.valuesMap = new Map();\n  }\n\n  _createClass(br, [{\n    key: \"getItem\",\n    value: function getItem(t) {\n      return this.valuesMap.has(t) ? String(this.valuesMap.get(t)) : null;\n    }\n  }, {\n    key: \"setItem\",\n    value: function setItem(t, r) {\n      this.valuesMap.set(t, r);\n    }\n  }, {\n    key: \"removeItem\",\n    value: function removeItem(t) {\n      this.valuesMap.delete(t);\n    }\n  }, {\n    key: \"clear\",\n    value: function clear() {\n      this.valuesMap.clear();\n    }\n  }, {\n    key: \"key\",\n    value: function key(t) {\n      if (arguments.length === 0) throw new TypeError(\"Failed to execute 'key' on 'Storage': 1 argument required, but only 0 present.\");\n      return Array.from(this.valuesMap.keys())[t];\n    }\n  }, {\n    key: \"length\",\n    get: function get() {\n      return this.valuesMap.size;\n    }\n  }]);\n\n  return br;\n}();\n\nn(br, \"LocalStorageShim\");\nvar vs = new br(),\n    Re = n(function () {\n  return Lr ? window.localStorage : vs;\n}, \"getStorage\");\nimport Ds from \"lodash/set\";\nimport Ho from \"lodash/unset\";\nimport ws from \"lodash/get\";\nvar Et = n(function () {\n  var e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var t = {},\n      r = n(function (o, a) {\n    Object.keys(t).forEach(function (s) {\n      !t[s] || t[s].key === o && t[s].callback(a);\n    });\n  }, \"publish\");\n  return {\n    setup: function setup() {},\n    teardown: function teardown() {\n      Object.keys(e).forEach(function (o) {\n        return delete e[o];\n      });\n    },\n    getItem: function getItem(o, a) {\n      return ws(e, o, a);\n    },\n    setItem: function setItem(o, a) {\n      Ds(e, o, a), r(o, a);\n    },\n    removeItem: function removeItem(o) {\n      Ho(e, o), r(o, void 0);\n    },\n    reset: function reset() {\n      Object.keys(e).forEach(function (o) {\n        Ho(e, o), r(o, void 0);\n      });\n    },\n    subscribe: function subscribe(o, a) {\n      var s = Math.random().toString();\n      return t[s] = {\n        key: o,\n        callback: a\n      }, function () {\n        delete t[s];\n      };\n    }\n  };\n}, \"memoryStore\");\nimport { createContext as Is } from \"react\";\nvar As = Et(),\n    vt = Is(As);\nimport * as Wo from \"react\";\nimport { useEffect as Ns } from \"react\";\nvar Yo = n(function (_ref7) {\n  var e = _ref7.value,\n      t = _ref7.children;\n  return Ns(function () {\n    return e.setup(), function () {\n      e.teardown();\n    };\n  }, [e]), Wo.createElement(vt.Provider, {\n    value: e\n  }, t);\n}, \"StoreContextProvider\");\nimport * as Dt from \"react\";\nimport { useEffect as Os } from \"react\";\nimport { useContext as Fs } from \"react\";\nvar Pe = n(function () {\n  return Fs(vt);\n}, \"useStoreContext\");\nvar wf = n(function (_ref8) {\n  var e = _ref8.value,\n      t = _ref8.name,\n      r = _ref8.children;\n\n  var _Pe = Pe(),\n      o = _Pe.setItem;\n\n  return Os(function () {\n    o(t, e);\n  }, [t, o, e]), Dt.createElement(Dt.Fragment, null, r);\n}, \"StoreSetter\");\nimport { useState as xi, useEffect as Ci } from \"react\";\nvar Us = n(function (e) {\n  return e.replace(/(\\(|\\))/g, \"\\\\$1\");\n}, \"default\");\nimport * as vr from \"react\";\nimport { memo as ni } from \"react\";\nimport * as qo from \"react\";\nimport Ws from \"lodash/get\";\nimport * as Zo from \"react\";\nimport { useEffect as zs, useState as Bo } from \"react\";\nimport { createContext as ks } from \"react\";\nvar Je = ks({\n  translate: function translate(e) {\n    return e;\n  },\n  changeLocale: function changeLocale() {\n    return Promise.resolve();\n  },\n  getLocale: function getLocale() {\n    return \"en\";\n  }\n});\nJe.displayName = \"I18nContext\";\nimport { useCallback as Gs } from \"react\";\nimport { useContext as Vs } from \"react\";\nimport { createContext as js } from \"react\";\nvar wt = js({\n  notifications: [],\n  addNotification: function addNotification() {},\n  takeNotification: function takeNotification() {},\n  resetNotifications: function resetNotifications() {}\n});\nvar It = n(function () {\n  return Vs(wt);\n}, \"useNotificationContext\");\nvar G = n(function () {\n  var _It = It(),\n      e = _It.addNotification;\n\n  return Gs(function (t) {\n    var r = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var s = r,\n        _s$type = s.type,\n        o = _s$type === void 0 ? \"info\" : _s$type,\n        a = N(s, [\"type\"]);\n    e({\n      message: t,\n      type: o,\n      notificationOptions: a\n    });\n  }, [e]);\n}, \"useNotify\");\nimport * as Jo from \"react\";\nimport { useState as Qs, useCallback as Er, useMemo as _s } from \"react\";\nvar $o = n(function (_ref9) {\n  var e = _ref9.children;\n\n  var _Qs = Qs([]),\n      _Qs2 = _slicedToArray(_Qs, 2),\n      t = _Qs2[0],\n      r = _Qs2[1],\n      o = Er(function (u) {\n    r(function (c) {\n      return [].concat(_toConsumableArray(c), [u]);\n    });\n  }, []),\n      a = Er(function () {\n    var _t2 = _toArray(t),\n        u = _t2[0],\n        c = _t2.slice(1);\n\n    return r(c), u;\n  }, [t]),\n      s = Er(function () {\n    r([]);\n  }, []),\n      i = _s(function () {\n    return {\n      notifications: t,\n      addNotification: o,\n      takeNotification: a,\n      resetNotifications: s\n    };\n  }, [t]);\n\n  return Jo.createElement(wt.Provider, {\n    value: i\n  }, e);\n}, \"NotificationContextProvider\");\nvar At = n(function (_ref10) {\n  var _ref10$value = _ref10.value,\n      e = _ref10$value === void 0 ? Hs : _ref10$value,\n      t = _ref10.children;\n\n  var _ue = ue(\"locale\"),\n      _ue2 = _slicedToArray(_ue, 1),\n      r = _ue2[0],\n      o = G(),\n      _Bo = Bo(0),\n      _Bo2 = _slicedToArray(_Bo, 2),\n      a = _Bo2[0],\n      s = _Bo2[1],\n      _Bo3 = Bo(r === e.getLocale()),\n      _Bo4 = _slicedToArray(_Bo3, 2),\n      i = _Bo4[0],\n      u = _Bo4[1];\n\n  return zs(function () {\n    r && e.getLocale() !== r ? new Promise(function (c) {\n      c(e.changeLocale(r));\n    }).then(function () {\n      s(function (c) {\n        return c + 1;\n      }), u(!0);\n    }).catch(function (c) {\n      u(!0), o(\"ra.notification.i18n_error\", {\n        type: \"warning\"\n      }), console.error(c);\n    }) : u(!0);\n  }, [e, r, o]), i ? Zo.createElement(Je.Provider, {\n    value: e,\n    key: a\n  }, t) : null;\n}, \"I18nContextProvider\"),\n    Hs = {\n  translate: function translate(e) {\n    return e;\n  },\n  changeLocale: function changeLocale() {\n    return Promise.resolve();\n  },\n  getLocale: function getLocale() {\n    return \"en\";\n  }\n};\nvar ey = n(function (_ref11) {\n  var e = _ref11.translate,\n      t = _ref11.messages,\n      r = _ref11.children;\n  return qo.createElement(At, {\n    value: {\n      translate: t ? function (o, a) {\n        var s = Ws(t, o);\n        return s ? typeof s == \"function\" ? s(a) : s : a._;\n      } : e,\n      changeLocale: function changeLocale() {\n        return Promise.resolve();\n      },\n      getLocale: function getLocale() {\n        return \"en\";\n      }\n    }\n  }, r);\n}, \"TestTranslationProvider\");\nimport { createContext as Ys } from \"react\";\nvar Nt = Ys(void 0);\nimport * as Ko from \"react\";\nvar sy = n(function (_ref12) {\n  var e = _ref12.children,\n      t = _ref12.value;\n  return Ko.createElement(Nt.Provider, {\n    value: t\n  }, e);\n}, \"TranslatableContextProvider\");\nimport Js from \"lodash/merge\";\nvar ly = n(function (e, t) {\n  var _window$navigator = window.navigator,\n      r = _window$navigator.language,\n      o = _window$navigator.browserLanguage,\n      a = _window$navigator.userLanguage,\n      s = r || o || a || e || Xo;\n  return (t == null ? void 0 : t.fullLocale) ? s : s.split(\"-\")[0];\n}, \"resolveBrowserLocale\"),\n    dy = n(function () {\n  for (var _len = arguments.length, e = new Array(_len), _key = 0; _key < _len; _key++) {\n    e[_key] = arguments[_key];\n  }\n\n  return Js.apply(void 0, [{}].concat(e));\n}, \"mergeTranslations\");\nimport { useMemo as Zs } from \"react\";\nimport { useContext as $s } from \"react\";\nvar Ft = n(function () {\n  return $s(Je);\n}, \"useI18nProvider\");\nvar Oe = n(function () {\n  var e = Ft(),\n      t = Zs(function () {\n    return e.getLocale();\n  }, [e]);\n  return ue(\"locale\", t);\n}, \"useLocaleState\");\nvar Cy = n(function () {\n  var _Oe = Oe(),\n      _Oe2 = _slicedToArray(_Oe, 1),\n      e = _Oe2[0];\n\n  return e;\n}, \"useLocale\");\nvar Sy = n(function () {\n  var _Oe3 = Oe(),\n      _Oe4 = _slicedToArray(_Oe3, 2),\n      e = _Oe4[1];\n\n  return e;\n}, \"useSetLocale\");\nimport { useState as Ks, useMemo as Xs } from \"react\";\nimport { useCallback as Bs } from \"react\";\n\nvar _ = n(function () {\n  var e = Ft(),\n      t = Bs(function (r, o) {\n    return e.translate(r, o);\n  }, [e]);\n  return e ? t : qs;\n}, \"useTranslate\"),\n    qs = n(function (e) {\n  return e;\n}, \"identity\");\n\nvar Fy = n(function (e) {\n  var _Oe5 = Oe(),\n      _Oe6 = _slicedToArray(_Oe5, 1),\n      t = _Oe6[0],\n      _e$defaultLocale = e.defaultLocale,\n      r = _e$defaultLocale === void 0 ? t : _e$defaultLocale,\n      o = e.locales,\n      _Ks = Ks(r),\n      _Ks2 = _slicedToArray(_Ks, 2),\n      a = _Ks2[0],\n      s = _Ks2[1],\n      i = H({}),\n      u = _();\n\n  return Xs(function () {\n    return {\n      getSource: function getSource(l) {\n        var m = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : a;\n        return \"\".concat(l, \".\").concat(m);\n      },\n      getLabel: function getLabel(l, m) {\n        return u.apply(void 0, _toConsumableArray($e({\n          source: l,\n          resource: i,\n          label: m\n        })));\n      },\n      locales: o,\n      selectedLocale: a,\n      selectLocale: s\n    };\n  }, [o, i, a, u]);\n}, \"useTranslatable\");\nimport { useContext as ei } from \"react\";\nvar Vy = n(function () {\n  var e = ei(Nt);\n  if (!e) throw new Error(\"useTranslatableContext must be used inside a TranslatableContextProvider\");\n  return e;\n}, \"useTranslatableContext\");\nvar Xo = \"en\";\nimport ti from \"inflection\";\nvar $e = n(function (e) {\n  if (!e) return [\"\"];\n  var t = e.label,\n      r = e.resource,\n      o = e.source;\n  return typeof t != \"undefined\" ? [t, {\n    _: t\n  }] : typeof o != \"undefined\" ? [\"resources.\".concat(r, \".fields.\").concat(o), {\n    _: ti.transform(o, [\"underscore\", \"humanize\"])\n  }] : [\"\"];\n}, \"default\");\nimport { useContext as oi } from \"react\";\nimport { createContext as ri } from \"react\";\nvar Ot = ri(void 0);\nvar H = n(function (e) {\n  var t = oi(Ot);\n  return e && e.resource || t;\n}, \"useResourceContext\");\nvar en = n(function (e) {\n  var t = e.source,\n      r = e.label,\n      o = e.isRequired,\n      a = H(e),\n      s = _();\n\n  return r === !1 || r === \"\" ? null : r && typeof r != \"string\" ? r : vr.createElement(\"span\", null, s.apply(void 0, _toConsumableArray($e({\n    label: r,\n    resource: a,\n    source: t\n  }))), o && vr.createElement(\"span\", {\n    \"aria-hidden\": \"true\"\n  }, \"\\u2009*\"));\n}, \"FieldTitle\");\nen.displayName = \"FieldTitle\";\nvar ai = ni(en);\nimport { isValidElementType as si } from \"react-is\";\nvar ii = n(function (e, t, r) {\n  if (e[t] && !si(e[t])) return new Error(\"Invalid prop '\".concat(t, \"' supplied to '\").concat(r, \"': the prop is not a valid React component\"));\n}, \"default\");\n\nfunction tn(e, t) {\n  return e === t ? e !== 0 || t !== 0 || 1 / e === 1 / t : e !== e && t !== t;\n}\n\nn(tn, \"is\");\nvar rn = n(function (e, t) {\n  if (tn(e, t)) return !0;\n  if (typeof e != \"object\" || e === null || typeof t != \"object\" || t === null) return !1;\n  var r = Object.keys(e),\n      o = Object.keys(t);\n  if (r.length !== o.length) return !1;\n\n  for (var a = 0; a < r.length; a++) {\n    if (!Object.prototype.hasOwnProperty.call(t, r[a]) || !tn(e[r[a]], t[r[a]])) return !1;\n  }\n\n  return !0;\n}, \"shallowEqual\");\nvar ci = n(function (e) {\n  return e && Object.prototype.toString.call(e) === \"[object Object]\";\n}, \"isObject\"),\n    ui = n(function (e) {\n  return e instanceof Date ? !1 : e === \"\" || e === null || e === void 0 || rn(e, {});\n}, \"isEmpty\"),\n    on = n(function (e) {\n  return Object.keys(e).reduce(function (t, r) {\n    var o = e[r];\n    return ci(e[r]) && (o = on(e[r])), ui(o) ? t : D(y({}, t), _defineProperty({}, r, o));\n  }, {});\n}, \"removeEmpty\"),\n    X = on;\nvar nn = n(function (e, t) {\n  return Object.keys(e).reduce(function (r, o) {\n    return o !== t ? Object.assign({}, r, _defineProperty({}, o, e[o])) : r;\n  }, {});\n}, \"removeKey\"),\n    an = n(function (e, t) {\n  var r = t.split(\".\");\n  if (r.length === 1) return nn(e, t);\n  var o = r[0];\n  if (e[o] === void 0) return e;\n  var a = an(e[o], r.slice(1).join(\".\"));\n  return Object.keys(a).length === 0 ? nn(e, o) : Object.assign({}, e, _defineProperty({}, o, a));\n}, \"deepRemoveKey\"),\n    Dr = an;\nimport * as Z from \"react\";\nimport { useState as li } from \"react\";\nvar he = {\n  root: {\n    width: \"100vw\",\n    height: \"100vh\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    fontFamily: '\"Roboto\", sans-serif'\n  },\n  main: {\n    flex: 1,\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    textAlign: \"center\",\n    flexDirection: \"column\",\n    background: \"linear-gradient(135deg, #00023b 0%, #00023b 50%, #313264 100%)\",\n    color: \"white\",\n    fontSize: \"1.5em\",\n    fontWeight: \"bold\"\n  },\n  secondary: {\n    height: \"20vh\",\n    background: \"#e8e8e8\",\n    color: \"black\",\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"space-evenly\"\n  },\n  link: {\n    textAlign: \"center\",\n    width: 150,\n    display: \"block\",\n    textDecoration: \"none\",\n    color: \"black\",\n    opacity: .7\n  },\n  linkHovered: {\n    opacity: 1\n  },\n  image: {\n    width: 50\n  },\n  logo: {\n    height: 100\n  }\n},\n    wr = n(function (_ref13) {\n  var e = _ref13.img,\n      t = _ref13.label,\n      r = _ref13.href;\n\n  var _li = li(!1),\n      _li2 = _slicedToArray(_li, 2),\n      o = _li2[0],\n      a = _li2[1];\n\n  return Z.createElement(\"div\", null, Z.createElement(\"a\", {\n    href: r,\n    style: o ? y(y({}, he.link), he.linkHovered) : he.link,\n    onMouseEnter: function onMouseEnter() {\n      return a(!0);\n    },\n    onMouseLeave: function onMouseLeave() {\n      return a(!1);\n    }\n  }, Z.createElement(\"img\", {\n    src: e,\n    alt: t,\n    style: he.image\n  }), Z.createElement(\"br\", null), t));\n}, \"Button\"),\n    Ir = n(function () {\n  return process.env.NODE_ENV === \"production\" ? Z.createElement(\"span\", null) : Z.createElement(\"div\", {\n    style: he.root\n  }, Z.createElement(\"div\", {\n    style: he.main\n  }, Z.createElement(\"img\", {\n    style: he.logo,\n    src: \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIzLjAuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkNhbHF1ZV8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIKCSB2aWV3Qm94PSIwIDAgMTMxIDEzMSIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMTMxIDEzMTsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8c3R5bGUgdHlwZT0idGV4dC9jc3MiPgoJLnN0MHtmaWxsOiMyMjI0NTg7fQoJLnN0MXtmaWxsOiM1MTUzN0Q7fQoJLnN0MntmaWxsOiNBM0E0Qjk7fQoJLnN0M3tmaWxsOiMwMDAyM0I7fQoJLnN0NHtmaWxsOiNGRkZGRkY7fQoJLnN0NXtlbmFibGUtYmFja2dyb3VuZDpuZXcgICAgO30KPC9zdHlsZT4KPHRpdGxlPkxvZ29fc29tYnJlX2FpPC90aXRsZT4KPGcgaWQ9IlJlY3RhbmdsZV81NiI+Cgk8Zz4KCQk8cmVjdCB4PSIxOS4xIiB5PSIxOSIgdHJhbnNmb3JtPSJtYXRyaXgoMC41IC0wLjg2NiAwLjg2NiAwLjUgLTIzLjkyMjYgODkuNTQ2KSIgY2xhc3M9InN0MCIgd2lkdGg9IjkyLjkiIGhlaWdodD0iOTIuOSIvPgoJCTxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik04MywxMzAuM0wwLjgsODIuOUw0OC4yLDAuN2w4Mi4yLDQ3LjVMODMsMTMwLjN6IE0zLjUsODIuMWw3OC43LDQ1LjVsNDUuNS03OC43TDQ5LDMuNEwzLjUsODIuMXoiLz4KCTwvZz4KPC9nPgo8ZyBpZD0iUmVjdGFuZ2xlXzU2LTIiPgoJPGc+CgkJPHJlY3QgeD0iMTkiIHk9IjE5LjEiIHRyYW5zZm9ybT0ibWF0cml4KDAuODY2IC0wLjUgMC41IDAuODY2IC0yMy45Nzc3IDQxLjUyNykiIGNsYXNzPSJzdDAiIHdpZHRoPSI5Mi45IiBoZWlnaHQ9IjkyLjkiLz4KCQk8cGF0aCBjbGFzcz0ic3QyIiBkPSJNNDcuOSwxMzFMMCw0OEw4My4xLDBsNDgsODMuMUw0Ny45LDEzMXogTTQuMSw0OS4xbDQ1LDc3LjlsNzcuOS00NUw4Miw0LjFMNC4xLDQ5LjF6Ii8+Cgk8L2c+CjwvZz4KPGcgaWQ9IlJlY3RhbmdsZV81Ni0zIj4KCTxnPgoJCTxyZWN0IHg9IjE5LjEiIHk9IjE5IiBjbGFzcz0ic3QzIiB3aWR0aD0iOTIuOSIgaGVpZ2h0PSI5Mi45Ii8+CgkJPHBhdGggY2xhc3M9InN0NCIgZD0iTTExNC41LDExNC41SDE2LjZWMTYuNWg5Ny45VjExNC41eiBNMjEuNiwxMDkuNWg4Ny45VjIxLjVIMjEuNlYxMDkuNXoiLz4KCTwvZz4KPC9nPgo8ZyBpZD0iUmEiPgoJPGcgY2xhc3M9InN0NSI+CgkJPHBhdGggY2xhc3M9InN0NCIgZD0iTTU5LDg2LjdsLTYuNy0xOS4yaC0xLjJIMzguOXYxOS4yaC01LjZWMzguNWgxOC41YzMuNiwwLDYuMywwLjYsOC4xLDEuOGMxLjgsMS4yLDMsMi44LDMuNSw0LjgKCQkJYzAuNSwyLDAuOCw0LjYsMC44LDcuOGMwLDMuNS0wLjQsNi40LTEuMyw4LjdjLTAuOCwyLjMtMi42LDMuOS01LjMsNC44TDY1LDg2LjdINTl6IE01NS43LDYxLjZjMS4yLTAuNywyLTEuNywyLjQtMwoJCQljMC40LTEuMywwLjYtMy4yLDAuNi01LjZjMC0yLjUtMC4yLTQuMy0wLjUtNS42Yy0wLjMtMS4zLTEuMS0yLjItMi4zLTIuOWMtMS4yLTAuNy0zLTEtNS41LTFIMzguOXYxOS4xSDUwCgkJCUM1Mi41LDYyLjYsNTQuNCw2Mi4zLDU1LjcsNjEuNnoiLz4KCQk8cGF0aCBjbGFzcz0ic3Q0IiBkPSJNNzQuMyw4NWMtMS42LTEuNS0yLjUtNC4yLTIuNS04LjJjMC0yLjcsMC4zLTQuOCwwLjktNi4zYzAuNi0xLjUsMS42LTIuNiwzLTMuM2MxLjQtMC43LDMuNC0xLDYtMQoJCQljMS4zLDAsNS4xLDAuMSwxMS40LDAuM3YtMi40YzAtMi45LTAuMi01LTAuNy02LjJjLTAuNS0xLjItMS4zLTItMi42LTIuNGMtMS4yLTAuMy0zLjMtMC41LTYuMy0wLjVjLTEuMywwLTMsMC4xLTQuOSwwLjIKCQkJYy0yLDAuMS0zLjYsMC4zLTQuOCwwLjV2LTQuM2MzLjMtMC43LDcuMS0xLDExLjQtMWMzLjcsMCw2LjUsMC40LDguNCwxLjJjMS44LDAuOCwzLjEsMi4yLDMuOCw0LjFjMC43LDEuOSwxLDQuNywxLDguNHYyMi41aC00LjgKCQkJbC0wLjMtNWgtMC4zYy0wLjgsMi4yLTIuMiwzLjctNC4xLDQuNGMtMS45LDAuNy00LjEsMS4xLTYuNiwxLjFDNzguNiw4Ny4yLDc2LDg2LjUsNzQuMyw4NXogTTg5LjEsODJjMS4yLTAuNCwyLjItMS4yLDIuOC0yLjQKCQkJYzAuOS0xLjgsMS4zLTQuMywxLjMtNy4zdi0yaC0xMGMtMS43LDAtMywwLjItMy44LDAuNWMtMC44LDAuMy0xLjQsMC45LTEuNywxLjhjLTAuMywwLjktMC41LDIuMi0wLjUsNGMwLDEuOCwwLjIsMy4xLDAuNiwzLjkKCQkJYzAuNCwwLjgsMS4xLDEuNCwyLDEuOGMxLDAuMywyLjUsMC41LDQuNSwwLjVDODYuMiw4Mi42LDg3LjgsODIuNCw4OS4xLDgyeiIvPgoJPC9nPgo8L2c+Cjwvc3ZnPgo=\",\n    alt: \"react-admin logo\"\n  }), Z.createElement(\"h1\", null, \"Welcome to React-admin\"), Z.createElement(\"div\", null, \"Your application is properly configured.\", Z.createElement(\"br\", null), \"Now you can add a <Resource> as child of <Admin>.\")), Z.createElement(\"div\", {\n    style: he.secondary\n  }, Z.createElement(wr, {\n    href: \"https://marmelab.com/react-admin/Readme.html\",\n    img: \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIzLjAuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiIHdpZHRoPSIyNHB4IgoJIGhlaWdodD0iMjRweCIgdmlld0JveD0iMCAwIDI0IDI0IiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCAyNCAyNCIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxnIGlkPSJCb3VuZGluZ19Cb3giPgoJPHJlY3QgZmlsbD0ibm9uZSIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0Ii8+CjwvZz4KPGcgaWQ9IkZsYXQiPgoJPGcgaWQ9InVpX3g1Rl9zcGVjX3g1Rl9oZWFkZXJfY29weV8yIj4KCTwvZz4KCTxnPgoJCTxwYXRoIGQ9Ik0yMSw1Yy0xLjExLTAuMzUtMi4zMy0wLjUtMy41LTAuNWMtMS45NSwwLTQuMDUsMC40LTUuNSwxLjVjLTEuNDUtMS4xLTMuNTUtMS41LTUuNS0xLjVTMi40NSw0LjksMSw2djE0LjY1CgkJCWMwLDAuMjUsMC4yNSwwLjUsMC41LDAuNWMwLjEsMCwwLjE1LTAuMDUsMC4yNS0wLjA1QzMuMSwyMC40NSw1LjA1LDIwLDYuNSwyMGMxLjk1LDAsNC4wNSwwLjQsNS41LDEuNWMxLjM1LTAuODUsMy44LTEuNSw1LjUtMS41CgkJCWMxLjY1LDAsMy4zNSwwLjMsNC43NSwxLjA1YzAuMSwwLjA1LDAuMTUsMC4wNSwwLjI1LDAuMDVjMC4yNSwwLDAuNS0wLjI1LDAuNS0wLjVWNkMyMi40LDUuNTUsMjEuNzUsNS4yNSwyMSw1eiBNMywxOC41VjcKCQkJYzEuMS0wLjM1LDIuMy0wLjUsMy41LTAuNWMxLjM0LDAsMy4xMywwLjQxLDQuNSwwLjk5djExLjVDOS42MywxOC40MSw3Ljg0LDE4LDYuNSwxOEM1LjMsMTgsNC4xLDE4LjE1LDMsMTguNXogTTIxLDE4LjUKCQkJYy0xLjEtMC4zNS0yLjMtMC41LTMuNS0wLjVjLTEuMzQsMC0zLjEzLDAuNDEtNC41LDAuOTlWNy40OWMxLjM3LTAuNTksMy4xNi0wLjk5LDQuNS0wLjk5YzEuMiwwLDIuNCwwLjE1LDMuNSwwLjVWMTguNXoiLz4KCQk8cGF0aCBvcGFjaXR5PSIwLjMiIGQ9Ik0xMSw3LjQ5QzkuNjMsNi45MSw3Ljg0LDYuNSw2LjUsNi41QzUuMyw2LjUsNC4xLDYuNjUsMyw3djExLjVDNC4xLDE4LjE1LDUuMywxOCw2LjUsMTgKCQkJYzEuMzQsMCwzLjEzLDAuNDEsNC41LDAuOTlWNy40OXoiLz4KCTwvZz4KCTxnPgoJCTxwYXRoIGQ9Ik0xNy41LDEwLjVjMC44OCwwLDEuNzMsMC4wOSwyLjUsMC4yNlY5LjI0QzE5LjIxLDkuMDksMTguMzYsOSwxNy41LDljLTEuMjgsMC0yLjQ2LDAuMTYtMy41LDAuNDd2MS41NwoJCQlDMTQuOTksMTAuNjksMTYuMTgsMTAuNSwxNy41LDEwLjV6Ii8+CgkJPHBhdGggZD0iTTE3LjUsMTMuMTZjMC44OCwwLDEuNzMsMC4wOSwyLjUsMC4yNlYxMS45Yy0wLjc5LTAuMTUtMS42NC0wLjI0LTIuNS0wLjI0Yy0xLjI4LDAtMi40NiwwLjE2LTMuNSwwLjQ3djEuNTcKCQkJQzE0Ljk5LDEzLjM2LDE2LjE4LDEzLjE2LDE3LjUsMTMuMTZ6Ii8+CgkJPHBhdGggZD0iTTE3LjUsMTUuODNjMC44OCwwLDEuNzMsMC4wOSwyLjUsMC4yNnYtMS41MmMtMC43OS0wLjE1LTEuNjQtMC4yNC0yLjUtMC4yNGMtMS4yOCwwLTIuNDYsMC4xNi0zLjUsMC40N3YxLjU3CgkJCUMxNC45OSwxNi4wMiwxNi4xOCwxNS44MywxNy41LDE1LjgzeiIvPgoJPC9nPgo8L2c+Cjwvc3ZnPgo=\",\n    label: \"Documentation\"\n  }), Z.createElement(wr, {\n    href: \"https://github.com/marmelab/react-admin/tree/master/examples\",\n    img: \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBmaWxsPSJub25lIiBkPSJNMCAwaDI0djI0SDBWMHoiLz48cGF0aCBkPSJNOS40IDE2LjZMNC44IDEybDQuNi00LjZMOCA2bC02IDYgNiA2IDEuNC0xLjR6bTUuMiAwbDQuNi00LjYtNC42LTQuNkwxNiA2bDYgNi02IDYtMS40LTEuNHoiLz48L3N2Zz4=\",\n    label: \"Examples\"\n  }), Z.createElement(wr, {\n    href: \"https://stackoverflow.com/questions/tagged/react-admin\",\n    img: \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIzLjAuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiIHdpZHRoPSIyNHB4IgoJIGhlaWdodD0iMjRweCIgdmlld0JveD0iMCAwIDI0IDI0IiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCAyNCAyNCIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxnIGlkPSJCb3VuZGluZ19Cb3giPgoJPHJlY3QgZmlsbD0ibm9uZSIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0Ii8+CjwvZz4KPGcgaWQ9IkZsYXQiPgoJPGcgaWQ9InVpX3g1Rl9zcGVjX3g1Rl9oZWFkZXJfY29weV8yIj4KCTwvZz4KCTxnPgoJCTxjaXJjbGUgb3BhY2l0eT0iMC4zIiBjeD0iOSIgY3k9IjgiIHI9IjIiLz4KCQk8cGF0aCBvcGFjaXR5PSIwLjMiIGQ9Ik05LDE1Yy0yLjcsMC01LjgsMS4yOS02LDIuMDFMMywxOGgxMnYtMUMxNC44LDE2LjI5LDExLjcsMTUsOSwxNXoiLz4KCQk8cGF0aCBkPSJNMTYuNjcsMTMuMTNDMTguMDQsMTQuMDYsMTksMTUuMzIsMTksMTd2M2g0di0zQzIzLDE0LjgyLDE5LjQzLDEzLjUzLDE2LjY3LDEzLjEzeiIvPgoJCTxwYXRoIGQ9Ik0xNSwxMmMyLjIxLDAsNC0xLjc5LDQtNGMwLTIuMjEtMS43OS00LTQtNGMtMC40NywwLTAuOTEsMC4xLTEuMzMsMC4yNEMxNC41LDUuMjcsMTUsNi41OCwxNSw4cy0wLjUsMi43My0xLjMzLDMuNzYKCQkJQzE0LjA5LDExLjksMTQuNTMsMTIsMTUsMTJ6Ii8+CgkJPHBhdGggZD0iTTksMTJjMi4yMSwwLDQtMS43OSw0LTRjMC0yLjIxLTEuNzktNC00LTRTNSw1Ljc5LDUsOEM1LDEwLjIxLDYuNzksMTIsOSwxMnogTTksNmMxLjEsMCwyLDAuOSwyLDJjMCwxLjEtMC45LDItMiwyCgkJCVM3LDkuMSw3LDhDNyw2LjksNy45LDYsOSw2eiIvPgoJCTxwYXRoIGQ9Ik05LDEzYy0yLjY3LDAtOCwxLjM0LTgsNHYzaDE2di0zQzE3LDE0LjM0LDExLjY3LDEzLDksMTN6IE0xNSwxOEgzbDAtMC45OUMzLjIsMTYuMjksNi4zLDE1LDksMTVzNS44LDEuMjksNiwyVjE4eiIvPgoJPC9nPgo8L2c+Cjwvc3ZnPgo=\",\n    label: \"Community\"\n  })));\n}, \"default\");\nvar Ze = n(function (e, t) {\n  e && process.env.NODE_ENV !== \"production\" && console.warn(t);\n}, \"default\");\nimport { useRef as di, useEffect as pi } from \"react\";\n\nfunction sn(e, t) {\n  var r = di();\n  pi(function () {\n    if (r.current) {\n      var o = Object.keys(y(y({}, r.current), t)),\n          a = {};\n      o.forEach(function (s) {\n        r.current[s] !== t[s] && (a[s] = {\n          from: r.current[s],\n          to: t[s]\n        });\n      }), Object.keys(a).length && console.log(\"[why-did-you-update]\", e, a);\n    }\n\n    r.current = t;\n  });\n}\n\nn(sn, \"useWhyDidYouUpdate\");\nvar mi = n(function (e, t) {\n  if (e) return e;\n\n  switch (t) {\n    case !0:\n      return \"undoable\";\n\n    case !1:\n      return \"pessimistic\";\n\n    default:\n      return \"undoable\";\n  }\n}, \"getMutationMode\");\n\nfunction vg(e) {\n  return function (t) {\n    e.forEach(function (r) {\n      typeof r == \"function\" ? r(t) : r != null && (r.current = t);\n    });\n  };\n}\n\nn(vg, \"mergeRefs\");\nimport * as Ue from \"react\";\nimport { useCallback as fi } from \"react\";\nvar yi = typeof window != \"undefined\" ? Ue.useLayoutEffect : Ue.useEffect,\n    cn = n(function (e, t) {\n  var r = Ue.useRef(function () {\n    throw new Error(\"Cannot call an event handler while rendering.\");\n  });\n  return yi(function () {\n    r.current = e;\n  }, [e].concat(_toConsumableArray(t))), fi(function () {\n    return r.current.apply(r, arguments);\n  }, []);\n}, \"useEventCallback\");\nimport { useState as gi, useRef as Ut, useEffect as Be, useCallback as Ri } from \"react\";\nimport Pi from \"lodash/isEqual\";\n\nfunction Q(e) {\n  var _gi = gi(e),\n      _gi2 = _slicedToArray(_gi, 2),\n      t = _gi2[0],\n      r = _gi2[1],\n      o = Ut(!1);\n\n  Be(function () {\n    return o.current = !0, function () {\n      o.current = !1;\n    };\n  }, []);\n  var a = Ri(function (s) {\n    if (o.current) return r(s);\n  }, [o, r]);\n  return [t, a];\n}\n\nn(Q, \"useSafeSetState\");\n\nfunction hi(e) {\n  var t = Ut();\n  return Be(function () {\n    t.current = e;\n  }), t.current;\n}\n\nn(hi, \"usePrevious\");\n\nfunction Fg(e, t) {\n  var r = Ut();\n  Be(function () {\n    return Pi(o, t) || (r.current = e()), r.current;\n  });\n  var o = hi(t);\n}\n\nn(Fg, \"useDeepCompareEffect\");\n\nfunction un() {\n  var e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n  var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"\";\n\n  var _Q = Q(!1),\n      _Q2 = _slicedToArray(_Q, 2),\n      r = _Q2[0],\n      o = _Q2[1];\n\n  return Be(function () {\n    o(!1);\n    var a = setTimeout(function () {\n      o(!0);\n    }, e);\n    return function () {\n      clearTimeout(a);\n    };\n  }, [t, e, o]), r;\n}\n\nn(un, \"useTimeout\");\n\nfunction ln() {\n  var e = Ut(!0);\n  return Be(function () {\n    return e.current = !0, function () {\n      e.current = !1;\n    };\n  }, []), e;\n}\n\nn(ln, \"useIsMounted\");\nvar ue = n(function (e, t) {\n  var _Pe2 = Pe(),\n      r = _Pe2.getItem,\n      o = _Pe2.setItem,\n      a = _Pe2.subscribe,\n      _xi = xi(function () {\n    return r(e, t);\n  }),\n      _xi2 = _slicedToArray(_xi, 2),\n      s = _xi2[0],\n      i = _xi2[1];\n\n  Ci(function () {\n    var c = a(e, function (l) {\n      i(typeof l == \"undefined\" ? t : l);\n    });\n    return function () {\n      return c();\n    };\n  }, [e, a, t]);\n  var u = cn(function (c, l) {\n    var m = typeof c == \"function\" ? c(s) : c;\n    o(e, typeof m == \"undefined\" ? typeof l == \"undefined\" ? t : l : m);\n  }, [e, o, t, s]);\n  return [s, u];\n}, \"useStore\");\nimport { useCallback as Ti } from \"react\";\nvar dn = n(function (e) {\n  var _Pe3 = Pe(),\n      t = _Pe3.removeItem;\n\n  return Ti(function (r) {\n    return t(typeof r == \"undefined\" ? e : r);\n  }, [t, e]);\n}, \"useRemoveFromStore\");\nvar pn = n(function () {\n  var _Pe4 = Pe(),\n      e = _Pe4.reset;\n\n  return e;\n}, \"useResetStore\");\nimport { useLocation as Si, useNavigate as Li } from \"react-router-dom\";\nvar bi = n(function () {\n  var e = ee(),\n      t = pn(),\n      r = Li(),\n      o = fn(r),\n      a = Si(),\n      s = fn(a),\n      i = se(),\n      u = ie(\"\".concat(i, \"/\").concat(Fe.loginUrl));\n  Mi(function () {\n    s.current = a, o.current = r;\n  }, [a, r]);\n  var c = mn(function () {\n    var m = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var f = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : u;\n    var M = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : !0;\n    return e.logout(m).then(function (T) {\n      if (T === !1) {\n        t();\n        return;\n      }\n\n      var L = (T || f).split(\"?\"),\n          x = {\n        pathname: L[0]\n      },\n          P = {};\n      return M && s.current && s.current.pathname && (P = {\n        state: {\n          nextPathname: s.current.pathname,\n          nextSearch: s.current.search\n        }\n      }), L[1] && (x.search = L[1]), o.current(x, P), t(), T;\n    });\n  }, [e, t, u]),\n      l = mn(function (m) {\n    return r({\n      pathname: u\n    }, {\n      state: {\n        nextPathname: a && a.pathname\n      }\n    }), t(), Promise.resolve();\n  }, [t, a, r, u]);\n  return e ? c : l;\n}, \"useLogout\"),\n    be = bi;\nvar ke = n(function () {\n  var e = ee(),\n      t = G(),\n      r = be(),\n      o = se(),\n      a = ie(\"\".concat(o, \"/\").concat(Fe.loginUrl)),\n      s = Ei(function () {\n    var i = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var u = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : !0;\n    var c = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : a;\n    var l = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : !1;\n    return e.checkAuth(i).catch(function (m) {\n      throw u && (r({}, m && m.redirectTo ? m.redirectTo : c), !(l || m && m.message === !1) && t(Di(m, \"ra.auth.auth_check_error\"), {\n        type: \"warning\"\n      })), m;\n    });\n  }, [e, r, t, a]);\n  return e ? s : vi;\n}, \"useCheckAuth\"),\n    vi = n(function () {\n  return Promise.resolve();\n}, \"checkAuthWithoutAuthProvider\"),\n    Di = n(function (e, t) {\n  return typeof e == \"string\" ? e : typeof e == \"undefined\" || !e.message ? t : e.message;\n}, \"getErrorMessage\");\nvar Ii = {},\n    Ai = n(function () {\n  var e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : Ii;\n\n  var _Q3 = Q({\n    isLoading: !0,\n    authenticated: !0\n  }),\n      _Q4 = _slicedToArray(_Q3, 2),\n      t = _Q4[0],\n      r = _Q4[1],\n      o = ke();\n\n  return wi(function () {\n    o(e, !1).then(function () {\n      return r({\n        isLoading: !1,\n        authenticated: !0\n      });\n    }).catch(function () {\n      return r({\n        isLoading: !1,\n        authenticated: !1\n      });\n    });\n  }, [o, e, r]), t;\n}, \"useAuthState\"),\n    Ar = Ai;\nimport { useEffect as Ui } from \"react\";\nimport { useCallback as Ni } from \"react\";\nvar Fi = n(function () {\n  return Promise.resolve([]);\n}, \"getPermissionsWithoutProvider\"),\n    Oi = n(function () {\n  var e = ee(),\n      t = Ni(function () {\n    var r = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    return e.getPermissions(r);\n  }, [e]);\n  return e ? t : Fi;\n}, \"useGetPermissions\"),\n    Ee = Oi;\nvar ki = {},\n    ji = n(function () {\n  var e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : ki;\n\n  var _Q5 = Q({\n    isLoading: !0\n  }),\n      _Q6 = _slicedToArray(_Q5, 2),\n      t = _Q6[0],\n      r = _Q6[1],\n      o = Ee();\n\n  return Ui(function () {\n    o(e).then(function (a) {\n      r({\n        isLoading: !1,\n        permissions: a\n      });\n    }).catch(function (a) {\n      r({\n        isLoading: !1,\n        error: a\n      });\n    });\n  }, [o, e, r]), t;\n}, \"usePermissions\"),\n    Vi = ji;\nimport { useEffect as Gi } from \"react\";\nimport Qi from \"lodash/isEqual\";\nvar _i = {},\n    yn = {\n  \"{}\": void 0\n},\n    zi = n(function () {\n  var e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _i;\n\n  var t = JSON.stringify(e),\n      _Q7 = Q({\n    permissions: yn[t]\n  }),\n      _Q8 = _slicedToArray(_Q7, 2),\n      r = _Q8[0],\n      o = _Q8[1],\n      a = Ee();\n\n  return Gi(function () {\n    a(e).then(function (s) {\n      Qi(s, r.permissions) || (yn[t] = s, o({\n        permissions: s\n      }));\n    }).catch(function (s) {\n      o({\n        error: s\n      });\n    });\n  }, [a, t]), r;\n}, \"usePermissionsOptimized\"),\n    Nr = zi;\nimport { Children as Yi, createElement as Ji } from \"react\";\nimport { useEffect as Hi } from \"react\";\nvar re = n(function () {\n  var e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var _e$enabled = e.enabled,\n      t = _e$enabled === void 0 ? !0 : _e$enabled,\n      _e$params = e.params,\n      r = _e$params === void 0 ? Wi : _e$params,\n      o = ke();\n  Hi(function () {\n    t && o(r).catch(function () {});\n  }, [o, t, r]);\n}, \"useAuthenticated\"),\n    Wi = {};\nvar gn = n(function (e) {\n  return Yi.count(e) === 0;\n}, \"isEmptyChildren\"),\n    $i = n(function (e) {\n  var c = e,\n      t = c.authParams,\n      r = c.children,\n      o = c.render,\n      a = c.component,\n      s = c.staticContext,\n      i = N(c, [\"authParams\", \"children\", \"render\", \"component\", \"staticContext\"]);\n  Ze(o && r && !gn(r) || o && a || a && r && !gn(r), \"You should only use one of the `component`, `render` and `children` props in <WithPermissions>\"), re(t);\n\n  var _Nr = Nr(t),\n      u = _Nr.permissions;\n\n  if (a) return Ji(a, y({\n    permissions: u\n  }, i));\n  if (o) return o(y({\n    permissions: u\n  }, i));\n  if (r) return r(y({\n    permissions: u\n  }, i));\n}, \"WithPermissions\"),\n    Fr = $i;\nimport { useCallback as Rn } from \"react\";\nimport { useLocation as Zi, useNavigate as Bi } from \"react-router-dom\";\nvar qi = n(function () {\n  var e = ee(),\n      r = Zi().state,\n      o = Bi(),\n      a = se(),\n      _It2 = It(),\n      s = _It2.resetNotifications,\n      i = r && r.nextPathname,\n      u = r && r.nextSearch,\n      c = ie(\"\".concat(a, \"/\").concat(Fe.afterLoginUrl)),\n      l = Rn(function () {\n    var f = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var M = arguments.length > 1 ? arguments[1] : undefined;\n    return e.login(f).then(function (T) {\n      s();\n      var L = M || i + u || c;\n      return o(L), T;\n    });\n  }, [e, o, i, u, s, c]),\n      m = Rn(function (f, M) {\n    return s(), o(c), Promise.resolve();\n  }, [o, s, c]);\n\n  return e ? l : m;\n}, \"useLogin\"),\n    Ki = qi;\nimport { useEffect as Xi } from \"react\";\nvar Pn = {\n  id: \"\",\n  fullName: null\n},\n    ec = n(function () {\n  var _Q9 = Q({\n    isLoading: !0\n  }),\n      _Q10 = _slicedToArray(_Q9, 2),\n      e = _Q10[0],\n      t = _Q10[1],\n      r = ee();\n\n  return Xi(function () {\n    r && typeof r.getIdentity == \"function\" ? n( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var a;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return r.getIdentity();\n\n            case 3:\n              a = _context.sent;\n              t({\n                isLoading: !1,\n                identity: a || Pn\n              });\n              _context.next = 10;\n              break;\n\n            case 7:\n              _context.prev = 7;\n              _context.t0 = _context[\"catch\"](0);\n              t({\n                isLoading: !1,\n                error: _context.t0\n              });\n\n            case 10:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 7]]);\n    })), \"callAuthProvider\")() : t({\n      isLoading: !1,\n      identity: Pn\n    });\n  }, [r, t]), e;\n}, \"useGetIdentity\"),\n    tc = ec;\nimport { useCallback as rc } from \"react\";\nimport { useNavigate as oc } from \"react-router\";\nvar Or,\n    nc = n(function () {\n  var e = ee(),\n      t = be(),\n      r = G(),\n      o = oc(),\n      a = rc(function (s, i) {\n    return e.checkError(s).then(function () {\n      return !1;\n    }).catch( /*#__PURE__*/function () {\n      var _ref15 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(u) {\n        var f, c, m;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                c = (f = u == null ? void 0 : u.logoutUser) != null ? f : !0;\n\n                if (!Or) {\n                  _context2.next = 3;\n                  break;\n                }\n\n                return _context2.abrupt(\"return\", !0);\n\n              case 3:\n                Or = setTimeout(function () {\n                  Or = void 0;\n                }, 0), !(i || u && u.message === !1 || s && s.message === !1) && e.checkAuth({}).then(function () {\n                  c ? r(hn(u, \"ra.notification.logged_out\"), {\n                    type: \"warning\"\n                  }) : r(hn(u, \"ra.notification.not_authorized\"), {\n                    type: \"warning\"\n                  });\n                }).catch(function () {});\n                m = u && u.redirectTo ? u.redirectTo : s && s.redirectTo ? s.redirectTo : void 0;\n                return _context2.abrupt(\"return\", (c ? t({}, m) : o(m), !0));\n\n              case 6:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      return function (_x) {\n        return _ref15.apply(this, arguments);\n      };\n    }());\n  }, [e, t, r, o]);\n  return e ? a : ac;\n}, \"useLogoutIfAccessDenied\"),\n    ac = n(function () {\n  return Promise.resolve(!1);\n}, \"logoutIfAccessDeniedWithoutProvider\"),\n    hn = n(function (e, t) {\n  return typeof e == \"string\" ? e : typeof e == \"undefined\" || !e.message ? t : e.message;\n}, \"getErrorMessage\"),\n    Ur = nc;\nvar xn = \"AUTH_LOGIN\",\n    Cn = \"AUTH_CHECK\",\n    Tn = \"AUTH_ERROR\",\n    Mn = \"AUTH_LOGOUT\",\n    Sn = \"AUTH_GET_PERMISSIONS\";\nvar kr = n(function (e) {\n  var t = n(function () {\n    for (var _len2 = arguments.length, r = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      r[_key2] = arguments[_key2];\n    }\n\n    return e.apply(null, r);\n  }, \"authProvider\");\n  return t.login = function (r) {\n    return e(xn, r);\n  }, t.logout = function (r) {\n    return e(Mn, r);\n  }, t.checkAuth = function (r) {\n    return e(Cn, r);\n  }, t.checkError = function (r) {\n    return e(Tn, r);\n  }, t.getPermissions = function (r) {\n    return e(Sn, r);\n  }, t;\n}, \"default\");\nimport * as kt from \"react\";\nvar yP = n(function (e) {\n  var t = e.authParams,\n      r = e.children;\n  return re({\n    params: t\n  }), kt.createElement(kt.Fragment, null, r);\n}, \"Authenticated\");\nvar jr = \"GET_LIST\",\n    Vr = \"GET_ONE\",\n    Gr = \"GET_MANY\",\n    Qr = \"GET_MANY_REFERENCE\",\n    _r = \"CREATE\",\n    zr = \"UPDATE\",\n    Hr = \"UPDATE_MANY\",\n    Wr = \"DELETE\",\n    Yr = \"DELETE_MANY\",\n    Ln = [\"getOne\", \"create\", \"update\"],\n    Jr = [\"getList\", \"getMany\", \"getManyReference\"],\n    bn = [].concat(Jr, [\"updateMany\", \"deleteMany\"]),\n    En = [\"getList\", \"getManyReference\"],\n    OP = n(function (e) {\n  switch (e) {\n    case jr:\n      return \"getList\";\n\n    case Vr:\n      return \"getOne\";\n\n    case Gr:\n      return \"getMany\";\n\n    case Qr:\n      return \"getManyReference\";\n\n    case _r:\n      return \"create\";\n\n    case zr:\n      return \"update\";\n\n    case Hr:\n      return \"updateMany\";\n\n    case Wr:\n      return \"delete\";\n\n    case Yr:\n      return \"deleteMany\";\n\n    default:\n      return e;\n  }\n}, \"sanitizeFetchType\");\nvar le = n(function () {\n  return Promise.resolve();\n}, \"defaultDataProvider\");\n\nle.create = function () {\n  return Promise.resolve(null);\n};\n\nle.delete = function () {\n  return Promise.resolve(null);\n};\n\nle.deleteMany = function () {\n  return Promise.resolve(null);\n};\n\nle.getList = function () {\n  return Promise.resolve(null);\n};\n\nle.getMany = function () {\n  return Promise.resolve(null);\n};\n\nle.getManyReference = function () {\n  return Promise.resolve(null);\n};\n\nle.getOne = function () {\n  return Promise.resolve(null);\n};\n\nle.update = function () {\n  return Promise.resolve(null);\n};\n\nle.updateMany = function () {\n  return Promise.resolve(null);\n};\n\nvar vn = {\n  create: _r,\n  delete: Wr,\n  deleteMany: Yr,\n  getList: jr,\n  getMany: Gr,\n  getManyReference: Qr,\n  getOne: Vr,\n  update: zr,\n  updateMany: Hr\n},\n    sc = n(function (e) {\n  return new Proxy(le, {\n    get: function get(r, o) {\n      return function (a, s) {\n        if (Object.keys(vn).includes(o.toString())) {\n          var i = vn[o.toString()];\n          return e(i, a, s);\n        }\n\n        return e(o.toString(), a, s);\n      };\n    },\n    apply: function apply(r, o, a) {\n      return e.apply(e, a);\n    }\n  });\n}, \"convertLegacyDataProvider\"),\n    $r = sc;\nimport { createContext as ic } from \"react\";\nvar Dn = ic(null);\nDn.displayName = \"DataProviderContext\";\nvar qe = Dn;\n\nvar Ke = /*#__PURE__*/function (_Error) {\n  _inherits(Ke, _Error);\n\n  var _super = _createSuper(Ke);\n\n  function Ke(t, r) {\n    var _this;\n\n    var o = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n\n    _classCallCheck(this, Ke);\n\n    _this = _super.call(this, t);\n    _this.message = t;\n    _this.status = r;\n    _this.body = o;\n    Object.setPrototypeOf(_assertThisInitialized(_this), Ke.prototype), _this.name = _this.constructor.name, typeof Error.captureStackTrace == \"function\" ? Error.captureStackTrace(_assertThisInitialized(_this), _this.constructor) : _this.stack = new Error(t).stack, _this.stack = new Error().stack;\n    return _this;\n  }\n\n  return _createClass(Ke);\n}( /*#__PURE__*/_wrapNativeSuper(Error));\n\nn(Ke, \"HttpError\");\nvar Zr = Ke;\nvar An = {};\nas(An, {\n  createHeadersFromOptions: function createHeadersFromOptions() {\n    return wn;\n  },\n  fetchJson: function fetchJson() {\n    return uc;\n  },\n  flattenObject: function flattenObject() {\n    return In;\n  },\n  queryParameters: function queryParameters() {\n    return lc;\n  }\n});\nimport { stringify as cc } from \"query-string\";\nvar wn = n(function (e) {\n  var t = e.headers || new Headers({\n    Accept: \"application/json\"\n  });\n  return !t.has(\"Content-Type\") && !(e && (!e.method || e.method === \"GET\")) && !(e && e.body && e.body instanceof FormData) && t.set(\"Content-Type\", \"application/json\"), e.user && e.user.authenticated && e.user.token && t.set(\"Authorization\", e.user.token), t;\n}, \"createHeadersFromOptions\"),\n    uc = n(function (e) {\n  var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var r = wn(t);\n  return fetch(e, D(y({}, t), {\n    headers: r\n  })).then(function (o) {\n    return o.text().then(function (a) {\n      return {\n        status: o.status,\n        statusText: o.statusText,\n        headers: o.headers,\n        body: a\n      };\n    });\n  }).then(function (_ref16) {\n    var o = _ref16.status,\n        a = _ref16.statusText,\n        s = _ref16.headers,\n        i = _ref16.body;\n    var u;\n\n    try {\n      u = JSON.parse(i);\n    } catch (_unused3) {}\n\n    return o < 200 || o >= 300 ? Promise.reject(new Zr(u && u.message || a, o, u)) : Promise.resolve({\n      status: o,\n      headers: s,\n      body: i,\n      json: u\n    });\n  });\n}, \"fetchJson\"),\n    lc = cc,\n    dc = n(function (e) {\n  if (!e) return !1;\n  var t = Array.isArray(e),\n      r = typeof Buffer != \"undefined\" && Buffer.isBuffer(e),\n      o = Object.prototype.toString.call(e) === \"[object Object]\",\n      a = !!Object.keys(e).length;\n  return !t && !r && o && a;\n}, \"isValidObject\"),\n    In = n(function (e) {\n  var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  return dc(e) ? Object.assign.apply(Object, [{}].concat(_toConsumableArray(Object.keys(e).map(function (r) {\n    return In(e[r], t.concat([r]));\n  })))) : t.length ? _defineProperty({}, t.join(\".\"), e) : e;\n}, \"flattenObject\");\nimport pc from \"eventemitter3\";\nvar ye = new pc();\nvar je = {\n  create: function create() {\n    return Promise.resolve({\n      data: null\n    });\n  },\n  delete: function _delete() {\n    return Promise.resolve({\n      data: null\n    });\n  },\n  deleteMany: function deleteMany() {\n    return Promise.resolve({\n      data: []\n    });\n  },\n  getList: function getList() {\n    return Promise.resolve({\n      data: [],\n      total: 0\n    });\n  },\n  getMany: function getMany() {\n    return Promise.resolve({\n      data: []\n    });\n  },\n  getManyReference: function getManyReference() {\n    return Promise.resolve({\n      data: [],\n      total: 0\n    });\n  },\n  getOne: function getOne() {\n    return Promise.resolve({\n      data: null\n    });\n  },\n  update: function update() {\n    return Promise.resolve({\n      data: null\n    });\n  },\n  updateMany: function updateMany() {\n    return Promise.resolve({\n      data: []\n    });\n  }\n};\nvar $P = n(function (e) {\n  return new Proxy(je, {\n    get: function get(t, r) {\n      return function (o, a) {\n        if (!(typeof r == \"symbol\" || r === \"then\")) return e(o)[r](o, a);\n      };\n    }\n  });\n}, \"combineDataProviders\");\nvar BP = n(function (e) {\n  return y({\n    getList: function getList() {\n      return Promise.resolve({\n        data: [],\n        total: 0\n      });\n    },\n    getOne: function getOne() {\n      return Promise.resolve({\n        data: void 0\n      });\n    },\n    getMany: function getMany() {\n      return Promise.resolve({\n        data: []\n      });\n    },\n    getManyReference: function getManyReference() {\n      return Promise.resolve({\n        data: [],\n        total: 0\n      });\n    },\n    create: function create() {\n      return Promise.resolve({\n        data: void 0\n      });\n    },\n    update: function update() {\n      return Promise.resolve({\n        data: void 0\n      });\n    },\n    updateMany: function updateMany() {\n      return Promise.resolve({\n        data: []\n      });\n    },\n    delete: function _delete() {\n      return Promise.resolve({\n        data: void 0\n      });\n    },\n    deleteMany: function deleteMany() {\n      return Promise.resolve({\n        data: []\n      });\n    }\n  }, e);\n}, \"testDataProvider\");\nimport { useContext as fc, useMemo as yc } from \"react\";\n\nfunction mc(e, t) {\n  var r = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : console.error;\n  if (!e) throw r(\"The dataProvider returned an empty response for '\".concat(t, \"'.\")), new Error(\"ra.notification.data_provider_error\");\n  if (!e.hasOwnProperty(\"data\")) throw r(\"The response to '\".concat(t, \"' must be like { data: ... }, but the received response does not have a 'data' key. The dataProvider is probably wrong for '\").concat(t, \"'.\")), new Error(\"ra.notification.data_provider_error\");\n  if (bn.includes(t) && !Array.isArray(e.data)) throw r(\"The response to '\".concat(t, \"' must be like { data : [...] }, but the received data is not an array. The dataProvider is probably wrong for '\").concat(t, \"'\")), new Error(\"ra.notification.data_provider_error\");\n  if (Jr.includes(t) && Array.isArray(e.data) && e.data.length > 0 && !e.data[0].hasOwnProperty(\"id\")) throw r(\"The response to '\".concat(t, \"' must be like { data : [{ id: 123, ...}, ...] }, but the received data items do not have an 'id' key. The dataProvider is probably wrong for '\").concat(t, \"'\")), new Error(\"ra.notification.data_provider_error\");\n  if (Ln.includes(t) && !e.data.hasOwnProperty(\"id\")) throw r(\"The response to '\".concat(t, \"' must be like { data: { id: 123, ... } }, but the received data does not have an 'id' key. The dataProvider is probably wrong for '\").concat(t, \"'\")), new Error(\"ra.notification.data_provider_error\");\n  if (En.includes(t) && !e.hasOwnProperty(\"total\") && !e.hasOwnProperty(\"pageInfo\")) throw r(\"The response to '\".concat(t, \"' must be like  { data: [...], total: 123 }, but the received response does not have a 'total' key. The dataProvider is probably wrong for '\").concat(t, \"'\")), new Error(\"ra.notification.data_provider_error\");\n}\n\nn(mc, \"validateResponseFormat\");\nvar Nn = mc;\nvar W = n(function () {\n  var e = fc(qe) || je,\n      t = Ur();\n  return yc(function () {\n    return new Proxy(e, {\n      get: function get(o, a) {\n        if (!(typeof a == \"symbol\" || a === \"then\")) return function () {\n          var i = a.toString();\n          if (typeof e[i] != \"function\") throw new Error(\"Unknown dataProvider function: \".concat(i));\n\n          try {\n            for (var _len3 = arguments.length, s = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n              s[_key3] = arguments[_key3];\n            }\n\n            return e[i].apply(e, s).then(function (u) {\n              return process.env.NODE_ENV !== \"production\" && Nn(u, i), u;\n            }).catch(function (u) {\n              return process.env.NODE_ENV !== \"production\" && console.error(u), t(u).then(function (c) {\n                if (!c) throw u;\n              });\n            });\n          } catch (u) {\n            throw process.env.NODE_ENV !== \"production\" && console.error(u), new Error(\"The dataProvider threw an error. It should return a rejected Promise instead.\");\n          }\n        };\n      }\n    });\n  }, [e, t]);\n}, \"useDataProvider\");\nimport { useEffect as gc, useState as Rc } from \"react\";\nimport { useQueryClient as Pc, QueryObserver as hc } from \"react-query\";\nvar ch = n(function (e) {\n  var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  var _t$enabled = t.enabled,\n      r = _t$enabled === void 0 ? !0 : _t$enabled,\n      o = Pc(),\n      _Rc = Rc(function () {\n    return r ? o.getQueryData(e) !== void 0 : !1;\n  }),\n      _Rc2 = _slicedToArray(_Rc, 2),\n      a = _Rc2[0],\n      s = _Rc2[1];\n\n  return gc(function () {\n    if (!!r && o.getQueryData(e) === void 0) {\n      var u = new hc(o, {\n        queryKey: e\n      }).subscribe(function (c) {\n        s(!c.isLoading), u();\n      });\n      return u;\n    }\n  }, [r, e, o]), a;\n}, \"useIsDataLoaded\");\nimport Xe from \"react\";\nimport { notifyManager as Fn, useQueryClient as xc } from \"react-query\";\nvar ph = n(function () {\n  var e = xc(),\n      t = Xe.useRef(!1),\n      r = Xe.useRef(e.isFetching() > 0),\n      o = Xe.useRef(e.isMutating() > 0),\n      _Xe$useState = Xe.useState(r.current || o.current),\n      _Xe$useState2 = _slicedToArray(_Xe$useState, 2),\n      a = _Xe$useState2[0],\n      s = _Xe$useState2[1];\n\n  return Xe.useEffect(function () {\n    t.current = !0;\n    var i = e.getQueryCache().subscribe(Fn.batchCalls(function () {\n      t.current && (r.current = e.isFetching() > 0, s(r.current || o.current));\n    })),\n        u = e.getMutationCache().subscribe(Fn.batchCalls(function () {\n      t.current && (o.current = e.isMutating() > 0, s(r.current || o.current));\n    }));\n    return function () {\n      t.current = !1, i(), u();\n    };\n  }, [e]), a;\n}, \"useLoading\");\nimport { useCallback as Cc } from \"react\";\nimport { useQueryClient as Tc } from \"react-query\";\nvar jt = n(function () {\n  var e = Tc();\n  return Cc(function () {\n    e.invalidateQueries();\n  }, [e]);\n}, \"useRefresh\");\nimport { useQuery as Mc } from \"react-query\";\nvar Vt = n(function (e, _ref18, o) {\n  var t = _ref18.id,\n      r = _ref18.meta;\n  var a = W();\n  return Mc([e, \"getOne\", {\n    id: String(t),\n    meta: r\n  }], function () {\n    return a.getOne(e, {\n      id: t,\n      meta: r\n    }).then(function (_ref19) {\n      var s = _ref19.data;\n      return s;\n    });\n  }, o);\n}, \"useGetOne\");\nimport { useQuery as Sc, useQueryClient as Lc } from \"react-query\";\nvar Ve = n(function (e) {\n  var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var r = arguments.length > 2 ? arguments[2] : undefined;\n  var m, f, M;\n  var _t$pagination = t.pagination,\n      o = _t$pagination === void 0 ? {\n    page: 1,\n    perPage: 25\n  } : _t$pagination,\n      _t$sort = t.sort,\n      a = _t$sort === void 0 ? {\n    field: \"id\",\n    order: \"DESC\"\n  } : _t$sort,\n      _t$filter = t.filter,\n      s = _t$filter === void 0 ? {} : _t$filter,\n      i = t.meta,\n      u = W(),\n      c = Lc(),\n      l = Sc([e, \"getList\", {\n    pagination: o,\n    sort: a,\n    filter: s,\n    meta: i\n  }], function () {\n    return u.getList(e, {\n      pagination: o,\n      sort: a,\n      filter: s,\n      meta: i\n    }).then(function (_ref20) {\n      var T = _ref20.data,\n          L = _ref20.total,\n          x = _ref20.pageInfo;\n      return {\n        data: T,\n        total: L,\n        pageInfo: x\n      };\n    });\n  }, y({\n    onSuccess: function onSuccess(_ref21) {\n      var T = _ref21.data;\n      T.forEach(function (L) {\n        c.setQueryData([e, \"getOne\", {\n          id: String(L.id),\n          meta: i\n        }], function (x) {\n          return x != null ? x : L;\n        });\n      });\n    }\n  }, r));\n  return l.data ? D(y({}, l), {\n    data: (m = l.data) == null ? void 0 : m.data,\n    total: (f = l.data) == null ? void 0 : f.total,\n    pageInfo: (M = l.data) == null ? void 0 : M.pageInfo\n  }) : l;\n}, \"useGetList\");\nimport { useQuery as bc, useQueryClient as Ec, hashQueryKey as vc } from \"react-query\";\nvar Ih = n(function (e) {\n  var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var r = arguments.length > 2 ? arguments[2] : undefined;\n  var o = t.ids,\n      a = t.meta,\n      s = W(),\n      i = Ec(),\n      u = i.getQueryCache();\n  return bc([e, \"getMany\", {\n    ids: o.map(function (c) {\n      return String(c);\n    }),\n    meta: a\n  }], function () {\n    return !o || o.length === 0 ? Promise.resolve([]) : s.getMany(e, {\n      ids: o,\n      meta: a\n    }).then(function (_ref22) {\n      var c = _ref22.data;\n      return c;\n    });\n  }, y({\n    placeholderData: function placeholderData() {\n      var c = o.map(function (l) {\n        var f, M;\n        var m = vc([e, \"getOne\", {\n          id: String(l),\n          meta: a\n        }]);\n        return (M = (f = u.get(m)) == null ? void 0 : f.state) == null ? void 0 : M.data;\n      });\n      if (!c.some(function (l) {\n        return l === void 0;\n      })) return c;\n    },\n    onSuccess: function onSuccess(c) {\n      c.forEach(function (l) {\n        i.setQueryData([e, \"getOne\", {\n          id: String(l.id),\n          meta: a\n        }], function (m) {\n          return m != null ? m : l;\n        });\n      });\n    },\n    retry: !1\n  }, r));\n}, \"useGetMany\");\nimport { useMemo as Dc } from \"react\";\nimport { useQueryClient as wc, useQuery as Ic, hashQueryKey as Ac } from \"react-query\";\nimport Nc from \"lodash/union\";\nvar Ge = n(function (e, t) {\n  var r = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var o = W(),\n      a = wc(),\n      s = a.getQueryCache(),\n      i = t.ids,\n      u = t.meta,\n      c = Dc(function () {\n    var l = i.map(function (m) {\n      var M, T;\n      var f = Ac([e, \"getOne\", {\n        id: String(m),\n        meta: u\n      }]);\n      return (T = (M = s.get(f)) == null ? void 0 : M.state) == null ? void 0 : T.data;\n    });\n    if (!l.some(function (m) {\n      return m === void 0;\n    })) return l;\n  }, [i, s, e, u]);\n  return Ic([e, \"getMany\", {\n    ids: i.map(function (l) {\n      return String(l);\n    }),\n    meta: u\n  }], function () {\n    return new Promise(function (l, m) {\n      return !i || i.length === 0 ? l([]) : Oc({\n        resource: e,\n        ids: i,\n        meta: u,\n        resolve: l,\n        reject: m,\n        dataProvider: o,\n        queryClient: a\n      });\n    });\n  }, y({\n    placeholderData: c,\n    onSuccess: function onSuccess(l) {\n      l.forEach(function (m) {\n        a.setQueryData([e, \"getOne\", {\n          id: String(m.id),\n          meta: u\n        }], function (f) {\n          return f != null ? f : m;\n        });\n      });\n    },\n    retry: !1\n  }, r));\n}, \"useGetManyAggregate\"),\n    Fc = n(function (e) {\n  var t = [],\n      r = null;\n  return function (o) {\n    t.push(o), r && clearTimeout(r), r = setTimeout(function () {\n      r = null, e(_toConsumableArray(t)), t = [];\n    }, 0);\n  };\n}, \"batch\"),\n    Oc = Fc(function (e) {\n  var t = e[0].dataProvider,\n      r = e[0].queryClient,\n      o = e.reduce(function (a, s) {\n    return a[s.resource] || (a[s.resource] = []), a[s.resource].push(s), a;\n  }, {});\n  Object.keys(o).forEach(function (a) {\n    var s = o[a],\n        i = s.reduce(function (c, _ref23) {\n      var l = _ref23.ids;\n      return Nc(c, l);\n    }, []).filter(function (c) {\n      return c != null && c !== \"\";\n    }),\n        u = s.reduce(function (c, _ref24) {\n      var l = _ref24.meta;\n      return l || c;\n    }, void 0);\n\n    if (i.length === 0) {\n      s.forEach(function (_ref25) {\n        var c = _ref25.resolve;\n        c([]);\n      });\n      return;\n    }\n\n    if (s.find(function (_ref26) {\n      var c = _ref26.ids;\n      return JSON.stringify(c) === JSON.stringify(i);\n    })) {\n      var _s$ = s[0],\n          c = _s$.dataProvider,\n          l = _s$.resource,\n          m = _s$.ids,\n          f = _s$.meta,\n          M = _s$.resolve,\n          T = _s$.reject;\n      c.getMany(l, {\n        ids: m,\n        meta: f\n      }).then(function (_ref27) {\n        var L = _ref27.data;\n        return L;\n      }).then(M, T);\n      return;\n    }\n\n    r.fetchQuery([a, \"getMany\", {\n      ids: i.map(function (c) {\n        return String(c);\n      }),\n      meta: u\n    }], function () {\n      return t.getMany(a, {\n        ids: i,\n        meta: u\n      }).then(function (_ref28) {\n        var c = _ref28.data;\n        return c;\n      });\n    }).then(function (c) {\n      s.forEach(function (_ref29) {\n        var l = _ref29.ids,\n            m = _ref29.resolve;\n        m(c.filter(function (f) {\n          return l.includes(f.id);\n        }));\n      });\n    }).catch(function (c) {\n      return s.forEach(function (_ref30) {\n        var l = _ref30.reject;\n        return l(c);\n      });\n    });\n  });\n});\nimport { useQuery as Uc, useQueryClient as kc } from \"react-query\";\nvar Gt = n(function (e) {\n  var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var r = arguments.length > 2 ? arguments[2] : undefined;\n  var M, T, L;\n  var o = t.target,\n      a = t.id,\n      _t$pagination2 = t.pagination,\n      s = _t$pagination2 === void 0 ? {\n    page: 1,\n    perPage: 25\n  } : _t$pagination2,\n      _t$sort2 = t.sort,\n      i = _t$sort2 === void 0 ? {\n    field: \"id\",\n    order: \"DESC\"\n  } : _t$sort2,\n      _t$filter2 = t.filter,\n      u = _t$filter2 === void 0 ? {} : _t$filter2,\n      c = t.meta,\n      l = W(),\n      m = kc(),\n      f = Uc([e, \"getManyReference\", {\n    target: o,\n    id: a,\n    pagination: s,\n    sort: i,\n    filter: u,\n    meta: c\n  }], function () {\n    return l.getManyReference(e, {\n      target: o,\n      id: a,\n      pagination: s,\n      sort: i,\n      filter: u,\n      meta: c\n    }).then(function (_ref31) {\n      var x = _ref31.data,\n          P = _ref31.total,\n          R = _ref31.pageInfo;\n      return {\n        data: x,\n        total: P,\n        pageInfo: R\n      };\n    });\n  }, y({\n    onSuccess: function onSuccess(_ref32) {\n      var x = _ref32.data;\n      x.forEach(function (P) {\n        m.setQueryData([e, \"getOne\", {\n          id: String(P.id),\n          meta: c\n        }], function (R) {\n          return R != null ? R : P;\n        });\n      });\n    }\n  }, r));\n  return f.data ? D(y({}, f), {\n    data: (M = f.data) == null ? void 0 : M.data,\n    total: (T = f.data) == null ? void 0 : T.total,\n    pageInfo: (L = f.data) == null ? void 0 : L.pageInfo\n  }) : f;\n}, \"useGetManyReference\");\nimport { useRef as jc } from \"react\";\nimport { useMutation as Vc, useQueryClient as Gc } from \"react-query\";\nvar On = n(function (e) {\n  var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var r = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var o = W(),\n      a = Gc(),\n      s = jc(t),\n      i = Vc(function () {\n    var _ref33 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        _ref33$resource = _ref33.resource,\n        c = _ref33$resource === void 0 ? e : _ref33$resource,\n        _ref33$data = _ref33.data,\n        l = _ref33$data === void 0 ? s.current.data : _ref33$data,\n        _ref33$meta = _ref33.meta,\n        m = _ref33$meta === void 0 ? s.current.meta : _ref33$meta;\n\n    return o.create(c, {\n      data: l,\n      meta: m\n    }).then(function (_ref34) {\n      var f = _ref34.data;\n      return f;\n    });\n  }, D(y({}, r), {\n    onSuccess: function onSuccess(c) {\n      var l = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var m = arguments.length > 2 ? arguments[2] : undefined;\n      var _l$resource = l.resource,\n          f = _l$resource === void 0 ? e : _l$resource;\n      a.setQueryData([f, \"getOne\", {\n        id: String(c.id)\n      }], c), r.onSuccess && r.onSuccess(c, l, m);\n    }\n  }));\n  return [n(function () {\n    var c = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : e;\n    var l = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var m = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    var T = m,\n        f = T.returnPromise,\n        M = N(T, [\"returnPromise\"]);\n    if (f) return i.mutateAsync(y({\n      resource: c\n    }, l), m);\n    i.mutate(y({\n      resource: c\n    }, l), M);\n  }, \"create\"), i];\n}, \"useCreate\");\nimport { useRef as Br } from \"react\";\nimport { useMutation as Qc, useQueryClient as _c } from \"react-query\";\nvar Un = n(function (e) {\n  var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var r = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n  var o = W(),\n      a = _c(),\n      s = t.id,\n      i = t.data,\n      u = t.meta,\n      P = r,\n      _P$mutationMode = P.mutationMode,\n      c = _P$mutationMode === void 0 ? \"pessimistic\" : _P$mutationMode,\n      l = N(P, [\"mutationMode\"]),\n      m = Br(c),\n      f = Br(t),\n      M = Br([]),\n      T = n(function (_ref35) {\n    var R = _ref35.resource,\n        g = _ref35.id,\n        S = _ref35.data;\n    var C = Date.now(),\n        h = m.current === \"undoable\" ? C + 5 * 1e3 : C,\n        E = n(function (b) {\n      if (!b) return;\n      var v = b.findIndex(function (I) {\n        return I.id == g;\n      });\n      return v === -1 ? b : [].concat(_toConsumableArray(b.slice(0, v)), [y(y({}, b[v]), S)], _toConsumableArray(b.slice(v + 1)));\n    }, \"updateColl\");\n    a.setQueryData([R, \"getOne\", {\n      id: String(g),\n      meta: u\n    }], function (b) {\n      return y(y({}, b), S);\n    }, {\n      updatedAt: h\n    }), a.setQueriesData([R, \"getList\"], function (b) {\n      return b && b.data ? {\n        data: E(b.data),\n        total: b.total\n      } : b;\n    }, {\n      updatedAt: h\n    }), a.setQueriesData([R, \"getMany\"], function (b) {\n      return b && b.length > 0 ? E(b) : b;\n    }, {\n      updatedAt: h\n    }), a.setQueriesData([R, \"getManyReference\"], function (b) {\n      return b && b.data ? {\n        data: E(b.data),\n        total: b.total\n      } : b;\n    }, {\n      updatedAt: h\n    });\n  }, \"updateCache\"),\n      L = Qc(function () {\n    var _ref36 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        _ref36$resource = _ref36.resource,\n        R = _ref36$resource === void 0 ? e : _ref36$resource,\n        _ref36$id = _ref36.id,\n        g = _ref36$id === void 0 ? f.current.id : _ref36$id,\n        _ref36$data = _ref36.data,\n        S = _ref36$data === void 0 ? f.current.data : _ref36$data,\n        _ref36$meta = _ref36.meta,\n        C = _ref36$meta === void 0 ? f.current.meta : _ref36$meta,\n        _ref36$previousData = _ref36.previousData,\n        h = _ref36$previousData === void 0 ? f.current.previousData : _ref36$previousData;\n\n    return o.update(R, {\n      id: g,\n      data: S,\n      previousData: h,\n      meta: C\n    }).then(function (_ref37) {\n      var E = _ref37.data;\n      return E;\n    });\n  }, D(y({}, l), {\n    onMutate: function () {\n      var _onMutate = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(R) {\n        var g;\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                if (!l.onMutate) {\n                  _context3.next = 10;\n                  break;\n                }\n\n                _context3.next = 3;\n                return l.onMutate(R);\n\n              case 3:\n                _context3.t0 = _context3.sent;\n\n                if (_context3.t0) {\n                  _context3.next = 6;\n                  break;\n                }\n\n                _context3.t0 = {};\n\n              case 6:\n                g = _context3.t0;\n                return _context3.abrupt(\"return\", y({\n                  snapshot: M.current\n                }, g));\n\n              case 10:\n                return _context3.abrupt(\"return\", {\n                  snapshot: M.current\n                });\n\n              case 11:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3);\n      }));\n\n      function onMutate(_x2) {\n        return _onMutate.apply(this, arguments);\n      }\n\n      return onMutate;\n    }(),\n    onError: function onError(R) {\n      var g = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var S = arguments.length > 2 ? arguments[2] : undefined;\n      if ((m.current === \"optimistic\" || m.current === \"undoable\") && S.snapshot.forEach(function (_ref38) {\n        var _ref39 = _slicedToArray(_ref38, 2),\n            C = _ref39[0],\n            h = _ref39[1];\n\n        a.setQueryData(C, h);\n      }), l.onError) return l.onError(R, g, S);\n    },\n    onSuccess: function onSuccess(R) {\n      var g = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var S = arguments.length > 2 ? arguments[2] : undefined;\n\n      if (m.current === \"pessimistic\") {\n        var _g$resource = g.resource,\n            C = _g$resource === void 0 ? e : _g$resource,\n            _g$id = g.id,\n            h = _g$id === void 0 ? s : _g$id;\n        T({\n          resource: C,\n          id: h,\n          data: R\n        }), l.onSuccess && l.onSuccess(R, g, S);\n      }\n    },\n    onSettled: function onSettled(R, g) {\n      var S = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      var C = arguments.length > 3 ? arguments[3] : undefined;\n      if ((m.current === \"optimistic\" || m.current === \"undoable\") && C.snapshot.forEach(function (_ref40) {\n        var _ref41 = _slicedToArray(_ref40, 1),\n            h = _ref41[0];\n\n        a.invalidateQueries(h);\n      }), l.onSettled) return l.onSettled(R, g, S, C);\n    }\n  }));\n\n  return [n( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4() {\n    var R,\n        g,\n        S,\n        C,\n        h,\n        E,\n        b,\n        v,\n        _g$id2,\n        I,\n        _g$data,\n        F,\n        _g$meta,\n        A,\n        w,\n        O,\n        _args4 = arguments;\n\n    return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            R = _args4.length > 0 && _args4[0] !== undefined ? _args4[0] : e;\n            g = _args4.length > 1 && _args4[1] !== undefined ? _args4[1] : {};\n            S = _args4.length > 2 && _args4[2] !== undefined ? _args4[2] : {};\n            C = S.mutationMode, h = S.returnPromise, E = S.onSuccess, b = S.onSettled, v = S.onError;\n\n            if (!(f.current = t, C && (m.current = C), h && m.current !== \"pessimistic\" && console.warn(\"The returnPromise parameter can only be used if the mutationMode is set to pessimistic\"), m.current === \"pessimistic\")) {\n              _context4.next = 6;\n              break;\n            }\n\n            return _context4.abrupt(\"return\", h ? L.mutateAsync(y({\n              resource: R\n            }, g), {\n              onSuccess: E,\n              onSettled: b,\n              onError: v\n            }) : L.mutate(y({\n              resource: R\n            }, g), {\n              onSuccess: E,\n              onSettled: b,\n              onError: v\n            }));\n\n          case 6:\n            _g$id2 = g.id, I = _g$id2 === void 0 ? s : _g$id2, _g$data = g.data, F = _g$data === void 0 ? i : _g$data, _g$meta = g.meta, A = _g$meta === void 0 ? u : _g$meta, w = a.getQueryData([R, \"getOne\", {\n              id: String(I),\n              meta: A\n            }]), O = [[R, \"getOne\", {\n              id: String(I),\n              meta: A\n            }], [R, \"getList\"], [R, \"getMany\"], [R, \"getManyReference\"]];\n            M.current = O.reduce(function (k, $) {\n              return k.concat(a.getQueriesData($));\n            }, []);\n            _context4.next = 10;\n            return Promise.all(M.current.map(function (_ref43) {\n              var _ref44 = _slicedToArray(_ref43, 1),\n                  k = _ref44[0];\n\n              return a.cancelQueries(k);\n            }));\n\n          case 10:\n            T({\n              resource: R,\n              id: I,\n              data: F\n            });\n            E && setTimeout(function () {\n              return E(w, y({\n                resource: R\n              }, g), {\n                snapshot: M.current\n              });\n            }, 0);\n            l.onSuccess && setTimeout(function () {\n              return l.onSuccess(w, y({\n                resource: R\n              }, g), {\n                snapshot: M.current\n              });\n            }, 0);\n\n            if (!(m.current === \"optimistic\")) {\n              _context4.next = 15;\n              break;\n            }\n\n            return _context4.abrupt(\"return\", L.mutate(y({\n              resource: R\n            }, g), {\n              onSettled: b,\n              onError: v\n            }));\n\n          case 15:\n            ye.once(\"end\", function (_ref45) {\n              var k = _ref45.isUndo;\n              k ? M.current.forEach(function (_ref46) {\n                var _ref47 = _slicedToArray(_ref46, 2),\n                    $ = _ref47[0],\n                    q = _ref47[1];\n\n                a.setQueryData($, q);\n              }) : L.mutate(y({\n                resource: R\n              }, g), {\n                onSettled: b,\n                onError: v\n              });\n            });\n\n          case 16:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, _callee4);\n  })), \"update\"), L];\n}, \"useUpdate\");\nimport { useRef as qr } from \"react\";\nimport { useMutation as zc, useQueryClient as Hc } from \"react-query\";\nvar yx = n(function (e) {\n  var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var r = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var o = W(),\n      a = Hc(),\n      s = t.ids,\n      i = t.data,\n      u = t.meta,\n      P = r,\n      _P$mutationMode2 = P.mutationMode,\n      c = _P$mutationMode2 === void 0 ? \"pessimistic\" : _P$mutationMode2,\n      l = N(P, [\"mutationMode\"]),\n      m = qr(c),\n      f = qr(t),\n      M = qr([]),\n      T = n( /*#__PURE__*/function () {\n    var _ref49 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5(_ref48) {\n      var R, g, S, C, h, E;\n      return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              R = _ref48.resource, g = _ref48.ids, S = _ref48.data, C = _ref48.meta;\n              h = m.current === \"undoable\" ? Date.now() + 1e3 * 5 : Date.now(), E = n(function (b) {\n                if (!b) return;\n\n                var v = _toConsumableArray(b);\n\n                return g.forEach(function (I) {\n                  var F = b.findIndex(function (A) {\n                    return A.id == I;\n                  });\n                  F !== -1 && (v = [].concat(_toConsumableArray(v.slice(0, F)), [y(y({}, v[F]), S)], _toConsumableArray(v.slice(F + 1))));\n                }), v;\n              }, \"updateColl\");\n              g.forEach(function (b) {\n                return a.setQueryData([R, \"getOne\", {\n                  id: String(b),\n                  meta: C\n                }], function (v) {\n                  return y(y({}, v), S);\n                }, {\n                  updatedAt: h\n                });\n              }), a.setQueriesData([R, \"getList\"], function (b) {\n                return b && b.data ? {\n                  data: E(b.data),\n                  total: b.total\n                } : b;\n              }, {\n                updatedAt: h\n              }), a.setQueriesData([R, \"getMany\"], function (b) {\n                return b && b.length > 0 ? E(b) : b;\n              }, {\n                updatedAt: h\n              }), a.setQueriesData([R, \"getManyReference\"], function (b) {\n                return b && b.data ? {\n                  data: E(b.data),\n                  total: b.total\n                } : b;\n              }, {\n                updatedAt: h\n              });\n\n            case 3:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, _callee5);\n    }));\n\n    return function (_x3) {\n      return _ref49.apply(this, arguments);\n    };\n  }(), \"updateCache\"),\n      L = zc(function () {\n    var _ref50 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        _ref50$resource = _ref50.resource,\n        R = _ref50$resource === void 0 ? e : _ref50$resource,\n        _ref50$ids = _ref50.ids,\n        g = _ref50$ids === void 0 ? f.current.ids : _ref50$ids,\n        _ref50$data = _ref50.data,\n        S = _ref50$data === void 0 ? f.current.data : _ref50$data,\n        _ref50$meta = _ref50.meta,\n        C = _ref50$meta === void 0 ? f.current.meta : _ref50$meta;\n\n    return o.updateMany(R, {\n      ids: g,\n      data: S,\n      meta: C\n    }).then(function (_ref51) {\n      var h = _ref51.data;\n      return h;\n    });\n  }, D(y({}, l), {\n    onMutate: function () {\n      var _onMutate2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee6(R) {\n        var g;\n        return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                if (!l.onMutate) {\n                  _context6.next = 10;\n                  break;\n                }\n\n                _context6.next = 3;\n                return l.onMutate(R);\n\n              case 3:\n                _context6.t0 = _context6.sent;\n\n                if (_context6.t0) {\n                  _context6.next = 6;\n                  break;\n                }\n\n                _context6.t0 = {};\n\n              case 6:\n                g = _context6.t0;\n                return _context6.abrupt(\"return\", y({\n                  snapshot: M.current\n                }, g));\n\n              case 10:\n                return _context6.abrupt(\"return\", {\n                  snapshot: M.current\n                });\n\n              case 11:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6);\n      }));\n\n      function onMutate(_x4) {\n        return _onMutate2.apply(this, arguments);\n      }\n\n      return onMutate;\n    }(),\n    onError: function onError(R) {\n      var g = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var S = arguments.length > 2 ? arguments[2] : undefined;\n      if ((m.current === \"optimistic\" || m.current === \"undoable\") && S.snapshot.forEach(function (_ref52) {\n        var _ref53 = _slicedToArray(_ref52, 2),\n            C = _ref53[0],\n            h = _ref53[1];\n\n        a.setQueryData(C, h);\n      }), l.onError) return l.onError(R, g, S);\n    },\n    onSuccess: function onSuccess(R) {\n      var g = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var S = arguments.length > 2 ? arguments[2] : undefined;\n\n      if (m.current === \"pessimistic\") {\n        var _g$resource2 = g.resource,\n            C = _g$resource2 === void 0 ? e : _g$resource2,\n            _g$ids = g.ids,\n            h = _g$ids === void 0 ? s : _g$ids,\n            _g$meta2 = g.meta,\n            E = _g$meta2 === void 0 ? u : _g$meta2;\n        T({\n          resource: C,\n          ids: h,\n          data: R,\n          meta: E\n        }), l.onSuccess && l.onSuccess(R, g, S);\n      }\n    },\n    onSettled: function onSettled(R, g) {\n      var S = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      var C = arguments.length > 3 ? arguments[3] : undefined;\n      if ((m.current === \"optimistic\" || m.current === \"undoable\") && C.snapshot.forEach(function (_ref54) {\n        var _ref55 = _slicedToArray(_ref54, 1),\n            h = _ref55[0];\n\n        a.invalidateQueries(h);\n      }), l.onSettled) return l.onSettled(R, g, S, C);\n    }\n  }));\n  return [n( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee7() {\n    var R,\n        g,\n        S,\n        C,\n        h,\n        E,\n        b,\n        _g$ids2,\n        v,\n        _g$data2,\n        I,\n        _g$meta3,\n        F,\n        A,\n        _args7 = arguments;\n\n    return _regeneratorRuntime.wrap(function _callee7$(_context7) {\n      while (1) {\n        switch (_context7.prev = _context7.next) {\n          case 0:\n            R = _args7.length > 0 && _args7[0] !== undefined ? _args7[0] : e;\n            g = _args7.length > 1 && _args7[1] !== undefined ? _args7[1] : {};\n            S = _args7.length > 2 && _args7[2] !== undefined ? _args7[2] : {};\n            C = S.mutationMode, h = S.onSuccess, E = S.onSettled, b = S.onError;\n\n            if (!(f.current = t, C && (m.current = C), m.current === \"pessimistic\")) {\n              _context7.next = 6;\n              break;\n            }\n\n            return _context7.abrupt(\"return\", L.mutate(y({\n              resource: R\n            }, g), {\n              onSuccess: h,\n              onSettled: E,\n              onError: b\n            }));\n\n          case 6:\n            _g$ids2 = g.ids, v = _g$ids2 === void 0 ? s : _g$ids2, _g$data2 = g.data, I = _g$data2 === void 0 ? i : _g$data2, _g$meta3 = g.meta, F = _g$meta3 === void 0 ? u : _g$meta3, A = [[R, \"getOne\"], [R, \"getList\"], [R, \"getMany\"], [R, \"getManyReference\"]];\n            M.current = A.reduce(function (w, O) {\n              return w.concat(a.getQueriesData(O));\n            }, []);\n            _context7.next = 10;\n            return Promise.all(M.current.map(function (_ref57) {\n              var _ref58 = _slicedToArray(_ref57, 1),\n                  w = _ref58[0];\n\n              return a.cancelQueries(w);\n            }));\n\n          case 10:\n            _context7.next = 12;\n            return T({\n              resource: R,\n              ids: v,\n              data: I,\n              meta: F\n            });\n\n          case 12:\n            h && setTimeout(function () {\n              return h(v, y({\n                resource: R\n              }, g), {\n                snapshot: M.current\n              });\n            }, 0);\n            l.onSuccess && setTimeout(function () {\n              return l.onSuccess(v, y({\n                resource: R\n              }, g), {\n                snapshot: M.current\n              });\n            }, 0);\n\n            if (!(m.current === \"optimistic\")) {\n              _context7.next = 16;\n              break;\n            }\n\n            return _context7.abrupt(\"return\", L.mutate(y({\n              resource: R\n            }, g), {\n              onSettled: E,\n              onError: b\n            }));\n\n          case 16:\n            ye.once(\"end\", function (_ref59) {\n              var w = _ref59.isUndo;\n              w ? M.current.forEach(function (_ref60) {\n                var _ref61 = _slicedToArray(_ref60, 2),\n                    O = _ref61[0],\n                    k = _ref61[1];\n\n                a.setQueryData(O, k);\n              }) : L.mutate(y({\n                resource: R\n              }, g), {\n                onSettled: E,\n                onError: b\n              });\n            });\n\n          case 17:\n          case \"end\":\n            return _context7.stop();\n        }\n      }\n    }, _callee7);\n  })), \"updateMany\"), L];\n}, \"useUpdateMany\");\nimport { useRef as Kr } from \"react\";\nimport { useMutation as Wc, useQueryClient as Yc } from \"react-query\";\nvar Qt = n(function (e) {\n  var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var r = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var o = W(),\n      a = Yc(),\n      s = t.id,\n      i = t.previousData,\n      x = r,\n      _x$mutationMode = x.mutationMode,\n      u = _x$mutationMode === void 0 ? \"pessimistic\" : _x$mutationMode,\n      c = N(x, [\"mutationMode\"]),\n      l = Kr(u),\n      m = Kr(t),\n      f = Kr([]),\n      M = n(function (_ref62) {\n    var P = _ref62.resource,\n        R = _ref62.id;\n    var g = Date.now(),\n        S = l.current === \"undoable\" ? g + 5 * 1e3 : g,\n        C = n(function (h) {\n      if (!h) return;\n      var E = h.findIndex(function (b) {\n        return b.id == R;\n      });\n      return E === -1 ? h : [].concat(_toConsumableArray(h.slice(0, E)), _toConsumableArray(h.slice(E + 1)));\n    }, \"updateColl\");\n    a.setQueriesData([P, \"getList\"], function (h) {\n      if (!h || !h.data) return h;\n      var E = C(h.data);\n      return E.length < h.data.length ? {\n        data: E,\n        total: h.total - 1\n      } : h;\n    }, {\n      updatedAt: S\n    }), a.setQueriesData([P, \"getMany\"], function (h) {\n      return h && h.length > 0 ? C(h) : h;\n    }, {\n      updatedAt: S\n    }), a.setQueriesData([P, \"getManyReference\"], function (h) {\n      if (!h || !h.data) return h;\n      var E = C(h.data);\n      return E.length < h.data.length ? {\n        data: E,\n        total: h.total - 1\n      } : h;\n    }, {\n      updatedAt: S\n    });\n  }, \"updateCache\"),\n      T = Wc(function () {\n    var _ref63 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        _ref63$resource = _ref63.resource,\n        P = _ref63$resource === void 0 ? e : _ref63$resource,\n        _ref63$id = _ref63.id,\n        R = _ref63$id === void 0 ? m.current.id : _ref63$id,\n        _ref63$previousData = _ref63.previousData,\n        g = _ref63$previousData === void 0 ? m.current.previousData : _ref63$previousData,\n        _ref63$meta = _ref63.meta,\n        S = _ref63$meta === void 0 ? m.current.meta : _ref63$meta;\n\n    return o.delete(P, {\n      id: R,\n      previousData: g,\n      meta: S\n    }).then(function (_ref64) {\n      var C = _ref64.data;\n      return C;\n    });\n  }, D(y({}, c), {\n    onMutate: function () {\n      var _onMutate3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee8(P) {\n        var R;\n        return _regeneratorRuntime.wrap(function _callee8$(_context8) {\n          while (1) {\n            switch (_context8.prev = _context8.next) {\n              case 0:\n                if (!c.onMutate) {\n                  _context8.next = 10;\n                  break;\n                }\n\n                _context8.next = 3;\n                return c.onMutate(P);\n\n              case 3:\n                _context8.t0 = _context8.sent;\n\n                if (_context8.t0) {\n                  _context8.next = 6;\n                  break;\n                }\n\n                _context8.t0 = {};\n\n              case 6:\n                R = _context8.t0;\n                return _context8.abrupt(\"return\", y({\n                  snapshot: f.current\n                }, R));\n\n              case 10:\n                return _context8.abrupt(\"return\", {\n                  snapshot: f.current\n                });\n\n              case 11:\n              case \"end\":\n                return _context8.stop();\n            }\n          }\n        }, _callee8);\n      }));\n\n      function onMutate(_x5) {\n        return _onMutate3.apply(this, arguments);\n      }\n\n      return onMutate;\n    }(),\n    onError: function onError(P) {\n      var R = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var g = arguments.length > 2 ? arguments[2] : undefined;\n      if ((l.current === \"optimistic\" || l.current === \"undoable\") && g.snapshot.forEach(function (_ref65) {\n        var _ref66 = _slicedToArray(_ref65, 2),\n            S = _ref66[0],\n            C = _ref66[1];\n\n        a.setQueryData(S, C);\n      }), c.onError) return c.onError(P, R, g);\n    },\n    onSuccess: function onSuccess(P) {\n      var R = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var g = arguments.length > 2 ? arguments[2] : undefined;\n\n      if (l.current === \"pessimistic\") {\n        var _R$resource = R.resource,\n            S = _R$resource === void 0 ? e : _R$resource,\n            _R$id = R.id,\n            C = _R$id === void 0 ? s : _R$id;\n        M({\n          resource: S,\n          id: C\n        }), c.onSuccess && c.onSuccess(P, R, g);\n      }\n    },\n    onSettled: function onSettled(P, R) {\n      var g = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      var S = arguments.length > 3 ? arguments[3] : undefined;\n      if ((l.current === \"optimistic\" || l.current === \"undoable\") && S.snapshot.forEach(function (_ref67) {\n        var _ref68 = _slicedToArray(_ref67, 1),\n            C = _ref68[0];\n\n        a.invalidateQueries(C);\n      }), c.onSettled) return c.onSettled(P, R, g, S);\n    }\n  }));\n  return [n( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee9() {\n    var P,\n        R,\n        g,\n        S,\n        C,\n        h,\n        E,\n        _R$id2,\n        b,\n        _R$previousData,\n        v,\n        I,\n        _args9 = arguments;\n\n    return _regeneratorRuntime.wrap(function _callee9$(_context9) {\n      while (1) {\n        switch (_context9.prev = _context9.next) {\n          case 0:\n            P = _args9.length > 0 && _args9[0] !== undefined ? _args9[0] : e;\n            R = _args9.length > 1 && _args9[1] !== undefined ? _args9[1] : {};\n            g = _args9.length > 2 && _args9[2] !== undefined ? _args9[2] : {};\n            S = g.mutationMode, C = g.onSuccess, h = g.onSettled, E = g.onError;\n\n            if (!(m.current = t, S && (l.current = S), l.current === \"pessimistic\")) {\n              _context9.next = 6;\n              break;\n            }\n\n            return _context9.abrupt(\"return\", T.mutate(y({\n              resource: P\n            }, R), {\n              onSuccess: C,\n              onSettled: h,\n              onError: E\n            }));\n\n          case 6:\n            _R$id2 = R.id, b = _R$id2 === void 0 ? s : _R$id2, _R$previousData = R.previousData, v = _R$previousData === void 0 ? i : _R$previousData, I = [[P, \"getList\"], [P, \"getMany\"], [P, \"getManyReference\"]];\n            f.current = I.reduce(function (F, A) {\n              return F.concat(a.getQueriesData(A));\n            }, []);\n            _context9.next = 10;\n            return Promise.all(f.current.map(function (_ref70) {\n              var _ref71 = _slicedToArray(_ref70, 1),\n                  F = _ref71[0];\n\n              return a.cancelQueries(F);\n            }));\n\n          case 10:\n            M({\n              resource: P,\n              id: b\n            });\n            C && setTimeout(function () {\n              return C(v, y({\n                resource: P\n              }, R), {\n                snapshot: f.current\n              });\n            }, 0);\n            c.onSuccess && setTimeout(function () {\n              return c.onSuccess(v, y({\n                resource: P\n              }, R), {\n                snapshot: f.current\n              });\n            }, 0);\n\n            if (!(l.current === \"optimistic\")) {\n              _context9.next = 15;\n              break;\n            }\n\n            return _context9.abrupt(\"return\", T.mutate(y({\n              resource: P\n            }, R), {\n              onSettled: h,\n              onError: E\n            }));\n\n          case 15:\n            ye.once(\"end\", function (_ref72) {\n              var F = _ref72.isUndo;\n              F ? f.current.forEach(function (_ref73) {\n                var _ref74 = _slicedToArray(_ref73, 2),\n                    A = _ref74[0],\n                    w = _ref74[1];\n\n                a.setQueryData(A, w);\n              }) : T.mutate(y({\n                resource: P\n              }, R), {\n                onSettled: h,\n                onError: E\n              });\n            });\n\n          case 16:\n          case \"end\":\n            return _context9.stop();\n        }\n      }\n    }, _callee9);\n  })), \"mutate\"), T];\n}, \"useDelete\");\nimport { useRef as Xr } from \"react\";\nimport { useMutation as Jc, useQueryClient as $c } from \"react-query\";\nvar Fx = n(function (e) {\n  var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var r = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var o = W(),\n      a = $c(),\n      s = t.ids,\n      L = r,\n      _L$mutationMode = L.mutationMode,\n      i = _L$mutationMode === void 0 ? \"pessimistic\" : _L$mutationMode,\n      u = N(L, [\"mutationMode\"]),\n      c = Xr(i),\n      l = Xr({}),\n      m = Xr([]),\n      f = n(function (_ref75) {\n    var x = _ref75.resource,\n        P = _ref75.ids;\n    var R = Date.now(),\n        g = c.current === \"undoable\" ? R + 5 * 1e3 : R,\n        S = n(function (C) {\n      if (!C) return;\n\n      var h = _toConsumableArray(C);\n\n      return P.forEach(function (E) {\n        var b = h.findIndex(function (v) {\n          return v.id == E;\n        });\n        b !== -1 && (h = [].concat(_toConsumableArray(h.slice(0, b)), _toConsumableArray(h.slice(b + 1))));\n      }), h;\n    }, \"updateColl\");\n    a.setQueriesData([x, \"getList\"], function (C) {\n      if (!C || !C.data) return C;\n      var h = S(C.data);\n      return h.length < C.data.length ? {\n        data: h,\n        total: C.total - (C.data.length - h.length)\n      } : C;\n    }, {\n      updatedAt: g\n    }), a.setQueriesData([x, \"getMany\"], function (C) {\n      return C && C.length > 0 ? S(C) : C;\n    }, {\n      updatedAt: g\n    }), a.setQueriesData([x, \"getManyReference\"], function (C) {\n      if (!C || !C.data) return C;\n      var h = S(C.data);\n      return h.length < C.data.length ? {\n        data: h,\n        total: C.total - (C.data.length - h.length)\n      } : C;\n    }, {\n      updatedAt: g\n    });\n  }, \"updateCache\"),\n      M = Jc(function () {\n    var _ref76 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        _ref76$resource = _ref76.resource,\n        x = _ref76$resource === void 0 ? e : _ref76$resource,\n        _ref76$ids = _ref76.ids,\n        P = _ref76$ids === void 0 ? l.current.ids : _ref76$ids,\n        _ref76$meta = _ref76.meta,\n        R = _ref76$meta === void 0 ? l.current.meta : _ref76$meta;\n\n    return o.deleteMany(x, {\n      ids: P,\n      meta: R\n    }).then(function (_ref77) {\n      var g = _ref77.data;\n      return g;\n    });\n  }, D(y({}, u), {\n    onMutate: function () {\n      var _onMutate4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee10(x) {\n        var P;\n        return _regeneratorRuntime.wrap(function _callee10$(_context10) {\n          while (1) {\n            switch (_context10.prev = _context10.next) {\n              case 0:\n                if (!u.onMutate) {\n                  _context10.next = 10;\n                  break;\n                }\n\n                _context10.next = 3;\n                return u.onMutate(x);\n\n              case 3:\n                _context10.t0 = _context10.sent;\n\n                if (_context10.t0) {\n                  _context10.next = 6;\n                  break;\n                }\n\n                _context10.t0 = {};\n\n              case 6:\n                P = _context10.t0;\n                return _context10.abrupt(\"return\", y({\n                  snapshot: m.current\n                }, P));\n\n              case 10:\n                return _context10.abrupt(\"return\", {\n                  snapshot: m.current\n                });\n\n              case 11:\n              case \"end\":\n                return _context10.stop();\n            }\n          }\n        }, _callee10);\n      }));\n\n      function onMutate(_x6) {\n        return _onMutate4.apply(this, arguments);\n      }\n\n      return onMutate;\n    }(),\n    onError: function onError(x) {\n      var P = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var R = arguments.length > 2 ? arguments[2] : undefined;\n      if ((c.current === \"optimistic\" || c.current === \"undoable\") && R.snapshot.forEach(function (_ref78) {\n        var _ref79 = _slicedToArray(_ref78, 2),\n            g = _ref79[0],\n            S = _ref79[1];\n\n        a.setQueryData(g, S);\n      }), u.onError) return u.onError(x, P, R);\n    },\n    onSuccess: function onSuccess(x) {\n      var P = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var R = arguments.length > 2 ? arguments[2] : undefined;\n\n      if (c.current === \"pessimistic\") {\n        var _P$resource = P.resource,\n            g = _P$resource === void 0 ? e : _P$resource,\n            _P$ids = P.ids,\n            S = _P$ids === void 0 ? s : _P$ids;\n        f({\n          resource: g,\n          ids: S\n        }), u.onSuccess && u.onSuccess(x, P, R);\n      }\n    },\n    onSettled: function onSettled(x, P) {\n      var R = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      var g = arguments.length > 3 ? arguments[3] : undefined;\n      if ((c.current === \"optimistic\" || c.current === \"undoable\") && g.snapshot.forEach(function (_ref80) {\n        var _ref81 = _slicedToArray(_ref80, 1),\n            S = _ref81[0];\n\n        a.invalidateQueries(S);\n      }), u.onSettled) return u.onSettled(x, P, R, g);\n    }\n  }));\n  return [n( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee11() {\n    var x,\n        P,\n        R,\n        g,\n        S,\n        C,\n        h,\n        _P$ids2,\n        E,\n        b,\n        _args11 = arguments;\n\n    return _regeneratorRuntime.wrap(function _callee11$(_context11) {\n      while (1) {\n        switch (_context11.prev = _context11.next) {\n          case 0:\n            x = _args11.length > 0 && _args11[0] !== undefined ? _args11[0] : e;\n            P = _args11.length > 1 && _args11[1] !== undefined ? _args11[1] : {};\n            R = _args11.length > 2 && _args11[2] !== undefined ? _args11[2] : {};\n            g = R.mutationMode, S = R.onSuccess, C = R.onSettled, h = R.onError;\n\n            if (!(l.current = t, g && (c.current = g), c.current === \"pessimistic\")) {\n              _context11.next = 6;\n              break;\n            }\n\n            return _context11.abrupt(\"return\", M.mutate(y({\n              resource: x\n            }, P), {\n              onSuccess: S,\n              onSettled: C,\n              onError: h\n            }));\n\n          case 6:\n            _P$ids2 = P.ids, E = _P$ids2 === void 0 ? s : _P$ids2, b = [[x, \"getList\"], [x, \"getMany\"], [x, \"getManyReference\"]];\n            m.current = b.reduce(function (v, I) {\n              return v.concat(a.getQueriesData(I));\n            }, []);\n            _context11.next = 10;\n            return Promise.all(m.current.map(function (_ref83) {\n              var _ref84 = _slicedToArray(_ref83, 1),\n                  v = _ref84[0];\n\n              return a.cancelQueries(v);\n            }));\n\n          case 10:\n            f({\n              resource: x,\n              ids: E\n            });\n            S && setTimeout(function () {\n              return S(E, y({\n                resource: x\n              }, P), {\n                snapshot: m.current\n              });\n            }, 0);\n            u.onSuccess && setTimeout(function () {\n              return u.onSuccess(E, y({\n                resource: x\n              }, P), {\n                snapshot: m.current\n              });\n            }, 0);\n\n            if (!(c.current === \"optimistic\")) {\n              _context11.next = 15;\n              break;\n            }\n\n            return _context11.abrupt(\"return\", M.mutate(y({\n              resource: x\n            }, P), {\n              onSettled: C,\n              onError: h\n            }));\n\n          case 15:\n            ye.once(\"end\", function (_ref85) {\n              var v = _ref85.isUndo;\n              v ? m.current.forEach(function (_ref86) {\n                var _ref87 = _slicedToArray(_ref86, 2),\n                    I = _ref87[0],\n                    F = _ref87[1];\n\n                a.setQueryData(I, F);\n              }) : M.mutate(y({\n                resource: x\n              }, P), {\n                onSettled: C,\n                onError: h\n              });\n            });\n\n          case 16:\n          case \"end\":\n            return _context11.stop();\n        }\n      }\n    }, _callee11);\n  })), \"mutate\"), M];\n}, \"useDeleteMany\");\nimport * as kn from \"react\";\nimport { createContext as Zc, useCallback as Bc, useState as qc } from \"react\";\nimport Kc from \"lodash/isEqual\";\nvar et = Zc([{}, function () {}]),\n    jn = n(function (_ref88) {\n  var _ref88$definitions = _ref88.definitions,\n      e = _ref88$definitions === void 0 ? {} : _ref88$definitions,\n      t = _ref88.children;\n\n  var _qc = qc(e),\n      _qc2 = _slicedToArray(_qc, 2),\n      r = _qc2[0],\n      o = _qc2[1],\n      a = Bc(function (s) {\n    o(function (i) {\n      return Kc(i[s.name], s) ? i : D(y({}, i), _defineProperty({}, s.name, s));\n    });\n  }, []);\n\n  return kn.createElement(et.Provider, {\n    value: [r, a]\n  }, t);\n}, \"ResourceDefinitionContextProvider\");\nvar to = n(function (e) {\n  var t = e.authProvider,\n      r = e.basename,\n      o = e.dataProvider,\n      a = e.i18nProvider,\n      s = e.store,\n      i = e.children,\n      u = e.history,\n      c = e.queryClient;\n  if (!o) throw new Error(\"Missing dataProvider prop.\\nReact-admin requires a valid dataProvider function to work.\");\n  var l = eo(function () {\n    return c || new eu();\n  }, [c]),\n      m = eo(function () {\n    return t instanceof Function ? kr(t) : t;\n  }, [t]),\n      f = eo(function () {\n    return o instanceof Function ? $r(o) : o;\n  }, [o]);\n  return ge.createElement(Ye.Provider, {\n    value: m\n  }, ge.createElement(qe.Provider, {\n    value: f\n  }, ge.createElement(Yo, {\n    value: s\n  }, ge.createElement(Xc, {\n    client: l\n  }, ge.createElement(Go, {\n    history: u,\n    basename: r\n  }, ge.createElement(At, {\n    value: a\n  }, ge.createElement($o, null, ge.createElement(jn, null, i))))))));\n}, \"CoreAdminContext\");\nto.defaultProps = {\n  dataProvider: je,\n  store: Et()\n};\nimport * as xe from \"react\";\nimport { useEffect as du, isValidElement as pu, createElement as mu } from \"react\";\nimport { Routes as fu, Route as Qn } from \"react-router-dom\";\nimport * as J from \"react\";\nimport { useState as su, useEffect as iu, Children as cu } from \"react\";\nimport { Navigate as uu, Route as Qe, Routes as no } from \"react-router-dom\";\nimport ou, { Children as nu, Fragment as au, useEffect as ro } from \"react\";\nimport { useCallback as tu, useContext as ru } from \"react\";\nvar Vn = n(function () {\n  var _ru = ru(et),\n      _ru2 = _slicedToArray(_ru, 2),\n      e = _ru2[1];\n\n  return tu(function () {\n    for (var _len4 = arguments.length, r = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n      r[_key4] = arguments[_key4];\n    }\n\n    r.forEach(function (o) {\n      e(o);\n    });\n  }, [e]);\n}, \"useRegisterResource\");\n\nvar Gn = n(function (e) {\n  var t = Ee(),\n      r = be(),\n      _Ar = Ar(),\n      o = _Ar.authenticated,\n      a = Vn(),\n      s = _t(e),\n      _Q11 = Q(s.customRoutesWithoutLayout),\n      _Q12 = _slicedToArray(_Q11, 2),\n      i = _Q12[0],\n      u = _Q12[1],\n      _Q13 = Q(s.customRoutesWithLayout),\n      _Q14 = _slicedToArray(_Q13, 2),\n      c = _Q14[0],\n      l = _Q14[1],\n      _Q15 = Q(s.resources),\n      _Q16 = _slicedToArray(_Q15, 2),\n      m = _Q16[0],\n      f = _Q16[1],\n      _Q17 = Q(function () {\n    return oo(e) ? \"loading\" : m.length > 0 ? \"ready\" : \"empty\";\n  }),\n      _Q18 = _slicedToArray(_Q17, 2),\n      M = _Q18[0],\n      T = _Q18[1];\n\n  return ro(function () {\n    var L = oo(e),\n        x = _t(e);\n\n    l(x.customRoutesWithLayout), u(x.customRoutesWithoutLayout), f(x.resources), T(L ? \"loading\" : x.resources.length > 0 ? \"ready\" : \"empty\");\n  }, [e, l, u, f, T]), ro(function () {\n    var L = n( /*#__PURE__*/function () {\n      var _ref89 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee12(P) {\n        var R, g, S;\n        return _regeneratorRuntime.wrap(function _callee12$(_context12) {\n          while (1) {\n            switch (_context12.prev = _context12.next) {\n              case 0:\n                R = n(function (g) {\n                  var S = _t(g);\n\n                  l(function (C) {\n                    return C.concat(S.customRoutesWithLayout);\n                  }), u(function (C) {\n                    return C.concat(S.customRoutesWithoutLayout);\n                  }), f(function (C) {\n                    return C.concat(S.resources);\n                  });\n                }, \"updateRoutesAndResources\");\n                _context12.prev = 1;\n                _context12.next = 4;\n                return t();\n\n              case 4:\n                g = _context12.sent;\n                S = P(g);\n                S.then ? S.then(function (C) {\n                  R(C);\n                }) : R(S), T(\"ready\");\n                _context12.next = 12;\n                break;\n\n              case 9:\n                _context12.prev = 9;\n                _context12.t0 = _context12[\"catch\"](1);\n                console.error(_context12.t0), r();\n\n              case 12:\n              case \"end\":\n                return _context12.stop();\n            }\n          }\n        }, _callee12, null, [[1, 9]]);\n      }));\n\n      return function (_x7) {\n        return _ref89.apply(this, arguments);\n      };\n    }(), \"resolveChildFunction\"),\n        x = oo(e);\n    x && L(x);\n  }, [o, e, r, t, l, u, f, T]), ro(function () {\n    m.forEach(function (L) {\n      if (typeof L.type.registerResource == \"function\") {\n        var x = L.type.registerResource(L.props);\n        a(x);\n      } else throw new Error(\"When using a custom Resource element, it must have a static registerResource method accepting its props and returning a ResourceDefinition\");\n    });\n  }, [a, m]), {\n    customRoutesWithLayout: c,\n    customRoutesWithoutLayout: i,\n    status: M,\n    resources: m\n  };\n}, \"useConfigureAdminRouterFromChildren\"),\n    oo = n(function (e) {\n  var r = (Array.isArray(e) ? e : [e]).filter(function (o) {\n    return typeof o == \"function\";\n  });\n  if (r.length > 1) throw new Error(\"You can only provide one function child to AdminRouter\");\n  return r.length === 0 ? null : r[0];\n}, \"getSingleChildFunction\"),\n    _t = n(function (e) {\n  var t = [],\n      r = [],\n      o = [];\n  return nu.forEach(e, function (a) {\n    if (!!ou.isValidElement(a)) {\n      if (a.type === au) {\n        var s = _t(a.props.children);\n\n        t.push.apply(t, _toConsumableArray(s.customRoutesWithLayout)), r.push.apply(r, _toConsumableArray(s.customRoutesWithoutLayout)), o.push.apply(o, _toConsumableArray(s.resources));\n      }\n\n      if (a.type.raName === \"CustomRoutes\") {\n        var _s2 = a;\n        _s2.props.noLayout ? r.push(_s2.props.children) : t.push(_s2.props.children);\n      } else a.type.raName === \"Resource\" && o.push(a);\n    }\n  }), {\n    customRoutesWithLayout: t,\n    customRoutesWithoutLayout: r,\n    resources: o\n  };\n}, \"getRoutesAndResourceFromNodes\");\n\nvar ao = n(function (e) {\n  var t = un(1e3);\n  Qo();\n\n  var r = Lt(),\n      _Gn = Gn(e.children),\n      o = _Gn.customRoutesWithLayout,\n      a = _Gn.customRoutesWithoutLayout,\n      s = _Gn.status,\n      i = _Gn.resources,\n      u = e.layout,\n      c = e.catchAll,\n      l = e.dashboard,\n      m = e.loading,\n      f = e.menu,\n      M = e.requireAuth,\n      T = e.ready,\n      L = e.title,\n      _su = su(!M),\n      _su2 = _slicedToArray(_su, 2),\n      x = _su2[0],\n      P = _su2[1],\n      R = ke();\n\n  return iu(function () {\n    M && R().then(function () {\n      P(!0);\n    }).catch(function () {});\n  }, [R, M]), s === \"empty\" ? J.createElement(T, null) : s === \"loading\" || !x ? J.createElement(no, null, a, t ? J.createElement(Qe, {\n    path: \"*\",\n    element: J.createElement(m, null)\n  }) : J.createElement(Qe, {\n    path: \"*\",\n    element: null\n  })) : J.createElement(no, null, a, J.createElement(Qe, {\n    path: \"/*\",\n    element: J.createElement(\"div\", null, J.createElement(u, {\n      dashboard: l,\n      menu: f,\n      title: L\n    }, J.createElement(no, null, o, cu.map(i, function (g) {\n      return J.createElement(Qe, {\n        key: g.props.name,\n        path: \"\".concat(g.props.name, \"/*\"),\n        element: g\n      });\n    }), J.createElement(Qe, {\n      path: \"/\",\n      element: l ? J.createElement(Fr, {\n        authParams: lu,\n        component: l\n      }) : i.length > 0 ? J.createElement(uu, {\n        to: r({\n          resource: i[0].props.name,\n          type: \"list\"\n        })\n      }) : null\n    }), J.createElement(Qe, {\n      path: \"*\",\n      element: J.createElement(c, {\n        title: L\n      })\n    }))))\n  }));\n}, \"CoreAdminRoutes\");\nao.defaultProps = {\n  customRoutes: []\n};\nvar lu = {\n  route: \"dashboard\"\n};\n\nvar yu = n(function (_ref90) {\n  var e = _ref90.children;\n  return xe.createElement(xe.Fragment, null, e);\n}, \"DefaultLayout\"),\n    _n = n(function (e) {\n  var _e$catchAll = e.catchAll,\n      t = _e$catchAll === void 0 ? zn : _e$catchAll,\n      r = e.children,\n      o = e.dashboard,\n      _e$disableTelemetry = e.disableTelemetry,\n      a = _e$disableTelemetry === void 0 ? !1 : _e$disableTelemetry,\n      _e$layout = e.layout,\n      s = _e$layout === void 0 ? yu : _e$layout,\n      _e$loading = e.loading,\n      i = _e$loading === void 0 ? zn : _e$loading,\n      _e$loginPage = e.loginPage,\n      u = _e$loginPage === void 0 ? !1 : _e$loginPage,\n      c = e.menu,\n      _e$ready = e.ready,\n      l = _e$ready === void 0 ? Ir : _e$ready,\n      _e$title = e.title,\n      m = _e$title === void 0 ? \"React Admin\" : _e$title,\n      _e$requireAuth = e.requireAuth,\n      f = _e$requireAuth === void 0 ? !1 : _e$requireAuth;\n  return du(function () {\n    if (a || process.env.NODE_ENV !== \"production\" || typeof window == \"undefined\" || typeof window.location == \"undefined\" || typeof Image == \"undefined\") return;\n    var M = new Image();\n    M.src = \"https://react-admin-telemetry.marmelab.com/react-admin-telemetry?domain=\".concat(window.location.hostname);\n  }, [a]), xe.createElement(fu, null, u !== !1 && u !== !0 ? xe.createElement(Qn, {\n    path: \"/login\",\n    element: gu(u)\n  }) : null, xe.createElement(Qn, {\n    path: \"/*\",\n    element: xe.createElement(ao, {\n      catchAll: t,\n      dashboard: o,\n      layout: s,\n      loading: i,\n      menu: c,\n      requireAuth: f,\n      ready: l,\n      title: m\n    }, r)\n  }));\n}, \"CoreAdminUI\"),\n    gu = n(function (e) {\n  return pu(e) ? e : mu(e);\n}, \"createOrGetElement\"),\n    zn = n(function () {\n  return null;\n}, \"Noop\");\n\nvar JC = n(function (e) {\n  var t = e.authProvider,\n      r = e.basename,\n      o = e.catchAll,\n      a = e.children,\n      s = e.dashboard,\n      i = e.dataProvider,\n      u = e.disableTelemetry,\n      c = e.history,\n      l = e.i18nProvider,\n      m = e.queryClient,\n      f = e.layout,\n      M = e.loading,\n      T = e.loginPage,\n      L = e.menu,\n      x = e.requireAuth,\n      _e$title2 = e.title,\n      P = _e$title2 === void 0 ? \"React Admin\" : _e$title2;\n  return so.createElement(to, {\n    authProvider: t,\n    basename: r,\n    dataProvider: i,\n    i18nProvider: l,\n    queryClient: m,\n    history: c\n  }, so.createElement(_n, {\n    layout: f,\n    dashboard: s,\n    disableTelemetry: u,\n    menu: L,\n    catchAll: o,\n    title: P,\n    loading: M,\n    loginPage: T,\n    requireAuth: x\n  }, a));\n}, \"CoreAdmin\");\nvar Ru = n(function (e) {\n  return null;\n}, \"CustomRoutes\");\nRu.raName = \"CustomRoutes\";\nimport * as ne from \"react\";\nimport { isValidElement as Ht } from \"react\";\nimport { Route as Wt, Routes as Pu } from \"react-router-dom\";\nimport * as Hn from \"react\";\nvar zt = n(function (_ref91) {\n  var e = _ref91.children,\n      t = _ref91.value;\n  return t ? Hn.createElement(Ot.Provider, {\n    value: t\n  }, e) : e;\n}, \"ResourceContextProvider\");\nvar Wn = n(function (e) {\n  var t = e.create,\n      r = e.edit,\n      o = e.list,\n      a = e.name,\n      s = e.show;\n  return ne.createElement(zt, {\n    value: a\n  }, ne.createElement(Pu, null, t && ne.createElement(Wt, {\n    path: \"create/*\",\n    element: Ht(t) ? t : ne.createElement(t, null)\n  }), s && ne.createElement(Wt, {\n    path: \":id/show/*\",\n    element: Ht(s) ? s : ne.createElement(s, null)\n  }), r && ne.createElement(Wt, {\n    path: \":id/*\",\n    element: Ht(r) ? r : ne.createElement(r, null)\n  }), o && ne.createElement(Wt, {\n    path: \"/*\",\n    element: Ht(o) ? o : ne.createElement(o, null)\n  })));\n}, \"Resource\");\nWn.raName = \"Resource\";\n\nWn.registerResource = function (_ref92) {\n  var e = _ref92.create,\n      t = _ref92.edit,\n      r = _ref92.icon,\n      o = _ref92.list,\n      a = _ref92.name,\n      s = _ref92.options,\n      i = _ref92.show;\n  return {\n    name: a,\n    options: s,\n    hasList: !!o,\n    hasCreate: !!e,\n    hasEdit: !!t,\n    hasShow: !!i,\n    icon: r\n  };\n};\n\nimport io from \"inflection\";\nimport { useContext as hu } from \"react\";\nvar Yt = n(function () {\n  return hu(et)[0];\n}, \"useResourceDefinitions\");\nvar Ce = n(function () {\n  var e = _(),\n      t = Yt();\n\n  return function (r) {\n    var o = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 2;\n    var a = t[r];\n    return e(\"resources.\".concat(r, \".name\"), {\n      smart_count: o,\n      _: a && a.options && a.options.label ? e(a.options.label, {\n        smart_count: o,\n        _: a.options.label\n      }) : io.humanize(o > 1 ? io.pluralize(r) : io.singularize(r))\n    });\n  };\n}, \"useGetResourceLabel\");\nimport { useMemo as xu } from \"react\";\nimport Cu from \"lodash/defaults\";\nvar Yn = n(function (e) {\n  var t = H(e),\n      r = Yt(),\n      _ref93 = e || {},\n      o = _ref93.hasCreate,\n      a = _ref93.hasEdit,\n      s = _ref93.hasList,\n      i = _ref93.hasShow;\n\n  return xu(function () {\n    return Cu({}, {\n      hasCreate: o,\n      hasEdit: a,\n      hasList: s,\n      hasShow: i\n    }, r[t]);\n  }, [t, r, o, a, s, i]);\n}, \"useResourceDefinition\");\nimport Tu from \"jsonexport/dist\";\nvar co = n(function (e, t) {\n  var r = document.createElement(\"a\");\n  r.style.display = \"none\", document.body.appendChild(r);\n  var o = new Blob([e], {\n    type: \"text/csv;charset=utf-8\"\n  });\n  window.navigator && window.navigator.msSaveOrOpenBlob ? window.navigator.msSaveOrOpenBlob(o, \"\".concat(t, \".csv\")) : (r.setAttribute(\"href\", URL.createObjectURL(o)), r.setAttribute(\"download\", \"\".concat(t, \".csv\")), r.click());\n}, \"default\");\nvar Mu = n(function (e, t, r, o) {\n  return Tu(e, function (a, s) {\n    return co(s, o);\n  });\n}, \"defaultExporter\"),\n    tt = Mu;\nimport { createContext as Su } from \"react\";\nvar Jn = Su(tt);\nJn.displayName = \"ExporterContext\";\nvar Lu = Jn;\nvar bu = n(function (e) {\n  return function (t, r, o) {\n    return e.getMany(o, {\n      ids: Eu(t, r)\n    }).then(function (_ref94) {\n      var a = _ref94.data;\n      return a.reduce(function (s, i) {\n        return s[i.id] = i, s;\n      }, {});\n    });\n  };\n}, \"fetchRelatedRecords\"),\n    Eu = n(function (e, t) {\n  return Array.from(new Set(e.filter(function (r) {\n    return r[t] != null;\n  }).map(function (r) {\n    return r[t];\n  }).reduce(function (r, o) {\n    return r.concat(o);\n  }, [])));\n}, \"getRelatedIds\"),\n    vu = bu;\nimport * as Xn from \"react\";\nimport er from \"inflection\";\nvar ve = n(function (e) {\n  return e.reduce(function (t, r) {\n    return Object.keys(r).forEach(function (o) {\n      if (t[o] || (t[o] = []), r[o] != null) {\n        var a = Array.isArray(r[o]) ? [r[o]] : r[o];\n        t[o] = t[o].concat(a);\n      }\n    }), t;\n  }, {});\n}, \"default\");\nimport { createElement as $n } from \"react\";\n\nvar uo = /*#__PURE__*/function () {\n  function uo(t, r, o) {\n    _classCallCheck(this, uo);\n\n    this.type = t;\n    this.props = r;\n    this.children = o;\n  }\n\n  _createClass(uo, [{\n    key: \"getElement\",\n    value: function getElement() {\n      var t = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      if (!!this.isDefined()) return this.children ? $n(this.type.component, y(y({}, this.props), t), this.children.length > 0 ? this.children.map(function (r, o) {\n        return r.getElement({\n          key: o\n        });\n      }) : this.children.getElement()) : $n(this.type.component, y(y({}, this.props), t));\n    }\n  }, {\n    key: \"getProps\",\n    value: function getProps() {\n      return this.props;\n    }\n  }, {\n    key: \"isDefined\",\n    value: function isDefined() {\n      return !!this.type;\n    }\n  }, {\n    key: \"getRepresentation\",\n    value: function getRepresentation() {\n      if (!!this.isDefined()) return this.type.representation ? this.type.representation(this.props, this.children) : \"<\".concat(this.type.component.displayName || this.type.component.name, \" source=\\\"\").concat(this.props.source, \"\\\" />\");\n    }\n  }]);\n\n  return uo;\n}();\n\nn(uo, \"InferredElement\");\nvar z = uo;\nimport { isMatch as Zn, isValid as Du, parseISO as wu } from \"date-fns\";\nvar Iu = n(function (e) {\n  return !isNaN(parseFloat(e)) && isFinite(e);\n}, \"isNumeric\"),\n    rt = n(function (e) {\n  return e.every(Iu);\n}, \"valuesAreNumeric\"),\n    Au = n(function (e) {\n  return Number.isInteger(e) || !isNaN(parseInt(e));\n}, \"isInteger\"),\n    ot = n(function (e) {\n  return e.every(Au);\n}, \"valuesAreInteger\"),\n    Nu = n(function (e) {\n  return typeof e == \"boolean\";\n}, \"isBoolean\"),\n    Jt = n(function (e) {\n  return e.every(Nu);\n}, \"valuesAreBoolean\");\n\nvar Fu = n(function (e) {\n  return typeof e == \"string\";\n}, \"isString\"),\n    $t = n(function (e) {\n  return e.every(Fu);\n}, \"valuesAreString\"),\n    Ou = /<([A-Z][A-Z0-9]*)\\b[^>]*>(.*?)<\\/\\1>/i,\n    Uu = n(function (e) {\n  return !e || Ou.test(e);\n}, \"isHtml\"),\n    Zt = n(function (e) {\n  return e.every(Uu);\n}, \"valuesAreHtml\"),\n    ku = /http(s*):\\/\\/.*/i,\n    ju = n(function (e) {\n  return !e || ku.test(e);\n}, \"isUrl\"),\n    Bn = n(function (e) {\n  return e.every(ju);\n}, \"valuesAreUrl\"),\n    Vu = /http(s*):\\/\\/.*\\.(jpeg|jpg|jfif|pjpeg|pjp|png|svg|gif|webp|apng|bmp|ico|cur|tif|tiff)/i,\n    Gu = n(function (e) {\n  return !e || Vu.test(e);\n}, \"isImageUrl\"),\n    qn = n(function (e) {\n  return e.every(Gu);\n}, \"valuesAreImageUrl\"),\n    Qu = /@{1}/,\n    _u = n(function (e) {\n  return !e || Qu.test(e);\n}, \"isEmail\"),\n    Kn = n(function (e) {\n  return e.every(_u);\n}, \"valuesAreEmail\"),\n    zu = n(function (e) {\n  return Array.isArray(e);\n}, \"isArray\"),\n    Bt = n(function (e) {\n  return e.every(zu);\n}, \"valuesAreArray\"),\n    Hu = n(function (e) {\n  return !e || e instanceof Date;\n}, \"isDate\"),\n    qt = n(function (e) {\n  return e.every(Hu);\n}, \"valuesAreDate\"),\n    Wu = n(function (e) {\n  return !e || typeof e == \"string\" && (Zn(e, \"MM/dd/yyyy\") || Zn(e, \"MM/dd/yy\") || Du(wu(e)));\n}, \"isDateString\"),\n    Kt = n(function (e) {\n  return e.every(Wu);\n}, \"valuesAreDateString\"),\n    nt = n(function (e) {\n  return Object.prototype.toString.call(e) === \"[object Object]\";\n}, \"isObject\"),\n    Xt = n(function (e) {\n  return e.every(nt);\n}, \"valuesAreObject\");\n\nvar Yu = n(function () {\n  return Xn.createElement(\"span\", null, \";\");\n}, \"DefaultComponent\"),\n    ae = {\n  type: Yu,\n  representation: function representation() {\n    return \"<DefaultComponent />\";\n  }\n},\n    Ju = {\n  array: ae,\n  boolean: ae,\n  date: ae,\n  email: ae,\n  id: ae,\n  number: ae,\n  reference: ae,\n  referenceArray: ae,\n  richText: ae,\n  string: ae,\n  url: ae\n},\n    te = n(function (e, t) {\n  return typeof t[e] != \"undefined\";\n}, \"hasType\"),\n    lo = n(function (e) {\n  var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  var r = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : Ju;\n  if (e === \"id\" && te(\"id\", r)) return new z(r.id, {\n    source: e\n  });\n\n  if (e.substr(e.length - 3) === \"_id\" && te(\"reference\", r)) {\n    var o = er.pluralize(e.substr(0, e.length - 3));\n    return r.reference && new z(r.reference, {\n      source: e,\n      reference: o\n    }, new z(r.referenceChild));\n  }\n\n  if (e.substr(e.length - 2) === \"Id\" && te(\"reference\", r)) {\n    var _o2 = er.pluralize(e.substr(0, e.length - 2));\n\n    return r.reference && new z(r.reference, {\n      source: e,\n      reference: _o2\n    }, new z(r.referenceChild));\n  }\n\n  if (e.substr(e.length - 4) === \"_ids\" && te(\"referenceArray\", r)) {\n    var _o3 = er.pluralize(e.substr(0, e.length - 4));\n\n    return r.referenceArray && new z(r.referenceArray, {\n      source: e,\n      reference: _o3\n    }, new z(r.referenceArrayChild));\n  }\n\n  if (e.substr(e.length - 3) === \"Ids\" && te(\"referenceArray\", r)) {\n    var _o4 = er.pluralize(e.substr(0, e.length - 3));\n\n    return r.referenceArray && new z(r.referenceArray, {\n      source: e,\n      reference: _o4\n    }, new z(r.referenceArrayChild));\n  }\n\n  if (t.length === 0) return new z(r.string, {\n    source: e\n  });\n\n  if (Bt(t)) {\n    if (nt(t[0][0]) && te(\"array\", r)) {\n      var _o5 = ve(t.reduce(function (a, s) {\n        return a.concat(s);\n      }, []));\n\n      return r.array && new z(r.array, {\n        source: e\n      }, Object.keys(_o5).map(function (a) {\n        return lo(a, _o5[a], r);\n      }));\n    }\n\n    return new z(r.string, {\n      source: e\n    });\n  }\n\n  if (Jt(t) && te(\"boolean\", r)) return new z(r.boolean, {\n    source: e\n  });\n  if (qt(t) && te(\"date\", r)) return new z(r.date, {\n    source: e\n  });\n  if ($t(t)) return e === \"email\" && te(\"email\", r) ? new z(r.email, {\n    source: e\n  }) : e === \"url\" && te(\"url\", r) ? new z(r.url, {\n    source: e\n  }) : Kt(t) && te(\"date\", r) ? new z(r.date, {\n    source: e\n  }) : Zt(t) && te(\"richText\", r) ? new z(r.richText, {\n    source: e\n  }) : new z(r.string, {\n    source: e\n  });\n  if ((ot(t) || rt(t)) && te(\"number\", r)) return new z(r.number, {\n    source: e\n  });\n\n  if (Xt(t)) {\n    var _o6 = Object.keys(t[0]).shift(),\n        a = t.map(function (s) {\n      return s[_o6];\n    });\n\n    return lo(\"\".concat(e, \".\").concat(_o6), a, r);\n  }\n\n  return new z(r.string, {\n    source: e\n  });\n}, \"inferElementFromValues\"),\n    ea = lo;\nvar $u = n(function (e, t) {\n  var r = ve(e);\n  return Object.keys(r).reduce(function (o, a) {\n    return o.concat(ea(a, r[a], t));\n  }, []).filter(function (o) {\n    return o.isDefined();\n  });\n}, \"default\");\nimport tr from \"inflection\";\nvar WT = [\"array\", \"boolean\", \"date\", \"email\", \"id\", \"image\", \"number\", \"reference\", \"referenceChild\", \"referenceArray\", \"referenceArrayChild\", \"richText\", \"string\", \"url\", \"object\"],\n    ta = n(function (e) {\n  var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  if (e === \"id\") return {\n    type: \"id\",\n    props: {\n      source: e\n    }\n  };\n  if (e.substr(e.length - 3) === \"_id\") return {\n    type: \"reference\",\n    props: {\n      source: e,\n      reference: tr.pluralize(e.substr(0, e.length - 3))\n    },\n    children: {\n      type: \"referenceChild\"\n    }\n  };\n  if (e.substr(e.length - 2) === \"Id\") return {\n    type: \"reference\",\n    props: {\n      source: e,\n      reference: tr.pluralize(e.substr(0, e.length - 2))\n    },\n    children: {\n      type: \"referenceChild\"\n    }\n  };\n  if (e.substr(e.length - 4) === \"_ids\") return {\n    type: \"referenceArray\",\n    props: {\n      source: e,\n      reference: tr.pluralize(e.substr(0, e.length - 4))\n    },\n    children: {\n      type: \"referenceArrayChild\"\n    }\n  };\n  if (e.substr(e.length - 3) === \"Ids\") return {\n    type: \"referenceArray\",\n    props: {\n      source: e,\n      reference: tr.pluralize(e.substr(0, e.length - 3))\n    },\n    children: {\n      type: \"referenceArrayChild\"\n    }\n  };\n  if (t.length === 0) return e === \"email\" ? {\n    type: \"email\",\n    props: {\n      source: e\n    }\n  } : e === \"url\" ? {\n    type: \"url\",\n    props: {\n      source: e\n    }\n  } : {\n    type: \"string\",\n    props: {\n      source: e\n    }\n  };\n\n  if (Bt(t)) {\n    if (nt(t[0][0])) {\n      var r = ve(t.reduce(function (o, a) {\n        return o.concat(a);\n      }, []));\n      return {\n        type: \"array\",\n        props: {\n          source: e\n        },\n        children: Object.keys(r).map(function (o) {\n          return ta(o, r[o]);\n        })\n      };\n    }\n\n    return {\n      type: \"string\",\n      props: {\n        source: e\n      }\n    };\n  }\n\n  if (Jt(t)) return {\n    type: \"boolean\",\n    props: {\n      source: e\n    }\n  };\n  if (qt(t)) return {\n    type: \"date\",\n    props: {\n      source: e\n    }\n  };\n  if ($t(t)) return e === \"email\" || Kn(t) ? {\n    type: \"email\",\n    props: {\n      source: e\n    }\n  } : e === \"url\" || Bn(t) ? qn(t) ? {\n    type: \"image\",\n    props: {\n      source: e\n    }\n  } : {\n    type: \"url\",\n    props: {\n      source: e\n    }\n  } : Kt(t) ? {\n    type: \"date\",\n    props: {\n      source: e\n    }\n  } : Zt(t) ? {\n    type: \"richText\",\n    props: {\n      source: e\n    }\n  } : ot(t) || rt(t) ? {\n    type: \"number\",\n    props: {\n      source: e\n    }\n  } : {\n    type: \"string\",\n    props: {\n      source: e\n    }\n  };\n  if (ot(t) || rt(t)) return {\n    type: \"number\",\n    props: {\n      source: e\n    }\n  };\n\n  if (Xt(t)) {\n    var _r2 = Object.keys(t[0]).shift(),\n        o = t.map(function (a) {\n      return a[_r2];\n    });\n\n    return ta(\"\".concat(e, \".\").concat(_r2), o);\n  }\n\n  return {\n    type: \"string\",\n    props: {\n      source: e\n    }\n  };\n}, \"inferTypeFromValues\");\nimport { useEffect as Zu, useRef as ra, useCallback as Bu } from \"react\";\nimport qu from \"lodash/debounce\";\nimport Ku from \"lodash/isEqual\";\nvar Xu = n(function (e) {\n  return {\n    q: e\n  };\n}, \"defaultFilterToQuery\"),\n    el = n(function (_ref95) {\n  var _ref95$filterToQuery = _ref95.filterToQuery,\n      e = _ref95$filterToQuery === void 0 ? Xu : _ref95$filterToQuery,\n      _ref95$permanentFilte = _ref95.permanentFilter,\n      t = _ref95$permanentFilte === void 0 ? {} : _ref95$permanentFilte,\n      _ref95$debounceTime = _ref95.debounceTime,\n      r = _ref95$debounceTime === void 0 ? 500 : _ref95$debounceTime;\n\n  var o = ra(t),\n      a = ra(),\n      _Q19 = Q(y(y({}, t), e(\"\"))),\n      _Q20 = _slicedToArray(_Q19, 2),\n      s = _Q20[0],\n      i = _Q20[1],\n      u = JSON.stringify(t);\n\n  Zu(function () {\n    Ku(o.current, t) || (o.current = t, i(y(y({}, t), e(a.current))));\n  }, [u, o, e]);\n  var c = Bu(qu(function (l) {\n    i(y(y({}, t), e(l))), a.current = l;\n  }, r), [u]);\n  return {\n    filter: s,\n    setFilter: c\n  };\n}, \"default\");\nimport { useReducer as ol, useEffect as nl, useRef as al, useCallback as mo } from \"react\";\nimport tl from \"lodash/set\";\nvar at = \"SET_SORT\",\n    oe = \"ASC\",\n    rr = \"DESC\",\n    _e = \"SET_PAGE\",\n    st = \"SET_PER_PAGE\",\n    De = \"SET_FILTER\",\n    it = \"SHOW_FILTER\",\n    ct = \"HIDE_FILTER\",\n    rl = n(function (e) {\n  return e === rr ? oe : rr;\n}, \"oppositeOrder\"),\n    or = n(function (e, t) {\n  switch (t.type) {\n    case at:\n      return t.payload.field === e.sort ? D(y({}, e), {\n        order: rl(e.order),\n        page: 1\n      }) : D(y({}, e), {\n        sort: t.payload.field,\n        order: t.payload.order || oe,\n        page: 1\n      });\n\n    case _e:\n      return D(y({}, e), {\n        page: t.payload\n      });\n\n    case st:\n      return D(y({}, e), {\n        page: 1,\n        perPage: t.payload\n      });\n\n    case De:\n      return D(y({}, e), {\n        page: 1,\n        filter: t.payload.filter,\n        displayedFilters: t.payload.displayedFilters ? t.payload.displayedFilters : e.displayedFilters\n      });\n\n    case it:\n      return e.displayedFilters && e.displayedFilters[t.payload.filterName] ? e : D(y({}, e), {\n        filter: typeof t.payload.defaultValue != \"undefined\" ? tl(e.filter, t.payload.filterName, t.payload.defaultValue) : e.filter,\n        displayedFilters: D(y({}, e.displayedFilters), _defineProperty({}, t.payload.filterName, !0))\n      });\n\n    case ct:\n      return D(y({}, e), {\n        filter: X(Dr(e.filter, t.payload)),\n        displayedFilters: e.displayedFilters ? Object.keys(e.displayedFilters).reduce(function (r, o) {\n          return o !== t.payload ? D(y({}, r), _defineProperty({}, o, !0)) : r;\n        }, {}) : e.displayedFilters\n      });\n\n    default:\n      return e;\n  }\n}, \"queryReducer\"),\n    po = or;\nvar sl = n(function (e, t) {\n  switch (t.type) {\n    case \"SET_SORT\":\n      return t.payload;\n\n    case \"SET_SORT_FIELD\":\n      {\n        var r = t.payload,\n            o = e.field === r ? e.order === oe ? rr : oe : oe;\n        return {\n          field: r,\n          order: o\n        };\n      }\n\n    case \"SET_SORT_ORDER\":\n      {\n        var _r3 = t.payload;\n        return D(y({}, e), {\n          order: _r3\n        });\n      }\n\n    default:\n      return e;\n  }\n}, \"sortReducer\"),\n    il = {\n  field: \"id\",\n  order: \"DESC\"\n},\n    cl = n(function () {\n  var e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : il;\n\n  var _ol = ol(sl, e),\n      _ol2 = _slicedToArray(_ol, 2),\n      t = _ol2[0],\n      r = _ol2[1],\n      o = al(!0);\n\n  return nl(function () {\n    if (o.current) {\n      o.current = !1;\n      return;\n    }\n\n    r({\n      type: \"SET_SORT\",\n      payload: e\n    });\n  }, [e.field, e.order]), {\n    setSort: mo(function (a) {\n      return r({\n        type: \"SET_SORT\",\n        payload: a\n      });\n    }, [r]),\n    setSortField: mo(function (a) {\n      return r({\n        type: \"SET_SORT_FIELD\",\n        payload: a\n      });\n    }, [r]),\n    setSortOrder: mo(function (a) {\n      return r({\n        type: \"SET_SORT_ORDER\",\n        payload: a\n      });\n    }, [r]),\n    sort: t\n  };\n}, \"useSortState\"),\n    ut = cl;\nimport { useEffect as ul, useReducer as ll, useCallback as oa, useRef as dl } from \"react\";\nvar pl = n(function (e, t) {\n  return y(y({}, e), t);\n}, \"paginationReducer\"),\n    ml = {\n  page: 1,\n  perPage: 25\n},\n    lt = n(function () {\n  var e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var _ll = ll(pl, y(y({}, ml), e)),\n      _ll2 = _slicedToArray(_ll, 2),\n      t = _ll2[0],\n      r = _ll2[1],\n      o = dl(!0),\n      a = oa(function (i) {\n    return r({\n      perPage: i,\n      page: 1\n    });\n  }, []),\n      s = oa(function (i) {\n    return r({\n      page: i\n    });\n  }, []);\n\n  return ul(function () {\n    if (o.current) {\n      o.current = !1;\n      return;\n    }\n\n    a(e.perPage || 25);\n  }, [e.perPage, a]), {\n    page: t.page,\n    perPage: t.perPage,\n    pagination: t,\n    setPage: s,\n    setPerPage: a,\n    setPagination: r\n  };\n}, \"default\");\nimport * as fl from \"react\";\nvar yl = n(function (e, t, r) {\n  var o = Object.keys(r),\n      a = t.filter(function (s) {\n    return !o.includes(s);\n  });\n  if (a.length > 0) throw new Error(\"<\".concat(e, \"> component is not properly configured, some essential props are missing.\\nBe sure to pass the props from the parent. Example:\\n\\nconst My\").concat(e, \" = props => (\\n    <\").concat(e, \" {...props}></\").concat(e, \">\\n);\\n\\nThe missing props are: \").concat(a.join(\", \")));\n}, \"useCheckMinimumRequiredProps\");\nimport { useCallback as gl } from \"react\";\nvar Rl = n(function (e) {\n  var t = e.record,\n      _e$redirect = e.redirect,\n      r = _e$redirect === void 0 ? \"list\" : _e$redirect,\n      o = e.onClick,\n      a = e.mutationOptions,\n      s = H(e),\n      i = G(),\n      u = nr(s),\n      c = ce(),\n      _Qt = Qt(),\n      _Qt2 = _slicedToArray(_Qt, 2),\n      l = _Qt2[0],\n      m = _Qt2[1].isLoading,\n      f = gl(function (M) {\n    M.stopPropagation(), l(s, {\n      id: t.id,\n      previousData: t\n    }, y({\n      onSuccess: function onSuccess() {\n        i(\"ra.notification.deleted\", {\n          type: \"info\",\n          messageArgs: {\n            smart_count: 1\n          },\n          undoable: !0\n        }), u([t.id]), c(r, s);\n      },\n      onError: function onError(T) {\n        i(typeof T == \"string\" ? T : T.message || \"ra.notification.http_error\", {\n          type: \"warning\",\n          messageArgs: {\n            _: typeof T == \"string\" ? T : T && T.message ? T.message : void 0\n          }\n        });\n      },\n      mutationMode: \"undoable\"\n    }, a)), typeof o == \"function\" && o(M);\n  }, [l, a, i, o, t, c, r, s, u]);\n\n  return {\n    isLoading: m,\n    handleDelete: f\n  };\n}, \"useDeleteWithUndoController\"),\n    Pl = Rl;\nimport { useState as hl, useCallback as xl } from \"react\";\nvar Cl = n(function (e) {\n  var t = e.record,\n      r = e.redirect,\n      o = e.mutationMode,\n      a = e.onClick,\n      s = e.mutationOptions,\n      i = H(e),\n      _hl = hl(!1),\n      _hl2 = _slicedToArray(_hl, 2),\n      u = _hl2[0],\n      c = _hl2[1],\n      l = G(),\n      m = nr(i),\n      f = ce(),\n      _Qt3 = Qt(),\n      _Qt4 = _slicedToArray(_Qt3, 2),\n      M = _Qt4[0],\n      T = _Qt4[1].isLoading,\n      L = n(function (R) {\n    c(!0), R.stopPropagation();\n  }, \"handleDialogOpen\"),\n      x = n(function (R) {\n    c(!1), R.stopPropagation();\n  }, \"handleDialogClose\"),\n      P = xl(function (R) {\n    R.stopPropagation(), M(i, {\n      id: t.id,\n      previousData: t\n    }, y({\n      onSuccess: function onSuccess() {\n        c(!1), l(\"ra.notification.deleted\", {\n          type: \"info\",\n          messageArgs: {\n            smart_count: 1\n          },\n          undoable: o === \"undoable\"\n        }), m([t.id]), f(r, i);\n      },\n      onError: function onError(g) {\n        c(!1), l(typeof g == \"string\" ? g : g.message || \"ra.notification.http_error\", {\n          type: \"warning\",\n          messageArgs: {\n            _: typeof g == \"string\" ? g : g && g.message ? g.message : void 0\n          }\n        });\n      },\n      mutationMode: o\n    }, s)), typeof a == \"function\" && a(R);\n  }, [M, o, s, l, a, t, f, r, i, m]);\n\n  return {\n    open: u,\n    isLoading: T,\n    handleDialogOpen: L,\n    handleDialogClose: x,\n    handleDelete: P\n  };\n}, \"useDeleteWithConfirmController\"),\n    Tl = Cl;\nimport * as ca from \"react\";\nimport { useCallback as Ml } from \"react\";\nimport { parse as Sl } from \"query-string\";\nimport { useLocation as Ll } from \"react-router-dom\";\nvar ar = n(function () {\n  var e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var b;\n  var t = e.disableAuthentication,\n      r = e.record,\n      o = e.redirect,\n      a = e.transform,\n      _e$mutationOptions = e.mutationOptions,\n      s = _e$mutationOptions === void 0 ? {} : _e$mutationOptions;\n  re({\n    enabled: !t\n  });\n\n  var i = H(e),\n      _Yn = Yn(e),\n      u = _Yn.hasEdit,\n      c = _Yn.hasShow,\n      l = o || El(c, u),\n      m = Ll(),\n      f = _(),\n      M = G(),\n      T = ce(),\n      L = (b = r != null ? r : bl(m)) != null ? b : void 0,\n      v = s,\n      x = v.onSuccess,\n      P = v.onError,\n      R = N(v, [\"onSuccess\", \"onError\"]),\n      _On = On(i, void 0, R),\n      _On2 = _slicedToArray(_On, 2),\n      g = _On2[0],\n      S = _On2[1].isLoading,\n      C = Ml(function (I) {\n    var _ref96 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n        F = _ref96.onSuccess,\n        A = _ref96.onError,\n        w = _ref96.transform;\n\n    return Promise.resolve(w ? w(I) : a ? a(I) : I).then(function (O) {\n      return g(i, {\n        data: O\n      }, {\n        onSuccess: F || x || function (k) {\n          M(\"ra.notification.created\", {\n            type: \"info\",\n            messageArgs: {\n              smart_count: 1\n            }\n          }), T(l, i, k.id, k);\n        },\n        onError: A || P || function (k) {\n          M(typeof k == \"string\" ? k : k.message || \"ra.notification.http_error\", {\n            type: \"warning\",\n            messageArgs: {\n              _: typeof k == \"string\" ? k : k && k.message ? k.message : void 0\n            }\n          });\n        }\n      });\n    });\n  }, [g, l, M, P, x, T, i, a]),\n      h = Ce(),\n      E = f(\"ra.page.create\", {\n    name: h(i, 1)\n  });\n\n  return {\n    isFetching: !1,\n    isLoading: !1,\n    saving: S,\n    defaultTitle: E,\n    save: C,\n    resource: i,\n    record: L,\n    redirect: l\n  };\n}, \"useCreateController\"),\n    bl = n(function (_ref97) {\n  var e = _ref97.state,\n      t = _ref97.search;\n  if (e && e.record) return e.record;\n  if (t) try {\n    var r = Sl(t);\n\n    if (r.source) {\n      if (Array.isArray(r.source)) {\n        console.error(\"Failed to parse location search parameter '\".concat(t, \"'. To pre-fill some fields in the Create form, pass a stringified source parameter (e.g. '?source={\\\"title\\\":\\\"foo\\\"}')\"));\n        return;\n      }\n\n      return JSON.parse(r.source);\n    }\n  } catch (_unused4) {\n    console.error(\"Failed to parse location search parameter '\".concat(t, \"'. To pre-fill some fields in the Create form, pass a stringified source parameter (e.g. '?source={\\\"title\\\":\\\"foo\\\"}')\"));\n  }\n  return null;\n}, \"getRecordFromLocation\"),\n    El = n(function (e, t) {\n  return t ? \"edit\" : e ? \"show\" : \"list\";\n}, \"getDefaultRedirectRoute\");\nimport * as lr from \"react\";\nimport * as na from \"react\";\nimport { createContext as vl } from \"react\";\nvar sr = vl(void 0);\nsr.displayName = \"RecordContext\";\nvar de = n(function (_ref98) {\n  var e = _ref98.children,\n      t = _ref98.value;\n  return na.createElement(sr.Provider, {\n    value: t\n  }, e);\n}, \"RecordContextProvider\");\nimport { createContext as Dl } from \"react\";\nvar dt = Dl({\n  record: null,\n  defaultTitle: null,\n  isFetching: null,\n  isLoading: null,\n  redirect: null,\n  resource: null,\n  save: null,\n  saving: null\n});\ndt.displayName = \"CreateContext\";\nimport { createContext as wl } from \"react\";\nvar ir = wl(void 0);\nimport * as aa from \"react\";\nvar cr = n(function (_ref99) {\n  var e = _ref99.children,\n      t = _ref99.value;\n  return aa.createElement(ir.Provider, {\n    value: t\n  }, e);\n}, \"SaveContextProvider\");\nimport { useMemo as Il } from \"react\";\nimport Al from \"lodash/pick\";\nvar ur = n(function (e) {\n  return Il(function () {\n    return Al(e, [\"save\", \"saving\", \"mutationMode\"]);\n  }, [e.save, e.saving, e.mutationMode]);\n}, \"usePickSaveContext\");\nimport { useContext as Nl } from \"react\";\nvar sa = n(function (e) {\n  return Nl(ir);\n}, \"useSaveContext\");\nvar ia = n(function (_ref100) {\n  var e = _ref100.children,\n      t = _ref100.value;\n  return lr.createElement(dt.Provider, {\n    value: t\n  }, lr.createElement(cr, {\n    value: D(y({}, ur(t)), {\n      mutationMode: \"pessimistic\"\n    })\n  }, lr.createElement(de, {\n    value: t && t.record\n  }, e)));\n}, \"CreateContextProvider\");\nvar gS = n(function (r) {\n  var o = r,\n      e = o.children,\n      t = N(o, [\"children\"]);\n  return ca.createElement(ia, {\n    value: ar(t)\n  }, e);\n}, \"CreateBase\");\nvar CS = n(function (r) {\n  var o = r,\n      e = o.children,\n      t = N(o, [\"children\"]);\n  var a = ar(t);\n  return e(a);\n}, \"CreateController\");\nimport { useContext as Fl, useMemo as Ol } from \"react\";\nimport Ul from \"lodash/defaults\";\nvar bS = n(function (e) {\n  var t = Fl(dt);\n  return Ol(function () {\n    return Ul({}, e != null ? kl(e) : {}, t);\n  }, [t, e]);\n}, \"useCreateContext\"),\n    kl = n(function (_ref101) {\n  var e = _ref101.record,\n      t = _ref101.defaultTitle,\n      r = _ref101.isFetching,\n      o = _ref101.isLoading,\n      a = _ref101.redirect,\n      s = _ref101.resource,\n      i = _ref101.save,\n      u = _ref101.saving;\n  return {\n    record: e,\n    defaultTitle: t,\n    isFetching: r,\n    isLoading: o,\n    redirect: a,\n    resource: s,\n    save: i,\n    saving: u\n  };\n}, \"extractCreateContextProps\");\nimport * as ma from \"react\";\nimport { useCallback as jl } from \"react\";\nimport { useParams as Vl } from \"react-router-dom\";\nvar dr = n(function () {\n  var e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var t = e.disableAuthentication,\n      r = e.id,\n      _e$mutationMode = e.mutationMode,\n      o = _e$mutationMode === void 0 ? \"undoable\" : _e$mutationMode,\n      _e$mutationOptions2 = e.mutationOptions,\n      a = _e$mutationOptions2 === void 0 ? {} : _e$mutationOptions2,\n      _e$queryOptions = e.queryOptions,\n      s = _e$queryOptions === void 0 ? {} : _e$queryOptions,\n      _e$redirect2 = e.redirect,\n      i = _e$redirect2 === void 0 ? ua : _e$redirect2,\n      u = e.transform;\n  re({\n    enabled: !t\n  });\n\n  var c = H(e),\n      l = _(),\n      m = G(),\n      f = ce(),\n      M = jt(),\n      _Vl = Vl(),\n      T = _Vl.id,\n      L = r || decodeURIComponent(T),\n      O = a,\n      x = O.onSuccess,\n      P = O.onError,\n      R = N(O, [\"onSuccess\", \"onError\"]),\n      _Vt = Vt(c, {\n    id: L\n  }, y({\n    onError: function onError() {\n      m(\"ra.notification.item_doesnt_exist\", {\n        type: \"warning\"\n      }), f(\"list\", c), M();\n    },\n    refetchOnReconnect: !1,\n    refetchOnWindowFocus: !1,\n    retry: !1\n  }, s)),\n      g = _Vt.data,\n      S = _Vt.error,\n      C = _Vt.isLoading,\n      h = _Vt.isFetching,\n      E = _Vt.refetch;\n\n  if (g && g.id && g.id != L) throw new Error(\"useEditController: Fetched record's id attribute (\".concat(g.id, \") must match the requested 'id' (\").concat(L, \")\"));\n\n  var b = Ce(),\n      v = l(\"ra.page.edit\", {\n    name: b(c, 1),\n    id: L,\n    record: g\n  }),\n      I = {\n    id: L,\n    previousData: g\n  },\n      _Un = Un(c, I, D(y({}, R), {\n    mutationMode: o\n  })),\n      _Un2 = _slicedToArray(_Un, 2),\n      F = _Un2[0],\n      A = _Un2[1].isLoading,\n      w = jl(function (k) {\n    var _ref102 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n        $ = _ref102.onSuccess,\n        q = _ref102.onError,\n        V = _ref102.transform;\n\n    return Promise.resolve(V ? V(k, {\n      previousData: I.previousData\n    }) : u ? u(k, {\n      previousData: I.previousData\n    }) : k).then(function (U) {\n      return F(c, {\n        data: U\n      }, {\n        onSuccess: $ || x || function () {\n          m(\"ra.notification.updated\", {\n            type: \"info\",\n            messageArgs: {\n              smart_count: 1\n            },\n            undoable: o === \"undoable\"\n          }), f(i, c, U.id, U);\n        },\n        onError: q || P || function (j) {\n          m(typeof j == \"string\" ? j : j.message || \"ra.notification.http_error\", {\n            type: \"warning\",\n            messageArgs: {\n              _: typeof j == \"string\" ? j : j && j.message ? j.message : void 0\n            }\n          });\n        }\n      });\n    });\n  }, [o, m, P, x, f, i, c, u, F, I.previousData]);\n\n  return {\n    defaultTitle: v,\n    error: S,\n    isFetching: h,\n    isLoading: C,\n    mutationMode: o,\n    record: g,\n    redirect: ua,\n    refetch: E,\n    resource: c,\n    save: w,\n    saving: A\n  };\n}, \"useEditController\"),\n    ua = \"list\";\nimport * as pr from \"react\";\nimport { useContext as Gl } from \"react\";\nvar pe = n(function (e) {\n  var t = Gl(sr);\n  return e && e.record || t;\n}, \"useRecordContext\");\nvar zS = n(function (_ref103) {\n  var e = _ref103.render;\n  var t = pe();\n  return t ? e(t) : null;\n}, \"WithRecord\");\nimport * as la from \"react\";\nvar da = n(function (_ref104) {\n  var e = _ref104.value,\n      t = _ref104.children;\n  return e ? la.createElement(de, {\n    value: e\n  }, t) : t;\n}, \"OptionalRecordContextProvider\");\nimport { createContext as Ql } from \"react\";\nvar pt = Ql({\n  record: null,\n  defaultTitle: null,\n  isFetching: null,\n  isLoading: null,\n  mutationMode: null,\n  redirect: null,\n  refetch: null,\n  resource: null,\n  save: null,\n  saving: null\n});\npt.displayName = \"EditContext\";\nvar pa = n(function (_ref105) {\n  var e = _ref105.children,\n      t = _ref105.value;\n  return pr.createElement(pt.Provider, {\n    value: t\n  }, pr.createElement(cr, {\n    value: ur(t)\n  }, pr.createElement(de, {\n    value: t && t.record\n  }, e)));\n}, \"EditContextProvider\");\nvar rL = n(function (r) {\n  var o = r,\n      e = o.children,\n      t = N(o, [\"children\"]);\n  return ma.createElement(pa, {\n    value: dr(t)\n  }, e);\n}, \"EditBase\");\nvar iL = n(function (r) {\n  var o = r,\n      e = o.children,\n      t = N(o, [\"children\"]);\n  var a = dr(t);\n  return e(a);\n}, \"EditController\");\nimport { useContext as _l, useMemo as zl } from \"react\";\nimport Hl from \"lodash/defaults\";\nvar pL = n(function (e) {\n  var t = _l(pt);\n\n  return zl(function () {\n    return Hl({}, e != null ? Wl(e) : {}, t);\n  }, [t, e]);\n}, \"useEditContext\"),\n    Wl = n(function (_ref106) {\n  var e = _ref106.data,\n      t = _ref106.record,\n      r = _ref106.defaultTitle,\n      o = _ref106.isFetching,\n      a = _ref106.isLoading,\n      s = _ref106.mutationMode,\n      i = _ref106.redirect,\n      u = _ref106.resource,\n      c = _ref106.save,\n      l = _ref106.saving;\n  return {\n    data: t || e,\n    record: t || e,\n    defaultTitle: r,\n    isFetching: o,\n    isLoading: a,\n    mutationMode: s,\n    redirect: i,\n    resource: u,\n    save: c,\n    saving: l\n  };\n}, \"extractEditContextProps\");\nimport jd from \"lodash/get\";\nimport * as fo from \"react\";\nimport { isValidElement as ud, useEffect as ld, useMemo as dd } from \"react\";\nimport { useMemo as Yl } from \"react\";\nvar me = n(function (e) {\n  var t = \"\".concat(e, \".selectedIds\"),\n      _ue3 = ue(t, Jl),\n      _ue4 = _slicedToArray(_ue3, 2),\n      r = _ue4[0],\n      o = _ue4[1],\n      a = dn(t),\n      s = Yl(function () {\n    return {\n      select: function select(i) {\n        !i || o(_toConsumableArray(i));\n      },\n      unselect: function unselect(i) {\n        !i || i.length === 0 || o(function (u) {\n          return Array.isArray(u) ? u.filter(function (c) {\n            return !i.includes(c);\n          }) : [];\n        });\n      },\n      toggle: function toggle(i) {\n        typeof i != \"undefined\" && o(function (u) {\n          if (!Array.isArray(u)) return _toConsumableArray(u);\n          var c = u.indexOf(i);\n          return c > -1 ? [].concat(_toConsumableArray(u.slice(0, c)), _toConsumableArray(u.slice(c + 1))) : [].concat(_toConsumableArray(u), [i]);\n        });\n      },\n      clearSelection: function clearSelection() {\n        a();\n      }\n    };\n  }, [o, a]);\n\n  return [r, s];\n}, \"useRecordSelection\"),\n    Jl = [];\nimport { useCallback as we, useMemo as $l, useEffect as Zl, useState as Bl, useRef as ql } from \"react\";\nimport { parse as Kl, stringify as Xl } from \"query-string\";\nimport ed from \"lodash/debounce\";\nimport td from \"lodash/pickBy\";\nimport { useNavigate as rd, useLocation as od } from \"react-router-dom\";\nvar fa = n(function (_ref107) {\n  var e = _ref107.resource,\n      t = _ref107.filterDefaultValues,\n      _ref107$sort = _ref107.sort,\n      r = _ref107$sort === void 0 ? cd : _ref107$sort,\n      _ref107$perPage = _ref107.perPage,\n      o = _ref107$perPage === void 0 ? 10 : _ref107$perPage,\n      _ref107$debounce = _ref107.debounce,\n      a = _ref107$debounce === void 0 ? 500 : _ref107$debounce,\n      _ref107$disableSyncWi = _ref107.disableSyncWithLocation,\n      s = _ref107$disableSyncWi === void 0 ? !1 : _ref107$disableSyncWi;\n\n  var i = od(),\n      u = rd(),\n      _Bl = Bl(Pa),\n      _Bl2 = _slicedToArray(_Bl, 2),\n      c = _Bl2[0],\n      l = _Bl2[1],\n      m = \"\".concat(e, \".listParams\"),\n      _ue5 = ue(m, Pa),\n      _ue6 = _slicedToArray(_ue5, 2),\n      f = _ue6[0],\n      M = _ue6[1],\n      T = ql(),\n      L = ln(),\n      x = [i.search, e, JSON.stringify(s ? c : f), JSON.stringify(t), JSON.stringify(r), o, s],\n      P = s ? {} : ad(i),\n      R = $l(function () {\n    return id({\n      queryFromLocation: P,\n      params: s ? c : f,\n      filterDefaultValues: t,\n      sort: r,\n      perPage: o\n    });\n  }, x);\n\n  Zl(function () {\n    Object.keys(P).length > 0 && M(R);\n  }, [i.search]);\n  var g = we(function (w) {\n    !L.current || (T.current ? T.current = po(T.current, w) : (T.current = po(R, w), setTimeout(function () {\n      s ? l(T.current) : u({\n        search: \"?\".concat(Xl(D(y({}, T.current), {\n          filter: JSON.stringify(T.current.filter),\n          displayedFilters: JSON.stringify(T.current.displayedFilters)\n        })))\n      }, {\n        state: {\n          _scrollToTop: w.type === _e\n        }\n      }), T.current = void 0;\n    }, 0)));\n  }, x),\n      S = we(function (w) {\n    return g({\n      type: at,\n      payload: w\n    });\n  }, x),\n      C = we(function (w) {\n    return g({\n      type: _e,\n      payload: w\n    });\n  }, x),\n      h = we(function (w) {\n    return g({\n      type: st,\n      payload: w\n    });\n  }, x),\n      E = R.filter || Ra,\n      b = R.displayedFilters || Ra,\n      v = ed(function (w, O) {\n    g({\n      type: De,\n      payload: {\n        filter: X(w),\n        displayedFilters: O\n      }\n    });\n  }, a),\n      I = we(function (w, O) {\n    var k = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : !0;\n    return k ? v(w, O) : g({\n      type: De,\n      payload: {\n        filter: X(w),\n        displayedFilters: O\n      }\n    });\n  }, x),\n      F = we(function (w) {\n    g({\n      type: ct,\n      payload: w\n    });\n  }, x),\n      A = we(function (w, O) {\n    g({\n      type: it,\n      payload: {\n        filterName: w,\n        defaultValue: O\n      }\n    });\n  }, x);\n  return [y({\n    displayedFilters: b,\n    filterValues: E,\n    requestSignature: x\n  }, R), {\n    changeParams: g,\n    setPage: C,\n    setPerPage: h,\n    setSort: S,\n    setFilters: I,\n    hideFilter: F,\n    showFilter: A\n  }];\n}, \"useListParams\"),\n    nd = [\"page\", \"perPage\", \"sort\", \"order\", \"filter\", \"displayedFilters\"],\n    ya = n(function (e, t) {\n  if (e[t] && typeof e[t] == \"string\") try {\n    e[t] = JSON.parse(e[t]);\n  } catch (_unused5) {\n    delete e[t];\n  }\n}, \"parseObject\"),\n    ad = n(function (_ref108) {\n  var e = _ref108.search;\n  var t = td(Kl(e), function (r, o) {\n    return nd.indexOf(o) !== -1;\n  });\n  return ya(t, \"filter\"), ya(t, \"displayedFilters\"), t;\n}, \"parseQueryFromLocation\"),\n    sd = n(function (e) {\n  return e && e.filter && (Object.keys(e.filter).length > 0 || e.order != null || e.page !== 1 || e.perPage != null || e.sort != null);\n}, \"hasCustomParams\"),\n    id = n(function (_ref109) {\n  var e = _ref109.queryFromLocation,\n      t = _ref109.params,\n      r = _ref109.filterDefaultValues,\n      o = _ref109.sort,\n      a = _ref109.perPage;\n  var s = Object.keys(e).length > 0 ? e : sd(t) ? y({}, t) : {\n    filter: r || {}\n  };\n  return s.sort || (s.sort = o.field, s.order = o.order), s.perPage == null && (s.perPage = a), s.page == null && (s.page = 1), D(y({}, s), {\n    page: ga(s.page, 1),\n    perPage: ga(s.perPage, 10)\n  });\n}, \"getQuery\"),\n    ga = n(function (e, t) {\n  var r = typeof e == \"string\" ? parseInt(e, 10) : e;\n  return isNaN(r) ? t : r;\n}, \"getNumberOrDefault\"),\n    Ra = {},\n    cd = {\n  field: \"id\",\n  order: oe\n},\n    Pa = {};\nvar mr = n(function () {\n  var e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var t = e.disableAuthentication,\n      _e$exporter = e.exporter,\n      r = _e$exporter === void 0 ? tt : _e$exporter,\n      o = e.filterDefaultValues,\n      _e$sort = e.sort,\n      a = _e$sort === void 0 ? pd : _e$sort,\n      _e$perPage = e.perPage,\n      s = _e$perPage === void 0 ? 10 : _e$perPage,\n      i = e.filter,\n      _e$debounce = e.debounce,\n      u = _e$debounce === void 0 ? 500 : _e$debounce,\n      c = e.disableSyncWithLocation,\n      l = e.queryOptions;\n  re({\n    enabled: !t\n  });\n  var m = H(e);\n  if (!m) throw new Error(\"<List> was called outside of a ResourceContext and without a resource prop. You must set the resource prop.\");\n  if (i && ud(i)) throw new Error(\"<List> received a React element as `filter` props. If you intended to set the list filter elements, use the `filters` (with an s) prop instead. The `filter` prop is internal and should not be set by the developer.\");\n\n  var f = _(),\n      M = G(),\n      _fa = fa({\n    resource: m,\n    filterDefaultValues: o,\n    sort: a,\n    perPage: s,\n    debounce: u,\n    disableSyncWithLocation: c\n  }),\n      _fa2 = _slicedToArray(_fa, 2),\n      T = _fa2[0],\n      L = _fa2[1],\n      _me = me(m),\n      _me2 = _slicedToArray(_me, 2),\n      x = _me2[0],\n      P = _me2[1],\n      _Ve = Ve(m, {\n    pagination: {\n      page: T.page,\n      perPage: T.perPage\n    },\n    sort: {\n      field: T.sort,\n      order: T.order\n    },\n    filter: y(y({}, T.filter), i)\n  }, y({\n    keepPreviousData: !0,\n    retry: !1,\n    onError: function onError(A) {\n      return M((A == null ? void 0 : A.message) || \"ra.notification.http_error\", {\n        type: \"warning\",\n        messageArgs: {\n          _: A == null ? void 0 : A.message\n        }\n      });\n    }\n  }, l)),\n      R = _Ve.data,\n      g = _Ve.pageInfo,\n      S = _Ve.total,\n      C = _Ve.error,\n      h = _Ve.isLoading,\n      E = _Ve.isFetching,\n      b = _Ve.refetch;\n\n  ld(function () {\n    if (T.page <= 0 || !E && T.page > 1 && R.length === 0) {\n      L.setPage(1);\n      return;\n    }\n\n    if (S == null) return;\n    var A = Math.ceil(S / T.perPage) || 1;\n    !E && T.page > A && L.setPage(A);\n  }, [E, T.page, T.perPage, R, L, S]);\n  var v = dd(function () {\n    return {\n      field: T.sort,\n      order: T.order\n    };\n  }, [T.sort, T.order]),\n      I = Ce(),\n      F = f(\"ra.page.list\", {\n    name: I(m, 2)\n  });\n  return {\n    sort: v,\n    data: R,\n    defaultTitle: F,\n    displayedFilters: T.displayedFilters,\n    error: C,\n    exporter: r,\n    filter: i,\n    filterValues: T.filterValues,\n    hideFilter: L.hideFilter,\n    isFetching: E,\n    isLoading: h,\n    onSelect: P.select,\n    onToggleItem: P.toggle,\n    onUnselectItems: P.clearSelection,\n    page: T.page,\n    perPage: T.perPage,\n    refetch: b,\n    resource: m,\n    selectedIds: x,\n    setFilters: L.setFilters,\n    setPage: L.setPage,\n    setPerPage: L.setPerPage,\n    setSort: L.setSort,\n    showFilter: L.showFilter,\n    total: S,\n    hasNextPage: g ? g.hasNextPage : S != null ? T.page * T.perPage < S : void 0,\n    hasPreviousPage: g ? g.hasPreviousPage : T.page > 1\n  };\n}, \"useListController\"),\n    pd = {\n  field: \"id\",\n  order: oe\n},\n    ha = [\"sort\", \"data\", \"defaultTitle\", \"displayedFilters\", \"error\", \"exporter\", \"filterValues\", \"hideFilter\", \"isFetching\", \"isLoading\", \"onSelect\", \"onToggleItem\", \"onUnselectItems\", \"page\", \"perPage\", \"refetch\", \"refresh\", \"resource\", \"selectedIds\", \"setFilters\", \"setPage\", \"setPerPage\", \"setSort\", \"showFilter\", \"total\", \"totalPages\"],\n    jL = n(function (e) {\n  return ha.reduce(function (t, r) {\n    return D(y({}, t), _defineProperty({}, r, e[r]));\n  }, {});\n}, \"getListControllerProps\"),\n    VL = n(function (e) {\n  return Object.keys(e).filter(function (t) {\n    return !ha.includes(t);\n  }).reduce(function (t, r) {\n    return D(y({}, t), _defineProperty({}, r, e[r]));\n  }, {});\n}, \"sanitizeListRestProps\");\nimport * as Rt from \"react\";\nimport { createContext as md } from \"react\";\nvar mt = md({\n  sort: null,\n  data: null,\n  defaultTitle: null,\n  displayedFilters: null,\n  exporter: null,\n  filterValues: null,\n  hasNextPage: null,\n  hasPreviousPage: null,\n  hideFilter: null,\n  isFetching: null,\n  isLoading: null,\n  onSelect: null,\n  onToggleItem: null,\n  onUnselectItems: null,\n  page: null,\n  perPage: null,\n  refetch: null,\n  resource: null,\n  selectedIds: void 0,\n  setFilters: null,\n  setPage: null,\n  setPerPage: null,\n  setSort: null,\n  showFilter: null,\n  total: null\n});\nmt.displayName = \"ListContext\";\nimport { createContext as fd, useMemo as yd } from \"react\";\nimport gd from \"lodash/pick\";\nvar ft = fd({\n  displayedFilters: null,\n  filterValues: null,\n  hideFilter: null,\n  setFilters: null,\n  showFilter: null,\n  resource: null\n}),\n    xa = n(function (e) {\n  return yd(function () {\n    return gd(e, [\"displayedFilters\", \"filterValues\", \"hideFilter\", \"setFilters\", \"showFilter\", \"resource\"]);\n  }, [e.displayedFilters, e.filterValues, e.hideFilter, e.setFilters, e.showFilter]);\n}, \"usePickFilterContext\");\nft.displayName = \"ListFilterContext\";\nimport { createContext as Rd, useMemo as Pd } from \"react\";\nimport hd from \"lodash/pick\";\nvar yt = Rd({\n  sort: null,\n  setSort: null,\n  resource: null\n}),\n    Ca = n(function (e) {\n  return Pd(function () {\n    return hd(e, [\"sort\", \"setSort\", \"resource\"]);\n  }, [e.sort, e.setSort]);\n}, \"usePickSortContext\");\nyt.displayName = \"ListSortContext\";\nimport { createContext as xd, useMemo as Cd } from \"react\";\nimport Td from \"lodash/pick\";\nvar gt = xd({\n  isLoading: null,\n  page: null,\n  perPage: null,\n  setPage: null,\n  setPerPage: null,\n  hasPreviousPage: null,\n  hasNextPage: null,\n  total: void 0,\n  resource: null\n});\ngt.displayName = \"ListPaginationContext\";\nvar Ta = n(function (e) {\n  return Cd(function () {\n    return Td(e, [\"isLoading\", \"hasPreviousPage\", \"hasNextPage\", \"page\", \"perPage\", \"setPage\", \"setPerPage\", \"total\", \"resource\"]);\n  }, [e.isLoading, e.hasPreviousPage, e.hasNextPage, e.page, e.perPage, e.setPage, e.setPerPage, e.total]);\n}, \"usePickPaginationContext\");\nvar Ma = n(function (_ref110) {\n  var e = _ref110.value,\n      t = _ref110.children;\n  return Rt.createElement(mt.Provider, {\n    value: e\n  }, Rt.createElement(ft.Provider, {\n    value: xa(e)\n  }, Rt.createElement(yt.Provider, {\n    value: Ca(e)\n  }, Rt.createElement(gt.Provider, {\n    value: Ta(e)\n  }, t))));\n}, \"ListContextProvider\");\nvar ib = n(function (r) {\n  var o = r,\n      e = o.children,\n      t = N(o, [\"children\"]);\n  return fo.createElement(zt, {\n    value: t.resource\n  }, fo.createElement(Ma, {\n    value: mr(t)\n  }, e));\n}, \"ListBase\");\nvar pb = n(function (r) {\n  var o = r,\n      e = o.children,\n      t = N(o, [\"children\"]);\n  var a = mr(t);\n  return e(a);\n}, \"ListController\");\nimport { useCallback as fr, useEffect as yr, useRef as Md } from \"react\";\nimport Pt from \"lodash/get\";\nimport Sd from \"lodash/isEqual\";\nvar Ld = n(function () {\n  throw new Error(\"refetch is not available for a ListContext built from useList based on local data\");\n}, \"refetch\"),\n    gr = n(function (e) {\n  var t = e.data,\n      r = e.error,\n      _e$filter = e.filter,\n      o = _e$filter === void 0 ? bd : _e$filter,\n      _e$isFetching = e.isFetching,\n      a = _e$isFetching === void 0 ? !1 : _e$isFetching,\n      _e$isLoading = e.isLoading,\n      s = _e$isLoading === void 0 ? !1 : _e$isLoading,\n      _e$page = e.page,\n      i = _e$page === void 0 ? 1 : _e$page,\n      _e$perPage2 = e.perPage,\n      u = _e$perPage2 === void 0 ? 1e3 : _e$perPage2,\n      _e$sort2 = e.sort,\n      c = _e$sort2 === void 0 ? Ed : _e$sort2,\n      l = H(e),\n      _Q21 = Q(a),\n      _Q22 = _slicedToArray(_Q21, 2),\n      m = _Q22[0],\n      f = _Q22[1],\n      _Q23 = Q(s),\n      _Q24 = _slicedToArray(_Q23, 2),\n      M = _Q24[0],\n      T = _Q24[1],\n      _Q25 = Q(function () {\n    return {\n      data: t,\n      total: t ? t.length : void 0\n    };\n  }),\n      _Q26 = _slicedToArray(_Q25, 2),\n      L = _Q26[0],\n      x = _Q26[1],\n      _lt = lt({\n    page: i,\n    perPage: u\n  }),\n      P = _lt.page,\n      R = _lt.setPage,\n      g = _lt.perPage,\n      S = _lt.setPerPage,\n      _ut = ut(c),\n      C = _ut.sort,\n      h = _ut.setSort,\n      E = fr(function (V) {\n    h(V), R(1);\n  }, [R, h]),\n      _me3 = me(l),\n      _me4 = _slicedToArray(_me3, 2),\n      b = _me4[0],\n      v = _me4[1],\n      I = Md(o),\n      _Q27 = Q({}),\n      _Q28 = _slicedToArray(_Q27, 2),\n      F = _Q28[0],\n      A = _Q28[1],\n      _Q29 = Q(o),\n      _Q30 = _slicedToArray(_Q29, 2),\n      w = _Q30[0],\n      O = _Q30[1],\n      k = fr(function (V) {\n    A(function (U) {\n      var Y = U,\n          j = Y[V];\n      return N(Y, [Ae(V)]);\n    }), O(function (U) {\n      var Y = U,\n          j = Y[V];\n      return N(Y, [Ae(V)]);\n    });\n  }, [A, O]),\n      $ = fr(function (V, U) {\n    A(function (j) {\n      return D(y({}, j), _defineProperty({}, V, !0));\n    }), O(function (j) {\n      return X(D(y({}, j), _defineProperty({}, V, U)));\n    });\n  }, [A, O]),\n      q = fr(function (V, U) {\n    O(X(V)), U && A(U), R(1);\n  }, [A, O, R]);\n\n  return yr(function () {\n    Sd(o, I.current) || (I.current = o, O(o));\n  }), yr(function () {\n    if (s || !t) return;\n    var V = t.filter(function (j) {\n      return Object.entries(w).every(function (_ref111) {\n        var _ref112 = _slicedToArray(_ref111, 2),\n            B = _ref112[0],\n            Y = _ref112[1];\n\n        var K = Pt(j, B);\n        return Array.isArray(K) ? Array.isArray(Y) ? K.some(function (Tt) {\n          return Y.includes(Tt);\n        }) : K.includes(Y) : Array.isArray(Y) ? Y.includes(K) : Y == K;\n      });\n    }),\n        U = V.length;\n    C.field && (V = V.sort(function (j, B) {\n      return Pt(j, C.field) > Pt(B, C.field) ? C.order === \"ASC\" ? 1 : -1 : Pt(j, C.field) < Pt(B, C.field) ? C.order === \"ASC\" ? -1 : 1 : 0;\n    })), V = V.slice((P - 1) * g, P * g), x({\n      data: V,\n      total: U\n    });\n  }, [JSON.stringify(t), w, s, P, g, x, C.field, C.order]), yr(function () {\n    a !== m && f(a);\n  }, [a, m, f]), yr(function () {\n    s !== M && T(s);\n  }, [s, M, T]), {\n    sort: C,\n    data: L.data,\n    defaultTitle: \"\",\n    error: r,\n    displayedFilters: F,\n    filterValues: w,\n    hasNextPage: P * g < L.total,\n    hasPreviousPage: P > 1,\n    hideFilter: k,\n    isFetching: m,\n    isLoading: M,\n    onSelect: v.select,\n    onToggleItem: v.toggle,\n    onUnselectItems: v.clearSelection,\n    page: P,\n    perPage: g,\n    resource: void 0,\n    refetch: Ld,\n    selectedIds: b,\n    setFilters: q,\n    setPage: R,\n    setPerPage: S,\n    setSort: E,\n    showFilter: $,\n    total: L.total\n  };\n}, \"useList\"),\n    bd = {},\n    Ed = {\n  field: null,\n  order: null\n};\nimport { useContext as vd, useMemo as Dd } from \"react\";\nimport wd from \"lodash/defaults\";\nvar bb = n(function (e) {\n  var t = vd(mt);\n  return Dd(function () {\n    return wd({}, e != null ? Id(e) : {}, t);\n  }, [t, e]);\n}, \"useListContext\"),\n    Id = n(function (_ref113) {\n  var e = _ref113.sort,\n      t = _ref113.data,\n      r = _ref113.defaultTitle,\n      o = _ref113.displayedFilters,\n      a = _ref113.exporter,\n      s = _ref113.filterValues,\n      i = _ref113.hasCreate,\n      u = _ref113.hideFilter,\n      c = _ref113.isFetching,\n      l = _ref113.isLoading,\n      m = _ref113.onSelect,\n      f = _ref113.onToggleItem,\n      M = _ref113.onUnselectItems,\n      T = _ref113.page,\n      L = _ref113.perPage,\n      x = _ref113.refetch,\n      P = _ref113.resource,\n      R = _ref113.selectedIds,\n      g = _ref113.setFilters,\n      S = _ref113.setPage,\n      C = _ref113.setPerPage,\n      h = _ref113.setSort,\n      E = _ref113.showFilter,\n      b = _ref113.total;\n  return {\n    sort: e,\n    data: t,\n    defaultTitle: r,\n    displayedFilters: o,\n    exporter: a,\n    filterValues: s,\n    hasCreate: i,\n    hideFilter: u,\n    isFetching: c,\n    isLoading: l,\n    onSelect: m,\n    onToggleItem: f,\n    onUnselectItems: M,\n    page: T,\n    perPage: L,\n    refetch: x,\n    resource: P,\n    selectedIds: R,\n    setFilters: g,\n    setPage: S,\n    setPerPage: C,\n    setSort: h,\n    showFilter: E,\n    total: b\n  };\n}, \"extractListContextProps\");\nimport { useContext as Ad } from \"react\";\nvar Ib = n(function (e) {\n  var t = Ad(ft);\n  return t.hideFilter ? t : (process.env.NODE_ENV !== \"production\" && console.log(\"List components must be used inside a <ListContextProvider>. Relying on props rather than context to get List data and callbacks is deprecated and won't be supported in the next major version of react-admin.\"), e);\n}, \"useListFilterContext\");\nimport { useContext as Nd } from \"react\";\nvar Ub = n(function (e) {\n  var t = Nd(gt);\n  return t.setPage ? t : (process.env.NODE_ENV !== \"production\" && console.log(\"List components must be used inside a <ListContextProvider>. Relying on props rather than context to get List data and callbacks is deprecated and won't be supported in the next major version of react-admin.\"), e);\n}, \"useListPaginationContext\");\nimport { useContext as Fd } from \"react\";\nvar Qb = n(function (e) {\n  var t = Fd(yt);\n  return t.setSort ? t : (process.env.NODE_ENV !== \"production\" && console.log(\"List components must be used inside a <ListContextProvider>. Relying on props rather than context to get List data and callbacks is deprecated and won't be supported in the next major version of react-admin.\"), e);\n}, \"useListSortContext\");\nimport { useCallback as Od } from \"react\";\nvar nr = n(function (e) {\n  var _me5 = me(e),\n      _me6 = _slicedToArray(_me5, 2),\n      t = _me6[1].unselect;\n\n  return Od(function (r) {\n    t(r);\n  }, [t]);\n}, \"useUnselect\");\nimport { useCallback as Ud } from \"react\";\nvar $b = n(function (e) {\n  var _me7 = me(e),\n      _me8 = _slicedToArray(_me7, 2),\n      t = _me8[1].clearSelection;\n\n  return Ud(function () {\n    t();\n  }, [t]);\n}, \"useUnselectAll\");\nimport { useCallback as kd } from \"react\";\nvar Kb = n(function (e, t) {\n  var r = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : !1;\n\n  var _ue7 = ue(\"\".concat(e, \".datagrid.expanded\"), []),\n      _ue8 = _slicedToArray(_ue7, 2),\n      o = _ue8[0],\n      a = _ue8[1],\n      s = Array.isArray(o) ? o.map(function (u) {\n    return u == t;\n  }).indexOf(!0) !== -1 : !1,\n      i = kd(function () {\n    a(function (u) {\n      if (!Array.isArray(u)) return [t];\n      var c = u.findIndex(function (l) {\n        return l == t;\n      });\n      return c > -1 ? r ? [] : [].concat(_toConsumableArray(u.slice(0, c)), _toConsumableArray(u.slice(c + 1))) : r ? [t] : [].concat(_toConsumableArray(u), [t]);\n    });\n  }, [a, t, r]);\n\n  return [s, i];\n}, \"useExpanded\");\nvar Vd = [],\n    Gd = {},\n    Qd = {\n  field: null,\n  order: null\n},\n    aE = n(function (e) {\n  var _e$filter2 = e.filter,\n      t = _e$filter2 === void 0 ? Gd : _e$filter2,\n      _e$page2 = e.page,\n      r = _e$page2 === void 0 ? 1 : _e$page2,\n      _e$perPage3 = e.perPage,\n      o = _e$perPage3 === void 0 ? 1e3 : _e$perPage3,\n      a = e.record,\n      s = e.reference,\n      _e$sort3 = e.sort,\n      i = _e$sort3 === void 0 ? Qd : _e$sort3,\n      u = e.source,\n      c = G(),\n      l = jd(a, u) || Vd,\n      _Ge = Ge(s, {\n    ids: l\n  }, {\n    onError: function onError(P) {\n      return c(typeof P == \"string\" ? P : P.message || \"ra.notification.http_error\", {\n        type: \"warning\",\n        messageArgs: {\n          _: typeof P == \"string\" ? P : P && P.message ? P.message : void 0\n        }\n      });\n    }\n  }),\n      m = _Ge.data,\n      f = _Ge.error,\n      M = _Ge.isLoading,\n      T = _Ge.isFetching,\n      L = _Ge.refetch,\n      x = gr({\n    data: m,\n    error: f,\n    filter: t,\n    isFetching: T,\n    isLoading: M,\n    page: r,\n    perPage: o,\n    sort: i\n  });\n\n  return D(y({}, x), {\n    defaultTitle: null,\n    refetch: L,\n    resource: s\n  });\n}, \"useReferenceArrayFieldController\");\nimport _d from \"lodash/get\";\nimport { useCallback as Rr, useEffect as zd, useRef as Hd } from \"react\";\nimport Wd from \"lodash/isEqual\";\nvar Yd = {},\n    gE = n(function (e) {\n  var t = e.reference,\n      r = e.record,\n      o = e.target,\n      _e$filter3 = e.filter,\n      a = _e$filter3 === void 0 ? Yd : _e$filter3,\n      s = e.source,\n      i = e.page,\n      u = e.perPage,\n      _e$sort4 = e.sort,\n      c = _e$sort4 === void 0 ? {\n    field: \"id\",\n    order: \"DESC\"\n  } : _e$sort4,\n      l = G(),\n      _lt2 = lt({\n    page: i,\n    perPage: u\n  }),\n      m = _lt2.page,\n      f = _lt2.setPage,\n      M = _lt2.perPage,\n      T = _lt2.setPerPage,\n      _ut2 = ut(c),\n      L = _ut2.sort,\n      x = _ut2.setSort,\n      P = Rr(function (U) {\n    x(U), f(1);\n  }, [f, x]),\n      _me9 = me(t),\n      _me10 = _slicedToArray(_me9, 2),\n      R = _me10[0],\n      g = _me10[1],\n      S = Hd(a),\n      _Q31 = Q({}),\n      _Q32 = _slicedToArray(_Q31, 2),\n      C = _Q32[0],\n      h = _Q32[1],\n      _Q33 = Q(a),\n      _Q34 = _slicedToArray(_Q33, 2),\n      E = _Q34[0],\n      b = _Q34[1],\n      v = Rr(function (U) {\n    h(function (j) {\n      var K = j,\n          B = K[U];\n      return N(K, [Ae(U)]);\n    }), b(function (j) {\n      var K = j,\n          B = K[U];\n      return N(K, [Ae(U)]);\n    });\n  }, [h, b]),\n      I = Rr(function (U, j) {\n    h(function (B) {\n      return D(y({}, B), _defineProperty({}, U, !0));\n    }), b(function (B) {\n      return D(y({}, B), _defineProperty({}, U, j));\n    });\n  }, [h, b]),\n      F = Rr(function (U, j) {\n    b(X(U)), h(j), f(1);\n  }, [h, b, f]);\n\n  zd(function () {\n    Wd(a, S.current) || (S.current = a, b(a));\n  });\n\n  var _Gt = Gt(t, {\n    target: o,\n    id: _d(r, s),\n    pagination: {\n      page: m,\n      perPage: M\n    },\n    sort: L,\n    filter: E\n  }, {\n    keepPreviousData: !0,\n    onError: function onError(U) {\n      return l(typeof U == \"string\" ? U : U.message || \"ra.notification.http_error\", {\n        type: \"warning\",\n        messageArgs: {\n          _: typeof U == \"string\" ? U : U && U.message ? U.message : void 0\n        }\n      });\n    }\n  }),\n      A = _Gt.data,\n      w = _Gt.total,\n      O = _Gt.pageInfo,\n      k = _Gt.error,\n      $ = _Gt.isFetching,\n      q = _Gt.isLoading,\n      V = _Gt.refetch;\n\n  return {\n    sort: L,\n    data: A,\n    defaultTitle: null,\n    displayedFilters: C,\n    error: k,\n    filterValues: E,\n    hideFilter: v,\n    isFetching: $,\n    isLoading: q,\n    onSelect: g.select,\n    onToggleItem: g.toggle,\n    onUnselectItems: g.clearSelection,\n    page: m,\n    perPage: M,\n    refetch: V,\n    resource: t,\n    selectedIds: R,\n    setFilters: F,\n    setPage: f,\n    setPerPage: T,\n    hasNextPage: O ? O.hasNextPage : w != null ? m * M < w : void 0,\n    hasPreviousPage: O ? O.hasPreviousPage : m > 1,\n    setSort: P,\n    showFilter: I,\n    total: w\n  };\n}, \"useReferenceManyFieldController\");\nimport Jd from \"lodash/get\";\nvar CE = n(function (e) {\n  var t = e.reference,\n      r = e.record,\n      o = e.target,\n      _e$source = e.source,\n      a = _e$source === void 0 ? \"id\" : _e$source,\n      s = G(),\n      _Gt2 = Gt(t, {\n    target: o,\n    id: Jd(r, a),\n    pagination: {\n      page: 1,\n      perPage: 1\n    },\n    sort: {\n      field: \"id\",\n      order: \"ASC\"\n    },\n    filter: {}\n  }, {\n    enabled: !!r,\n    onError: function onError(f) {\n      return s(typeof f == \"string\" ? f : f.message || \"ra.notification.http_error\", {\n        type: \"warning\",\n        messageArgs: {\n          _: typeof f == \"string\" ? f : f && f.message ? f.message : void 0\n        }\n      });\n    }\n  }),\n      i = _Gt2.data,\n      u = _Gt2.error,\n      c = _Gt2.isFetching,\n      l = _Gt2.isLoading,\n      m = _Gt2.refetch;\n\n  return {\n    referenceRecord: i ? i[0] : void 0,\n    error: u,\n    isFetching: c,\n    isLoading: l,\n    refetch: m\n  };\n}, \"useReferenceOneFieldController\");\nvar Sa = n(function (e) {\n  return e && e.error !== void 0;\n}, \"isMatchingReferencesError\"),\n    $d = n(function (_ref114) {\n  var e = _ref114.field,\n      t = _ref114.matchingReferences,\n      r = _ref114.referenceRecord,\n      _ref114$translate = _ref114.translate,\n      o = _ref114$translate === void 0 ? n(function (a) {\n    return a;\n  }, \"translate\") : _ref114$translate;\n  var a = Sa(t) ? o(t.error, {\n    _: t.error\n  }) : null,\n      s = e.value && !r ? o(\"ra.input.references.single_missing\", {\n    _: \"ra.input.references.single_missing\"\n  }) : null;\n  return {\n    waiting: e.value && s && !t || !e.value && !t,\n    error: e.value && s && a || !e.value && a ? e.value ? s : a : null,\n    warning: s || a,\n    choices: Array.isArray(t) ? t : [r].filter(function (i) {\n      return i;\n    })\n  };\n}, \"getStatusForInput\"),\n    La = \"REFERENCES_STATUS_READY\",\n    Zd = \"REFERENCES_STATUS_INCOMPLETE\",\n    yo = \"REFERENCES_STATUS_EMPTY\",\n    ba = n(function (e, t) {\n  return !e.value || e.value.length === t.length ? La : t.length > 0 ? Zd : yo;\n}, \"getSelectedReferencesStatus\"),\n    Bd = n(function (_ref115) {\n  var e = _ref115.field,\n      t = _ref115.matchingReferences,\n      r = _ref115.referenceRecords,\n      _ref115$translate = _ref115.translate,\n      o = _ref115$translate === void 0 ? n(function (a) {\n    return a;\n  }, \"translate\") : _ref115$translate;\n  var a = ba(e, r),\n      s = Sa(t) ? o(t.error, {\n    _: t.error\n  }) : null,\n      i = Array.isArray(t) ? r.concat(t.filter(function (u) {\n    return r.findIndex(function (c) {\n      return c.id === u.id;\n    }) === -1;\n  })) : r;\n  return {\n    waiting: !t && e.value && a === yo || !t && !e.value,\n    error: s && (!e.value || e.value && a === yo) ? o(\"ra.input.references.all_missing\", {\n      _: \"ra.input.references.all_missing\"\n    }) : null,\n    warning: s || e.value && a !== La ? s || o(\"ra.input.references.many_missing\", {\n      _: \"ra.input.references.many_missing\"\n    }) : null,\n    choices: i\n  };\n}, \"getStatusForArrayInput\");\nimport { useCallback as ap, useMemo as sp } from \"react\";\nimport { useWatch as ip } from \"react-hook-form\";\nimport { useCallback as Ie, useMemo as qd, useState as Kd, useRef as Xd } from \"react\";\nimport ep from \"lodash/debounce\";\nvar Pr = n(function (_ref116) {\n  var e = _ref116.resource,\n      t = _ref116.filter,\n      _ref116$sort = _ref116.sort,\n      r = _ref116$sort === void 0 ? op : _ref116$sort,\n      _ref116$page = _ref116.page,\n      o = _ref116$page === void 0 ? 1 : _ref116$page,\n      _ref116$perPage = _ref116.perPage,\n      a = _ref116$perPage === void 0 ? 10 : _ref116$perPage,\n      _ref116$debounce = _ref116.debounce,\n      s = _ref116$debounce === void 0 ? 500 : _ref116$debounce;\n\n  var _Kd = Kd(np),\n      _Kd2 = _slicedToArray(_Kd, 2),\n      i = _Kd2[0],\n      u = _Kd2[1],\n      c = Xd(),\n      l = [e, JSON.stringify(i), JSON.stringify(t), JSON.stringify(r), o, a],\n      m = qd(function () {\n    return tp({\n      params: i,\n      filterDefaultValues: t,\n      sort: r,\n      page: o,\n      perPage: a\n    });\n  }, l),\n      f = Ie(function (h) {\n    c.current ? c.current = or(c.current, h) : (c.current = or(m, h), setTimeout(function () {\n      u(c.current), c.current = void 0;\n    }, 0));\n  }, l),\n      M = Ie(function (h) {\n    return f({\n      type: at,\n      payload: h\n    });\n  }, l),\n      T = Ie(function (h) {\n    return f({\n      type: _e,\n      payload: h\n    });\n  }, l),\n      L = Ie(function (h) {\n    return f({\n      type: st,\n      payload: h\n    });\n  }, l),\n      x = m.filter || va,\n      P = m.displayedFilters || va,\n      R = ep(function (h, E) {\n    f({\n      type: De,\n      payload: {\n        filter: X(h),\n        displayedFilters: E\n      }\n    });\n  }, s),\n      g = Ie(function (h, E) {\n    var b = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : !0;\n    b ? R(h, E) : f({\n      type: De,\n      payload: {\n        filter: X(h),\n        displayedFilters: E\n      }\n    });\n  }, l),\n      S = Ie(function (h) {\n    f({\n      type: ct,\n      payload: h\n    });\n  }, l),\n      C = Ie(function (h, E) {\n    f({\n      type: it,\n      payload: {\n        filterName: h,\n        defaultValue: E\n      }\n    });\n  }, l);\n\n  return [y({\n    displayedFilters: P,\n    filterValues: x,\n    requestSignature: l\n  }, m), {\n    changeParams: f,\n    setPage: T,\n    setPerPage: L,\n    setSort: M,\n    setFilters: g,\n    hideFilter: S,\n    showFilter: C\n  }];\n}, \"useReferenceParams\");\nvar tp = n(function (_ref117) {\n  var e = _ref117.params,\n      t = _ref117.filterDefaultValues,\n      r = _ref117.sort,\n      o = _ref117.page,\n      a = _ref117.perPage;\n  var s = rp(e) ? y({}, e) : {\n    filter: t || {}\n  };\n  return s.sort || (s.sort = r.field, s.order = r.order), s.page == null && (s.page = o), s.perPage == null && (s.perPage = a), s.page == null && (s.page = 1), D(y({}, s), {\n    page: Ea(s.page, 1),\n    perPage: Ea(s.perPage, 10)\n  });\n}, \"getQuery\"),\n    rp = n(function (e) {\n  return e && e.filter && (Object.keys(e.filter).length > 0 || e.order != null || e.page !== 1 || e.perPage != null || e.sort != null);\n}, \"hasCustomParams\"),\n    Ea = n(function (e, t) {\n  var r = typeof e == \"string\" ? parseInt(e, 10) : e;\n  return isNaN(r) ? t : r;\n}, \"getNumberOrDefault\"),\n    va = {},\n    op = {\n  field: \"id\",\n  order: oe\n},\n    np = {};\nvar NE = n(function (e) {\n  var t = e.debounce,\n      r = e.enableGetChoices,\n      o = e.filter,\n      _e$page3 = e.page,\n      a = _e$page3 === void 0 ? 1 : _e$page3,\n      _e$perPage4 = e.perPage,\n      s = _e$perPage4 === void 0 ? 25 : _e$perPage4,\n      _e$sort5 = e.sort,\n      i = _e$sort5 === void 0 ? {\n    field: \"id\",\n    order: \"DESC\"\n  } : _e$sort5,\n      _e$queryOptions2 = e.queryOptions,\n      u = _e$queryOptions2 === void 0 ? {} : _e$queryOptions2,\n      c = e.reference,\n      l = e.source,\n      m = ip({\n    name: l\n  }),\n      _Ge2 = Ge(c, {\n    ids: m || cp\n  }, {\n    enabled: m != null && m.length > 0\n  }),\n      f = _Ge2.data,\n      M = _Ge2.error,\n      T = _Ge2.isLoading,\n      L = _Ge2.isFetching,\n      x = _Ge2.refetch,\n      _Pr = Pr({\n    resource: c,\n    page: a,\n    perPage: s,\n    sort: i,\n    debounce: t,\n    filter: o\n  }),\n      _Pr2 = _slicedToArray(_Pr, 2),\n      P = _Pr2[0],\n      R = _Pr2[1],\n      g = f ? f.filter(Boolean) : [],\n      S = r ? r(P.filterValues) : !0,\n      _Ve2 = Ve(c, {\n    pagination: {\n      page: P.page,\n      perPage: P.perPage\n    },\n    sort: {\n      field: P.sort,\n      order: P.order\n    },\n    filter: y(y({}, P.filter), o)\n  }, y({\n    retry: !1,\n    enabled: S\n  }, u)),\n      C = _Ve2.data,\n      h = _Ve2.total,\n      E = _Ve2.pageInfo,\n      b = _Ve2.error,\n      v = _Ve2.isLoading,\n      I = _Ve2.isFetching,\n      F = _Ve2.refetch,\n      A = C && C.length > 0 ? up(C, g) : g.length > 0 ? g : C,\n      w = ap(function () {\n    x(), F();\n  }, [x, F]);\n\n  return {\n    sort: sp(function () {\n      return {\n        field: P.sort,\n        order: P.order\n      };\n    }, [P.sort, P.order]),\n    allChoices: A,\n    availableChoices: C,\n    selectedChoices: g,\n    displayedFilters: P.displayedFilters,\n    error: M || b,\n    filter: o,\n    filterValues: P.filterValues,\n    hideFilter: R.hideFilter,\n    isFetching: L || I,\n    isLoading: T || v,\n    page: P.page,\n    perPage: P.perPage,\n    refetch: w,\n    resource: c,\n    setFilters: R.setFilters,\n    setPage: R.setPage,\n    setPerPage: R.setPerPage,\n    setSort: R.setSort,\n    showFilter: R.showFilter,\n    source: l,\n    total: h,\n    hasNextPage: E ? E.hasNextPage : h != null ? P.page * P.perPage < h : void 0,\n    hasPreviousPage: E ? E.hasPreviousPage : P.page > 1\n  };\n}, \"useReferenceArrayInputController\"),\n    cp = [],\n    up = n(function (e, t) {\n  var r = _toConsumableArray(e),\n      o = e.map(function (a) {\n    return a.id;\n  });\n\n  return t.forEach(function (a) {\n    o.includes(a.id) || (o.push(a.id), r.push(a));\n  }), r;\n}, \"mergeReferences\");\nimport { useCallback as lp, useMemo as dp } from \"react\";\nimport { useWatch as pp } from \"react-hook-form\";\nvar Da = n(function (_ref118) {\n  var e = _ref118.reference,\n      t = _ref118.id;\n\n  var _Ge3 = Ge(e, {\n    ids: [t]\n  }),\n      r = _Ge3.data,\n      o = _Ge3.error,\n      a = _Ge3.isLoading,\n      s = _Ge3.isFetching,\n      i = _Ge3.refetch;\n\n  return {\n    referenceRecord: o ? void 0 : r ? r[0] : void 0,\n    refetch: i,\n    error: o,\n    isLoading: a,\n    isFetching: s\n  };\n}, \"useReference\");\nvar zE = n(function (e) {\n  var t = e.debounce,\n      r = e.enableGetChoices,\n      o = e.filter,\n      _e$page4 = e.page,\n      a = _e$page4 === void 0 ? 1 : _e$page4,\n      _e$perPage5 = e.perPage,\n      s = _e$perPage5 === void 0 ? 25 : _e$perPage5,\n      i = e.sort,\n      _e$queryOptions3 = e.queryOptions,\n      u = _e$queryOptions3 === void 0 ? {} : _e$queryOptions3,\n      c = e.reference,\n      l = e.source,\n      _Pr3 = Pr({\n    resource: c,\n    page: a,\n    perPage: s,\n    sort: i,\n    debounce: t,\n    filter: o\n  }),\n      _Pr4 = _slicedToArray(_Pr3, 2),\n      m = _Pr4[0],\n      f = _Pr4[1],\n      M = pp({\n    name: l\n  }),\n      T = r ? r(m.filterValues) : !0,\n      _Ve3 = Ve(c, {\n    pagination: {\n      page: m.page,\n      perPage: m.perPage\n    },\n    sort: {\n      field: m.sort,\n      order: m.order\n    },\n    filter: y(y({}, m.filter), o)\n  }, y({\n    enabled: T\n  }, u)),\n      _Ve3$data = _Ve3.data,\n      L = _Ve3$data === void 0 ? [] : _Ve3$data,\n      x = _Ve3.total,\n      P = _Ve3.pageInfo,\n      R = _Ve3.isFetching,\n      g = _Ve3.isLoading,\n      S = _Ve3.error,\n      C = _Ve3.refetch,\n      _Da = Da({\n    id: M,\n    reference: c\n  }),\n      h = _Da.referenceRecord,\n      E = _Da.refetch,\n      b = _Da.error,\n      v = _Da.isLoading,\n      I = _Da.isFetching,\n      F,\n      A;\n\n  !h || L.find(function (k) {\n    return k.id === M;\n  }) ? (F = L, A = x) : (F = [h].concat(_toConsumableArray(L)), A = x == null ? void 0 : x + 1);\n  var w = lp(function () {\n    C(), E();\n  }, [C, E]);\n  return {\n    sort: dp(function () {\n      return {\n        field: m.sort,\n        order: m.order\n      };\n    }, [m.sort, m.order]),\n    allChoices: F,\n    availableChoices: L,\n    selectedChoices: [h],\n    displayedFilters: m.displayedFilters,\n    error: b || S,\n    filter: m.filter,\n    filterValues: m.filterValues,\n    hideFilter: f.hideFilter,\n    isFetching: I || R,\n    isLoading: v || g,\n    page: m.page,\n    perPage: m.perPage,\n    refetch: w,\n    resource: c,\n    setFilters: f.setFilters,\n    setPage: f.setPage,\n    setPerPage: f.setPerPage,\n    setSort: f.setSort,\n    showFilter: f.showFilter,\n    source: l,\n    total: A,\n    hasNextPage: P ? P.hasNextPage : x != null ? m.page * m.perPage < x : void 0,\n    hasPreviousPage: P ? P.hasPreviousPage : m.page > 1\n  };\n}, \"useReferenceInputController\");\nimport * as Ia from \"react\";\nimport { useParams as mp } from \"react-router-dom\";\nvar hr = n(function () {\n  var e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var t = e.disableAuthentication,\n      r = e.id,\n      _e$queryOptions4 = e.queryOptions,\n      o = _e$queryOptions4 === void 0 ? {} : _e$queryOptions4;\n  re({\n    enabled: !t\n  });\n\n  var a = H(e),\n      s = _(),\n      i = G(),\n      u = ce(),\n      c = jt(),\n      _mp = mp(),\n      l = _mp.id,\n      m = r || decodeURIComponent(l),\n      _Vt2 = Vt(a, {\n    id: m\n  }, y({\n    onError: function onError() {\n      i(\"ra.notification.item_doesnt_exist\", {\n        type: \"warning\"\n      }), u(\"list\", a), c();\n    },\n    retry: !1\n  }, o)),\n      f = _Vt2.data,\n      M = _Vt2.error,\n      T = _Vt2.isLoading,\n      L = _Vt2.isFetching,\n      x = _Vt2.refetch;\n\n  if (f && f.id && f.id != m) throw new Error(\"useShowController: Fetched record's id attribute (\".concat(f.id, \") must match the requested 'id' (\").concat(m, \")\"));\n  var P = Ce();\n  return {\n    defaultTitle: s(\"ra.page.show\", {\n      name: P(a, 1),\n      id: m,\n      record: f\n    }),\n    error: M,\n    isLoading: T,\n    isFetching: L,\n    record: f,\n    refetch: x,\n    resource: a\n  };\n}, \"useShowController\");\nimport * as go from \"react\";\nimport { createContext as fp } from \"react\";\nvar ht = fp({\n  record: null,\n  defaultTitle: null,\n  isFetching: null,\n  isLoading: null,\n  refetch: null,\n  resource: null\n});\nht.displayName = \"ShowContext\";\nvar wa = n(function (_ref119) {\n  var e = _ref119.children,\n      t = _ref119.value;\n  return go.createElement(ht.Provider, {\n    value: t\n  }, go.createElement(de, {\n    value: t && t.record\n  }, e));\n}, \"ShowContextProvider\");\nvar pv = n(function (r) {\n  var o = r,\n      e = o.children,\n      t = N(o, [\"children\"]);\n  return Ia.createElement(wa, {\n    value: hr(t)\n  }, e);\n}, \"ShowBase\");\nvar Rv = n(function (r) {\n  var o = r,\n      e = o.children,\n      t = N(o, [\"children\"]);\n  var a = hr(t);\n  return e(a);\n}, \"ShowController\");\nimport { useContext as yp, useMemo as gp } from \"react\";\nimport Rp from \"lodash/defaults\";\nvar Tv = n(function (e) {\n  var t = yp(ht);\n  return gp(function () {\n    return Rp({}, e != null ? Pp(e) : {}, t);\n  }, [t, e]);\n}, \"useShowContext\"),\n    Pp = n(function (_ref120) {\n  var e = _ref120.record,\n      t = _ref120.data,\n      r = _ref120.defaultTitle,\n      o = _ref120.isFetching,\n      a = _ref120.isLoading,\n      s = _ref120.resource;\n  return {\n    record: e || t,\n    data: e || t,\n    defaultTitle: r,\n    isFetching: o,\n    isLoading: a,\n    resource: s\n  };\n}, \"extractShowContextProps\");\nimport * as Aa from \"react\";\nimport { useWatch as hp } from \"react-hook-form\";\nimport xp from \"lodash/get\";\nvar Cp = n(function (e) {\n  var t = hp();\n  return Aa.createElement(Tp, y({\n    formData: t\n  }, e));\n}, \"FormDataConsumer\"),\n    Tp = n(function (e) {\n  var f = e,\n      t = f.children,\n      r = f.form,\n      o = f.formData,\n      a = f.source,\n      s = f.index,\n      i = N(f, [\"children\", \"form\", \"formData\", \"source\", \"index\"]),\n      u = o,\n      c,\n      l = !1,\n      m;\n  return typeof s != \"undefined\" ? (u = xp(o, a), c = n(function (M) {\n    return l = !0, \"\".concat(a, \".\").concat(M);\n  }, \"getSource\"), m = t(y({\n    formData: o,\n    scopedFormData: u,\n    getSource: c\n  }, i))) : m = t(y({\n    formData: o\n  }, i)), Ze(typeof s != \"undefined\" && m && !l, \"You're using a FormDataConsumer inside an ArrayInput and you did not call the getSource function supplied by the FormDataConsumer component. This is required for your inputs to get the proper source.\\n\\n<ArrayInput source=\\\"users\\\">\\n    <SimpleFormIterator>\\n        <TextInput source=\\\"name\\\" />\\n\\n        <FormDataConsumer>\\n            {({\\n                formData, // The whole form data\\n                scopedFormData, // The data for this item of the ArrayInput\\n                getSource, // A function to get the valid source inside an ArrayInput\\n                ...rest,\\n            }) =>\\n                scopedFormData.name ? (\\n                    <SelectInput\\n                        source={getSource('role')} // Will translate to \\\"users[0].role\\\"\\n                        choices={[{id: 1, name: 'Admin'}, {id: 2, name: 'User'},\\n                        {...rest}\\n                    />\\n                ) : null\\n            }\\n        </FormDataConsumer>\\n    </SimpleFormIterator>\\n</ArrayInput>\"), m === void 0 ? null : m;\n}, \"FormDataConsumerView\"),\n    Mp = Cp;\nimport { createContext as Sp } from \"react\";\nvar xt = Sp(void 0);\nimport * as ze from \"react\";\nvar Lp = n(function (e) {\n  var t = e.error,\n      r = _();\n\n  if (t.message) {\n    var o = t.message,\n        a = t.args;\n    return ze.createElement(ze.Fragment, null, r(o, y({\n      _: o\n    }, a)));\n  }\n\n  return ze.createElement(ze.Fragment, null, r(t, {\n    _: t\n  }));\n}, \"ValidationError\"),\n    bp = Lp;\nimport Ro from \"lodash\";\nvar Na = n(function (e) {\n  var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  return Ro.isObject(e) ? Ro.reduce(e, function (r, o, a) {\n    return Ro.merge(r, Na(o, [].concat(_toConsumableArray(t), [a])));\n  }, {}) : _defineProperty({}, t.join(\".\"), e);\n}, \"flattenKeys\"),\n    Po = n(function (e) {\n  return /*#__PURE__*/function () {\n    var _ref122 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee13(t) {\n      var r, o;\n      return _regeneratorRuntime.wrap(function _callee13$(_context13) {\n        while (1) {\n          switch (_context13.prev = _context13.next) {\n            case 0:\n              _context13.next = 2;\n              return e(t);\n\n            case 2:\n              r = _context13.sent;\n\n              if (!(!r || Object.getOwnPropertyNames(r).length === 0)) {\n                _context13.next = 5;\n                break;\n              }\n\n              return _context13.abrupt(\"return\", {\n                values: t,\n                errors: {}\n              });\n\n            case 5:\n              o = Na(r);\n              return _context13.abrupt(\"return\", {\n                values: {},\n                errors: Object.keys(o).reduce(function (a, s) {\n                  return D(y({}, a), _defineProperty({}, s, {\n                    type: \"manual\",\n                    message: o[s]\n                  }));\n                }, {})\n              });\n\n            case 7:\n            case \"end\":\n              return _context13.stop();\n          }\n        }\n      }, _callee13);\n    }));\n\n    return function (_x8) {\n      return _ref122.apply(this, arguments);\n    };\n  }();\n}, \"getSimpleValidationResolver\");\nimport { createContext as Ep } from \"react\";\nvar xr = Ep(void 0);\nimport * as Fa from \"react\";\nvar tD = n(function (_ref123) {\n  var e = _ref123.children,\n      t = _ref123.value;\n  return Fa.createElement(xr.Provider, {\n    value: t\n  }, e);\n}, \"ChoicesContextProvider\");\nimport { useContext as vp, useMemo as Dp } from \"react\";\nvar iD = n(function () {\n  var e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var t = vp(xr),\n      s = gr({\n    data: e.choices\n  }),\n      r = s.data,\n      o = N(s, [\"data\"]);\n  return Dp(function () {\n    var i, u, c, l, m, f, M, T, L, x, P, R, g, S, C, h, E, b, v, I, F, A, w, O, k, $, q, V, U, j, B, Y, K, Mr, Tt, To, Mo, So, Lo, bo, Eo, vo, Do, wo, Io, Ao;\n    return {\n      allChoices: (i = t == null ? void 0 : t.allChoices) != null ? i : r,\n      availableChoices: (c = (u = t == null ? void 0 : t.availableChoices) != null ? u : e.availableChoices) != null ? c : r,\n      selectedChoices: (m = (l = t == null ? void 0 : t.selectedChoices) != null ? l : e.selectedChoices) != null ? m : r,\n      displayedFilters: (M = (f = t == null ? void 0 : t.displayedFilters) != null ? f : e.displayedFilters) != null ? M : o.displayedFilters,\n      error: (L = (T = t == null ? void 0 : t.error) != null ? T : e.error) != null ? L : o.error,\n      filter: (P = (x = t == null ? void 0 : t.filter) != null ? x : e.filter) != null ? P : o.filter,\n      filterValues: (g = (R = t == null ? void 0 : t.filterValues) != null ? R : e.filterValues) != null ? g : o.filterValues,\n      hasNextPage: (C = (S = t == null ? void 0 : t.hasNextPage) != null ? S : e.hasNextPage) != null ? C : o.hasNextPage,\n      hasPreviousPage: (E = (h = t == null ? void 0 : t.hasPreviousPage) != null ? h : e.hasPreviousPage) != null ? E : o.hasPreviousPage,\n      hideFilter: (v = (b = t == null ? void 0 : t.hideFilter) != null ? b : e.hideFilter) != null ? v : o.hideFilter,\n      isFetching: (F = (I = t == null ? void 0 : t.isFetching) != null ? I : e.isFetching) != null ? F : o.isFetching,\n      isLoading: (w = (A = t == null ? void 0 : t.isLoading) != null ? A : e.isLoading) != null ? w : o.isLoading,\n      page: (k = (O = t == null ? void 0 : t.page) != null ? O : e.page) != null ? k : o.page,\n      perPage: (q = ($ = t == null ? void 0 : t.perPage) != null ? $ : e.perPage) != null ? q : o.perPage,\n      refetch: (U = (V = t == null ? void 0 : t.refetch) != null ? V : e.refetch) != null ? U : o.refetch,\n      resource: (B = (j = t == null ? void 0 : t.resource) != null ? j : e.resource) != null ? B : o.resource,\n      setFilters: (K = (Y = t == null ? void 0 : t.setFilters) != null ? Y : e.setFilters) != null ? K : o.setFilters,\n      setPage: (Tt = (Mr = t == null ? void 0 : t.setPage) != null ? Mr : e.setPage) != null ? Tt : o.setPage,\n      setPerPage: (Mo = (To = t == null ? void 0 : t.setPerPage) != null ? To : e.setPerPage) != null ? Mo : o.setPerPage,\n      setSort: (Lo = (So = t == null ? void 0 : t.setSort) != null ? So : e.setSort) != null ? Lo : o.setSort,\n      showFilter: (Eo = (bo = t == null ? void 0 : t.showFilter) != null ? bo : e.showFilter) != null ? Eo : o.showFilter,\n      sort: (Do = (vo = t == null ? void 0 : t.sort) != null ? vo : e.sort) != null ? Do : o.sort,\n      source: (wo = t == null ? void 0 : t.source) != null ? wo : e.source,\n      total: (Ao = (Io = t == null ? void 0 : t.total) != null ? Io : e.total) != null ? Ao : o.total\n    };\n  }, [t, r, o, e]);\n}, \"useChoicesContext\");\nimport * as Ct from \"react\";\nimport { FormProvider as Wp } from \"react-hook-form\";\nimport * as Oa from \"react\";\nimport { useMemo as wp, useRef as Ua } from \"react\";\nvar ka = n(function (_ref124) {\n  var e = _ref124.children;\n  var t = Ua({}),\n      r = Ua({}),\n      o = wp(function () {\n    return {\n      subscribe: function subscribe(a, s) {\n        return r.current[a] || (r.current[a] = []), r.current[a].push(s), function () {\n          r.current[a] = r.current[a].filter(function (i) {\n            return i !== s;\n          });\n        };\n      },\n      getGroupFields: function getGroupFields(a) {\n        return t.current[a] || [];\n      },\n      registerGroup: function registerGroup(a) {\n        t.current[a] = t.current[a] || [];\n      },\n      unregisterGroup: function unregisterGroup(a) {\n        delete t[a];\n      },\n      registerField: function registerField(a, s) {\n        s != null && ((t.current[s] || []).includes(a) || (t.current[s] = [].concat(_toConsumableArray(t.current[s] || []), [a]), r.current[s] && r.current[s].forEach(function (i) {\n          return i();\n        })));\n      },\n      unregisterField: function unregisterField(a, s) {\n        if (s != null) if (!t.current[s]) console.warn(\"Invalid form group \".concat(s));else {\n          var i = new Set(t.current[s]);\n          i.delete(a), t.current[s] = Array.from(i), r.current[s] && r.current[s].forEach(function (u) {\n            return u();\n          });\n        }\n      }\n    };\n  }, []);\n  return Oa.createElement(xt.Provider, {\n    value: o\n  }, e);\n}, \"FormGroupsProvider\");\nimport { useCallback as Qa, useMemo as zp, useEffect as _a } from \"react\";\nimport { useForm as Hp } from \"react-hook-form\";\nimport Ip from \"lodash/merge\";\n\nfunction He(e, t) {\n  return Ip({}, Ap(e, t), t);\n}\n\nn(He, \"getFormInitialValues\");\n\nfunction Ap(e, t) {\n  return typeof e == \"object\" ? e : typeof e == \"function\" ? e(t) : {};\n}\n\nn(Ap, \"getValues\");\nvar ja = n(function (e, t) {\n  var r = n(function (a, s) {\n    a.forEach(function (i, u) {\n      if (typeof i == \"object\") {\n        o(i, \"\".concat(s, \".\").concat(u, \".\"));\n        return;\n      }\n\n      if (Array.isArray(i)) {\n        r(i, \"\".concat(s, \".\").concat(u, \".\"));\n        return;\n      }\n\n      t(\"\".concat(s, \".\").concat(u), {\n        type: \"server\",\n        message: i.toString()\n      });\n    });\n  }, \"setErrorFromArray\"),\n      o = n(function (a, s) {\n    Object.entries(a).forEach(function (_ref125) {\n      var _ref126 = _slicedToArray(_ref125, 2),\n          i = _ref126[0],\n          u = _ref126[1];\n\n      if (typeof u == \"object\") {\n        o(u, \"\".concat(s).concat(i, \".\"));\n        return;\n      }\n\n      if (Array.isArray(u)) {\n        r(u, \"\".concat(s).concat(i, \".\"));\n        return;\n      }\n\n      t(\"\".concat(s).concat(i), {\n        type: \"server\",\n        message: u.toString()\n      });\n    });\n  }, \"setErrorFromObject\");\n  o(e, \"\");\n}, \"setSubmissionErrors\");\nimport { useEffect as Np, useState as Fp, useRef as Op } from \"react\";\nimport { useFormState as Up } from \"react-hook-form\";\nvar Va = n(function (e) {\n  var _Fp = Fp(!1),\n      _Fp2 = _slicedToArray(_Fp, 2),\n      t = _Fp2[0],\n      r = _Fp2[1],\n      _Up = Up(e ? {\n    control: e\n  } : void 0),\n      o = _Up.isValid,\n      a = _Up.submitCount,\n      s = _Up.errors,\n      i = Op(a);\n\n  return Np(function () {\n    a > i.current && (i.current = a, Object.keys(s).length > 0 && !o ? r(!0) : r(!1));\n  }, [s, o, a]), t;\n}, \"useIsFormInvalid\");\nimport { useContext as kp, useEffect as jp, useRef as Vp } from \"react\";\nimport { useFormState as Gp } from \"react-hook-form\";\nimport { UNSAFE_NavigationContext as Qp, useLocation as _p } from \"react-router-dom\";\nvar Ga = n(function (e, t, r) {\n  var o = kp(Qp).navigator,\n      a = _p(),\n      s = _(),\n      _Gp = Gp(r ? {\n    control: r\n  } : void 0),\n      i = _Gp.isSubmitSuccessful,\n      u = _Gp.isSubmitting,\n      c = _Gp.dirtyFields,\n      l = Object.keys(c).length > 0,\n      m = Vp(t || a.pathname);\n\n  jp(function () {\n    if (!e || !l) return;\n    var f = o.block(function (M) {\n      var T = M.location.pathname.startsWith(m.current);\n      !u && (T || i || window.confirm(s(\"ra.message.unsaved_changes\"))) && (f(), M.retry());\n    });\n    return f;\n  }, [e, a, o, l, u, i, s]);\n}, \"useWarnWhenUnsavedChanges\");\nvar za = n(function (e) {\n  var t = e.context,\n      _e$criteriaMode = e.criteriaMode,\n      r = _e$criteriaMode === void 0 ? \"firstError\" : _e$criteriaMode,\n      o = e.defaultValues,\n      a = e.delayError,\n      s = e.formRootPathname,\n      i = e.mode,\n      u = e.resolver,\n      _e$reValidateMode = e.reValidateMode,\n      c = _e$reValidateMode === void 0 ? \"onChange\" : _e$reValidateMode,\n      l = e.onSubmit,\n      m = e.shouldFocusError,\n      f = e.shouldUnregister,\n      M = e.shouldUseNativeValidation,\n      T = e.warnWhenUnsavedChanges,\n      L = e.validate,\n      x = pe(e),\n      P = sa(),\n      R = zp(function () {\n    return He(o, x);\n  }, [JSON.stringify({\n    defaultValues: o,\n    record: x\n  })]),\n      g = u || (L ? Po(L) : void 0),\n      S = Hp({\n    context: t,\n    criteriaMode: r,\n    defaultValues: R,\n    delayError: a,\n    mode: i,\n    reValidateMode: c,\n    resolver: g,\n    shouldFocusError: m,\n    shouldUnregister: f,\n    shouldUseNativeValidation: M\n  });\n\n  _a(function () {\n    if (!x) return;\n    var v = He(o, x);\n    S.reset(v);\n  }, [S.reset, JSON.stringify(x, o)]);\n\n  var C = Va(S.control),\n      h = G();\n  _a(function () {\n    C && h(\"ra.message.invalid_form\", {\n      type: \"warning\"\n    });\n  }, [C, h]), Ga(T, s, S.control);\n  var E = Qa( /*#__PURE__*/function () {\n    var _ref127 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee14(v) {\n      var I;\n      return _regeneratorRuntime.wrap(function _callee14$(_context14) {\n        while (1) {\n          switch (_context14.prev = _context14.next) {\n            case 0:\n              _context14.t0 = l;\n\n              if (!_context14.t0) {\n                _context14.next = 5;\n                break;\n              }\n\n              _context14.next = 4;\n              return l(v);\n\n            case 4:\n              I = _context14.sent;\n\n            case 5:\n              _context14.t1 = l == null && (P == null ? void 0 : P.save);\n\n              if (!_context14.t1) {\n                _context14.next = 10;\n                break;\n              }\n\n              _context14.next = 9;\n              return P.save(v);\n\n            case 9:\n              I = _context14.sent;\n\n            case 10:\n              I != null && ja(I, S.setError);\n\n            case 11:\n            case \"end\":\n              return _context14.stop();\n          }\n        }\n      }, _callee14);\n    }));\n\n    return function (_x9) {\n      return _ref127.apply(this, arguments);\n    };\n  }(), [S, l, P]),\n      b = Qa(function (v) {\n    v.stopPropagation(), S.handleSubmit(E)(v);\n  }, [S, E]);\n  return {\n    form: S,\n    handleSubmit: E,\n    formHandleSubmit: b,\n    isInvalid: C\n  };\n}, \"useAugmentedForm\");\nvar ZD = n(function (e) {\n  var t = e.children,\n      r = e.id,\n      o = e.className,\n      _e$noValidate = e.noValidate,\n      a = _e$noValidate === void 0 ? !1 : _e$noValidate,\n      s = pe(e),\n      _za = za(e),\n      i = _za.form,\n      u = _za.formHandleSubmit;\n\n  return Ct.createElement(da, {\n    value: s\n  }, Ct.createElement(Wp, y({}, i), Ct.createElement(ka, null, Ct.createElement(\"form\", {\n    onSubmit: u,\n    noValidate: a,\n    id: r,\n    className: o\n  }, t))));\n}, \"Form\");\nimport Ha from \"lodash/memoize\";\nvar Yp = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/,\n    Te = n(function (e) {\n  return typeof e == \"undefined\" || e === null || e === \"\" || Array.isArray(e) && e.length === 0;\n}, \"isEmpty\");\n\nfunction Jp(e) {\n  return e.hasOwnProperty(\"message\");\n}\n\nn(Jp, \"isValidationErrorMessageWithArgs\");\nvar Me = n(function (e, t, r, o) {\n  return typeof e == \"function\" ? e({\n    args: t,\n    value: r,\n    values: o\n  }) : t ? {\n    message: e,\n    args: t\n  } : e;\n}, \"getMessage\"),\n    Se = n(function (e) {\n  return Ha(e, function () {\n    for (var _len5 = arguments.length, t = new Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {\n      t[_key5] = arguments[_key5];\n    }\n\n    return JSON.stringify(t);\n  });\n}, \"memoize\"),\n    Wa = n(function (e) {\n  return typeof e == \"function\";\n}, \"isFunction\"),\n    $p = n(function (e, t) {\n  return function (r, o, a) {\n    var s = e(r, o, a);\n    return s ? typeof s == \"string\" || Jp(s) ? s : s.then(function (i) {\n      return i || t(r, o, a);\n    }) : t(r, o, a);\n  };\n}, \"combine2Validators\"),\n    Ya = n(function () {\n  for (var _len6 = arguments.length, e = new Array(_len6), _key6 = 0; _key6 < _len6; _key6++) {\n    e[_key6] = arguments[_key6];\n  }\n\n  return (Array.isArray(e[0]) ? e[0] : e).filter(Wa).reduce($p, function () {\n    return null;\n  });\n}, \"composeValidators\"),\n    KD = n(function () {\n  for (var _len7 = arguments.length, e = new Array(_len7), _key7 = 0; _key7 < _len7; _key7++) {\n    e[_key7] = arguments[_key7];\n  }\n\n  return function (t, r, o) {\n    var a = (Array.isArray(e[0]) ? e[0] : e).filter(Wa);\n\n    var _iterator3 = _createForOfIteratorHelper(a),\n        _step3;\n\n    try {\n      for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n        var s = _step3.value;\n        var i = s(t, r, o);\n        if (i) return i;\n      }\n    } catch (err) {\n      _iterator3.e(err);\n    } finally {\n      _iterator3.f();\n    }\n  };\n}, \"composeSyncValidators\"),\n    XD = Se(function () {\n  var e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"ra.validation.required\";\n  return Object.assign(function (t, r) {\n    return Te(t) ? Me(e, void 0, t, r) : void 0;\n  }, {\n    isRequired: !0\n  });\n}),\n    ew = Se(function (e) {\n  var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"ra.validation.minLength\";\n  return function (r, o) {\n    return !Te(r) && r.length < e ? Me(t, {\n      min: e\n    }, r, o) : void 0;\n  };\n}),\n    tw = Se(function (e) {\n  var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"ra.validation.maxLength\";\n  return function (r, o) {\n    return !Te(r) && r.length > e ? Me(t, {\n      max: e\n    }, r, o) : void 0;\n  };\n}),\n    rw = Se(function (e) {\n  var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"ra.validation.minValue\";\n  return function (r, o) {\n    return !Te(r) && r < e ? Me(t, {\n      min: e\n    }, r, o) : void 0;\n  };\n}),\n    ow = Se(function (e) {\n  var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"ra.validation.maxValue\";\n  return function (r, o) {\n    return !Te(r) && r > e ? Me(t, {\n      max: e\n    }, r, o) : void 0;\n  };\n}),\n    nw = Se(function () {\n  var e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"ra.validation.number\";\n  return function (t, r) {\n    return !Te(t) && isNaN(Number(t)) ? Me(e, void 0, t, r) : void 0;\n  };\n}),\n    Zp = Ha(function (e) {\n  var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"ra.validation.regex\";\n  return function (r, o) {\n    return !Te(r) && typeof r == \"string\" && !e.test(r) ? Me(t, {\n      pattern: e\n    }, r, o) : void 0;\n  };\n}, function (e, t) {\n  return e.toString() + t;\n}),\n    aw = Se(function () {\n  var e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"ra.validation.email\";\n  return Zp(Yp, e);\n}),\n    Bp = n(function (_ref128) {\n  var e = _ref128.args;\n  return {\n    message: \"ra.validation.oneOf\",\n    args: e\n  };\n}, \"oneOfTypeMessage\"),\n    sw = Se(function (e) {\n  var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : Bp;\n  return function (r, o) {\n    return !Te(r) && e.indexOf(r) === -1 ? Me(t, {\n      list: e\n    }, r, o) : void 0;\n  };\n}),\n    iw = n(function (e) {\n  return e && e.isRequired ? !0 : Array.isArray(e) ? !!e.find(function (t) {\n    return t.isRequired;\n  }) : !1;\n}, \"isRequired\");\nimport { createContext as qp } from \"react\";\nvar Cr = qp(void 0);\nimport * as Ja from \"react\";\nimport { useEffect as Xp } from \"react\";\nimport { useContext as Kp } from \"react\";\nvar We = n(function () {\n  return Kp(xt);\n}, \"useFormGroups\");\nvar Pw = n(function (_ref129) {\n  var e = _ref129.children,\n      t = _ref129.name;\n  var r = We();\n  return Xp(function () {\n    if (!r || !r.registerGroup || !r.unregisterGroup) {\n      console.warn(\"The FormGroupContextProvider can only be used inside a FormContext such as provided by the SimpleForm and TabbedForm components\");\n      return;\n    }\n\n    return r.registerGroup(t), function () {\n      r.unregisterGroup(t);\n    };\n  }, [r, t]), Ja.createElement(Cr.Provider, {\n    value: t\n  }, e);\n}, \"FormGroupContextProvider\");\nimport { useEffect as em } from \"react\";\nimport { useFormContext as tm } from \"react-hook-form\";\nimport ho from \"lodash/get\";\nvar $a = n(function (e) {\n  var t = e.defaultValue,\n      r = e.source,\n      o = pe(e),\n      _tm = tm(),\n      a = _tm.getValues,\n      s = _tm.resetField,\n      i = ho(o, r),\n      u = ho(a(), r);\n\n  em(function () {\n    if (t != null && u == null && i == null) {\n      if (r.split(\".\").some(function (l) {\n        return rm.test(l);\n      })) {\n        var l = r.split(\".\").slice(0, -1).join(\".\");\n        if (ho(a(), l) == null) return;\n      }\n\n      s(r, {\n        defaultValue: t\n      });\n    }\n  });\n}, \"useApplyInputDefaultValues\"),\n    rm = /^\\d+$/;\nimport * as Za from \"react\";\nimport { isValidElement as Ba, useCallback as xo } from \"react\";\nimport Co from \"lodash/get\";\nvar qa = n(function (_ref130) {\n  var _ref130$optionText = _ref130.optionText,\n      e = _ref130$optionText === void 0 ? \"name\" : _ref130$optionText,\n      _ref130$optionValue = _ref130.optionValue,\n      t = _ref130$optionValue === void 0 ? \"id\" : _ref130$optionValue,\n      _ref130$disableValue = _ref130.disableValue,\n      r = _ref130$disableValue === void 0 ? \"disabled\" : _ref130$disableValue,\n      _ref130$translateChoi = _ref130.translateChoice,\n      o = _ref130$translateChoi === void 0 ? !0 : _ref130$translateChoi;\n\n  var a = _(),\n      s = xo(function (c) {\n    if (Ba(e)) return Za.createElement(de, {\n      value: c\n    }, e);\n    var l = typeof e == \"function\" ? e(c) : Co(c, e);\n    return Ba(l) ? l : o ? a(String(l), {\n      _: l\n    }) : String(l);\n  }, [e, a, o]),\n      i = xo(function (c) {\n    return Co(c, t);\n  }, [t]),\n      u = xo(function (c) {\n    return Co(c, r);\n  }, [r]);\n\n  return {\n    getChoiceText: s,\n    getChoiceValue: i,\n    getDisableValue: u\n  };\n}, \"useChoices\");\nimport { useCallback as om, useEffect as Ka, useState as nm } from \"react\";\nimport Tr from \"lodash/get\";\nimport am from \"lodash/isEqual\";\nimport { useFormState as sm } from \"react-hook-form\";\nvar Uw = n(function (e) {\n  var _sm = sm(),\n      t = _sm.dirtyFields,\n      r = _sm.touchedFields,\n      o = _sm.errors,\n      a = We(),\n      _nm = nm({\n    errors: void 0,\n    isDirty: !1,\n    isTouched: !1,\n    isValid: !0\n  }),\n      _nm2 = _slicedToArray(_nm, 2),\n      s = _nm2[0],\n      i = _nm2[1],\n      u = om(function () {\n    var l = a.getGroupFields(e).map(function (f) {\n      return {\n        name: f,\n        error: Tr(o, f, void 0),\n        isDirty: Tr(t, f, !1),\n        isValid: Tr(o, f, void 0) == null,\n        isTouched: Tr(r, f, !1)\n      };\n    }).filter(function (f) {\n      return f != null;\n    }),\n        m = im(l);\n    i(function (f) {\n      return am(f, m) ? f : m;\n    });\n  }, [t, o, r, a, e]);\n\n  return Ka(function () {\n    u();\n  }, [JSON.stringify({\n    dirtyFields: t,\n    errors: o,\n    touchedFields: r\n  }), u]), Ka(function () {\n    return a.subscribe(e, function () {\n      u();\n    });\n  }, [a, e, u]), s;\n}, \"useFormGroup\"),\n    im = n(function (e) {\n  return e.reduce(function (t, r) {\n    var o = t.errors || {};\n    return r.error && (o[r.name] = r.error), {\n      isDirty: t.isDirty || r.isDirty,\n      errors: o,\n      isTouched: t.isTouched || r.isTouched,\n      isValid: t.isValid && r.isValid\n    };\n  }, {\n    isDirty: !1,\n    errors: void 0,\n    isValid: !0,\n    isTouched: !1\n  });\n}, \"getFormGroupState\");\nimport { useContext as cm } from \"react\";\nvar Xa = n(function () {\n  return cm(Cr);\n}, \"useFormGroupContext\");\nvar es = n(function () {\n  var e = _();\n\n  return function (t) {\n    if (t.message != null) {\n      var r = t.message,\n          o = t.args;\n      return e(r, y({\n        _: r\n      }, o));\n    }\n\n    return e(t, {\n      _: t\n    });\n  };\n}, \"useGetValidationErrorMessage\");\nimport { useEffect as um } from \"react\";\nimport { useFormContext as lm } from \"react-hook-form\";\nvar Yw = n(function (e, t) {\n  var _lm = lm(),\n      r = _lm.reset;\n\n  um(function () {\n    if (!t) return;\n    var o = He(e, t);\n    r(o);\n  }, [r, JSON.stringify(t, e)]);\n}, \"useInitializeFormWithRecord\");\nimport { useEffect as pm } from \"react\";\nimport { useController as mm, useFormContext as fm } from \"react-hook-form\";\nimport ym from \"lodash/get\";\nvar dm = n(function (e) {\n  return e && e.isRequired ? !0 : Array.isArray(e) ? e.some(function (t) {\n    return t.isRequired;\n  }) : !1;\n}, \"isRequired\"),\n    ts = dm;\nvar pI = n(function (e) {\n  var b = e,\n      t = b.defaultValue,\n      r = b.format,\n      o = b.id,\n      a = b.isRequired,\n      s = b.name,\n      i = b.onBlur,\n      u = b.onChange,\n      c = b.parse,\n      l = b.source,\n      m = b.validate,\n      f = N(b, [\"defaultValue\", \"format\", \"id\", \"isRequired\", \"name\", \"onBlur\", \"onChange\", \"parse\", \"source\", \"validate\"]),\n      M = s || l,\n      T = Xa(),\n      L = We(),\n      x = pe(),\n      P = es(),\n      R = fm();\n  pm(function () {\n    if (!(!L || T == null)) return L.registerField(l, T), function () {\n      L.unregisterField(l, T);\n    };\n  }, [L, T, l]);\n\n  var g = Array.isArray(m) ? Ya(m) : m,\n      _mm = mm(y({\n    name: M,\n    defaultValue: ym(x, l, t),\n    rules: {\n      validate: function () {\n        var _validate = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee15(v) {\n          var I;\n          return _regeneratorRuntime.wrap(function _callee15$(_context15) {\n            while (1) {\n              switch (_context15.prev = _context15.next) {\n                case 0:\n                  if (g) {\n                    _context15.next = 2;\n                    break;\n                  }\n\n                  return _context15.abrupt(\"return\", !0);\n\n                case 2:\n                  _context15.next = 4;\n                  return g(v, R.getValues(), e);\n\n                case 4:\n                  I = _context15.sent;\n                  return _context15.abrupt(\"return\", I ? P(I) : !0);\n\n                case 6:\n                case \"end\":\n                  return _context15.stop();\n              }\n            }\n          }, _callee15);\n        }));\n\n        function validate(_x10) {\n          return _validate.apply(this, arguments);\n        }\n\n        return validate;\n      }()\n    }\n  }, f)),\n      S = _mm.field,\n      C = _mm.fieldState,\n      h = _mm.formState;\n\n  $a(e);\n  var E = D(y({}, S), {\n    value: r ? r(S.value) : S.value,\n    onBlur: function onBlur() {\n      i && i.apply(void 0, arguments), S.onBlur();\n    },\n    onChange: function onChange() {\n      var F, A, w, O, k, $, q;\n\n      for (var _len8 = arguments.length, v = new Array(_len8), _key8 = 0; _key8 < _len8; _key8++) {\n        v[_key8] = arguments[_key8];\n      }\n\n      u && u.apply(void 0, v);\n      var I = typeof ((A = (F = v[0]) == null ? void 0 : F.target) == null ? void 0 : A.checked) == \"boolean\" && ((O = (w = v[0]) == null ? void 0 : w.target) == null ? void 0 : O.value) === \"on\" ? v[0].target.checked : (q = ($ = (k = v[0]) == null ? void 0 : k.target) == null ? void 0 : $.value) != null ? q : v[0];\n      S.onChange(c ? c(I) : I);\n    }\n  });\n  return {\n    id: o || l,\n    field: E,\n    fieldState: C,\n    formState: h,\n    isRequired: a || ts(m)\n  };\n}, \"useInput\");\nimport { useCallback as gm, isValidElement as Rm } from \"react\";\nimport rs from \"lodash/set\";\nvar CI = n(function (_ref131) {\n  var e = _ref131.allowCreate,\n      t = _ref131.choices,\n      _ref131$createText = _ref131.createText,\n      r = _ref131$createText === void 0 ? \"ra.action.create\" : _ref131$createText,\n      _ref131$createValue = _ref131.createValue,\n      o = _ref131$createValue === void 0 ? \"@@create\" : _ref131$createValue,\n      _ref131$emptyText = _ref131.emptyText,\n      a = _ref131$emptyText === void 0 ? \"\" : _ref131$emptyText,\n      _ref131$emptyValue = _ref131.emptyValue,\n      s = _ref131$emptyValue === void 0 ? null : _ref131$emptyValue,\n      i = _ref131.limitChoicesToValue,\n      u = _ref131.matchSuggestion,\n      c = _ref131.optionText,\n      l = _ref131.optionValue,\n      m = _ref131.selectedItem,\n      _ref131$suggestionLim = _ref131.suggestionLimit,\n      f = _ref131$suggestionLim === void 0 ? 0 : _ref131$suggestionLim,\n      M = _ref131.translateChoice;\n\n  var T = _(),\n      _qa = qa({\n    optionText: c,\n    optionValue: l,\n    translateChoice: M\n  }),\n      L = _qa.getChoiceText,\n      x = _qa.getChoiceValue,\n      P = gm(xm({\n    allowCreate: e,\n    choices: t,\n    createText: r,\n    createValue: o,\n    emptyText: T(a, {\n      _: a\n    }),\n    emptyValue: s,\n    getChoiceText: L,\n    getChoiceValue: x,\n    limitChoicesToValue: i,\n    matchSuggestion: u,\n    optionText: c,\n    optionValue: l,\n    selectedItem: m,\n    suggestionLimit: f\n  }), [e, t, r, o, a, s, L, x, i, u, c, l, m, f, T]);\n\n  return {\n    getChoiceText: L,\n    getChoiceValue: x,\n    getSuggestions: P\n  };\n}, \"useSuggestions\"),\n    Pm = n(function (e) {\n  return e ? e.replace(/[.*+?^${}()|[\\]\\\\]/g, \"\\\\$&\") : \"\";\n}, \"escapeRegExp\"),\n    hm = n(function (e) {\n  return function (t, r) {\n    var o = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : !1;\n    var a = e(r),\n        s = Rm(a),\n        i = Pm(t);\n    return s ? !1 : a && !!a.match(new RegExp(o ? \"^\".concat(i, \"$\") : i, \"i\"));\n  };\n}, \"defaultMatchSuggestion\"),\n    xm = n(function (_ref132) {\n  var _ref132$allowCreate = _ref132.allowCreate,\n      e = _ref132$allowCreate === void 0 ? !1 : _ref132$allowCreate,\n      _ref132$choices = _ref132.choices,\n      t = _ref132$choices === void 0 ? [] : _ref132$choices,\n      _ref132$createText = _ref132.createText,\n      r = _ref132$createText === void 0 ? \"ra.action.create\" : _ref132$createText,\n      _ref132$createValue = _ref132.createValue,\n      o = _ref132$createValue === void 0 ? \"@@create\" : _ref132$createValue,\n      _ref132$emptyText = _ref132.emptyText,\n      a = _ref132$emptyText === void 0 ? \"\" : _ref132$emptyText,\n      _ref132$emptyValue = _ref132.emptyValue,\n      s = _ref132$emptyValue === void 0 ? null : _ref132$emptyValue,\n      _ref132$optionText = _ref132.optionText,\n      i = _ref132$optionText === void 0 ? \"name\" : _ref132$optionText,\n      _ref132$optionValue = _ref132.optionValue,\n      u = _ref132$optionValue === void 0 ? \"id\" : _ref132$optionValue,\n      c = _ref132.getChoiceText,\n      l = _ref132.getChoiceValue,\n      _ref132$limitChoicesT = _ref132.limitChoicesToValue,\n      m = _ref132$limitChoicesT === void 0 ? !1 : _ref132$limitChoicesT,\n      _ref132$matchSuggesti = _ref132.matchSuggestion,\n      f = _ref132$matchSuggesti === void 0 ? hm(c) : _ref132$matchSuggesti,\n      M = _ref132.selectedItem,\n      _ref132$suggestionLim = _ref132.suggestionLimit,\n      T = _ref132$suggestionLim === void 0 ? 0 : _ref132$suggestionLim;\n  return function (L) {\n    var x = [];\n    M && !Array.isArray(M) && f(L, M) ? m ? x = t.filter(function (g) {\n      return l(g) === l(M);\n    }) : x = _toConsumableArray(t) : x = t.filter(function (g) {\n      return f(L, g) || M != null && (Array.isArray(M) ? M.some(function (S) {\n        return l(g) === l(S);\n      }) : l(g) === l(M));\n    }), x = Cm(x, T);\n    var P = x.some(function (g) {\n      return f(L, g, !0);\n    });\n\n    if (e) {\n      var g = !!M && !Array.isArray(M) ? f(L, M, !0) : !1;\n      !P && !g && x.push(Tm({\n        optionText: i,\n        optionValue: u,\n        text: r,\n        value: o\n      }));\n    }\n\n    return x.filter(function (g, S) {\n      return x.indexOf(g) === S;\n    });\n  };\n}, \"getSuggestionsFactory\"),\n    Cm = n(function (e) {\n  var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  return Number.isInteger(t) && t > 0 ? e.slice(0, t) : e;\n}, \"limitSuggestions\"),\n    Tm = n(function (_ref133) {\n  var _ref133$optionText = _ref133.optionText,\n      e = _ref133$optionText === void 0 ? \"name\" : _ref133$optionText,\n      _ref133$optionValue = _ref133.optionValue,\n      t = _ref133$optionValue === void 0 ? \"id\" : _ref133$optionValue,\n      _ref133$text = _ref133.text,\n      r = _ref133$text === void 0 ? \"\" : _ref133$text,\n      _ref133$value = _ref133.value,\n      o = _ref133$value === void 0 ? null : _ref133$value;\n  var a = {};\n  return rs(a, t, o), typeof e == \"string\" && rs(a, e, r), a;\n}, \"getSuggestion\");\nvar qI = \"I18N_TRANSLATE\",\n    KI = \"I18N_CHANGE_LOCALE\";\nexport { Cn as AUTH_CHECK, Tn as AUTH_ERROR, Sn as AUTH_GET_PERMISSIONS, xn as AUTH_LOGIN, Mn as AUTH_LOGOUT, Go as AdminRouter, Ye as AuthContext, yP as Authenticated, Vo as BasenameContextProvider, _r as CREATE, xr as ChoicesContext, tD as ChoicesContextProvider, ii as ComponentPropType, JC as CoreAdmin, to as CoreAdminContext, ao as CoreAdminRoutes, _n as CoreAdminUI, gS as CreateBase, dt as CreateContext, ia as CreateContextProvider, CS as CreateController, Ru as CustomRoutes, Xo as DEFAULT_LOCALE, Wr as DELETE, Yr as DELETE_MANY, qe as DataProviderContext, rL as EditBase, pt as EditContext, pa as EditContextProvider, iL as EditController, Lu as ExporterContext, ai as FieldTitle, ZD as Form, Mp as FormDataConsumer, Cr as FormGroupContext, Pw as FormGroupContextProvider, xt as FormGroupsContext, ka as FormGroupsProvider, jr as GET_LIST, Gr as GET_MANY, Qr as GET_MANY_REFERENCE, Vr as GET_ONE, ct as HIDE_FILTER, Zr as HttpError, KI as I18N_CHANGE_LOCALE, qI as I18N_TRANSLATE, Je as I18nContext, At as I18nContextProvider, WT as InferenceTypes, z as InferredElement, ib as ListBase, mt as ListContext, Ma as ListContextProvider, pb as ListController, ft as ListFilterContext, gt as ListPaginationContext, yt as ListSortContext, wt as NotificationContext, $o as NotificationContextProvider, da as OptionalRecordContextProvider, Ir as Ready, sr as RecordContext, de as RecordContextProvider, Wn as Resource, Ot as ResourceContext, zt as ResourceContextProvider, et as ResourceDefinitionContext, jn as ResourceDefinitionContextProvider, De as SET_FILTER, _e as SET_PAGE, st as SET_PER_PAGE, at as SET_SORT, it as SHOW_FILTER, oe as SORT_ASC, rr as SORT_DESC, ir as SaveContext, cr as SaveContextProvider, pv as ShowBase, ht as ShowContext, wa as ShowContextProvider, Rv as ShowController, vt as StoreContext, Yo as StoreContextProvider, wf as StoreSetter, ey as TestTranslationProvider, Nt as TranslatableContext, sy as TranslatableContextProvider, zr as UPDATE, Hr as UPDATE_MANY, bp as ValidationError, Fr as WithPermissions, zS as WithRecord, sw as choices, $p as combine2Validators, $P as combineDataProviders, KD as composeSyncValidators, Ya as composeValidators, kr as convertLegacyAuthProvider, $r as convertLegacyDataProvider, je as defaultDataProvider, tt as defaultExporter, co as downloadCSV, aw as email, Us as escapePath, Jr as fetchActionsWithArrayOfIdentifiedRecordsResponse, bn as fetchActionsWithArrayOfRecordsResponse, Ln as fetchActionsWithRecordResponse, En as fetchActionsWithTotalResponse, vu as fetchRelatedRecords, An as fetchUtils, $u as getElementsFromRecords, $e as getFieldLabelTranslationArgs, im as getFormGroupState, jL as getListControllerProps, mi as getMutationMode, ga as getNumberOrDefault, id as getQuery, bl as getRecordFromLocation, ba as getSelectedReferencesStatus, Po as getSimpleValidationResolver, Bd as getStatusForArrayInput, $d as getStatusForInput, Re as getStorage, xm as getSuggestionsFactory, ve as getValuesFromRecords, sd as hasCustomParams, ta as inferTypeFromValues, ha as injectedProps, iw as isRequired, Gm as linkToRecord, pf as localStorageStore, tw as maxLength, ow as maxValue, Et as memoryStore, vg as mergeRefs, dy as mergeTranslations, ew as minLength, rw as minValue, nw as number, ad as parseQueryFromLocation, or as queryReducer, Zp as regex, ie as removeDoubleSlashes, X as removeEmpty, Dr as removeKey, XD as required, ly as resolveBrowserLocale, _m as resolveRedirectTo, OP as sanitizeFetchType, VL as sanitizeListRestProps, rn as shallowEqual, BP as testDataProvider, ye as undoableEventEmitter, $a as useApplyInputDefaultValues, za as useAugmentedForm, ee as useAuthProvider, Ar as useAuthState, re as useAuthenticated, se as useBasename, ke as useCheckAuth, yl as useCheckMinimumRequiredProps, qa as useChoices, iD as useChoicesContext, On as useCreate, bS as useCreateContext, ar as useCreateController, Lt as useCreatePath, W as useDataProvider, Fg as useDeepCompareEffect, Qt as useDelete, Fx as useDeleteMany, Tl as useDeleteWithConfirmController, Pl as useDeleteWithUndoController, pL as useEditContext, dr as useEditController, cn as useEventCallback, Kb as useExpanded, el as useFilterState, Uw as useFormGroup, Xa as useFormGroupContext, tc as useGetIdentity, Ve as useGetList, Ih as useGetMany, Ge as useGetManyAggregate, Gt as useGetManyReference, Vt as useGetOne, Ee as useGetPermissions, Ce as useGetResourceLabel, es as useGetValidationErrorMessage, Ft as useI18nProvider, Yw as useInitializeFormWithRecord, pI as useInput, ch as useIsDataLoaded, Va as useIsFormInvalid, ln as useIsMounted, gr as useList, bb as useListContext, mr as useListController, Ib as useListFilterContext, Ub as useListPaginationContext, fa as useListParams, Qb as useListSortContext, ph as useLoading, Cy as useLocale, Oe as useLocaleState, Ki as useLogin, be as useLogout, Ur as useLogoutIfAccessDenied, It as useNotificationContext, G as useNotify, lt as usePaginationState, Vi as usePermissions, Nr as usePermissionsOptimized, xa as usePickFilterContext, Ta as usePickPaginationContext, ur as usePickSaveContext, Ca as usePickSortContext, hi as usePrevious, pe as useRecordContext, me as useRecordSelection, ce as useRedirect, Da as useReference, aE as useReferenceArrayFieldController, NE as useReferenceArrayInputController, zE as useReferenceInputController, gE as useReferenceManyFieldController, CE as useReferenceOneFieldController, jt as useRefresh, Vn as useRegisterResource, dn as useRemoveFromStore, pn as useResetStore, H as useResourceContext, Yn as useResourceDefinition, Yt as useResourceDefinitions, Q as useSafeSetState, sa as useSaveContext, Qo as useScrollToTop, Sy as useSetLocale, Tv as useShowContext, hr as useShowController, ut as useSortState, ue as useStore, Pe as useStoreContext, CI as useSuggestions, un as useTimeout, Fy as useTranslatable, Vy as useTranslatableContext, _ as useTranslate, nr as useUnselect, $b as useUnselectAll, Un as useUpdate, yx as useUpdateMany, Ga as useWarnWhenUnsavedChanges, sn as useWhyDidYouUpdate, nd as validQueryParams, Ze as warning };","map":{"version":3,"mappings":"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","names":["e","basename","t","children","r","history","is","action","location","o","a","listen","Uo","cs","navigationType","navigator","n","St","us","Vo","jo","Provider","value","Go","ds","Le","ms","fs","ls","ps","ko","Gm","encodeURIComponent","_m","s","Ne","y","pathname","replace","se","ys","Lt","gs","resource","id","type","ie","ce","Ps","Rs","i","u","c","l","hs","state","_scrollToTop","startsWith","window","href","Qo","Cs","xs","scrollTo","Ms","Ss","login","Promise","resolve","logout","checkAuth","checkError","getPermissions","getIdentity","_o","Ts","displayName","Ye","Fe","loginUrl","afterLoginUrl","bs","Ls","ee","fe","bt","length","Es","localStorage","setItem","removeItem","Lr","pf","Object","keys","forEach","key","callback","substring","zo","newValue","setup","Re","getItem","clear","addEventListener","teardown","removeEventListener","JSON","stringify","reset","subscribe","Math","random","toString","parse","br","Map","valuesMap","has","String","get","set","delete","arguments","TypeError","Array","from","size","vs","Et","ws","Ds","Ho","As","vt","Is","Yo","Ns","Wo","Pe","Fs","wf","name","Dt","Us","Je","ks","translate","changeLocale","getLocale","wt","js","notifications","addNotification","takeNotification","resetNotifications","It","Vs","G","Gs","N","message","notificationOptions","$o","Qs","Er","_s","Jo","At","Hs","ue","Bo","then","catch","console","error","Zo","ey","messages","qo","Ws","_","Nt","Ys","sy","Ko","ly","language","browserLanguage","userLanguage","Xo","fullLocale","split","dy","Js","Ft","$s","Oe","Zs","Cy","Sy","Bs","qs","Fy","defaultLocale","locales","Ks","H","Xs","getSource","m","getLabel","$e","source","label","selectedLocale","selectLocale","Vy","ei","Error","ti","transform","Ot","ri","oi","en","isRequired","vr","ai","ni","ii","si","rn","tn","prototype","hasOwnProperty","call","ci","ui","Date","on","reduce","D","X","nn","assign","an","slice","join","Dr","he","root","width","height","display","flexDirection","fontFamily","main","flex","alignItems","justifyContent","textAlign","background","color","fontSize","fontWeight","secondary","link","textDecoration","opacity","linkHovered","image","logo","wr","img","li","Z","style","onMouseEnter","onMouseLeave","src","alt","Ir","process","env","NODE_ENV","Ze","warn","di","pi","current","to","log","mi","yi","Ue","cn","fi","gi","Ut","Be","Ri","Pi","hi","Q","setTimeout","clearTimeout","xi","Ci","dn","Ti","pn","bi","Li","fn","Si","Mi","mn","f","M","T","L","x","P","nextPathname","nextSearch","search","be","ke","Ei","redirectTo","Di","vi","Ii","Ai","isLoading","authenticated","Ar","Fi","Oi","Ni","Ee","ki","ji","permissions","Vi","_i","yn","zi","Qi","Nr","re","enabled","params","Wi","Hi","gn","Yi","count","$i","authParams","render","component","staticContext","Ji","Fr","qi","Zi","Bi","Rn","Ki","Pn","fullName","ec","identity","tc","Or","nc","oc","rc","logoutUser","hn","ac","Ur","xn","Cn","Tn","Mn","Sn","kr","apply","yP","kt","jr","Vr","Gr","Qr","_r","zr","Hr","Wr","Yr","Ln","Jr","bn","En","OP","le","create","deleteMany","getList","getMany","getManyReference","getOne","update","updateMany","vn","sc","Proxy","includes","$r","Dn","ic","qe","setPrototypeOf","Ke","constructor","captureStackTrace","stack","Zr","as","createHeadersFromOptions","fetchJson","flattenObject","queryParameters","wn","headers","Headers","Accept","method","body","FormData","user","token","uc","fetch","text","status","statusText","reject","json","lc","cc","dc","isArray","Buffer","isBuffer","In","map","concat","ye","pc","je","data","total","$P","BP","Nn","mc","W","fc","yc","ch","Pc","Rc","getQueryData","hc","queryKey","ph","xc","Xe","useRef","isFetching","isMutating","useState","useEffect","getQueryCache","Fn","batchCalls","getMutationCache","jt","Tc","Cc","invalidateQueries","Vt","meta","Mc","Ve","pagination","page","perPage","sort","field","order","filter","Lc","Sc","pageInfo","onSuccess","setQueryData","Ih","ids","Ec","bc","placeholderData","vc","some","retry","Ge","wc","Dc","Ac","Ic","Oc","dataProvider","queryClient","Fc","push","Nc","find","fetchQuery","Gt","target","kc","Uc","R","On","Gc","jc","Vc","returnPromise","mutateAsync","mutate","Un","_c","mutationMode","Br","g","S","C","now","h","E","b","v","findIndex","I","updatedAt","setQueriesData","Qc","previousData","onMutate","snapshot","onError","onSettled","F","A","w","O","k","$","getQueriesData","all","cancelQueries","once","isUndo","q","yx","Hc","qr","zc","Qt","Yc","Kr","Wc","Fx","$c","Xr","Jc","et","Zc","jn","definitions","qc","Bc","Kc","kn","authProvider","i18nProvider","store","eo","eu","Function","ge","Xc","client","defaultProps","Vn","ru","tu","Gn","_t","customRoutesWithoutLayout","customRoutesWithLayout","resources","oo","ro","registerResource","props","ou","isValidElement","au","raName","noLayout","ao","un","layout","catchAll","dashboard","loading","menu","requireAuth","ready","title","su","iu","J","no","Qe","path","element","cu","lu","uu","customRoutes","route","yu","xe","_n","zn","disableTelemetry","loginPage","Image","hostname","fu","Qn","gu","pu","mu","JC","so","Ru","zt","Hn","Wn","edit","list","show","ne","Pu","Wt","Ht","icon","options","hasList","hasCreate","hasEdit","hasShow","Yt","hu","Ce","smart_count","io","humanize","pluralize","singularize","Yn","xu","Cu","co","document","createElement","appendChild","Blob","msSaveOrOpenBlob","setAttribute","URL","createObjectURL","click","Mu","Tu","tt","Jn","Su","Lu","bu","Eu","Set","vu","ve","isDefined","$n","getElement","representation","z","uo","Iu","isNaN","parseFloat","isFinite","rt","every","Au","Number","isInteger","parseInt","ot","Nu","Jt","Fu","$t","Ou","Uu","test","Zt","ku","ju","Bn","Vu","Gu","qn","Qu","_u","Kn","zu","Bt","Hu","qt","Wu","Zn","Du","wu","Kt","nt","Xt","Yu","Xn","ae","Ju","array","boolean","date","email","number","reference","referenceArray","richText","string","url","te","lo","substr","er","referenceChild","referenceArrayChild","shift","ea","$u","WT","ta","tr","Xu","el","filterToQuery","permanentFilter","debounceTime","ra","Zu","Ku","Bu","qu","setFilter","at","oe","rr","_e","st","De","it","ct","rl","or","payload","displayedFilters","filterName","defaultValue","tl","po","sl","il","cl","ol","al","setSort","mo","setSortField","setSortOrder","ut","pl","ml","lt","ll","dl","oa","setPage","setPerPage","setPagination","yl","Rl","record","redirect","onClick","mutationOptions","nr","gl","stopPropagation","messageArgs","undoable","handleDelete","Pl","Cl","hl","xl","open","handleDialogOpen","handleDialogClose","Tl","ar","disableAuthentication","El","Ll","bl","Ml","saving","defaultTitle","save","Sl","sr","vl","de","na","dt","Dl","ir","wl","cr","aa","ur","Il","Al","sa","Nl","ia","lr","gS","CS","bS","Fl","Ol","Ul","kl","dr","queryOptions","ua","Vl","decodeURIComponent","refetchOnReconnect","refetchOnWindowFocus","refetch","jl","V","U","j","pe","Gl","zS","da","la","pt","Ql","pa","pr","rL","iL","pL","_l","zl","Hl","Wl","me","Jl","Yl","select","unselect","toggle","indexOf","clearSelection","fa","filterDefaultValues","cd","debounce","disableSyncWithLocation","od","rd","Bl","Pa","ql","ln","ad","$l","queryFromLocation","Zl","we","Xl","Ra","ed","filterValues","requestSignature","changeParams","setFilters","hideFilter","showFilter","nd","ya","td","Kl","sd","ga","mr","exporter","pd","ud","keepPreviousData","ld","ceil","dd","onSelect","onToggleItem","onUnselectItems","selectedIds","hasNextPage","hasPreviousPage","ha","jL","VL","mt","md","ft","fd","xa","yd","gd","yt","Rd","Ca","Pd","hd","gt","xd","Ta","Cd","Td","Ma","Rt","ib","fo","pb","Ld","gr","bd","Ed","fr","Md","Y","Ae","Sd","yr","entries","B","K","Pt","Tt","bb","vd","Dd","wd","Id","Ib","Ad","Ub","Nd","Qb","Fd","Od","$b","Ud","Kb","kd","Vd","Gd","Qd","aE","jd","Yd","gE","Rr","Hd","zd","Wd","_d","CE","Jd","referenceRecord","Sa","$d","matchingReferences","waiting","warning","choices","La","Zd","yo","ba","Bd","referenceRecords","Pr","op","Kd","np","Xd","qd","tp","Ie","va","ep","rp","Ea","NE","enableGetChoices","ip","cp","Boolean","up","ap","sp","allChoices","availableChoices","selectedChoices","Da","zE","pp","lp","dp","hr","mp","ht","fp","wa","go","pv","Rv","Tv","yp","gp","Rp","Pp","Cp","hp","Aa","Tp","formData","form","index","xp","scopedFormData","Mp","xt","Sp","Lp","args","ze","bp","Na","Ro","isObject","merge","Po","getOwnPropertyNames","values","errors","xr","Ep","tD","Fa","iD","vp","Dp","ka","Ua","wp","getGroupFields","registerGroup","unregisterGroup","registerField","unregisterField","Oa","Ip","Ap","ja","Va","Fp","Up","control","isValid","submitCount","Op","Ga","kp","Qp","_p","Gp","isSubmitSuccessful","isSubmitting","dirtyFields","Vp","jp","block","confirm","za","context","criteriaMode","defaultValues","delayError","formRootPathname","mode","resolver","reValidateMode","onSubmit","shouldFocusError","shouldUnregister","shouldUseNativeValidation","warnWhenUnsavedChanges","validate","zp","He","Hp","_a","Qa","setError","handleSubmit","formHandleSubmit","isInvalid","ZD","className","noValidate","Ct","Wp","Yp","Te","Me","Se","Ha","Wa","$p","Jp","Ya","KD","XD","ew","min","tw","max","rw","ow","nw","Zp","pattern","aw","Bp","sw","iw","Cr","qp","We","Kp","Pw","Ja","$a","tm","getValues","resetField","ho","em","rm","qa","optionText","optionValue","disableValue","translateChoice","xo","Ba","Za","Co","getChoiceText","getChoiceValue","getDisableValue","Uw","sm","touchedFields","nm","isDirty","isTouched","om","Tr","im","am","Ka","Xa","cm","es","Yw","lm","um","dm","ts","pI","format","onBlur","onChange","fm","pm","mm","ym","rules","fieldState","formState","checked","CI","allowCreate","createText","createValue","emptyText","emptyValue","limitChoicesToValue","matchSuggestion","selectedItem","suggestionLimit","gm","xm","getSuggestions","Pm","hm","Rm","match","RegExp","Cm","Tm","rs","qI","KI"],"sources":["D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\core\\CoreAdmin.tsx","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\core\\CoreAdminContext.tsx","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\routing\\AdminRouter.tsx","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\routing\\HistoryRouter.tsx","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\routing\\BasenameContextProvider.tsx","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\routing\\BasenameContext.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\routing\\linkToRecord.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\routing\\resolveRedirectTo.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\routing\\useBasename.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\routing\\useCreatePath.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\routing\\useRedirect.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\routing\\useScrollToTop.tsx","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\auth\\AuthContext.tsx","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\auth\\useAuthProvider.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\auth\\useAuthState.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\auth\\useCheckAuth.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\auth\\useLogout.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\store\\localStorageStore.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\store\\memoryStore.tsx","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\store\\StoreContext.tsx","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\store\\StoreContextProvider.tsx","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\store\\StoreSetter.tsx","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\store\\useStoreContext.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\store\\useStore.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\util\\escapePath.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\util\\FieldTitle.tsx","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\i18n\\TestTranslationProvider.tsx","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\i18n\\I18nContextProvider.tsx","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\i18n\\I18nContext.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\notification\\useNotify.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\notification\\useNotificationContext.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\notification\\NotificationContext.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\notification\\NotificationContextProvider.tsx","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\i18n\\TranslatableContext.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\i18n\\TranslatableContextProvider.tsx","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\i18n\\TranslationUtils.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\i18n\\useLocaleState.tsx","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\i18n\\useI18nProvider.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\i18n\\useLocale.tsx","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\i18n\\useSetLocale.tsx","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\i18n\\useTranslatable.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\i18n\\useTranslate.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\i18n\\useTranslatableContext.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\i18n\\index.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\util\\getFieldLabelTranslationArgs.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\core\\useResourceContext.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\core\\ResourceContext.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\util\\ComponentPropType.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\util\\shallowEqual.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\util\\removeEmpty.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\util\\removeKey.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\util\\Ready.tsx","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\util\\warning.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\util\\useWhyDidYouUpdate.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\util\\getMutationMode.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\util\\mergeRefs.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\util\\useEventCallback.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\util\\hooks.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\store\\useRemoveFromStore.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\store\\useResetStore.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\auth\\usePermissions.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\auth\\useGetPermissions.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\auth\\usePermissionsOptimized.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\auth\\WithPermissions.tsx","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\auth\\useAuthenticated.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\auth\\useLogin.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\auth\\useGetIdentity.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\auth\\useLogoutIfAccessDenied.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\auth\\types.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\auth\\convertLegacyAuthProvider.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\auth\\Authenticated.tsx","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\dataProvider\\dataFetchActions.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\dataProvider\\convertLegacyDataProvider.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\dataProvider\\DataProviderContext.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\dataProvider\\HttpError.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\dataProvider\\fetch.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\dataProvider\\undoableEventEmitter.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\dataProvider\\defaultDataProvider.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\dataProvider\\combineDataProviders.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\dataProvider\\testDataProvider.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\dataProvider\\useDataProvider.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\dataProvider\\validateResponseFormat.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\dataProvider\\useIsDataLoaded.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\dataProvider\\useLoading.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\dataProvider\\useRefresh.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\dataProvider\\useGetOne.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\dataProvider\\useGetList.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\dataProvider\\useGetMany.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\dataProvider\\useGetManyAggregate.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\dataProvider\\useGetManyReference.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\dataProvider\\useCreate.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\dataProvider\\useUpdate.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\dataProvider\\useUpdateMany.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\dataProvider\\useDelete.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\dataProvider\\useDeleteMany.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\core\\ResourceDefinitionContext.tsx","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\core\\CoreAdminUI.tsx","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\core\\CoreAdminRoutes.tsx","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\core\\useConfigureAdminRouterFromChildren.tsx","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\core\\useRegisterResource.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\core\\CustomRoutes.tsx","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\core\\Resource.tsx","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\core\\ResourceContextProvider.tsx","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\core\\useGetResourceLabel.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\core\\useResourceDefinitions.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\core\\useResourceDefinition.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\export\\defaultExporter.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\export\\downloadCSV.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\export\\ExporterContext.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\export\\fetchRelatedRecords.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\inference\\inferElementFromValues.tsx","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\inference\\getValuesFromRecords.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\inference\\InferredElement.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\inference\\assertions.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\inference\\getElementsFromRecords.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\inference\\inferTypeFromValues.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\controller\\useFilterState.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\controller\\useSortState.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\controller\\list\\queryReducer.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\controller\\usePaginationState.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\controller\\checkMinimumRequiredProps.tsx","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\controller\\button\\useDeleteWithUndoController.tsx","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\controller\\button\\useDeleteWithConfirmController.tsx","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\controller\\create\\CreateBase.tsx","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\controller\\create\\useCreateController.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\controller\\create\\CreateContextProvider.tsx","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\controller\\record\\RecordContext.tsx","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\controller\\create\\CreateContext.tsx","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\controller\\saveContext\\SaveContext.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\controller\\saveContext\\SaveContextProvider.tsx","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\controller\\saveContext\\usePickSaveContext.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\controller\\saveContext\\useSaveContext.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\controller\\create\\CreateController.tsx","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\controller\\create\\useCreateContext.tsx","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\controller\\edit\\EditBase.tsx","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\controller\\edit\\useEditController.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\controller\\edit\\EditContextProvider.tsx","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\controller\\record\\useRecordContext.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\controller\\record\\WithRecord.tsx","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\controller\\record\\OptionalRecordContextProvider.tsx","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\controller\\edit\\EditContext.tsx","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\controller\\edit\\EditController.tsx","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\controller\\edit\\useEditContext.tsx","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\controller\\field\\useReferenceArrayFieldController.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\controller\\list\\ListBase.tsx","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\controller\\list\\useListController.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\controller\\list\\useRecordSelection.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\controller\\list\\useListParams.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\controller\\list\\ListContextProvider.tsx","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\controller\\list\\ListContext.tsx","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\controller\\list\\ListFilterContext.tsx","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\controller\\list\\ListSortContext.tsx","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\controller\\list\\ListPaginationContext.tsx","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\controller\\list\\ListController.tsx","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\controller\\list\\useList.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\controller\\list\\useListContext.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\controller\\list\\useListFilterContext.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\controller\\list\\useListPaginationContext.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\controller\\list\\useListSortContext.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\controller\\list\\useUnselect.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\controller\\list\\useUnselectAll.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\controller\\list\\useExpanded.tsx","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\controller\\field\\useReferenceManyFieldController.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\controller\\field\\useReferenceOneFieldController.tsx","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\controller\\input\\referenceDataStatus.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\controller\\input\\useReferenceArrayInputController.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\controller\\input\\useReferenceParams.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\controller\\input\\useReferenceInputController.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\controller\\useReference.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\controller\\show\\ShowBase.tsx","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\controller\\show\\useShowController.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\controller\\show\\ShowContextProvider.tsx","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\controller\\show\\ShowContext.tsx","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\controller\\show\\ShowController.tsx","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\controller\\show\\useShowContext.tsx","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\form\\FormDataConsumer.tsx","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\form\\FormGroupsContext.tsx","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\form\\ValidationError.tsx","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\form\\getSimpleValidationResolver.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\form\\choices\\ChoicesContext.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\form\\choices\\ChoicesContextProvider.tsx","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\form\\choices\\useChoicesContext.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\form\\Form.tsx","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\form\\FormGroupsProvider.tsx","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\form\\useAugmentedForm.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\form\\getFormInitialValues.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\form\\setSubmissionErrors.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\form\\useIsFormInvalid.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\form\\useWarnWhenUnsavedChanges.tsx","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\form\\validate.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\form\\FormGroupContext.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\form\\FormGroupContextProvider.tsx","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\form\\useFormGroups.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\form\\useApplyInputDefaultValues.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\form\\useChoices.tsx","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\form\\useFormGroup.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\form\\useFormGroupContext.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\form\\useGetValidationErrorMessage.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\form\\useInitializeFormWithRecord.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\form\\useInput.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\form\\isRequired.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\form\\useSuggestions.ts","D:\\myFishProject\\frontend\\node_modules\\ra-core\\src\\types.ts"],"sourcesContent":["import * as React from 'react';\n\nimport { CoreAdminContext, CoreAdminContextProps } from './CoreAdminContext';\nimport { CoreAdminUI, CoreAdminUIProps } from './CoreAdminUI';\n\n/**\n * Main admin component, entry point to the application.\n *\n * Initializes the various contexts (auth, data, i18n, router)\n * and defines the main routes.\n *\n * Expects a list of resources as children, or a function returning a list of\n * resources based on the permissions.\n *\n * @example\n *\n * // static list of resources\n *\n * import {\n *     CoreAdmin,\n *     Resource,\n *     ListGuesser,\n *     useDataProvider,\n * } from 'ra-core';\n *\n * const App = () => (\n *     <CoreAdmin dataProvider={myDataProvider}>\n *         <Resource name=\"posts\" list={ListGuesser} />\n *     </CoreAdmin>\n * );\n *\n * // dynamic list of resources based on permissions\n *\n * import {\n *     CoreAdmin,\n *     Resource,\n *     ListGuesser,\n *     useDataProvider,\n * } from 'ra-core';\n *\n * const App = () => (\n *     <CoreAdmin dataProvider={myDataProvider}>\n *         {permissions => [\n *             <Resource name=\"posts\" key=\"posts\" list={ListGuesser} />,\n *         ]}\n *     </CoreAdmin>\n * );\n *\n * // If you have to build a dynamic list of resources using a side effect,\n * // you can't use <CoreAdmin>. But as it delegates to sub components,\n * // it's relatively straightforward to replace it:\n *\n * import * as React from 'react';\n * import { useEffect, useState } from 'react';\n * import {\n *     CoreAdminContext,\n *     CoreAdminUI,\n *     Resource,\n *     ListGuesser,\n *     useDataProvider,\n * } from 'ra-core';\n *\n * const App = () => (\n *     <CoreAdminContext dataProvider={myDataProvider}>\n *         <UI />\n *     </CoreAdminContext>\n * );\n *\n * const UI = () => {\n *     const [resources, setResources] = useState([]);\n *     const dataProvider = useDataProvider();\n *     useEffect(() => {\n *         dataProvider.introspect().then(r => setResources(r));\n *     }, []);\n *\n *     return (\n *         <CoreAdminUI>\n *             {resources.map(resource => (\n *                 <Resource name={resource.name} key={resource.key} list={ListGuesser} />\n *             ))}\n *         </CoreAdminUI>\n *     );\n * };\n */\nexport const CoreAdmin = (props: CoreAdminProps) => {\n    const {\n        authProvider,\n        basename,\n        catchAll,\n        children,\n        dashboard,\n        dataProvider,\n        disableTelemetry,\n        history,\n        i18nProvider,\n        queryClient,\n        layout,\n        loading,\n        loginPage,\n        menu, // deprecated, use a custom layout instead\n        requireAuth,\n        title = 'React Admin',\n    } = props;\n    return (\n        <CoreAdminContext\n            authProvider={authProvider}\n            basename={basename}\n            dataProvider={dataProvider}\n            i18nProvider={i18nProvider}\n            queryClient={queryClient}\n            history={history}\n        >\n            <CoreAdminUI\n                layout={layout}\n                dashboard={dashboard}\n                disableTelemetry={disableTelemetry}\n                menu={menu}\n                catchAll={catchAll}\n                title={title}\n                loading={loading}\n                loginPage={loginPage}\n                requireAuth={requireAuth}\n            >\n                {children}\n            </CoreAdminUI>\n        </CoreAdminContext>\n    );\n};\n\nexport type CoreAdminProps = CoreAdminContextProps & CoreAdminUIProps;\n","import * as React from 'react';\nimport { useMemo } from 'react';\nimport { QueryClientProvider, QueryClient } from 'react-query';\nimport { History } from 'history';\n\nimport { AdminRouter } from '../routing';\nimport { AuthContext, convertLegacyAuthProvider } from '../auth';\nimport {\n    DataProviderContext,\n    convertLegacyDataProvider,\n    defaultDataProvider,\n} from '../dataProvider';\nimport { StoreContextProvider, Store, memoryStore } from '../store';\nimport { I18nContextProvider } from '../i18n';\nimport { ResourceDefinitionContextProvider } from './ResourceDefinitionContext';\nimport { NotificationContextProvider } from '../notification';\nimport {\n    AuthProvider,\n    LegacyAuthProvider,\n    I18nProvider,\n    DataProvider,\n    AdminChildren,\n    DashboardComponent,\n    LegacyDataProvider,\n} from '../types';\n\nexport interface CoreAdminContextProps {\n    authProvider?: AuthProvider | LegacyAuthProvider;\n    basename?: string;\n    children?: AdminChildren;\n    dashboard?: DashboardComponent;\n    dataProvider?: DataProvider | LegacyDataProvider;\n    store?: Store;\n    queryClient?: QueryClient;\n    /**\n     * @deprecated Wrap your Admin inside a Router to change the routing strategy\n     */\n    history?: History;\n    i18nProvider?: I18nProvider;\n    theme?: object;\n}\n\nexport const CoreAdminContext = (props: CoreAdminContextProps) => {\n    const {\n        authProvider,\n        basename,\n        dataProvider,\n        i18nProvider,\n        store,\n        children,\n        history,\n        queryClient,\n    } = props;\n\n    if (!dataProvider) {\n        throw new Error(`Missing dataProvider prop.\nReact-admin requires a valid dataProvider function to work.`);\n    }\n\n    const finalQueryClient = useMemo(() => queryClient || new QueryClient(), [\n        queryClient,\n    ]);\n\n    const finalAuthProvider = useMemo(\n        () =>\n            authProvider instanceof Function\n                ? convertLegacyAuthProvider(authProvider)\n                : authProvider,\n        [authProvider]\n    );\n\n    const finalDataProvider = useMemo(\n        () =>\n            dataProvider instanceof Function\n                ? convertLegacyDataProvider(dataProvider)\n                : dataProvider,\n        [dataProvider]\n    );\n\n    return (\n        <AuthContext.Provider value={finalAuthProvider}>\n            <DataProviderContext.Provider value={finalDataProvider}>\n                <StoreContextProvider value={store}>\n                    <QueryClientProvider client={finalQueryClient}>\n                        <AdminRouter history={history} basename={basename}>\n                            <I18nContextProvider value={i18nProvider}>\n                                <NotificationContextProvider>\n                                    <ResourceDefinitionContextProvider>\n                                        {children}\n                                    </ResourceDefinitionContextProvider>\n                                </NotificationContextProvider>\n                            </I18nContextProvider>\n                        </AdminRouter>\n                    </QueryClientProvider>\n                </StoreContextProvider>\n            </DataProviderContext.Provider>\n        </AuthContext.Provider>\n    );\n};\n\nCoreAdminContext.defaultProps = {\n    dataProvider: defaultDataProvider,\n    store: memoryStore(),\n};\n","import * as React from 'react';\nimport { ReactNode, useMemo } from 'react';\nimport { useInRouterContext } from 'react-router-dom';\nimport { createHashHistory, History } from 'history';\n\nimport { HistoryRouter, HistoryRouterProps } from './HistoryRouter';\nimport { BasenameContextProvider } from './BasenameContextProvider';\n\n/**\n * Creates a react-router Router unless the app is already inside existing router.\n * Also creates a BasenameContext with the basename prop\n */\nexport const AdminRouter = ({\n    history,\n    basename = '',\n    children,\n}: AdminRouterProps) => {\n    const isInRouter = useInRouterContext();\n    const Router = isInRouter ? DummyRouter : InternalRouter;\n\n    return (\n        <BasenameContextProvider basename={isInRouter ? basename : ''}>\n            <Router basename={basename} history={history}>\n                {children}\n            </Router>\n        </BasenameContextProvider>\n    );\n};\n\nexport interface AdminRouterProps {\n    history?: History;\n    basename?: string;\n    children: React.ReactNode;\n}\n\nconst DummyRouter = ({ children }: { children: ReactNode }) => <>{children}</>;\n\nconst InternalRouter = ({\n    children,\n    history,\n}: {\n    history?: History;\n} & Omit<HistoryRouterProps, 'history'>) => {\n    const finalHistory = useMemo(() => history || createHashHistory(), [\n        history,\n    ]);\n\n    return <HistoryRouter history={finalHistory}>{children}</HistoryRouter>;\n};\n","import * as React from 'react';\nimport { useLayoutEffect, useState } from 'react';\nimport { History } from 'history';\nimport { Router } from 'react-router';\n\n/**\n * A router that accepts a custom history.\n * To remove once https://github.com/remix-run/react-router/pull/7586 is merged.\n */\nexport function HistoryRouter({\n    basename,\n    children,\n    history,\n}: HistoryRouterProps) {\n    const [state, setState] = useState({\n        action: history.action,\n        location: history.location,\n    });\n\n    useLayoutEffect(() => history.listen(setState), [history]);\n\n    return (\n        <Router\n            basename={basename}\n            children={children}\n            location={state.location}\n            navigationType={state.action}\n            navigator={history}\n        />\n    );\n}\n\nexport interface HistoryRouterProps {\n    basename?: string;\n    children?: React.ReactNode;\n    history: History;\n}\n","import * as React from 'react';\nimport { BasenameContext } from './BasenameContext';\n\n/**\n * Set the string to append to all links to the admin app.\n *\n * Useful when the app is mounted on a sub path, e.g. '/admin'.\n * Used internally by the `<Admin>` component.\n *\n * @see useBasename\n */\nexport const BasenameContextProvider = ({ children, basename }) => (\n    <BasenameContext.Provider value={basename}>\n        {children}\n    </BasenameContext.Provider>\n);\n","import { createContext } from 'react';\n\nexport const BasenameContext = createContext('');\n","/**\n * @deprecated use useCreatePath instead\n */\nexport const linkToRecord = (resource, id, linkType = 'edit') => {\n    const link = `${resource}/${encodeURIComponent(id)}`;\n\n    if (linkType === 'show') {\n        return `${link}/show`;\n    }\n\n    return link;\n};\n","import { To } from 'react-router-dom';\n\n/**\n * @deprecated use useCreatePath instead\n */\nexport const resolveRedirectTo = (\n    redirectTo,\n    resource: string,\n    id?,\n    data?,\n    basename: string = ''\n): To => {\n    if (typeof redirectTo === 'function') {\n        const target: To = redirectTo(resource, id, data);\n        return typeof target === 'string'\n            ? removeDoubleSlashes(`${basename}/${target}`)\n            : {\n                  pathname: removeDoubleSlashes(\n                      `${basename}/${target.pathname}`\n                  ),\n                  ...target,\n              };\n    }\n    switch (redirectTo) {\n        case 'list':\n            return removeDoubleSlashes(`${basename}/${resource}`);\n        case 'create':\n            return removeDoubleSlashes(`${basename}/${resource}/create`);\n        case 'edit':\n            return removeDoubleSlashes(\n                `${basename}/${resource}/${encodeURIComponent(id)}`\n            );\n        case 'show':\n            return removeDoubleSlashes(\n                `${basename}/${resource}/${encodeURIComponent(id)}/show`\n            );\n        default:\n            return redirectTo;\n    }\n};\n\nconst removeDoubleSlashes = (path: string) => path.replace('//', '/');\n","import { useContext } from 'react';\n\nimport { BasenameContext } from './BasenameContext';\n\n/**\n * Get the string to append to all links to the admin app.\n *\n * Useful when the app is mounted on a sub path, e.g. '/admin'.\n *\n * This hook is used internally by all react-admin components that\n * contain a link, and requires that the basename is set via the\n * `<BasenameContextProvider>` component (or via the `<Admin>` component,\n * which calls BasenameContextProvider internally).\n *\n * @see BasenameContextProvider\n *\n * @example\n * import { useBasename } from 'react-admin';\n *\n * const ArticleLink = ({ title, id }) => {\n *    const basename = useBasename();\n *    return <a href={`${basename}/articles/${id}`}>{title}</a>;\n * };\n */\nexport const useBasename = () => useContext(BasenameContext);\n","import { useCallback } from 'react';\n\nimport { Identifier } from '../types';\nimport { useBasename } from './useBasename';\n\n/**\n * Get a callback to create a link to a given page in the admin app.\n *\n * The callback expects an object as parameter, containing the following properties:\n *   - type: 'list', 'edit', 'show' or 'create'\n *   - resource\n *   - id (optional), for 'edit' or 'show' pages\n *\n * This is used internally by react-admin to allow default components to work\n * in applications that are mounted on a sub path, e.g. '/admin'. If your app\n * is mounted in the root path, you don't need it, and you can create links by\n * hand, e.g. '/articles/1/show'.\n *\n * @example\n * import { useCreatePath, useRecordContext } from 'react-admin';\n * import { useNavigate } from 'react-router-dom';\n *\n * const PostEditButton = () => {\n *     const createPath = useCreatePath();\n *     const record = useRecordContext();\n *     const navigate = useNavigate();\n *\n *     const handleClick = () => {\n *         const link = createPath({\n *            type: 'edit',\n *            resource: 'posts',\n *            id: record.id\n *         });\n *         navigate(link);\n *     };\n *\n *    return <button onClick={handleClick}>Edit Post</button>;\n * };\n */\nexport const useCreatePath = () => {\n    const basename = useBasename();\n    return useCallback(\n        ({ resource, id, type }: CreatePathParams): string => {\n            switch (type) {\n                case 'list':\n                    return removeDoubleSlashes(`${basename}/${resource}`);\n                case 'create':\n                    return removeDoubleSlashes(\n                        `${basename}/${resource}/create`\n                    );\n                case 'edit':\n                    return removeDoubleSlashes(\n                        `${basename}/${resource}/${encodeURIComponent(id)}`\n                    );\n                case 'show':\n                    return removeDoubleSlashes(\n                        `${basename}/${resource}/${encodeURIComponent(id)}/show`\n                    );\n                default:\n                    return type;\n            }\n        },\n        [basename]\n    );\n};\n\nexport interface CreatePathParams {\n    type: string;\n    resource: string;\n    id?: Identifier;\n}\n\nexport const removeDoubleSlashes = (path: string) => path.replace('//', '/');\n","import { useCallback } from 'react';\nimport { useNavigate, To } from 'react-router-dom';\nimport { parsePath } from 'history';\n\nimport { Identifier, RaRecord } from '../types';\nimport { useBasename } from './useBasename';\nimport { useCreatePath } from './useCreatePath';\n\ntype RedirectToFunction = (\n    resource?: string,\n    id?: Identifier,\n    data?: Partial<RaRecord>,\n    state?: object\n) => To;\n\nexport type RedirectionSideEffect = string | false | RedirectToFunction;\n\n/**\n * Hook for Redirection Side Effect\n *\n * @example\n *\n * const redirect = useRedirect();\n * // redirect to list view\n * redirect('list', 'posts');\n * // redirect to edit view\n * redirect('edit', 'posts', 123);\n * // redirect to edit view with state data\n * redirect('edit', 'comments', 123, {}, { record: { post_id: record.id } });\n * // do not redirect\n * redirect(false);\n * // redirect to the result of a function\n * redirect((resource, id, data) => ...)\n */\nexport const useRedirect = () => {\n    const navigate = useNavigate();\n    const basename = useBasename();\n    const createPath = useCreatePath();\n\n    return useCallback(\n        (\n            redirectTo: RedirectionSideEffect,\n            resource: string = '',\n            id?: Identifier,\n            data?: Partial<RaRecord>,\n            state: object = {}\n        ) => {\n            if (!redirectTo) {\n                return;\n            } else if (typeof redirectTo === 'function') {\n                const target: To = redirectTo(resource, id, data);\n                const absoluteTarget =\n                    typeof target === 'string'\n                        ? `${basename}/${target}`\n                        : {\n                              pathname: `${basename}/${target.pathname}`,\n                              ...target,\n                          };\n                navigate(\n                    typeof absoluteTarget === 'string'\n                        ? parsePath(absoluteTarget)\n                        : absoluteTarget,\n                    {\n                        state: { _scrollToTop: true, ...state },\n                    }\n                );\n                return;\n            } else if (\n                typeof redirectTo === 'string' &&\n                redirectTo.startsWith('http') &&\n                window\n            ) {\n                // redirection to an absolute url\n                // history doesn't handle that case, so we handle it by hand\n                window.location.href = redirectTo;\n                return;\n            } else {\n                // redirection to an internal link\n                navigate(createPath({ resource, id, type: redirectTo }), {\n                    state: { _scrollToTop: true, ...state },\n                });\n                return;\n            }\n        },\n        [navigate, basename, createPath]\n    );\n};\n","import { useEffect } from 'react';\nimport { useLocation } from 'react-router-dom';\n\n/**\n * Scroll the window to top when the target location contains the _scrollToTop state\n *\n * @see CoreAdminRouter where it's enabled by default\n *\n * @example // usage in buttons\n * import { Link } from 'react-router-dom';\n * import { Button } from '@mui/material';\n *\n * const FooButton = () => (\n *     <Button\n *         component={Link}\n *         to={{\n *             pathname: '/foo',\n *             state: { _scrollToTop: true },\n *         }}\n *     >\n *         Go to foo\n *     </Button>\n * );\n */\nexport const useScrollToTop = () => {\n    const location = useLocation();\n    useEffect(() => {\n        if (\n            (location.state as any)?._scrollToTop &&\n            typeof window != 'undefined'\n        ) {\n            window.scrollTo(0, 0);\n        }\n    }, [location]);\n};\n","import { createContext } from 'react';\n\nimport { AuthProvider, UserIdentity } from '../types';\n\nconst defaultIdentity: UserIdentity = { id: '' };\n\nconst defaultProvider: AuthProvider = {\n    login: () => Promise.resolve(),\n    logout: () => Promise.resolve(),\n    checkAuth: () => Promise.resolve(),\n    checkError: () => Promise.resolve(),\n    getPermissions: () => Promise.resolve(),\n    getIdentity: () => Promise.resolve(defaultIdentity),\n};\n\nconst AuthContext = createContext<AuthProvider>(defaultProvider);\n\nAuthContext.displayName = 'AuthContext';\n\nexport default AuthContext;\n","import { useContext } from 'react';\n\nimport { AuthProvider } from '../types';\nimport AuthContext from './AuthContext';\n\nexport const defaultAuthParams = {\n    loginUrl: '/login',\n    afterLoginUrl: '/',\n};\n\n/**\n * Get the authProvider stored in the context\n */\nconst useAuthProvider = (): AuthProvider => useContext(AuthContext);\n\nexport default useAuthProvider;\n","import { useEffect } from 'react';\n\nimport { useCheckAuth } from './useCheckAuth';\nimport { useSafeSetState } from '../util/hooks';\n\ninterface State {\n    isLoading: boolean;\n    authenticated?: boolean;\n}\n\nconst emptyParams = {};\n\n/**\n * Hook for getting the authentication status\n *\n * Calls the authProvider.checkAuth() method asynchronously.\n *\n * The return value updates according to the authProvider request state:\n *\n * - isLoading: true just after mount, while the authProvider is being called. false once the authProvider has answered.\n * - authenticated: true while loading. then true or false depending on the authProvider response.\n *\n * To avoid rendering a component and force waiting for the authProvider response, use the useAuthState() hook\n * instead of the useAuthenticated() hook.\n *\n * You can render different content depending on the authenticated status.\n *\n * @see useAuthenticated()\n *\n * @param {Object} params Any params you want to pass to the authProvider\n *\n * @returns The current auth check state. Destructure as { authenticated, error, isLoading }.\n *\n * @example\n * import { useAuthState, Loading } from 'react-admin';\n *\n * const MyPage = () => {\n *     const { isLoading, authenticated } = useAuthState();\n *     if (isLoading) {\n *         return <Loading />;\n *     }\n *     if (authenticated) {\n *        return <AuthenticatedContent />;\n *     }\n *     return <AnonymousContent />;\n * };\n */\nconst useAuthState = (params: any = emptyParams): State => {\n    const [state, setState] = useSafeSetState({\n        isLoading: true,\n        authenticated: true, // optimistic\n    });\n    const checkAuth = useCheckAuth();\n    useEffect(() => {\n        checkAuth(params, false)\n            .then(() => setState({ isLoading: false, authenticated: true }))\n            .catch(() => setState({ isLoading: false, authenticated: false }));\n    }, [checkAuth, params, setState]);\n    return state;\n};\n\nexport default useAuthState;\n","import { useCallback } from 'react';\n\nimport useAuthProvider, { defaultAuthParams } from './useAuthProvider';\nimport useLogout from './useLogout';\nimport { useNotify } from '../notification';\nimport { useBasename } from '../routing';\nimport { removeDoubleSlashes } from '../routing/useCreatePath';\n\n/**\n * Get a callback for calling the authProvider.checkAuth() method.\n * In case of rejection, redirects to the login page, displays a notification,\n * and throws an error.\n *\n * This is a low level hook. See those more specialized hooks\n * for common authentication tasks, based on useCheckAuth.\n *\n * @see useAuthenticated\n * @see useAuthState\n *\n * @returns {Function} checkAuth callback\n *\n * @example\n *\n * import { useCheckAuth } from 'react-admin';\n *\n * const MyProtectedPage = () => {\n *     const checkAuth = useCheckAuth();\n *     useEffect(() => {\n *         checkAuth().catch(() => {});\n *     }, []);\n *     return <p>Private content: EZAEZEZAET</p>\n * } // tip: use useAuthenticated() hook instead\n *\n * const MyPage = () => {\n *     const checkAuth = useCheckAuth();\n *     const [authenticated, setAuthenticated] = useState(true); // optimistic auth\n *     useEffect(() => {\n *         checkAuth({}, false)\n *              .then(() => setAuthenticated(true))\n *              .catch(() => setAuthenticated(false));\n *     }, []);\n *     return authenticated ? <Bar /> : <BarNotAuthenticated />;\n * } // tip: use useAuthState() hook instead\n */\nexport const useCheckAuth = (): CheckAuth => {\n    const authProvider = useAuthProvider();\n    const notify = useNotify();\n    const logout = useLogout();\n    const basename = useBasename();\n    const loginUrl = removeDoubleSlashes(\n        `${basename}/${defaultAuthParams.loginUrl}`\n    );\n\n    const checkAuth = useCallback(\n        (\n            params: any = {},\n            logoutOnFailure = true,\n            redirectTo = loginUrl,\n            disableNotification = false\n        ) =>\n            authProvider.checkAuth(params).catch(error => {\n                if (logoutOnFailure) {\n                    logout(\n                        {},\n                        error && error.redirectTo\n                            ? error.redirectTo\n                            : redirectTo\n                    );\n                    const shouldSkipNotify =\n                        disableNotification ||\n                        (error && error.message === false);\n                    !shouldSkipNotify &&\n                        notify(\n                            getErrorMessage(error, 'ra.auth.auth_check_error'),\n                            { type: 'warning' }\n                        );\n                }\n                throw error;\n            }),\n        [authProvider, logout, notify, loginUrl]\n    );\n\n    return authProvider ? checkAuth : checkAuthWithoutAuthProvider;\n};\n\nconst checkAuthWithoutAuthProvider = () => Promise.resolve();\n\n/**\n * Check if the current user is authenticated by calling authProvider.checkAuth().\n * Logs the user out on failure.\n *\n * @param {Object} params The parameters to pass to the authProvider\n * @param {boolean} logoutOnFailure Whether the user should be logged out if the authProvider fails to authenticate them. True by default.\n * @param {string} redirectTo The login form url. Defaults to '/login'\n * @param {boolean} disableNotification Avoid showing a notification after the user is logged out. false by default.\n *\n * @return {Promise} Resolved to the authProvider response if the user passes the check, or rejected with an error otherwise\n */\nexport type CheckAuth = (\n    params?: any,\n    logoutOnFailure?: boolean,\n    redirectTo?: string,\n    /** @deprecated to disable the notification, authProvider.checkAuth() should return an object with an error property set to true */\n    disableNotification?: boolean\n) => Promise<any>;\n\nconst getErrorMessage = (error, defaultMessage) =>\n    typeof error === 'string'\n        ? error\n        : typeof error === 'undefined' || !error.message\n        ? defaultMessage\n        : error.message;\n","import { useCallback, useEffect, useRef } from 'react';\n\nimport useAuthProvider, { defaultAuthParams } from './useAuthProvider';\nimport { useResetStore } from '../store';\nimport { useBasename } from '../routing';\nimport { removeDoubleSlashes } from '../routing/useCreatePath';\nimport { useLocation, useNavigate, Path } from 'react-router-dom';\n\n/**\n * Get a callback for calling the authProvider.logout() method,\n * redirect to the login page, and clear the store.\n *\n * @see useAuthProvider\n *\n * @returns {Function} logout callback\n *\n * @example\n *\n * import { useLogout } from 'react-admin';\n *\n * const LogoutButton = () => {\n *     const logout = useLogout();\n *     const handleClick = () => logout();\n *     return <button onClick={handleClick}>Logout</button>;\n * }\n */\nconst useLogout = (): Logout => {\n    const authProvider = useAuthProvider();\n    const resetStore = useResetStore();\n    const navigate = useNavigate();\n    // useNavigate forces rerenders on every navigation, even if we don't use the result\n    // see https://github.com/remix-run/react-router/issues/7634\n    // so we use a ref to bail out of rerenders when we don't need to\n    const navigateRef = useRef(navigate);\n    const location = useLocation();\n    const locationRef = useRef(location);\n    const basename = useBasename();\n    const loginUrl = removeDoubleSlashes(\n        `${basename}/${defaultAuthParams.loginUrl}`\n    );\n\n    /*\n     * We need the current location to pass in the router state\n     * so that the login hook knows where to redirect to as next route after login.\n     *\n     * But if we used the location from useLocation as a dependency of the logout\n     * function, it would be rebuilt each time the user changes location.\n     * Consequently, that would force a rerender of all components using this hook\n     * upon navigation (CoreAdminRouter for example).\n     *\n     * To avoid that, we store the location in a ref.\n     */\n    useEffect(() => {\n        locationRef.current = location;\n        navigateRef.current = navigate;\n    }, [location, navigate]);\n\n    const logout = useCallback(\n        (\n            params = {},\n            redirectTo = loginUrl,\n            redirectToCurrentLocationAfterLogin = true\n        ) =>\n            authProvider.logout(params).then(redirectToFromProvider => {\n                if (redirectToFromProvider === false) {\n                    resetStore();\n                    // do not redirect\n                    return;\n                }\n                // redirectTo can contain a query string, e.g. '/login?foo=bar'\n                // we must split the redirectTo to pass a structured location to navigate()\n                const redirectToParts = (\n                    redirectToFromProvider || redirectTo\n                ).split('?');\n                const newLocation: Partial<Path> = {\n                    pathname: redirectToParts[0],\n                };\n                let newLocationOptions = {};\n\n                if (\n                    redirectToCurrentLocationAfterLogin &&\n                    locationRef.current &&\n                    locationRef.current.pathname\n                ) {\n                    newLocationOptions = {\n                        state: {\n                            nextPathname: locationRef.current.pathname,\n                            nextSearch: locationRef.current.search,\n                        },\n                    };\n                }\n                if (redirectToParts[1]) {\n                    newLocation.search = redirectToParts[1];\n                }\n                navigateRef.current(newLocation, newLocationOptions);\n                resetStore();\n\n                return redirectToFromProvider;\n            }),\n        [authProvider, resetStore, loginUrl]\n    );\n\n    const logoutWithoutProvider = useCallback(\n        _ => {\n            navigate(\n                {\n                    pathname: loginUrl,\n                },\n                {\n                    state: {\n                        nextPathname: location && location.pathname,\n                    },\n                }\n            );\n            resetStore();\n            return Promise.resolve();\n        },\n        [resetStore, location, navigate, loginUrl]\n    );\n\n    return authProvider ? logout : logoutWithoutProvider;\n};\n\n/**\n * Log the current user out by calling the authProvider.logout() method,\n * and redirect them to the login screen.\n *\n * @param {Object} params The parameters to pass to the authProvider\n * @param {string} redirectTo The path name to redirect the user to (optional, defaults to login)\n * @param {boolean} redirectToCurrentLocationAfterLogin Whether the button shall record the current location to redirect to it after login. true by default.\n *\n * @return {Promise} The authProvider response\n */\ntype Logout = (\n    params?: any,\n    redirectTo?: string,\n    redirectToCurrentLocationAfterLogin?: boolean\n) => Promise<any>;\n\nexport default useLogout;\n","import { Store } from './types';\n\ntype Subscription = {\n    key: string;\n    callback: (value: any) => void;\n};\n\nconst RA_STORE = 'RaStore';\nconst prefixLength = RA_STORE.length;\n\n// localStorage isn't available in incognito mode. We need to detect it\nconst testLocalStorage = () => {\n    // eslint-disable-next-line eqeqeq\n    if (typeof window === 'undefined' || window.localStorage == undefined) {\n        return false;\n    }\n\n    try {\n        window.localStorage.setItem('test', 'test');\n        window.localStorage.removeItem('test');\n        return true;\n    } catch (e) {\n        return false;\n    }\n};\n\nlet localStorageAvailable = testLocalStorage();\n\n/**\n * Store using localStorage, or memory storage in incognito mode\n *\n * @example\n *\n * import { localStorageProvider } from 'react-admin';\n *\n * const App = () => (\n *    <Admin store={localStorageProvider()}>\n *       ...\n *   </Admin>\n * );\n */\nexport const localStorageStore = (version: string = '1'): Store => {\n    const subscriptions: { [key: string]: Subscription } = {};\n    const publish = (key: string, value: any) => {\n        Object.keys(subscriptions).forEach(id => {\n            if (!subscriptions[id]) return; // may happen if a component unmounts after a first subscriber was notified\n            if (subscriptions[id].key === key) {\n                subscriptions[id].callback(value);\n            }\n        });\n    };\n\n    // Whenever the local storage changes in another document, look for matching subscribers.\n    // This allows to synchronize state across tabs\n    const onLocalStorageChange = (event: StorageEvent): void => {\n        if (event.key.substring(0, prefixLength) !== RA_STORE) {\n            return;\n        }\n        const key = event.key.substring(prefixLength + 1);\n        const value = tryParse(event.newValue);\n        Object.keys(subscriptions).forEach(id => {\n            if (!subscriptions[id]) return; // may happen if a component unmounts after a first subscriber was notified\n            if (subscriptions[id].key === key) {\n                if (value === null) {\n                    // an event with a null value is sent when the key is deleted.\n                    // to enable default value, we need to call setValue(undefined) instead of setValue(null)\n                    subscriptions[id].callback(undefined);\n                } else {\n                    subscriptions[id].callback(\n                        value == null ? undefined : value\n                    );\n                }\n            }\n        });\n    };\n\n    return {\n        setup: () => {\n            if (localStorageAvailable) {\n                const storedVersion = getStorage().getItem(\n                    `${RA_STORE}.version`\n                );\n                if (storedVersion && storedVersion !== version) {\n                    getStorage().clear();\n                }\n                getStorage().setItem(`${RA_STORE}.version`, version);\n                window.addEventListener('storage', onLocalStorageChange);\n            }\n        },\n        teardown: () => {\n            if (localStorageAvailable) {\n                window.removeEventListener('storage', onLocalStorageChange);\n            }\n        },\n        getItem<T = any>(key: string, defaultValue?: T): T {\n            const valueFromStorage = tryParse(\n                getStorage().getItem(`${RA_STORE}.${key}`)\n            );\n            // eslint-disable-next-line eqeqeq\n            return valueFromStorage == null ? defaultValue : valueFromStorage;\n        },\n        setItem<T = any>(key: string, value: T): void {\n            if (value === undefined) {\n                getStorage().removeItem(`${RA_STORE}.${key}`);\n            } else {\n                getStorage().setItem(\n                    `${RA_STORE}.${key}`,\n                    JSON.stringify(value)\n                );\n            }\n            publish(key, value);\n        },\n        removeItem(key: string): void {\n            getStorage().removeItem(`${RA_STORE}.${key}`);\n            publish(key, undefined);\n        },\n        reset(): void {\n            const storage = getStorage();\n            for (let i = 0; i < storage.length; i++) {\n                if (storage.key(i).substring(0, prefixLength) === RA_STORE) {\n                    const key = storage.key(i).substring(prefixLength + 1);\n                    storage.removeItem(storage.key(i));\n                    publish(key, undefined);\n                }\n            }\n        },\n        subscribe: (key: string, callback: (value: string) => void) => {\n            const id = Math.random().toString();\n            subscriptions[id] = {\n                key,\n                callback,\n            };\n            return () => {\n                delete subscriptions[id];\n            };\n        },\n    };\n};\n\nconst tryParse = (value: string): any => {\n    try {\n        return JSON.parse(value);\n    } catch (e) {\n        return value;\n    }\n};\nclass LocalStorageShim {\n    valuesMap: any = new Map();\n\n    getItem(key: string) {\n        if (this.valuesMap.has(key)) {\n            return String(this.valuesMap.get(key));\n        }\n        return null;\n    }\n\n    setItem(key: string, value: string) {\n        this.valuesMap.set(key, value);\n    }\n\n    removeItem(key: string) {\n        this.valuesMap.delete(key);\n    }\n\n    clear() {\n        this.valuesMap.clear();\n    }\n\n    key(i): string {\n        if (arguments.length === 0) {\n            throw new TypeError(\n                \"Failed to execute 'key' on 'Storage': 1 argument required, but only 0 present.\"\n            ); // this is a TypeError implemented on Chrome, Firefox throws Not enough arguments to Storage.key.\n        }\n        const arr = Array.from(this.valuesMap.keys()) as string[];\n        return arr[i];\n    }\n\n    get length() {\n        return this.valuesMap.size;\n    }\n}\nconst memoryStorage = new LocalStorageShim();\n\nexport const getStorage = () => {\n    return localStorageAvailable ? window.localStorage : memoryStorage;\n};\n","import set from 'lodash/set';\nimport unset from 'lodash/unset';\nimport get from 'lodash/get';\nimport { Store } from './types';\n\ntype Subscription = {\n    key: string;\n    callback: (value: any) => void;\n};\n\n/**\n * Store using memory\n *\n * @example\n *\n * import { memoryStore } from 'react-admin';\n *\n * const App = () => (\n *    <Admin store={memoryStore()}>\n *       ...\n *   </Admin>\n * );\n */\nexport const memoryStore = (storage: any = {}): Store => {\n    const subscriptions: { [key: string]: Subscription } = {};\n    const publish = (key: string, value: any) => {\n        Object.keys(subscriptions).forEach(id => {\n            if (!subscriptions[id]) return; // may happen if a component unmounts after a first subscriber was notified\n            if (subscriptions[id].key === key) {\n                subscriptions[id].callback(value);\n            }\n        });\n    };\n    return {\n        setup: () => {},\n        teardown: () => {\n            Object.keys(storage).forEach(key => delete storage[key]);\n        },\n        getItem<T = any>(key: string, defaultValue?: T): T {\n            return get(storage, key, defaultValue);\n        },\n        setItem<T = any>(key: string, value: T): void {\n            set(storage, key, value);\n            publish(key, value);\n        },\n        removeItem(key: string): void {\n            unset(storage, key);\n            publish(key, undefined);\n        },\n        reset(): void {\n            Object.keys(storage).forEach(key => {\n                unset(storage, key);\n                publish(key, undefined);\n            });\n        },\n        subscribe: (key: string, callback: (value: string) => void) => {\n            const id = Math.random().toString();\n            subscriptions[id] = {\n                key,\n                callback,\n            };\n            return () => {\n                delete subscriptions[id];\n            };\n        },\n    };\n};\n","import { createContext } from 'react';\n\nimport { Store } from './types';\nimport { memoryStore } from './memoryStore';\n\nconst defaultStore = memoryStore();\n\nexport const StoreContext = createContext<Store>(defaultStore);\n","import * as React from 'react';\nimport { useEffect } from 'react';\nimport { StoreContext } from './StoreContext';\nimport { Store } from './types';\n\nexport const StoreContextProvider = ({\n    value: Store,\n    children,\n}: StoreContextProviderProps) => {\n    useEffect(() => {\n        Store.setup();\n        return () => {\n            Store.teardown();\n        };\n    }, [Store]);\n\n    return (\n        <StoreContext.Provider value={Store}>{children}</StoreContext.Provider>\n    );\n};\n\nexport interface StoreContextProviderProps {\n    value: Store;\n    children: React.ReactNode;\n}\n","import * as React from 'react';\nimport { useEffect, ReactNode } from 'react';\nimport { useStoreContext } from './useStoreContext';\n\n/**\n * A component to set store state for a key on mount declaratively\n *\n * To use it, just wrap any component that need to use the corresponding\n * store item with <StoreSetter name=\"my.key\" value=\"myvalue\">.\n * This wrapping needs to be done to ensure that the corresponding store item\n * is set before rendering the wrapped component.\n *\n * Tip: <StoreSetter> is a great helper for mocking the store in\n * unit tests. Prefer it to calling the Store manually.\n *\n * @example\n *\n *     <StoreSetter name=\"list.density\" value=\"small\">\n *         <MyStoreDependentComponent />\n *     </StoreSetter>\n *\n * @example // Using <StoreSetter> is equivalent to using `useStoreContext` and setting its value directly.\n *\n * const [, setDensity] = useStore('list.density');\n *\n * useEffect(() => {\n *     setDensity('small');\n * }, []);\n *\n * @param {Props}    props\n * @param {string}   props.name Store item key. Required. Separate with dots to namespace, e.g. 'posts.list.columns'\n * @param {any}      props.value Store item value. Required.\n * @param {children} props.children Children are rendered as is, on mount\n */\nexport const StoreSetter = ({ value, name, children }: StoreSetterProps) => {\n    const { setItem } = useStoreContext();\n\n    useEffect(() => {\n        setItem(name, value);\n    }, [name, setItem, value]);\n\n    return <>{children}</>;\n};\n\nexport interface StoreSetterProps {\n    name: string;\n    value: any;\n    children: ReactNode;\n}\n","import { useContext } from 'react';\n\nimport { StoreContext } from './StoreContext';\n\n/**\n * Get the Store stored in the StoreContext\n */\nexport const useStoreContext = () => useContext(StoreContext);\n","import { useState, useEffect } from 'react';\n\nimport { useEventCallback } from '../util';\nimport { useStoreContext } from './useStoreContext';\n\n/**\n * Read and write a value from the Store\n *\n * useState-like hook using the global Store for persistence.\n * Each time a store value is changed, all components using this value will be re-rendered.\n *\n * @param {string} key Name of the store key. Separate with dots to namespace, e.g. 'posts.list.columns'.\n * @param {any} defaultValue Default value\n *\n * @return {Object} A value and a setter for the value, in an array - just like for useState()\n *\n * @example\n * import { useStore } from 'react-admin';\n *\n * const PostList = props => {\n *     const [density] = useStore('posts.list.density', 'small');\n *\n *     return (\n *         <List {...props}>\n *             <Datagrid size={density}>\n *                 ...\n *             </Datagrid>\n *         </List>\n *     );\n * }\n *\n * // Clicking on this button will trigger a rerender of the PostList!\n * const ChangeDensity: FC<any> = () => {\n *     const [density, setDensity] = useStore('posts.list.density', 'small');\n *\n *     const changeDensity = (): void => {\n *         setDensity(density === 'small' ? 'medium' : 'small');\n *     };\n *\n *     return (\n *         <Button onClick={changeDensity}>\n *             {`Change density (current ${density})`}\n *         </Button>\n *     );\n * };\n */\nexport const useStore = <T = any>(\n    key: string,\n    defaultValue?: T\n): useStoreResult<T> => {\n    const { getItem, setItem, subscribe } = useStoreContext();\n    const [value, setValue] = useState(() => getItem(key, defaultValue));\n\n    // subscribe to changes on this key, and change the state when they happen\n    useEffect(() => {\n        const unsubscribe = subscribe(key, newValue => {\n            setValue(typeof newValue === 'undefined' ? defaultValue : newValue);\n        });\n        return () => unsubscribe();\n    }, [key, subscribe, defaultValue]);\n\n    const set = useEventCallback(\n        (valueParam: T, runtimeDefaultValue: T) => {\n            const newValue =\n                typeof valueParam === 'function'\n                    ? valueParam(value)\n                    : valueParam;\n            // we only set the value in the Store;\n            // the value in the local state will be updated\n            // by the useEffect during the next render\n            setItem(\n                key,\n                typeof newValue === 'undefined'\n                    ? typeof runtimeDefaultValue === 'undefined'\n                        ? defaultValue\n                        : runtimeDefaultValue\n                    : newValue\n            );\n        },\n        [key, setItem, defaultValue, value]\n    );\n    return [value, set];\n};\n\nexport type useStoreResult<T = any> = [\n    T,\n    (value: T | ((value: T) => void), defaultValue?: T) => void\n];\n","/**\n * Escape special characters in path so that react-router Route does not do any special treatment\n *\n * @see https://github.com/ReactTraining/react-router/blob/v3/docs/guides/RouteMatching.md#path-syntax\n *\n * @example\n *\n * escapePath('/foo(bar)') => 'foo\\(bar\\)'\n */\nexport default url => url.replace(/(\\(|\\))/g, '\\\\$1');\n","import * as React from 'react';\nimport { ReactElement, memo } from 'react';\n\nimport { useTranslate } from '../i18n';\nimport getFieldLabelTranslationArgs from './getFieldLabelTranslationArgs';\nimport { useResourceContext } from '../core/useResourceContext';\n\nexport interface FieldTitleProps {\n    isRequired?: boolean;\n    resource?: string;\n    source?: string;\n    label?: string | ReactElement | false;\n}\n\nexport const FieldTitle = (props: FieldTitleProps) => {\n    const { source, label, isRequired } = props;\n    const resource = useResourceContext(props);\n    const translate = useTranslate();\n\n    if (label === false || label === '') {\n        return null;\n    }\n\n    if (label && typeof label !== 'string') {\n        return label;\n    }\n\n    return (\n        <span>\n            {translate(\n                ...getFieldLabelTranslationArgs({\n                    label: label as string,\n                    resource,\n                    source,\n                })\n            )}\n            {isRequired && <span aria-hidden=\"true\">&thinsp;*</span>}\n        </span>\n    );\n};\n\n// What? TypeScript loses the displayName if we don't set it explicitly\nFieldTitle.displayName = 'FieldTitle';\n\nexport default memo(FieldTitle);\n","import * as React from 'react';\nimport lodashGet from 'lodash/get';\n\nimport { I18nContextProvider } from './I18nContextProvider';\n\nexport const TestTranslationProvider = ({\n    translate,\n    messages,\n    children,\n}: any) => (\n    <I18nContextProvider\n        value={{\n            translate: messages\n                ? (key: string, options?: any) => {\n                      const message = lodashGet(messages, key);\n                      return message\n                          ? typeof message === 'function'\n                              ? message(options)\n                              : message\n                          : options._;\n                  }\n                : translate,\n            changeLocale: () => Promise.resolve(),\n            getLocale: () => 'en',\n        }}\n    >\n        {children}\n    </I18nContextProvider>\n);\n","import * as React from 'react';\nimport { useEffect, useState, ReactNode } from 'react';\n\nimport { I18nContext } from './I18nContext';\nimport { useStore } from '../store/useStore';\nimport { useNotify } from '../notification';\nimport { I18nProvider } from '../types';\n\n/**\n * Store the i18nProvider in a context, and rerender children when the locale changes\n */\nexport const I18nContextProvider = ({\n    value = defaulti18nContext,\n    children,\n}: I18nContextProviderProps) => {\n    const [locale] = useStore('locale');\n    const notify = useNotify();\n    const [key, setKey] = useState(0);\n    // to avoid blinking effect, delay first render if the user has a non-default locale\n    const [isInitialized, setInitialized] = useState(\n        locale === value.getLocale()\n    );\n\n    // watch store for locale changes\n    useEffect(() => {\n        if (locale && value.getLocale() !== locale) {\n            new Promise(resolve => {\n                // so we systematically return a Promise for the messages\n                // i18nProvider may return a Promise for language changes,\n                resolve(value.changeLocale(locale));\n            })\n                .then(() => {\n                    // Force full page re-render.\n                    // This is slow on locale change, but it's a good way\n                    // to avoid having one subscription to the locale\n                    // for each call to translate()\n                    setKey(key => key + 1);\n                    setInitialized(true);\n                })\n                .catch(error => {\n                    setInitialized(true);\n                    notify('ra.notification.i18n_error', { type: 'warning' });\n                    console.error(error);\n                });\n        } else {\n            setInitialized(true);\n        }\n    }, [value, locale, notify]);\n\n    return isInitialized ? (\n        <I18nContext.Provider value={value} key={key}>\n            {children}\n        </I18nContext.Provider>\n    ) : null;\n};\n\nexport interface I18nContextProviderProps {\n    value: I18nProvider;\n    children: ReactNode;\n}\n\nconst defaulti18nContext = {\n    translate: x => x,\n    changeLocale: () => Promise.resolve(),\n    getLocale: () => 'en',\n};\n","import { createContext } from 'react';\nimport { I18nProvider } from '../types';\n\nexport type I18nContextProps = I18nProvider;\n\nexport const I18nContext = createContext<I18nProvider>({\n    translate: x => x,\n    changeLocale: () => Promise.resolve(),\n    getLocale: () => 'en',\n});\n\nI18nContext.displayName = 'I18nContext';\n","import { useCallback } from 'react';\n\nimport { useNotificationContext } from './useNotificationContext';\nimport { NotificationType, NotificationOptions } from './types';\n\n/**\n * Hook for Notification Side Effect\n *\n * @example\n *\n * const notify = useNotify();\n * // simple message (info level)\n * notify('Level complete');\n * // specify level\n * notify('A problem occurred', { type: 'warning' })\n * // pass arguments to the translation function\n * notify('Deleted %{count} elements', { type: 'info', messageArgs: { smart_count: 23 } })\n * // show the action as undoable in the notification\n * notify('Post renamed', { type: 'info', undoable: true })\n */\nexport const useNotify = () => {\n    const { addNotification } = useNotificationContext();\n    return useCallback(\n        (\n            message: string,\n            options: NotificationOptions & { type?: NotificationType } = {}\n        ) => {\n            const {\n                type: messageType = 'info',\n                ...notificationOptions\n            } = options;\n            addNotification({\n                message,\n                type: messageType,\n                notificationOptions,\n            });\n        },\n        [addNotification]\n    );\n};\n","import { useContext } from 'react';\nimport { NotificationContext } from './NotificationContext';\n\nexport const useNotificationContext = () => useContext(NotificationContext);\n","import { createContext } from 'react';\n\nimport { NotificationPayload } from './types';\n\nexport type NotificationContextType = {\n    notifications: NotificationPayload[];\n    addNotification: (notification: NotificationPayload) => void;\n    takeNotification: () => NotificationPayload | void;\n    resetNotifications: () => void;\n};\n\n/**\n * Context for the notification state and modifiers\n *\n * @example // display notifications\n * import { useNotificationContext } from 'react-admin';\n *\n * const App = () => {\n *    const { notifications } = useNotificationContext();\n *    return (\n *        <ul>\n *            {notifications.map(({ message }) => (\n *                <li key={index}>{ message }</li>\n *            ))}\n *        </ul>\n *    );\n * };\n *\n * @example // reset notifications\n * import { useNotificationContext } from 'react-admin';\n *\n * const ResetNotificationsButton = () => {\n *    const { resetNotifications } = useNotificationContext();\n *    return (\n *        <button onClick={() => resetNotifications()}>Reset notifications</button>\n *    );\n * };\n */\nexport const NotificationContext = createContext<NotificationContextType>({\n    notifications: [],\n    addNotification: () => {},\n    takeNotification: () => {},\n    resetNotifications: () => {},\n});\n","import * as React from 'react';\nimport { useState, useCallback, useMemo } from 'react';\n\nimport { NotificationPayload } from './types';\nimport { NotificationContext } from './NotificationContext';\n\nexport const NotificationContextProvider = ({ children }) => {\n    const [notifications, setNotifications] = useState<NotificationPayload[]>(\n        []\n    );\n\n    const addNotification = useCallback((notification: NotificationPayload) => {\n        setNotifications(notifications => [...notifications, notification]);\n    }, []);\n\n    const takeNotification = useCallback(() => {\n        const [notification, ...rest] = notifications;\n        setNotifications(rest);\n        return notification;\n    }, [notifications]);\n\n    const resetNotifications = useCallback(() => {\n        setNotifications([]);\n    }, []);\n\n    const contextValue = useMemo(\n        () => ({\n            notifications,\n            addNotification,\n            takeNotification,\n            resetNotifications,\n        }),\n        [notifications] // eslint-disable-line react-hooks/exhaustive-deps\n    );\n\n    return (\n        <NotificationContext.Provider value={contextValue}>\n            {children}\n        </NotificationContext.Provider>\n    );\n};\n","import { createContext } from 'react';\n\nexport const TranslatableContext = createContext<TranslatableContextValue>(\n    undefined\n);\n\nexport interface TranslatableContextValue {\n    getLabel: GetTranslatableLabel;\n    getSource: GetTranslatableSource;\n    locales: string[];\n    selectedLocale: string;\n    selectLocale: SelectTranslatableLocale;\n}\n\nexport type GetTranslatableSource = (field: string, locale?: string) => string;\nexport type GetTranslatableLabel = (field: string, label?: string) => string;\nexport type SelectTranslatableLocale = (locale: string) => void;\n","import * as React from 'react';\nimport { ReactElement, ReactNode } from 'react';\nimport {\n    TranslatableContext,\n    TranslatableContextValue,\n} from './TranslatableContext';\n\nexport const TranslatableContextProvider = ({\n    children,\n    value,\n}: {\n    children: ReactNode;\n    value: TranslatableContextValue;\n}): ReactElement => {\n    return (\n        <TranslatableContext.Provider value={value}>\n            {children}\n        </TranslatableContext.Provider>\n    );\n};\n","import merge from 'lodash/merge';\nimport { DEFAULT_LOCALE } from './index';\n\ninterface AllNavigatorLanguage extends NavigatorLanguage {\n    browserLanguage?: string;\n    userLanguage?: string;\n}\n\n/**\n * Resolve the browser locale according to the value of the global window.navigator\n *\n * Use it to determine the <Admin> locale at runtime.\n *\n * @example\n *    import * as React from \"react\";\n *    import { Admin, Resource, resolveBrowserLocale } from 'react-admin';\n *    import polyglotI18nProvider from 'ra-i18n-polyglot';\n *    import englishMessages from 'ra-language-english';\n *    import frenchMessages from 'ra-language-french';\n *\n *    const messages = {\n *        fr: frenchMessages,\n *        en: englishMessages,\n *    };\n *    const i18nProvider = polyglotI18nProvider(\n *        locale => messages[locale] ? messages[locale] : messages.en,\n *        resolveBrowserLocale()\n *    );\n *\n *    const App = () => (\n *        <Admin i18nProvider={i18nProvider}>\n *            ...\n *        </Admin>\n *    );\n *\n * @param {string} defaultLocale Defaults to 'en'\n * @param options\n * @param {boolean} options.fullLocale Defaults to false\n */\nexport const resolveBrowserLocale = (\n    defaultLocale?: string,\n    options?: { fullLocale?: boolean }\n): string => {\n    // from http://blog.ksol.fr/user-locale-detection-browser-javascript/\n    // Rely on the window.navigator object to determine user locale\n    const {\n        language,\n        browserLanguage,\n        userLanguage,\n    } = window.navigator as AllNavigatorLanguage;\n\n    const locale =\n        language ||\n        browserLanguage ||\n        userLanguage ||\n        defaultLocale ||\n        DEFAULT_LOCALE;\n\n    return options?.fullLocale ? locale : locale.split('-')[0];\n};\n\n/**\n * Compose translations from multiple packages for a single language (eg: 'english').\n *\n * Use it to merge translations from addons with the main react-admin translations.\n *\n * @example\n *     import * as React from \"react\";\n *     import { Admin, Resource, mergeTranslations } from 'react-admin';\n *     import polyglotI18nProvider from 'ra-i18n-polyglot';\n *     import englishMessages from 'ra-language-english';\n *     import englishTreeMessages from 'ra-tree-language-english';\n *\n *     const messages = {\n *        en: mergeTranslations(englishMessages, englishTreeMessages),\n *     };\n *     const i18nProvider = polyglotI18nProvider(\n *        locale => messages[locale] ? messages[locale] : messages.en\n *    );\n *\n *    const App = () => (\n *        <Admin i18nProvider={i18nProvider}>\n *            ...\n *        </Admin>\n *    );\n */\nexport const mergeTranslations = (...translationsModules: object[]) =>\n    merge({}, ...translationsModules);\n","import { useMemo } from 'react';\nimport { useI18nProvider } from './useI18nProvider';\nimport { useStore } from '../store/useStore';\n\n/**\n * Get the current locale and the ability to change it\n *\n * @example\n *\n * import { useLocaleState } from 'react-admin';\n *\n * const availableLanguages = {\n *     en: 'English',\n *     fr: 'Français',\n * }\n * const LocaleSwitcher = () => {\n *     const [locale, setLocale] = useLocaleState();\n *     return (\n *         <div>\n *             <div>Language</div>\n *             <Button disabled={locale === 'fr'} onClick={() => setLocale('fr')}>\n *                 English\n *             </Button>\n *             <Button disabled={locale === 'en'} onClick={() => setLocale('en')}>\n *                 French\n *             </Button>\n *         </div>\n *     );\n * };\n */\nexport const useLocaleState = () => {\n    const i18nProvider = useI18nProvider();\n    const defaultLocale = useMemo(() => i18nProvider.getLocale(), [\n        i18nProvider,\n    ]);\n    return useStore<string>('locale', defaultLocale);\n};\n","import { useContext } from 'react';\n\nimport { I18nContext } from './I18nContext';\n\n/**\n * Get the i18nProvider instance declared in the <Admin> component\n *\n * @example\n *\n * const CurrentLanguage = () => {\n *    const i18nProvider = useI18nProvider();\n *    const locale = i18nProvider.getLocale();\n *    return <span>{locale}</span>;\n * };\n */\nexport const useI18nProvider = () => useContext(I18nContext);\n","import { useLocaleState } from './useLocaleState';\n\n/**\n * Get the current locale\n *\n * @example\n *\n * import { useLocale } from 'react-admin';\n *\n * const availableLanguages = {\n *     en: 'English',\n *     fr: 'Français',\n * }\n * const CurrentLanguage = () => {\n *     const locale = useLocale();\n *     return <span>{availableLanguages[locale]}</span>;\n * }\n *\n * @deprecated use useLocaleState instead\n */\nexport const useLocale = () => {\n    const [locale] = useLocaleState();\n    return locale;\n};\n","import { useLocaleState } from './useLocaleState';\n\n/**\n * Set the current locale in the I18nContext and re-render the app when the locale changes.\n *\n * @example\n *\n * import { useSetLocale } from 'react-admin';\n *\n * const availableLanguages = {\n *     en: 'English',\n *     fr: 'Français',\n * }\n * const LanguageSwitcher = () => {\n *     const setLocale = useSetLocale();\n *     return (\n *         <ul>{\n *             Object.keys(availableLanguages).map(locale => {\n *                  <li key={locale} onClick={() => setLocale(locale)}>\n *                      {availableLanguages[locale]}\n *                  </li>\n *              })\n *         }</ul>\n *     );\n * }\n *\n * @deprecated use useLocaleState instead\n */\nexport const useSetLocale = () => {\n    const [, setLocale] = useLocaleState();\n    return setLocale;\n};\n","import { useState, useMemo } from 'react';\nimport { useResourceContext } from '../core';\nimport { getFieldLabelTranslationArgs } from '../util';\nimport { TranslatableContextValue } from './TranslatableContext';\nimport { useLocaleState } from './useLocaleState';\nimport { useTranslate } from './useTranslate';\n\n/**\n * Hook supplying the logic to translate a field value in multiple languages.\n *\n * @param options The hook options\n * @param {string} options.defaultLocale The locale of the default selected locale. Defaults to 'en'.\n * @param {string[]} options.locales An array of the supported locales. Each is an object with a locale and a name property. For example { locale: 'en', name: 'English' }.\n *\n * @returns\n * An object with following properties and methods:\n * - selectedLocale: The locale of the currently selected locale\n * - locales: An array of the supported locales\n * - getLabel: A function which returns the translated label for the given field\n * - getSource: A function which returns the source for the given field\n * - selectLocale: A function which set the selected locale\n */\nexport const useTranslatable = (\n    options: UseTranslatableOptions\n): TranslatableContextValue => {\n    const [localeFromUI] = useLocaleState();\n    const { defaultLocale = localeFromUI, locales } = options;\n    const [selectedLocale, setSelectedLocale] = useState(defaultLocale);\n    const resource = useResourceContext({});\n    const translate = useTranslate();\n\n    const context = useMemo<TranslatableContextValue>(\n        () => ({\n            getSource: (source: string, locale: string = selectedLocale) =>\n                `${source}.${locale}`,\n            getLabel: (source: string, label?: string) => {\n                return translate(\n                    ...getFieldLabelTranslationArgs({\n                        source,\n                        resource,\n                        label,\n                    })\n                );\n            },\n            locales,\n            selectedLocale,\n            selectLocale: setSelectedLocale,\n        }),\n        [locales, resource, selectedLocale, translate]\n    );\n\n    return context;\n};\n\nexport type UseTranslatableOptions = {\n    defaultLocale?: string;\n    locales: string[];\n};\n","import { useCallback } from 'react';\n\nimport { Translate } from '../types';\nimport { useI18nProvider } from './useI18nProvider';\n\n/**\n * Translate a string using the current locale and the translations from the i18nProvider\n *\n * @see Polyglot.t()\n * @link https://airbnb.io/polyglot.js/#polyglotprototypetkey-interpolationoptions\n *\n * @return {Function} A translation function, accepting two arguments\n *   - a string used as key in the translations\n *   - an interpolationOptions object\n *\n * @example\n *\n * import { useTranslate } from 'react-admin';\n *\n * const SettingsMenu = () => {\n *     const translate = useTranslate();\n *     return <MenuItem>{translate('settings')}</MenuItem>;\n * }\n */\nexport const useTranslate = (): Translate => {\n    const i18nProvider = useI18nProvider();\n    const translate = useCallback(\n        (key: string, options?: any) =>\n            i18nProvider.translate(key, options) as string,\n        // update the hook each time the locale changes\n        [i18nProvider] // eslint-disable-line react-hooks/exhaustive-deps\n    );\n    return i18nProvider ? translate : identity;\n};\n\nconst identity = key => key;\n","import { useContext } from 'react';\nimport {\n    TranslatableContext,\n    TranslatableContextValue,\n} from './TranslatableContext';\n\n/**\n * Gives access to the current TranslatableContext.\n *\n * @example\n * <TranslatableFields\n *     selector={<MyLanguageSelector />}\n *     locales={['en', 'fr']}\n * >\n *     <TextField source={getSource('title')} />\n * <TranslatableFields>\n *\n * const MyLanguageSelector = () => {\n *     const {\n *         locales,\n *         selectedLocale,\n *         selectLocale,\n *     } = useTranslatableContext();\n *\n *     return (\n *         <select onChange={selectLocale}>\n *             {locales.map((locale) => (\n *                 <option selected={locale.locale === selectedLocale}>\n *                     {locale.name}\n *                 </option>\n *             ))}\n *        </select>\n *     );\n * }\n */\nexport const useTranslatableContext = (): TranslatableContextValue => {\n    const context = useContext(TranslatableContext);\n\n    if (!context) {\n        throw new Error(\n            'useTranslatableContext must be used inside a TranslatableContextProvider'\n        );\n    }\n\n    return context;\n};\n","export const DEFAULT_LOCALE = 'en';\n\nexport * from './TestTranslationProvider';\nexport * from './I18nContext';\nexport * from './I18nContextProvider';\nexport * from './TranslationMessages';\nexport * from './TranslatableContext';\nexport * from './TranslatableContextProvider';\nexport * from './TranslationUtils';\nexport * from './useLocaleState';\nexport * from './useLocale';\nexport * from './useSetLocale';\nexport * from './useTranslatable';\nexport * from './useTranslatableContext';\nexport * from './useTranslate';\nexport * from './useI18nProvider';\n","import inflection from 'inflection';\n\ninterface Args {\n    label?: string;\n    resource?: string;\n    source?: string;\n}\n\ntype TranslationArguments = [string, any?];\n\n/**\n * Returns an array of arguments to use with the translate function for the label of a field.\n * The label will be the one specified by the label prop or one computed from the resource and source props.\n *\n * Usage:\n *  <span>\n *      {translate(...getFieldLabelTranslationArgs({ label, resource, source }))}\n *  </span>\n */\nexport default (options?: Args): TranslationArguments => {\n    if (!options) {\n        return [''];\n    }\n\n    const { label, resource, source } = options;\n\n    return typeof label !== 'undefined'\n        ? [label, { _: label }]\n        : typeof source !== 'undefined'\n        ? [\n              `resources.${resource}.fields.${source}`,\n              {\n                  _: inflection.transform(source, ['underscore', 'humanize']),\n              },\n          ]\n        : [''];\n};\n","import { useContext } from 'react';\nimport { ResourceContext, ResourceContextValue } from './ResourceContext';\n\n/**\n * Hook to read the resource from the ResourceContext.\n *\n * Must be used within a <ResourceContextProvider> (e.g. as a descendent of <Resource>\n * or any reference related components), or called with a resource prop.\n *\n * @example\n *\n * const ResourceName = (props) => {\n *   const resource = useResourceContext(props);\n *   const getResourceLabel = useGetResourceLabel();\n *   return <>{getResourceLabel(resource, 1)}</>;\n * }\n *\n * // use it in a resource context\n * const MyComponent = () => (\n *   <ResourceContextProvider value=\"posts\">\n *     <ResourceName />\n *     ...\n *   </ResourceContextProvider>\n * );\n *\n * // override resource via props\n * const MyComponent = () => (\n *   <>\n *     <ResourceName resource=\"posts\"/>\n *     ...\n *   </>\n * );\n *\n * @returns {ResourceContextValue} The resource name, e.g. 'posts'\n */\nexport const useResourceContext = <\n    ResourceInformationsType extends Partial<{ resource: string }>\n>(\n    props?: ResourceInformationsType\n): ResourceContextValue => {\n    const context = useContext(ResourceContext);\n    return (props && props.resource) || context;\n};\n","import { createContext } from 'react';\n\n/**\n * Context to store the current resource name.\n *\n * Use the useResource() hook to read the context. That's what most components do in react-admin.\n *\n * @example\n *\n * import { useResourceContext, useTranslate } from 'ra-core';\n *\n * const MyCustomEditTitle = props => {\n *     const name = useResourceContext(props);\n *\n *     return (\n *         <h1>{translate(`${name}.name`)}</h1>\n *     );\n * };\n */\nexport const ResourceContext = createContext<ResourceContextValue>(undefined);\n\nexport type ResourceContextValue = string;\n","import { isValidElementType } from 'react-is';\n\nexport default (props, propName, componentName) => {\n    if (props[propName] && !isValidElementType(props[propName])) {\n        return new Error(\n            `Invalid prop '${propName}' supplied to '${componentName}': the prop is not a valid React component`\n        );\n    }\n};\n","function is(x: unknown, y: unknown) {\n    if (x === y) {\n        return x !== 0 || y !== 0 || 1 / x === 1 / y;\n    } else {\n        // eslint-disable-next-line no-self-compare\n        return x !== x && y !== y;\n    }\n}\n\nexport const shallowEqual = (objA: any, objB: any) => {\n    if (is(objA, objB)) return true;\n\n    if (\n        typeof objA !== 'object' ||\n        objA === null ||\n        typeof objB !== 'object' ||\n        objB === null\n    ) {\n        return false;\n    }\n\n    const keysA = Object.keys(objA);\n    const keysB = Object.keys(objB);\n\n    if (keysA.length !== keysB.length) return false;\n\n    for (let i = 0; i < keysA.length; i++) {\n        if (\n            !Object.prototype.hasOwnProperty.call(objB, keysA[i]) ||\n            !is(objA[keysA[i]], objB[keysA[i]])\n        ) {\n            return false;\n        }\n    }\n\n    return true;\n};\n","import { shallowEqual } from './shallowEqual';\n\nconst isObject = obj =>\n    obj && Object.prototype.toString.call(obj) === '[object Object]';\n\nconst isEmpty = obj =>\n    obj instanceof Date\n        ? false\n        : obj === '' ||\n          obj === null ||\n          obj === undefined ||\n          shallowEqual(obj, {});\n\nconst removeEmpty = object =>\n    Object.keys(object).reduce((acc, key) => {\n        let child = object[key];\n\n        if (isObject(object[key])) {\n            child = removeEmpty(object[key]);\n        }\n\n        return isEmpty(child) ? acc : { ...acc, [key]: child };\n    }, {});\n\nexport default removeEmpty;\n","const removeKey = (target, path) =>\n    Object.keys(target).reduce((acc, key) => {\n        if (key !== path) {\n            return Object.assign({}, acc, { [key]: target[key] });\n        }\n\n        return acc;\n    }, {});\n\nconst deepRemoveKey = (target, path) => {\n    const paths = path.split('.');\n\n    if (paths.length === 1) {\n        return removeKey(target, path);\n    }\n\n    const deepKey = paths[0];\n    if (target[deepKey] === undefined) {\n        return target;\n    }\n    const deep = deepRemoveKey(target[deepKey], paths.slice(1).join('.'));\n\n    if (Object.keys(deep).length === 0) {\n        return removeKey(target, deepKey);\n    }\n\n    return Object.assign({}, target, { [deepKey]: deep });\n};\n\nexport default deepRemoveKey;\n","import * as React from 'react';\nimport { useState } from 'react';\n\nconst styles = {\n    root: {\n        width: '100vw',\n        height: '100vh',\n        display: 'flex',\n        flexDirection: 'column' as 'column',\n        fontFamily: '\"Roboto\", sans-serif',\n    },\n    main: {\n        flex: 1,\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        textAlign: 'center' as 'center',\n        flexDirection: 'column' as 'column',\n        background:\n            'linear-gradient(135deg, #00023b 0%, #00023b 50%, #313264 100%)',\n        color: 'white',\n        fontSize: '1.5em',\n        fontWeight: 'bold' as 'bold',\n    },\n    secondary: {\n        height: '20vh',\n        background: '#e8e8e8',\n        color: 'black',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'space-evenly',\n    },\n    link: {\n        textAlign: 'center' as 'center',\n        width: 150,\n        display: 'block',\n        textDecoration: 'none',\n        color: 'black',\n        opacity: 0.7,\n    },\n    linkHovered: {\n        opacity: 1,\n    },\n    image: {\n        width: 50,\n    },\n    logo: {\n        height: 100,\n    },\n};\n\nconst Button = ({ img, label, href }) => {\n    const [hovered, setHovered] = useState(false);\n    return (\n        <div>\n            <a\n                href={href}\n                style={\n                    hovered\n                        ? { ...styles.link, ...styles.linkHovered }\n                        : styles.link\n                }\n                onMouseEnter={() => setHovered(true)}\n                onMouseLeave={() => setHovered(false)}\n            >\n                <img src={img} alt={label} style={styles.image} />\n                <br />\n                {label}\n            </a>\n        </div>\n    );\n};\n\nexport default () =>\n    process.env.NODE_ENV === 'production' ? (\n        <span />\n    ) : (\n        <div style={styles.root}>\n            <div style={styles.main}>\n                <img\n                    style={styles.logo}\n                    src=\"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIzLjAuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkNhbHF1ZV8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIKCSB2aWV3Qm94PSIwIDAgMTMxIDEzMSIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMTMxIDEzMTsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8c3R5bGUgdHlwZT0idGV4dC9jc3MiPgoJLnN0MHtmaWxsOiMyMjI0NTg7fQoJLnN0MXtmaWxsOiM1MTUzN0Q7fQoJLnN0MntmaWxsOiNBM0E0Qjk7fQoJLnN0M3tmaWxsOiMwMDAyM0I7fQoJLnN0NHtmaWxsOiNGRkZGRkY7fQoJLnN0NXtlbmFibGUtYmFja2dyb3VuZDpuZXcgICAgO30KPC9zdHlsZT4KPHRpdGxlPkxvZ29fc29tYnJlX2FpPC90aXRsZT4KPGcgaWQ9IlJlY3RhbmdsZV81NiI+Cgk8Zz4KCQk8cmVjdCB4PSIxOS4xIiB5PSIxOSIgdHJhbnNmb3JtPSJtYXRyaXgoMC41IC0wLjg2NiAwLjg2NiAwLjUgLTIzLjkyMjYgODkuNTQ2KSIgY2xhc3M9InN0MCIgd2lkdGg9IjkyLjkiIGhlaWdodD0iOTIuOSIvPgoJCTxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik04MywxMzAuM0wwLjgsODIuOUw0OC4yLDAuN2w4Mi4yLDQ3LjVMODMsMTMwLjN6IE0zLjUsODIuMWw3OC43LDQ1LjVsNDUuNS03OC43TDQ5LDMuNEwzLjUsODIuMXoiLz4KCTwvZz4KPC9nPgo8ZyBpZD0iUmVjdGFuZ2xlXzU2LTIiPgoJPGc+CgkJPHJlY3QgeD0iMTkiIHk9IjE5LjEiIHRyYW5zZm9ybT0ibWF0cml4KDAuODY2IC0wLjUgMC41IDAuODY2IC0yMy45Nzc3IDQxLjUyNykiIGNsYXNzPSJzdDAiIHdpZHRoPSI5Mi45IiBoZWlnaHQ9IjkyLjkiLz4KCQk8cGF0aCBjbGFzcz0ic3QyIiBkPSJNNDcuOSwxMzFMMCw0OEw4My4xLDBsNDgsODMuMUw0Ny45LDEzMXogTTQuMSw0OS4xbDQ1LDc3LjlsNzcuOS00NUw4Miw0LjFMNC4xLDQ5LjF6Ii8+Cgk8L2c+CjwvZz4KPGcgaWQ9IlJlY3RhbmdsZV81Ni0zIj4KCTxnPgoJCTxyZWN0IHg9IjE5LjEiIHk9IjE5IiBjbGFzcz0ic3QzIiB3aWR0aD0iOTIuOSIgaGVpZ2h0PSI5Mi45Ii8+CgkJPHBhdGggY2xhc3M9InN0NCIgZD0iTTExNC41LDExNC41SDE2LjZWMTYuNWg5Ny45VjExNC41eiBNMjEuNiwxMDkuNWg4Ny45VjIxLjVIMjEuNlYxMDkuNXoiLz4KCTwvZz4KPC9nPgo8ZyBpZD0iUmEiPgoJPGcgY2xhc3M9InN0NSI+CgkJPHBhdGggY2xhc3M9InN0NCIgZD0iTTU5LDg2LjdsLTYuNy0xOS4yaC0xLjJIMzguOXYxOS4yaC01LjZWMzguNWgxOC41YzMuNiwwLDYuMywwLjYsOC4xLDEuOGMxLjgsMS4yLDMsMi44LDMuNSw0LjgKCQkJYzAuNSwyLDAuOCw0LjYsMC44LDcuOGMwLDMuNS0wLjQsNi40LTEuMyw4LjdjLTAuOCwyLjMtMi42LDMuOS01LjMsNC44TDY1LDg2LjdINTl6IE01NS43LDYxLjZjMS4yLTAuNywyLTEuNywyLjQtMwoJCQljMC40LTEuMywwLjYtMy4yLDAuNi01LjZjMC0yLjUtMC4yLTQuMy0wLjUtNS42Yy0wLjMtMS4zLTEuMS0yLjItMi4zLTIuOWMtMS4yLTAuNy0zLTEtNS41LTFIMzguOXYxOS4xSDUwCgkJCUM1Mi41LDYyLjYsNTQuNCw2Mi4zLDU1LjcsNjEuNnoiLz4KCQk8cGF0aCBjbGFzcz0ic3Q0IiBkPSJNNzQuMyw4NWMtMS42LTEuNS0yLjUtNC4yLTIuNS04LjJjMC0yLjcsMC4zLTQuOCwwLjktNi4zYzAuNi0xLjUsMS42LTIuNiwzLTMuM2MxLjQtMC43LDMuNC0xLDYtMQoJCQljMS4zLDAsNS4xLDAuMSwxMS40LDAuM3YtMi40YzAtMi45LTAuMi01LTAuNy02LjJjLTAuNS0xLjItMS4zLTItMi42LTIuNGMtMS4yLTAuMy0zLjMtMC41LTYuMy0wLjVjLTEuMywwLTMsMC4xLTQuOSwwLjIKCQkJYy0yLDAuMS0zLjYsMC4zLTQuOCwwLjV2LTQuM2MzLjMtMC43LDcuMS0xLDExLjQtMWMzLjcsMCw2LjUsMC40LDguNCwxLjJjMS44LDAuOCwzLjEsMi4yLDMuOCw0LjFjMC43LDEuOSwxLDQuNywxLDguNHYyMi41aC00LjgKCQkJbC0wLjMtNWgtMC4zYy0wLjgsMi4yLTIuMiwzLjctNC4xLDQuNGMtMS45LDAuNy00LjEsMS4xLTYuNiwxLjFDNzguNiw4Ny4yLDc2LDg2LjUsNzQuMyw4NXogTTg5LjEsODJjMS4yLTAuNCwyLjItMS4yLDIuOC0yLjQKCQkJYzAuOS0xLjgsMS4zLTQuMywxLjMtNy4zdi0yaC0xMGMtMS43LDAtMywwLjItMy44LDAuNWMtMC44LDAuMy0xLjQsMC45LTEuNywxLjhjLTAuMywwLjktMC41LDIuMi0wLjUsNGMwLDEuOCwwLjIsMy4xLDAuNiwzLjkKCQkJYzAuNCwwLjgsMS4xLDEuNCwyLDEuOGMxLDAuMywyLjUsMC41LDQuNSwwLjVDODYuMiw4Mi42LDg3LjgsODIuNCw4OS4xLDgyeiIvPgoJPC9nPgo8L2c+Cjwvc3ZnPgo=\"\n                    alt=\"react-admin logo\"\n                />\n                <h1>Welcome to React-admin</h1>\n                <div>\n                    Your application is properly configured.\n                    <br />\n                    Now you can add a &lt;Resource&gt; as child of\n                    &lt;Admin&gt;.\n                </div>\n            </div>\n            <div style={styles.secondary}>\n                <Button\n                    href=\"https://marmelab.com/react-admin/Readme.html\"\n                    img=\"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIzLjAuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiIHdpZHRoPSIyNHB4IgoJIGhlaWdodD0iMjRweCIgdmlld0JveD0iMCAwIDI0IDI0IiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCAyNCAyNCIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxnIGlkPSJCb3VuZGluZ19Cb3giPgoJPHJlY3QgZmlsbD0ibm9uZSIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0Ii8+CjwvZz4KPGcgaWQ9IkZsYXQiPgoJPGcgaWQ9InVpX3g1Rl9zcGVjX3g1Rl9oZWFkZXJfY29weV8yIj4KCTwvZz4KCTxnPgoJCTxwYXRoIGQ9Ik0yMSw1Yy0xLjExLTAuMzUtMi4zMy0wLjUtMy41LTAuNWMtMS45NSwwLTQuMDUsMC40LTUuNSwxLjVjLTEuNDUtMS4xLTMuNTUtMS41LTUuNS0xLjVTMi40NSw0LjksMSw2djE0LjY1CgkJCWMwLDAuMjUsMC4yNSwwLjUsMC41LDAuNWMwLjEsMCwwLjE1LTAuMDUsMC4yNS0wLjA1QzMuMSwyMC40NSw1LjA1LDIwLDYuNSwyMGMxLjk1LDAsNC4wNSwwLjQsNS41LDEuNWMxLjM1LTAuODUsMy44LTEuNSw1LjUtMS41CgkJCWMxLjY1LDAsMy4zNSwwLjMsNC43NSwxLjA1YzAuMSwwLjA1LDAuMTUsMC4wNSwwLjI1LDAuMDVjMC4yNSwwLDAuNS0wLjI1LDAuNS0wLjVWNkMyMi40LDUuNTUsMjEuNzUsNS4yNSwyMSw1eiBNMywxOC41VjcKCQkJYzEuMS0wLjM1LDIuMy0wLjUsMy41LTAuNWMxLjM0LDAsMy4xMywwLjQxLDQuNSwwLjk5djExLjVDOS42MywxOC40MSw3Ljg0LDE4LDYuNSwxOEM1LjMsMTgsNC4xLDE4LjE1LDMsMTguNXogTTIxLDE4LjUKCQkJYy0xLjEtMC4zNS0yLjMtMC41LTMuNS0wLjVjLTEuMzQsMC0zLjEzLDAuNDEtNC41LDAuOTlWNy40OWMxLjM3LTAuNTksMy4xNi0wLjk5LDQuNS0wLjk5YzEuMiwwLDIuNCwwLjE1LDMuNSwwLjVWMTguNXoiLz4KCQk8cGF0aCBvcGFjaXR5PSIwLjMiIGQ9Ik0xMSw3LjQ5QzkuNjMsNi45MSw3Ljg0LDYuNSw2LjUsNi41QzUuMyw2LjUsNC4xLDYuNjUsMyw3djExLjVDNC4xLDE4LjE1LDUuMywxOCw2LjUsMTgKCQkJYzEuMzQsMCwzLjEzLDAuNDEsNC41LDAuOTlWNy40OXoiLz4KCTwvZz4KCTxnPgoJCTxwYXRoIGQ9Ik0xNy41LDEwLjVjMC44OCwwLDEuNzMsMC4wOSwyLjUsMC4yNlY5LjI0QzE5LjIxLDkuMDksMTguMzYsOSwxNy41LDljLTEuMjgsMC0yLjQ2LDAuMTYtMy41LDAuNDd2MS41NwoJCQlDMTQuOTksMTAuNjksMTYuMTgsMTAuNSwxNy41LDEwLjV6Ii8+CgkJPHBhdGggZD0iTTE3LjUsMTMuMTZjMC44OCwwLDEuNzMsMC4wOSwyLjUsMC4yNlYxMS45Yy0wLjc5LTAuMTUtMS42NC0wLjI0LTIuNS0wLjI0Yy0xLjI4LDAtMi40NiwwLjE2LTMuNSwwLjQ3djEuNTcKCQkJQzE0Ljk5LDEzLjM2LDE2LjE4LDEzLjE2LDE3LjUsMTMuMTZ6Ii8+CgkJPHBhdGggZD0iTTE3LjUsMTUuODNjMC44OCwwLDEuNzMsMC4wOSwyLjUsMC4yNnYtMS41MmMtMC43OS0wLjE1LTEuNjQtMC4yNC0yLjUtMC4yNGMtMS4yOCwwLTIuNDYsMC4xNi0zLjUsMC40N3YxLjU3CgkJCUMxNC45OSwxNi4wMiwxNi4xOCwxNS44MywxNy41LDE1LjgzeiIvPgoJPC9nPgo8L2c+Cjwvc3ZnPgo=\"\n                    label=\"Documentation\"\n                />\n                <Button\n                    href=\"https://github.com/marmelab/react-admin/tree/master/examples\"\n                    img=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBmaWxsPSJub25lIiBkPSJNMCAwaDI0djI0SDBWMHoiLz48cGF0aCBkPSJNOS40IDE2LjZMNC44IDEybDQuNi00LjZMOCA2bC02IDYgNiA2IDEuNC0xLjR6bTUuMiAwbDQuNi00LjYtNC42LTQuNkwxNiA2bDYgNi02IDYtMS40LTEuNHoiLz48L3N2Zz4=\"\n                    label=\"Examples\"\n                />\n                <Button\n                    href=\"https://stackoverflow.com/questions/tagged/react-admin\"\n                    img=\"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIzLjAuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiIHdpZHRoPSIyNHB4IgoJIGhlaWdodD0iMjRweCIgdmlld0JveD0iMCAwIDI0IDI0IiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCAyNCAyNCIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxnIGlkPSJCb3VuZGluZ19Cb3giPgoJPHJlY3QgZmlsbD0ibm9uZSIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0Ii8+CjwvZz4KPGcgaWQ9IkZsYXQiPgoJPGcgaWQ9InVpX3g1Rl9zcGVjX3g1Rl9oZWFkZXJfY29weV8yIj4KCTwvZz4KCTxnPgoJCTxjaXJjbGUgb3BhY2l0eT0iMC4zIiBjeD0iOSIgY3k9IjgiIHI9IjIiLz4KCQk8cGF0aCBvcGFjaXR5PSIwLjMiIGQ9Ik05LDE1Yy0yLjcsMC01LjgsMS4yOS02LDIuMDFMMywxOGgxMnYtMUMxNC44LDE2LjI5LDExLjcsMTUsOSwxNXoiLz4KCQk8cGF0aCBkPSJNMTYuNjcsMTMuMTNDMTguMDQsMTQuMDYsMTksMTUuMzIsMTksMTd2M2g0di0zQzIzLDE0LjgyLDE5LjQzLDEzLjUzLDE2LjY3LDEzLjEzeiIvPgoJCTxwYXRoIGQ9Ik0xNSwxMmMyLjIxLDAsNC0xLjc5LDQtNGMwLTIuMjEtMS43OS00LTQtNGMtMC40NywwLTAuOTEsMC4xLTEuMzMsMC4yNEMxNC41LDUuMjcsMTUsNi41OCwxNSw4cy0wLjUsMi43My0xLjMzLDMuNzYKCQkJQzE0LjA5LDExLjksMTQuNTMsMTIsMTUsMTJ6Ii8+CgkJPHBhdGggZD0iTTksMTJjMi4yMSwwLDQtMS43OSw0LTRjMC0yLjIxLTEuNzktNC00LTRTNSw1Ljc5LDUsOEM1LDEwLjIxLDYuNzksMTIsOSwxMnogTTksNmMxLjEsMCwyLDAuOSwyLDJjMCwxLjEtMC45LDItMiwyCgkJCVM3LDkuMSw3LDhDNyw2LjksNy45LDYsOSw2eiIvPgoJCTxwYXRoIGQ9Ik05LDEzYy0yLjY3LDAtOCwxLjM0LTgsNHYzaDE2di0zQzE3LDE0LjM0LDExLjY3LDEzLDksMTN6IE0xNSwxOEgzbDAtMC45OUMzLjIsMTYuMjksNi4zLDE1LDksMTVzNS44LDEuMjksNiwyVjE4eiIvPgoJPC9nPgo8L2c+Cjwvc3ZnPgo=\"\n                    label=\"Community\"\n                />\n            </div>\n        </div>\n    );\n","export default (condition: any, message: string) => {\n    if (condition && process.env.NODE_ENV !== 'production') {\n        console.warn(message); // eslint-disable-line\n    }\n};\n","import { useRef, useEffect } from 'react';\n\n/**\n * Debug hook showing which props updated between two renders\n * @example\n *\n * const MyComponent = React.memo(props => {\n *   useWhyDidYouUpdate('MyComponent', props);\n *   return <div...;\n * });\n *\n * @link https://usehooks.com/useWhyDidYouUpdate/\n */\nexport default function useWhyDidYouUpdate(name, props) {\n    // Get a mutable ref object where we can store props ...\n    // ... for comparison next time this hook runs.\n    const previousProps = useRef() as any;\n\n    useEffect(() => {\n        if (previousProps.current) {\n            // Get all keys from previous and current props\n            const allKeys = Object.keys({ ...previousProps.current, ...props });\n            // Use this object to keep track of changed props\n            const changesObj = {};\n            // Iterate through keys\n            allKeys.forEach(key => {\n                // If previous is different from current\n                if (previousProps.current[key] !== props[key]) {\n                    // Add to changesObj\n                    changesObj[key] = {\n                        from: previousProps.current[key],\n                        to: props[key],\n                    };\n                }\n            });\n\n            // If changesObj not empty then output to console\n            if (Object.keys(changesObj).length) {\n                console.log('[why-did-you-update]', name, changesObj);\n            }\n        }\n\n        // Finally update previousProps with current props for next hook call\n        previousProps.current = props;\n    });\n}\n","export const getMutationMode = (mutationMode, undoable) => {\n    if (mutationMode) {\n        return mutationMode;\n    }\n    switch (undoable) {\n        case true:\n            return 'undoable';\n        case false:\n            return 'pessimistic';\n        default:\n            return 'undoable';\n    }\n};\n","import { LegacyRef, MutableRefObject, RefCallback } from 'react';\n\n// https://github.com/gregberge/react-merge-refs\nexport function mergeRefs<T = any>(\n    refs: Array<MutableRefObject<T> | LegacyRef<T>>\n): RefCallback<T> {\n    return value => {\n        refs.forEach(ref => {\n            if (typeof ref === 'function') {\n                ref(value);\n            } else if (ref != null) {\n                (ref as MutableRefObject<T | null>).current = value;\n            }\n        });\n    };\n}\n","import * as React from 'react';\nimport { useCallback } from 'react';\n\n// allow the hook to work in SSR\nconst useLayoutEffect =\n    typeof window !== 'undefined' ? React.useLayoutEffect : React.useEffect;\n\n/**\n * Alternative to useCallback that doesn't update the callback when dependencies change\n *\n * @see https://reactjs.org/docs/hooks-faq.html#how-to-read-an-often-changing-value-from-usecallback\n * @see https://github.com/facebook/react/issues/14099#issuecomment-440013892\n */\nexport const useEventCallback = <Args extends unknown[], Return>(\n    fn: (...args: Args) => Return,\n    dependencies: any[]\n): ((...args: Args) => Return) => {\n    const ref = React.useRef<(...args: Args) => Return>(() => {\n        throw new Error('Cannot call an event handler while rendering.');\n    });\n\n    useLayoutEffect(() => {\n        ref.current = fn;\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [fn, ...dependencies]);\n\n    return useCallback((...args: Args) => ref.current(...args), []);\n};\n","import * as React from 'react';\nimport { useState, useRef, useEffect, useCallback } from 'react';\nimport isEqual from 'lodash/isEqual';\n\n// thanks Kent C Dodds for the following helpers\n\nexport function useSafeSetState<T>(\n    initialState?: T | (() => T)\n): [T, React.Dispatch<React.SetStateAction<T>>] {\n    const [state, setState] = useState(initialState);\n\n    const mountedRef = useRef(false);\n    useEffect(() => {\n        mountedRef.current = true;\n        return () => {\n            mountedRef.current = false;\n        };\n    }, []);\n    const safeSetState = useCallback(\n        args => {\n            if (mountedRef.current) {\n                return setState(args);\n            }\n        },\n        [mountedRef, setState]\n    );\n\n    return [state, safeSetState];\n}\n\nexport function usePrevious(value) {\n    const ref = useRef();\n    useEffect(() => {\n        ref.current = value;\n    });\n    return ref.current;\n}\n\nexport function useDeepCompareEffect(callback, inputs) {\n    const cleanupRef = useRef();\n    useEffect(() => {\n        if (!isEqual(previousInputs, inputs)) {\n            cleanupRef.current = callback();\n        }\n        return cleanupRef.current;\n    });\n    const previousInputs = usePrevious(inputs);\n}\n\n/**\n * A hook that returns true once a delay has expired.\n * @param ms The delay in milliseconds\n * @param key A key that can be used to reset the timer\n * @returns true if the delay has expired, false otherwise\n */\nexport function useTimeout(ms = 0, key = '') {\n    const [ready, setReady] = useSafeSetState(false);\n\n    useEffect(() => {\n        setReady(false);\n        let timer = setTimeout(() => {\n            setReady(true);\n        }, ms);\n\n        return () => {\n            clearTimeout(timer);\n        };\n    }, [key, ms, setReady]);\n\n    return ready;\n}\n\nexport function useIsMounted() {\n    const isMounted = useRef(true);\n    useEffect(() => {\n        isMounted.current = true;\n        return () => {\n            isMounted.current = false;\n        };\n    }, []);\n    return isMounted;\n}\n","import { useCallback } from 'react';\n\nimport { useStoreContext } from './useStoreContext';\n\n/**\n * Get a callback to remove an item from the store\n *\n * @example\n * import { useRemoveFromStore } from 'react-admin';\n *\n * const ResetDatagridPrefs = () {\n *    const removeItem = useRemoveFromStore();\n *\n *    const hancleClick = () => {\n *        removeItem('datagrid.prefs');\n *    };\n *\n *    return <Button onClick={hancleClick}>Reset datagrid preferences</Button>;\n * }\n */\nexport const useRemoveFromStore = (hookTimeKey?: string) => {\n    const { removeItem } = useStoreContext();\n    return useCallback(\n        (key?: string) =>\n            removeItem(typeof key === 'undefined' ? hookTimeKey : key),\n        [removeItem, hookTimeKey]\n    );\n};\n","import { useStoreContext } from './useStoreContext';\n\n/**\n * Get a callback to remove all items from the store\n *\n * @example\n * import { useResetStore } from 'react-admin';\n *\n * const ResetPrefs = () {\n *    const reset = useResetStore();\n *\n *    const handleClick = () => {\n *        reset();\n *    };\n *\n *    return <Button onClick={handleClick}>Reset preferences</Button>;\n * }\n */\nexport const useResetStore = () => {\n    const { reset } = useStoreContext();\n    return reset;\n};\n","import { useEffect } from 'react';\n\nimport useGetPermissions from './useGetPermissions';\nimport { useSafeSetState } from '../util/hooks';\n\ninterface State<Permissions, Error> {\n    isLoading: boolean;\n    permissions?: Permissions;\n    error?: Error;\n}\n\nconst emptyParams = {};\n\n/**\n * Hook for getting user permissions\n *\n * Calls the authProvider.getPermissions() method asynchronously.\n * If the authProvider returns a rejected promise, returns empty permissions.\n *\n * The return value updates according to the request state:\n *\n * - start: { isLoading: true }\n * - success: { permissions: [any], isLoading: false }\n * - error: { error: [error from provider], isLoading: false }\n *\n * Useful to enable features based on user permissions\n *\n * @param {Object} params Any params you want to pass to the authProvider\n *\n * @returns The current auth check state. Destructure as { permissions, error, isLoading }.\n *\n * @example\n *     import { usePermissions } from 'react-admin';\n *\n *     const PostDetail = props => {\n *         const { isLoading, permissions } = usePermissions();\n *         if (!isLoading && permissions == 'editor') {\n *             return <PostEdit {...props} />\n *         } else {\n *             return <PostShow {...props} />\n *         }\n *     };\n */\nconst usePermissions = <Permissions = any, Error = any>(\n    params = emptyParams\n): State<Permissions, Error> => {\n    const [state, setState] = useSafeSetState<State<Permissions, Error>>({\n        isLoading: true,\n    });\n    const getPermissions = useGetPermissions();\n    useEffect(() => {\n        getPermissions(params)\n            .then(permissions => {\n                setState({ isLoading: false, permissions });\n            })\n            .catch(error => {\n                setState({\n                    isLoading: false,\n                    error,\n                });\n            });\n    }, [getPermissions, params, setState]);\n    return state;\n};\n\nexport default usePermissions;\n","import { useCallback } from 'react';\n\nimport useAuthProvider from './useAuthProvider';\n\nconst getPermissionsWithoutProvider = () => Promise.resolve([]);\n\n/**\n * Get a callback for calling the authProvider.getPermissions() method.\n *\n * @see useAuthProvider\n *\n * @returns {Function} getPermissions callback\n *\n * This is a low level hook. See those more specialized hooks\n * offering state handling.\n *\n * @see usePermissions\n *\n * @example\n *\n * import { useGetPermissions } from 'react-admin';\n *\n * const Roles = () => {\n *     const [permissions, setPermissions] = useState([]);\n *     const getPermissions = useGetPermissions();\n *     useEffect(() => {\n *         getPermissions().then(permissions => setPermissions(permissions))\n *     }, [])\n *     return (\n *         <ul>\n *             {permissions.map((permission, key) => (\n *                 <li key={key}>{permission}</li>\n *             ))}\n *         </ul>\n *     );\n * }\n */\nconst useGetPermissions = (): GetPermissions => {\n    const authProvider = useAuthProvider();\n    const getPermissions = useCallback(\n        (params: any = {}) => authProvider.getPermissions(params),\n        [authProvider]\n    );\n\n    return authProvider ? getPermissions : getPermissionsWithoutProvider;\n};\n\n/**\n * Proxy for calling authProvider.getPermissions()\n *\n * @param {Object} params The parameters to pass to the authProvider\n *\n * @return {Promise} The authProvider response\n */\ntype GetPermissions = (params?: any) => Promise<any>;\n\nexport default useGetPermissions;\n","import { useEffect } from 'react';\nimport isEqual from 'lodash/isEqual';\n\nimport useGetPermissions from './useGetPermissions';\nimport { useSafeSetState } from '../util/hooks';\n\ninterface State {\n    permissions?: any;\n    error?: any;\n}\n\nconst emptyParams = {};\n\n// keep a cache of already fetched permissions to initialize state for new\n// components and avoid a useless rerender if the permissions haven't changed\nconst alreadyFetchedPermissions = { '{}': undefined };\n\n/**\n * Hook for getting user permissions without the loading state.\n *\n * When compared to usePermissions, this hook doesn't cause a re-render\n * when the permissions haven't changed since the last call.\n *\n * This hook doesn't handle the loading state.\n *\n * @see usePermissions\n *\n * Calls the authProvider.getPermissions() method asynchronously.\n * If the authProvider returns a rejected promise, returns empty permissions.\n *\n * The return value updates according to the request state:\n *\n * - start:   { permissions: [previously fetched permissions for these params] }\n * - success: { permissions: [permissions returned by the authProvider (usually the same as on start)] }\n * - error:   { error: [error from provider] }\n *\n * Useful to enable features based on user permissions\n *\n * @param {Object} params Any params you want to pass to the authProvider\n *\n * @returns The current auth check state. Destructure as { permissions, error }.\n *\n * @example\n *     import { usePermissionsOptimized } from 'react-admin';\n *\n *     const PostDetail = props => {\n *         const { permissions } = usePermissionsOptimized();\n *         if (permissions !== 'editor') {\n *             return <Redirect to={`posts/${props.id}/show`} />\n *         } else {\n *             return <PostEdit {...props} />\n *         }\n *     };\n */\nconst usePermissionsOptimized = (params = emptyParams) => {\n    const key = JSON.stringify(params);\n    const [state, setState] = useSafeSetState<State>({\n        permissions: alreadyFetchedPermissions[key],\n    });\n    const getPermissions = useGetPermissions();\n    useEffect(() => {\n        getPermissions(params)\n            .then(permissions => {\n                if (!isEqual(permissions, state.permissions)) {\n                    alreadyFetchedPermissions[key] = permissions;\n                    setState({ permissions });\n                }\n            })\n            .catch(error => {\n                setState({\n                    error,\n                });\n            });\n    }, [getPermissions, key]); // eslint-disable-line react-hooks/exhaustive-deps\n\n    return state;\n};\n\nexport default usePermissionsOptimized;\n","import { Children, ReactElement, ComponentType, createElement } from 'react';\nimport { Location } from 'react-router-dom';\n\nimport warning from '../util/warning';\nimport { useAuthenticated } from './useAuthenticated';\nimport usePermissionsOptimized from './usePermissionsOptimized';\n\nexport interface WithPermissionsChildrenParams {\n    permissions: any;\n}\n\ntype WithPermissionsChildren = (\n    params: WithPermissionsChildrenParams\n) => ReactElement;\n\nexport interface WithPermissionsProps {\n    authParams?: object;\n    children?: WithPermissionsChildren;\n    component?: ComponentType<any>;\n    location?: Location;\n    render?: WithPermissionsChildren;\n    staticContext?: object;\n    [key: string]: any;\n}\n\nconst isEmptyChildren = children => Children.count(children) === 0;\n\n/**\n * After checking that the user is authenticated,\n * retrieves the user's permissions for a specific context.\n *\n * Useful for Route components ; used internally by Resource.\n * Use it to decorate your custom page components to require\n * a custom role. It will pass the permissions as a prop to your\n * component.\n *\n * You can set additional `authParams` at will if your authProvider\n * requires it.\n *\n * @example\n *     import { WithPermissions } from 'react-admin';\n *\n *     const Foo = ({ permissions }) => (\n *         {permissions === 'admin' ? <p>Sensitive data</p> : null}\n *         <p>Not sensitive data</p>\n *     );\n *\n *     const customRoutes = [\n *         <Route path=\"/foo\" render={() =>\n *             <WithPermissions\n *                  authParams={{ foo: 'bar' }}\n *                  render={({ permissions, ...props }) => <Foo permissions={permissions} {...props} />}\n *              />\n *         } />\n *     ];\n *     const App = () => (\n *         <Admin customRoutes={customRoutes}>\n *             ...\n *         </Admin>\n *     );\n */\nconst WithPermissions = (props: WithPermissionsProps) => {\n    const {\n        authParams,\n        children,\n        render,\n        component,\n        staticContext,\n        ...rest\n    } = props;\n    warning(\n        (render && children && !isEmptyChildren(children)) ||\n            (render && component) ||\n            (component && children && !isEmptyChildren(children)),\n        'You should only use one of the `component`, `render` and `children` props in <WithPermissions>'\n    );\n\n    useAuthenticated(authParams);\n    const { permissions } = usePermissionsOptimized(authParams);\n    // render even though the usePermissions() call isn't finished (optimistic rendering)\n    if (component) {\n        return createElement(component, { permissions, ...rest });\n    }\n    // @deprecated\n    if (render) {\n        return render({ permissions, ...rest });\n    }\n    // @deprecated\n    if (children) {\n        return children({ permissions, ...rest });\n    }\n};\n\nexport default WithPermissions as ComponentType<WithPermissionsProps>;\n","import { useEffect } from 'react';\nimport { useCheckAuth } from './useCheckAuth';\n\n/**\n * Restrict access to authenticated users.\n * Redirect anonymous users to the login page.\n *\n * Use it in your custom page components to require\n * authentication.\n *\n * You can set additional `authParams` at will if your authProvider\n * requires it.\n *\n * @example\n *     import { useAuthenticated } from 'react-admin';\n *     const FooPage = () => {\n *         useAuthenticated();\n *         return <Foo />;\n *     }\n *     const CustomRoutes = [\n *         <Route path=\"/foo\" render={() => <FooPage />} />\n *     ];\n *     const App = () => (\n *         <Admin customRoutes={customRoutes}>\n *             ...\n *         </Admin>\n *     );\n */\nexport const useAuthenticated = <ParamsType = any>(\n    options: UseAuthenticatedOptions<ParamsType> = {}\n) => {\n    const { enabled = true, params = emptyParams } = options;\n    const checkAuth = useCheckAuth();\n    useEffect(() => {\n        if (enabled) {\n            checkAuth(params).catch(() => {});\n        }\n    }, [checkAuth, enabled, params]);\n};\n\nexport type UseAuthenticatedOptions<ParamsType> = {\n    enabled?: boolean;\n    params?: ParamsType;\n};\n\nconst emptyParams = {};\n","import { useCallback } from 'react';\nimport { useLocation, useNavigate } from 'react-router-dom';\n\nimport { useNotificationContext } from '../notification';\nimport { useBasename } from '../routing';\nimport useAuthProvider, { defaultAuthParams } from './useAuthProvider';\nimport { removeDoubleSlashes } from '../routing/useCreatePath';\n\n/**\n * Get a callback for calling the authProvider.login() method\n * and redirect to the previous authenticated page (or the home page) on success.\n *\n * @see useAuthProvider\n *\n * @returns {Function} login callback\n *\n * @example\n *\n * import { useLogin } from 'react-admin';\n *\n * const LoginButton = () => {\n *     const [loading, setLoading] = useState(false);\n *     const login = useLogin();\n *     const handleClick = {\n *         setLoading(true);\n *         login({ username: 'john', password: 'p@ssw0rd' }, '/posts')\n *             .then(() => setLoading(false));\n *     }\n *     return <button onClick={handleClick}>Login</button>;\n * }\n */\nconst useLogin = (): Login => {\n    const authProvider = useAuthProvider();\n    const location = useLocation();\n    const locationState = location.state as any;\n    const navigate = useNavigate();\n    const basename = useBasename();\n    const { resetNotifications } = useNotificationContext();\n    const nextPathName = locationState && locationState.nextPathname;\n    const nextSearch = locationState && locationState.nextSearch;\n    const afterLoginUrl = removeDoubleSlashes(\n        `${basename}/${defaultAuthParams.afterLoginUrl}`\n    );\n\n    const login = useCallback(\n        (params: any = {}, pathName) =>\n            authProvider.login(params).then(ret => {\n                resetNotifications();\n                const redirectUrl = pathName\n                    ? pathName\n                    : nextPathName + nextSearch || afterLoginUrl;\n                navigate(redirectUrl);\n                return ret;\n            }),\n        [\n            authProvider,\n            navigate,\n            nextPathName,\n            nextSearch,\n            resetNotifications,\n            afterLoginUrl,\n        ]\n    );\n\n    const loginWithoutProvider = useCallback(\n        (_, __) => {\n            resetNotifications();\n            navigate(afterLoginUrl);\n            return Promise.resolve();\n        },\n        [navigate, resetNotifications, afterLoginUrl]\n    );\n\n    return authProvider ? login : loginWithoutProvider;\n};\n\n/**\n * Log a user in by calling the authProvider.login() method\n *\n * @param {Object} params Login parameters to pass to the authProvider. May contain username/email, password, etc\n * @param {string} pathName The path to redirect to after login. By default, redirects to the home page, or to the last page visited after disconnection.\n *\n * @return {Promise} The authProvider response\n */\ntype Login = (params: any, pathName?: string) => Promise<any>;\n\nexport default useLogin;\n","import { useEffect } from 'react';\nimport useAuthProvider from './useAuthProvider';\nimport { UserIdentity } from '../types';\nimport { useSafeSetState } from '../util/hooks';\n\nconst defaultIdentity = {\n    id: '',\n    fullName: null,\n};\n\n/**\n * Return the current user identity by calling authProvider.getIdentity() on mount\n *\n * The return value updates according to the call state:\n *\n * - mount: { isLoading: true }\n * - success: { identity: Identity, isLoading: false }\n * - error: { error: Error, isLoading: false }\n *\n * The implementation is left to the authProvider.\n *\n * @returns The current user identity. Destructure as { identity, error, isLoading }.\n *\n * @example\n *\n * import { useGetIdentity, useGetOne } from 'react-admin';\n *\n * const PostDetail = ({ id }) => {\n *     const { data: post, isLoading: postLoading } = useGetOne('posts', { id });\n *     const { identity, isLoading: identityLoading } = useGetIdentity();\n *     if (postLoading || identityLoading) return <>Loading...</>;\n *     if (!post.lockedBy || post.lockedBy === identity.id) {\n *         // post isn't locked, or is locked by me\n *         return <PostEdit post={post} />\n *     } else {\n *         // post is locked by someone else and cannot be edited\n *         return <PostShow post={post} />\n *     }\n * }\n */\nconst useGetIdentity = () => {\n    const [state, setState] = useSafeSetState<State>({\n        isLoading: true,\n    });\n    const authProvider = useAuthProvider();\n    useEffect(() => {\n        if (authProvider && typeof authProvider.getIdentity === 'function') {\n            const callAuthProvider = async () => {\n                try {\n                    const identity = await authProvider.getIdentity();\n                    setState({\n                        isLoading: false,\n                        identity: identity || defaultIdentity,\n                    });\n                } catch (error) {\n                    setState({\n                        isLoading: false,\n                        error,\n                    });\n                }\n            };\n            callAuthProvider();\n        } else {\n            setState({\n                isLoading: false,\n                identity: defaultIdentity,\n            });\n        }\n    }, [authProvider, setState]);\n    return state;\n};\n\ninterface State {\n    isLoading: boolean;\n    identity?: UserIdentity;\n    error?: any;\n}\n\nexport default useGetIdentity;\n","import { useCallback } from 'react';\n\nimport useAuthProvider from './useAuthProvider';\nimport useLogout from './useLogout';\nimport { useNotify } from '../notification';\nimport { useNavigate } from 'react-router';\n\nlet timer;\n\n/**\n * Returns a callback used to call the authProvider.checkError() method\n * and an error from the dataProvider. If the authProvider rejects the call,\n * the hook logs the user out and shows a logged out notification.\n *\n * Used in the useDataProvider hook to check for access denied responses\n * (e.g. 401 or 403 responses) and trigger a logout.\n *\n * @see useLogout\n * @see useDataProvider\n *\n * @returns {Function} logoutIfAccessDenied callback\n *\n * @example\n *\n * import { useLogoutIfAccessDenied, useNotify, DataProviderContext } from 'react-admin';\n *\n * const FetchRestrictedResource = () => {\n *     const dataProvider = useContext(DataProviderContext);\n *     const logoutIfAccessDenied = useLogoutIfAccessDenied();\n *     const notify = useNotify()\n *     useEffect(() => {\n *         dataProvider.getOne('secret', { id: 123 })\n *             .catch(error => {\n *                  logoutIfAccessDenied(error);\n *                  notify('server error', 'warning');\n *              })\n *     }, []);\n *     // ...\n * }\n */\nconst useLogoutIfAccessDenied = (): LogoutIfAccessDenied => {\n    const authProvider = useAuthProvider();\n    const logout = useLogout();\n    const notify = useNotify();\n    const navigate = useNavigate();\n    const logoutIfAccessDenied = useCallback(\n        (error?: any, disableNotification?: boolean) =>\n            authProvider\n                .checkError(error)\n                .then(() => false)\n                .catch(async e => {\n                    const logoutUser = e?.logoutUser ?? true;\n\n                    //manual debounce\n                    if (timer) {\n                        // side effects already triggered in this tick, exit\n                        return true;\n                    }\n                    timer = setTimeout(() => {\n                        timer = undefined;\n                    }, 0);\n\n                    const shouldNotify = !(\n                        disableNotification ||\n                        (e && e.message === false) ||\n                        (error && error.message === false)\n                    );\n                    if (shouldNotify) {\n                        // notify only if not yet logged out\n                        authProvider\n                            .checkAuth({})\n                            .then(() => {\n                                if (logoutUser) {\n                                    notify(\n                                        getErrorMessage(\n                                            e,\n                                            'ra.notification.logged_out'\n                                        ),\n                                        { type: 'warning' }\n                                    );\n                                } else {\n                                    notify(\n                                        getErrorMessage(\n                                            e,\n                                            'ra.notification.not_authorized'\n                                        ),\n                                        { type: 'warning' }\n                                    );\n                                }\n                            })\n                            .catch(() => {});\n                    }\n                    const redirectTo =\n                        e && e.redirectTo\n                            ? e.redirectTo\n                            : error && error.redirectTo\n                            ? error.redirectTo\n                            : undefined;\n\n                    if (logoutUser) {\n                        logout({}, redirectTo);\n                    } else {\n                        navigate(redirectTo);\n                    }\n\n                    return true;\n                }),\n        [authProvider, logout, notify, navigate]\n    );\n    return authProvider\n        ? logoutIfAccessDenied\n        : logoutIfAccessDeniedWithoutProvider;\n};\n\nconst logoutIfAccessDeniedWithoutProvider = () => Promise.resolve(false);\n\n/**\n * Call the authProvider.authError() method, using the error passed as argument.\n * If the authProvider rejects the call, logs the user out and shows a logged out notification.\n *\n * @param {Error} error An Error object (usually returned by the dataProvider)\n * @param {boolean} disableNotification Avoid showing a notification after the user is logged out. false by default.\n *\n * @return {Promise} Resolved to true if there was a logout, false otherwise\n */\ntype LogoutIfAccessDenied = (\n    error?: any,\n    /** @deprecated to disable the notification, authProvider.checkAuth() should return an object with an error property set to true */\n    disableNotification?: boolean\n) => Promise<boolean>;\n\nconst getErrorMessage = (error, defaultMessage) =>\n    typeof error === 'string'\n        ? error\n        : typeof error === 'undefined' || !error.message\n        ? defaultMessage\n        : error.message;\n\nexport default useLogoutIfAccessDenied;\n","export type UserCheck = (\n    payload: object,\n    pathName: string,\n    routeParams?: object\n) => void;\n\nexport const AUTH_LOGIN = 'AUTH_LOGIN';\nexport const AUTH_CHECK = 'AUTH_CHECK';\nexport const AUTH_ERROR = 'AUTH_ERROR';\nexport const AUTH_LOGOUT = 'AUTH_LOGOUT';\nexport const AUTH_GET_PERMISSIONS = 'AUTH_GET_PERMISSIONS';\n\nexport type AuthActionType =\n    | typeof AUTH_LOGIN\n    | typeof AUTH_LOGOUT\n    | typeof AUTH_ERROR\n    | typeof AUTH_CHECK\n    | typeof AUTH_GET_PERMISSIONS;\n","import {\n    AUTH_LOGIN,\n    AUTH_LOGOUT,\n    AUTH_CHECK,\n    AUTH_ERROR,\n    AUTH_GET_PERMISSIONS,\n} from './types';\nimport { AuthProvider, LegacyAuthProvider } from '../types';\n\n/**\n * Turn a function-based authProvider to an object-based one\n *\n * Allows using legacy authProviders transparently.\n *\n * @param {Function} legacyAuthProvider A legacy authProvider (type, params) => Promise<any>\n *\n * @returns {Object} An authProvider that react-admin can use\n */\nexport default (legacyAuthProvider: LegacyAuthProvider): AuthProvider => {\n    const authProvider = (...args) => legacyAuthProvider.apply(null, args);\n    authProvider.login = params => legacyAuthProvider(AUTH_LOGIN, params);\n    authProvider.logout = params => legacyAuthProvider(AUTH_LOGOUT, params);\n    authProvider.checkAuth = params => legacyAuthProvider(AUTH_CHECK, params);\n    authProvider.checkError = error => legacyAuthProvider(AUTH_ERROR, error);\n    authProvider.getPermissions = params =>\n        legacyAuthProvider(AUTH_GET_PERMISSIONS, params);\n    return authProvider;\n};\n","import * as React from 'react';\nimport { ReactNode } from 'react';\n\nimport { useAuthenticated } from './useAuthenticated';\n\n/**\n * Restrict access to children to authenticated users.\n * Redirects anonymous users to the login page.\n *\n * Use it to decorate your custom page components to require\n * authentication.\n *\n * You can set additional `authParams` at will if your authProvider\n * requires it.\n *\n * @see useAuthenticated\n *\n * @example\n *     import { Authenticated } from 'react-admin';\n *\n *     const CustomRoutes = [\n *         <Route path=\"/foo\" render={() =>\n *             <Authenticated authParams={{ foo: 'bar' }}>\n *                 <Foo />\n *             </Authenticated>\n *         } />\n *     ];\n *     const App = () => (\n *         <Admin customRoutes={customRoutes}>\n *             ...\n *         </Admin>\n *     );\n */\nexport const Authenticated = (props: AuthenticatedProps) => {\n    const { authParams, children } = props;\n    useAuthenticated({ params: authParams });\n    // render the child even though the useAuthenticated() call isn't finished (optimistic rendering)\n    // the above hook will log out if the authProvider doesn't validate that the user is authenticated\n    return <>{children}</>;\n};\n\nexport interface AuthenticatedProps {\n    children: ReactNode;\n    authParams?: object;\n}\n","export const GET_LIST = 'GET_LIST';\nexport const GET_ONE = 'GET_ONE';\nexport const GET_MANY = 'GET_MANY';\nexport const GET_MANY_REFERENCE = 'GET_MANY_REFERENCE';\nexport const CREATE = 'CREATE';\nexport const UPDATE = 'UPDATE';\nexport const UPDATE_MANY = 'UPDATE_MANY';\nexport const DELETE = 'DELETE';\nexport const DELETE_MANY = 'DELETE_MANY';\n\nexport const fetchActionsWithRecordResponse = ['getOne', 'create', 'update'];\nexport const fetchActionsWithArrayOfIdentifiedRecordsResponse = [\n    'getList',\n    'getMany',\n    'getManyReference',\n];\nexport const fetchActionsWithArrayOfRecordsResponse = [\n    ...fetchActionsWithArrayOfIdentifiedRecordsResponse,\n    'updateMany',\n    'deleteMany',\n];\nexport const fetchActionsWithTotalResponse = ['getList', 'getManyReference'];\n\nexport const sanitizeFetchType = (fetchType: string) => {\n    switch (fetchType) {\n        case GET_LIST:\n            return 'getList';\n        case GET_ONE:\n            return 'getOne';\n        case GET_MANY:\n            return 'getMany';\n        case GET_MANY_REFERENCE:\n            return 'getManyReference';\n        case CREATE:\n            return 'create';\n        case UPDATE:\n            return 'update';\n        case UPDATE_MANY:\n            return 'updateMany';\n        case DELETE:\n            return 'delete';\n        case DELETE_MANY:\n            return 'deleteMany';\n        default:\n            return fetchType;\n    }\n};\n","import {\n    CREATE,\n    DELETE,\n    DELETE_MANY,\n    GET_LIST,\n    GET_MANY,\n    GET_MANY_REFERENCE,\n    GET_ONE,\n    UPDATE,\n    UPDATE_MANY,\n} from './dataFetchActions';\nimport { LegacyDataProvider, DataProvider } from '../types';\n\nconst defaultDataProvider = () => Promise.resolve();\ndefaultDataProvider.create = () => Promise.resolve(null);\ndefaultDataProvider.delete = () => Promise.resolve(null);\ndefaultDataProvider.deleteMany = () => Promise.resolve(null);\ndefaultDataProvider.getList = () => Promise.resolve(null);\ndefaultDataProvider.getMany = () => Promise.resolve(null);\ndefaultDataProvider.getManyReference = () => Promise.resolve(null);\ndefaultDataProvider.getOne = () => Promise.resolve(null);\ndefaultDataProvider.update = () => Promise.resolve(null);\ndefaultDataProvider.updateMany = () => Promise.resolve(null);\n\nconst fetchMap = {\n    create: CREATE,\n    delete: DELETE,\n    deleteMany: DELETE_MANY,\n    getList: GET_LIST,\n    getMany: GET_MANY,\n    getManyReference: GET_MANY_REFERENCE,\n    getOne: GET_ONE,\n    update: UPDATE,\n    updateMany: UPDATE_MANY,\n};\n\ninterface ConvertedDataProvider extends DataProvider {\n    (type: string, resource: string, params: any): Promise<any>;\n}\n/**\n * Turn a function-based dataProvider to an object-based one\n *\n * Allows using legacy dataProviders transparently.\n *\n * @param {Function} legacyDataProvider A legacy dataProvider (type, resource, params) => Promise<any>\n *\n * @returns {Object} A dataProvider that react-admin can use\n */\nconst convertLegacyDataProvider = (\n    legacyDataProvider: LegacyDataProvider\n): ConvertedDataProvider => {\n    const proxy = new Proxy(defaultDataProvider, {\n        get(_, name) {\n            return (resource, params) => {\n                if (Object.keys(fetchMap).includes(name.toString())) {\n                    const fetchType = fetchMap[name.toString()];\n                    return legacyDataProvider(fetchType, resource, params);\n                }\n\n                return legacyDataProvider(name.toString(), resource, params);\n            };\n        },\n        apply(_, __, args) {\n            return legacyDataProvider.apply(legacyDataProvider, args);\n        },\n    });\n\n    return proxy;\n};\n\nexport default convertLegacyDataProvider;\n","import { createContext } from 'react';\n\nimport { DataProvider } from '../types';\n\nconst DataProviderContext = createContext<DataProvider>(null);\n\nDataProviderContext.displayName = 'DataProviderContext';\n\nexport default DataProviderContext;\n","class HttpError extends Error {\n    constructor(\n        public readonly message,\n        public readonly status,\n        public readonly body = null\n    ) {\n        super(message);\n        Object.setPrototypeOf(this, HttpError.prototype);\n        this.name = this.constructor.name;\n        if (typeof Error.captureStackTrace === 'function') {\n            Error.captureStackTrace(this, this.constructor);\n        } else {\n            this.stack = new Error(message).stack;\n        }\n        this.stack = new Error().stack;\n    }\n}\n\nexport default HttpError;\n","import HttpError from './HttpError';\nimport { stringify } from 'query-string';\n\nexport interface Options extends RequestInit {\n    user?: {\n        authenticated?: boolean;\n        token?: string;\n    };\n}\n\nexport const createHeadersFromOptions = (options: Options): Headers => {\n    const requestHeaders = (options.headers ||\n        new Headers({\n            Accept: 'application/json',\n        })) as Headers;\n    if (\n        !requestHeaders.has('Content-Type') &&\n        !(options && (!options.method || options.method === 'GET')) &&\n        !(options && options.body && options.body instanceof FormData)\n    ) {\n        requestHeaders.set('Content-Type', 'application/json');\n    }\n    if (options.user && options.user.authenticated && options.user.token) {\n        requestHeaders.set('Authorization', options.user.token);\n    }\n\n    return requestHeaders;\n};\n\nexport const fetchJson = (url, options: Options = {}) => {\n    const requestHeaders = createHeadersFromOptions(options);\n\n    return fetch(url, { ...options, headers: requestHeaders })\n        .then(response =>\n            response.text().then(text => ({\n                status: response.status,\n                statusText: response.statusText,\n                headers: response.headers,\n                body: text,\n            }))\n        )\n        .then(({ status, statusText, headers, body }) => {\n            let json;\n            try {\n                json = JSON.parse(body);\n            } catch (e) {\n                // not json, no big deal\n            }\n            if (status < 200 || status >= 300) {\n                return Promise.reject(\n                    new HttpError(\n                        (json && json.message) || statusText,\n                        status,\n                        json\n                    )\n                );\n            }\n            return Promise.resolve({ status, headers, body, json });\n        });\n};\n\nexport const queryParameters = stringify;\n\nconst isValidObject = value => {\n    if (!value) {\n        return false;\n    }\n\n    const isArray = Array.isArray(value);\n    const isBuffer = typeof Buffer !== 'undefined' && Buffer.isBuffer(value);\n    const isObject =\n        Object.prototype.toString.call(value) === '[object Object]';\n    const hasKeys = !!Object.keys(value).length;\n\n    return !isArray && !isBuffer && isObject && hasKeys;\n};\n\nexport const flattenObject = (value, path = []) => {\n    if (isValidObject(value)) {\n        return Object.assign(\n            {},\n            ...Object.keys(value).map(key =>\n                flattenObject(value[key], path.concat([key]))\n            )\n        );\n    } else {\n        return path.length ? { [path.join('.')]: value } : value;\n    }\n};\n","import EventEmitter from 'eventemitter3';\n\nexport default new EventEmitter();\n","export const defaultDataProvider = {\n    create: () => Promise.resolve({ data: null }), // avoids adding a context in tests\n    delete: () => Promise.resolve({ data: null }), // avoids adding a context in tests\n    deleteMany: () => Promise.resolve({ data: [] }), // avoids adding a context in tests\n    getList: () => Promise.resolve({ data: [], total: 0 }), // avoids adding a context in tests\n    getMany: () => Promise.resolve({ data: [] }), // avoids adding a context in tests\n    getManyReference: () => Promise.resolve({ data: [], total: 0 }), // avoids adding a context in tests\n    getOne: () => Promise.resolve({ data: null }), // avoids adding a context in tests\n    update: () => Promise.resolve({ data: null }), // avoids adding a context in tests\n    updateMany: () => Promise.resolve({ data: [] }), // avoids adding a context in tests\n};\n","import { DataProvider } from '../types';\nimport { defaultDataProvider } from './defaultDataProvider';\n\nexport type DataProviderMatcher = (resource: string) => DataProvider;\n\n/**\n * Combine multiple data providers into one.\n *\n * @param dataProviderMatcher A function that returns a data provider for a given resource.\n *\n * @example\n * const dataProvider = combineDataProviders(resource => {\n *    switch(resource) {\n *       case 'posts':\n *       case 'comments':\n *          return dataProvider1;\n *       case 'users':\n *          return dataProvider2;\n *       default:\n *         throw new Error('Unknown resource');\n *    }\n * });\n */\nexport const combineDataProviders = (\n    dataProviderMatcher: DataProviderMatcher\n): DataProvider =>\n    new Proxy(defaultDataProvider, {\n        get: (target, name) => {\n            return (resource, params) => {\n                if (typeof name === 'symbol' || name === 'then') {\n                    return;\n                }\n                return dataProviderMatcher(resource)[name](resource, params);\n            };\n        },\n    });\n","import { DataProvider } from '../types';\n\n/**\n * A dataProvider meant to be used in tests only. You can override any of its methods by passing a partial dataProvider.\n */\nexport const testDataProvider = (\n    overrides?: Partial<DataProvider>\n): DataProvider => {\n    return {\n        getList: () => Promise.resolve({ data: [], total: 0 }),\n        getOne: () => Promise.resolve({ data: undefined }),\n        getMany: () => Promise.resolve({ data: [] }),\n        getManyReference: () => Promise.resolve({ data: [], total: 0 }),\n        create: () => Promise.resolve({ data: undefined }),\n        update: () => Promise.resolve({ data: undefined }),\n        updateMany: () => Promise.resolve({ data: [] }),\n        delete: () => Promise.resolve({ data: undefined }),\n        deleteMany: () => Promise.resolve({ data: [] }),\n        ...overrides,\n    };\n};\n","import { useContext, useMemo } from 'react';\n\nimport DataProviderContext from './DataProviderContext';\nimport { defaultDataProvider } from './defaultDataProvider';\nimport validateResponseFormat from './validateResponseFormat';\nimport { DataProvider } from '../types';\nimport useLogoutIfAccessDenied from '../auth/useLogoutIfAccessDenied';\n\n/**\n * Hook for getting a dataProvider\n *\n * Gets a dataProvider object, which behaves just like the real dataProvider\n * (same methods returning a Promise). But it's actually a Proxy object,\n * which validates the response format, and logs the user out upon error\n * if authProvider.checkError() rejects.\n *\n * @return dataProvider\n *\n * @example Basic usage\n *\n * import * as React from 'react';\n * import { useState } from 'react';\n * import { useDataProvider } from 'react-admin';\n *\n * const PostList = () => {\n *      const [posts, setPosts] = useState([])\n *      const dataProvider = useDataProvider();\n *      useEffect(() => {\n *          dataProvider.getList('posts', { filter: { status: 'pending' }})\n *            .then(({ data }) => setPosts(data));\n *      }, [])\n *\n *      return (\n *          <Fragment>\n *              {posts.map((post, key) => <PostDetail post={post} key={key} />)}\n *          </Fragment>\n *     );\n * }\n *\n * @example Handling all states (loading, error, success)\n *\n * import { useState, useEffect } from 'react';\n * import { useDataProvider } from 'react-admin';\n *\n * const UserProfile = ({ userId }) => {\n *     const dataProvider = useDataProvider();\n *     const [user, setUser] = useState();\n *     const [loading, setLoading] = useState(true);\n *     const [error, setError] = useState();\n *     useEffect(() => {\n *         dataProvider.getOne('users', { id: userId })\n *             .then(({ data }) => {\n *                 setUser(data);\n *                 setLoading(false);\n *             })\n *             .catch(error => {\n *                 setError(error);\n *                 setLoading(false);\n *             })\n *     }, []);\n *\n *     if (loading) return <Loading />;\n *     if (error) return <Error />\n *     if (!user) return null;\n *\n *     return (\n *         <ul>\n *             <li>Name: {user.name}</li>\n *             <li>Email: {user.email}</li>\n *         </ul>\n *     )\n * }\n */\nexport const useDataProvider = <\n    TDataProvider extends DataProvider = DataProvider\n>(): TDataProvider => {\n    const dataProvider = ((useContext(DataProviderContext) ||\n        defaultDataProvider) as unknown) as TDataProvider;\n\n    const logoutIfAccessDenied = useLogoutIfAccessDenied();\n\n    const dataProviderProxy = useMemo(() => {\n        return new Proxy(dataProvider, {\n            get: (target, name) => {\n                if (typeof name === 'symbol' || name === 'then') {\n                    return;\n                }\n                return (...args) => {\n                    const type = name.toString();\n\n                    if (typeof dataProvider[type] !== 'function') {\n                        throw new Error(\n                            `Unknown dataProvider function: ${type}`\n                        );\n                    }\n\n                    try {\n                        return dataProvider[type]\n                            .apply(dataProvider, args)\n                            .then(response => {\n                                if (process.env.NODE_ENV !== 'production') {\n                                    validateResponseFormat(response, type);\n                                }\n                                return response;\n                            })\n                            .catch(error => {\n                                if (process.env.NODE_ENV !== 'production') {\n                                    console.error(error);\n                                }\n                                return logoutIfAccessDenied(error).then(\n                                    loggedOut => {\n                                        if (loggedOut) return;\n                                        throw error;\n                                    }\n                                );\n                            });\n                    } catch (e) {\n                        if (process.env.NODE_ENV !== 'production') {\n                            console.error(e);\n                        }\n                        throw new Error(\n                            'The dataProvider threw an error. It should return a rejected Promise instead.'\n                        );\n                    }\n                };\n            },\n        });\n    }, [dataProvider, logoutIfAccessDenied]);\n\n    return dataProviderProxy;\n};\n","import {\n    fetchActionsWithRecordResponse,\n    fetchActionsWithArrayOfIdentifiedRecordsResponse,\n    fetchActionsWithArrayOfRecordsResponse,\n    fetchActionsWithTotalResponse,\n} from './dataFetchActions';\n\nfunction validateResponseFormat(\n    response,\n    type,\n    logger = console.error // eslint-disable-line no-console\n) {\n    if (!response) {\n        logger(`The dataProvider returned an empty response for '${type}'.`);\n        throw new Error('ra.notification.data_provider_error');\n    }\n    if (!response.hasOwnProperty('data')) {\n        logger(\n            `The response to '${type}' must be like { data: ... }, but the received response does not have a 'data' key. The dataProvider is probably wrong for '${type}'.`\n        );\n        throw new Error('ra.notification.data_provider_error');\n    }\n    if (\n        fetchActionsWithArrayOfRecordsResponse.includes(type) &&\n        !Array.isArray(response.data)\n    ) {\n        logger(\n            `The response to '${type}' must be like { data : [...] }, but the received data is not an array. The dataProvider is probably wrong for '${type}'`\n        );\n        throw new Error('ra.notification.data_provider_error');\n    }\n    if (\n        fetchActionsWithArrayOfIdentifiedRecordsResponse.includes(type) &&\n        Array.isArray(response.data) &&\n        response.data.length > 0 &&\n        !response.data[0].hasOwnProperty('id')\n    ) {\n        logger(\n            `The response to '${type}' must be like { data : [{ id: 123, ...}, ...] }, but the received data items do not have an 'id' key. The dataProvider is probably wrong for '${type}'`\n        );\n        throw new Error('ra.notification.data_provider_error');\n    }\n    if (\n        fetchActionsWithRecordResponse.includes(type) &&\n        !response.data.hasOwnProperty('id')\n    ) {\n        logger(\n            `The response to '${type}' must be like { data: { id: 123, ... } }, but the received data does not have an 'id' key. The dataProvider is probably wrong for '${type}'`\n        );\n        throw new Error('ra.notification.data_provider_error');\n    }\n    if (\n        fetchActionsWithTotalResponse.includes(type) &&\n        !response.hasOwnProperty('total') &&\n        !response.hasOwnProperty('pageInfo')\n    ) {\n        logger(\n            `The response to '${type}' must be like  { data: [...], total: 123 }, but the received response does not have a 'total' key. The dataProvider is probably wrong for '${type}'`\n        );\n        throw new Error('ra.notification.data_provider_error');\n    }\n}\n\nexport default validateResponseFormat;\n","import { useEffect, useState } from 'react';\nimport { useQueryClient, QueryObserver } from 'react-query';\n\n/**\n * Check if react-query has already fetched data for a query key.\n *\n * This hook is reactive.\n *\n * @example\n * const isCustomerLoaded = useIsDataLoaded(['customers', 'getOne', { id: customerId }]);\n *\n * @returns {boolean} true if the data is loaded, false otherwise\n */\nexport const useIsDataLoaded = (\n    queryKey: any,\n    options: { enabled?: boolean } = {}\n) => {\n    const { enabled = true } = options;\n    const queryClient = useQueryClient();\n    const [isDataLoaded, setDataLoaded] = useState<boolean>(() => {\n        if (!enabled) {\n            return false;\n        }\n        return queryClient.getQueryData(queryKey) !== undefined;\n    });\n\n    useEffect(() => {\n        if (!enabled) return;\n        if (queryClient.getQueryData(queryKey) === undefined) {\n            const observer = new QueryObserver(queryClient, { queryKey });\n            const unsubscribe = observer.subscribe(result => {\n                setDataLoaded(!result.isLoading);\n                unsubscribe();\n            });\n            return unsubscribe;\n        }\n    }, [enabled, queryKey, queryClient]);\n\n    return isDataLoaded;\n};\n","import React from 'react';\n\nimport { notifyManager, useQueryClient } from 'react-query';\n\n/**\n * Get the state of the dataProvider connection.\n *\n * Returns true if a query or a mutation is pending.\n *\n * Custom implementation because react-query's useIsFetching and useIsMutating\n * render each time the number of active queries changes, which is too often.\n *\n * @see useIsFetching\n * @see useIsMutating\n */\nexport const useLoading = (): boolean => {\n    const client = useQueryClient();\n    const mountedRef = React.useRef(false);\n    const isFetchingRef = React.useRef(client.isFetching() > 0);\n    const isMutatingRef = React.useRef(client.isMutating() > 0);\n\n    const [isLoading, setIsLoading] = React.useState<boolean>(\n        isFetchingRef.current || isMutatingRef.current\n    );\n\n    React.useEffect(() => {\n        mountedRef.current = true;\n\n        const unsubscribeQueryCache = client.getQueryCache().subscribe(\n            notifyManager.batchCalls(() => {\n                if (mountedRef.current) {\n                    isFetchingRef.current = client.isFetching() > 0;\n                    setIsLoading(\n                        isFetchingRef.current || isMutatingRef.current\n                    );\n                }\n            })\n        );\n\n        const unsubscribeMutationCache = client.getMutationCache().subscribe(\n            notifyManager.batchCalls(() => {\n                if (mountedRef.current) {\n                    isMutatingRef.current = client.isMutating() > 0;\n                    setIsLoading(\n                        isFetchingRef.current || isMutatingRef.current\n                    );\n                }\n            })\n        );\n\n        return () => {\n            mountedRef.current = false;\n            unsubscribeQueryCache();\n            unsubscribeMutationCache();\n        };\n    }, [client]);\n\n    return isLoading;\n};\n","import { useCallback } from 'react';\nimport { useQueryClient } from 'react-query';\n\n/**\n * Hook for triggering a page refresh. Returns a callback function.\n *\n * The callback invalidates all queries and refetches the active ones.\n * Any component depending on react-query data will be re-rendered.\n *\n * @example\n *\n * const refresh = useRefresh();\n * const handleClick = () => {\n *     refresh();\n * };\n */\nexport const useRefresh = () => {\n    const queryClient = useQueryClient();\n    return useCallback(() => {\n        queryClient.invalidateQueries();\n    }, [queryClient]);\n};\n","import { RaRecord, GetOneParams } from '../types';\nimport { useQuery, UseQueryOptions, UseQueryResult } from 'react-query';\nimport { useDataProvider } from './useDataProvider';\n\n/**\n * Call the dataProvider.getOne() method and return the resolved value\n * as well as the loading state.\n *\n * The return value updates according to the request state:\n *\n * - start: { isLoading: true, isFetching: true, refetch }\n * - success: { data: [data from response], isLoading: false, refetch }\n * - error: { error: [error from response], isLoading: false, refetch }\n *\n * This hook will return the cached result when called a second time\n * with the same parameters, until the response arrives.\n *\n * @param resource The resource name, e.g. 'posts'\n * @param {Params} params The getOne parameters { id, meta }, e.g. { id: 123 }\n * @param {Options} options Options object to pass to the react-query queryClient.\n *\n * @typedef Params\n * @prop id a resource identifier, e.g. 123\n *\n * @typedef Options\n * @prop enabled Flag to conditionally run the query. If it's false, the query will not run\n * @prop onSuccess Side effect function to be executed upon success, e.g. { onSuccess: { refresh: true } }\n * @prop onError Side effect function to be executed upon failure, e.g. { onError: error => notify(error.message) }\n *\n * @returns The current request state. Destructure as { data, error, isLoading, refetch }.\n *\n * @example\n *\n * import { useGetOne } from 'react-admin';\n *\n * const UserProfile = ({ record }) => {\n *     const { data, isLoading, error } = useGetOne('users', { id: record.id });\n *     if (isLoading) { return <Loading />; }\n *     if (error) { return <p>ERROR</p>; }\n *     return <div>User {data.username}</div>;\n * };\n */\nexport const useGetOne = <RecordType extends RaRecord = any>(\n    resource: string,\n    { id, meta }: GetOneParams<RecordType>,\n    options?: UseQueryOptions<RecordType>\n): UseGetOneHookValue<RecordType> => {\n    const dataProvider = useDataProvider();\n    return useQuery<RecordType, unknown, RecordType>(\n        // Sometimes the id comes as a string (e.g. when read from the URL in a Show view).\n        // Sometimes the id comes as a number (e.g. when read from a Record in useGetList response).\n        // As the react-query cache is type-sensitive, we always stringify the identifier to get a match\n        [resource, 'getOne', { id: String(id), meta }],\n        () =>\n            dataProvider\n                .getOne<RecordType>(resource, { id, meta })\n                .then(({ data }) => data),\n        options\n    );\n};\n\nexport type UseGetOneHookValue<\n    RecordType extends RaRecord = any\n> = UseQueryResult<RecordType>;\n","import {\n    useQuery,\n    UseQueryOptions,\n    UseQueryResult,\n    useQueryClient,\n} from 'react-query';\n\nimport { RaRecord, GetListParams, GetListResult } from '../types';\nimport { useDataProvider } from './useDataProvider';\n\n/**\n * Call the dataProvider.getList() method and return the resolved result\n * as well as the loading state.\n *\n * The return value updates according to the request state:\n *\n * - start: { isLoading: true, refetch }\n * - success: { data: [data from store], total: [total from response], isLoading: false, refetch }\n * - error: { error: [error from response], isLoading: false, refetch }\n *\n * This hook will return the cached result when called a second time\n * with the same parameters, until the response arrives.\n *\n * @param {string} resource The resource name, e.g. 'posts'\n * @param {Params} params The getList parameters { pagination, sort, filter, meta }\n * @param {Object} options Options object to pass to the queryClient.\n * May include side effects to be executed upon success or failure, e.g. { onSuccess: () => { refresh(); } }\n *\n * @typedef Params\n * @prop params.pagination The request pagination { page, perPage }, e.g. { page: 1, perPage: 10 }\n * @prop params.sort The request sort { field, order }, e.g. { field: 'id', order: 'DESC' }\n * @prop params.filter The request filters, e.g. { title: 'hello, world' }\n * @prop params.meta Optional meta parameters\n *\n * @returns The current request state. Destructure as { data, total, error, isLoading, refetch }.\n *\n * @example\n *\n * import { useGetList } from 'react-admin';\n *\n * const LatestNews = () => {\n *     const { data, total, isLoading, error } = useGetList(\n *         'posts',\n *         { pagination: { page: 1, perPage: 10 }, sort: { field: 'published_at', order: 'DESC' } }\n *     );\n *     if (isLoading) { return <Loading />; }\n *     if (error) { return <p>ERROR</p>; }\n *     return <ul>{data.map(item =>\n *         <li key={item.id}>{item.title}</li>\n *     )}</ul>;\n * };\n */\nexport const useGetList = <RecordType extends RaRecord = any>(\n    resource: string,\n    params: Partial<GetListParams> = {},\n    options?: UseQueryOptions<GetListResult<RecordType>, Error>\n): UseGetListHookValue<RecordType> => {\n    const {\n        pagination = { page: 1, perPage: 25 },\n        sort = { field: 'id', order: 'DESC' },\n        filter = {},\n        meta,\n    } = params;\n    const dataProvider = useDataProvider();\n    const queryClient = useQueryClient();\n    const result = useQuery<\n        GetListResult<RecordType>,\n        Error,\n        GetListResult<RecordType>\n    >(\n        [resource, 'getList', { pagination, sort, filter, meta }],\n        () =>\n            dataProvider\n                .getList<RecordType>(resource, {\n                    pagination,\n                    sort,\n                    filter,\n                    meta,\n                })\n                .then(({ data, total, pageInfo }) => ({\n                    data,\n                    total,\n                    pageInfo,\n                })),\n        {\n            onSuccess: ({ data }) => {\n                // optimistically populate the getOne cache\n                data.forEach(record => {\n                    queryClient.setQueryData(\n                        [resource, 'getOne', { id: String(record.id), meta }],\n                        oldRecord => oldRecord ?? record\n                    );\n                });\n            },\n            ...options,\n        }\n    );\n\n    return (result.data\n        ? {\n              ...result,\n              data: result.data?.data,\n              total: result.data?.total,\n              pageInfo: result.data?.pageInfo,\n          }\n        : result) as UseQueryResult<RecordType[], Error> & {\n        total?: number;\n        pageInfo?: {\n            hasNextPage?: boolean;\n            hasPreviousPage?: boolean;\n        };\n    };\n};\n\nexport type UseGetListHookValue<\n    RecordType extends RaRecord = any\n> = UseQueryResult<RecordType[], Error> & {\n    total?: number;\n    pageInfo?: {\n        hasNextPage?: boolean;\n        hasPreviousPage?: boolean;\n    };\n};\n","import {\n    useQuery,\n    UseQueryOptions,\n    UseQueryResult,\n    useQueryClient,\n    hashQueryKey,\n} from 'react-query';\n\nimport { RaRecord, GetManyParams } from '../types';\nimport { useDataProvider } from './useDataProvider';\n\n/**\n * Call the dataProvider.getMany() method and return the resolved result\n * as well as the loading state.\n *\n * The return value updates according to the request state:\n *\n * - start: { isLoading: true, refetch }\n * - success: { data: [data from store], isLoading: false, refetch }\n * - error: { error: [error from response], isLoading: false, refetch }\n *\n * This hook will return the cached result when called a second time\n * with the same parameters, until the response arrives.\n *\n * @param {string} resource The resource name, e.g. 'posts'\n * @param {Params} params The getMany parameters { ids, meta }\n * @param {Object} options Options object to pass to the queryClient.\n * May include side effects to be executed upon success or failure, e.g. { onSuccess: () => { refresh(); } }\n *\n * @typedef Params\n * @prop params.ids The ids to get, e.g. [123, 456, 789]\n * @prop params.meta Optional meta parameters\n *\n * @returns The current request state. Destructure as { data, error, isLoading, refetch }.\n *\n * @example\n *\n * import { useGetMany } from 'react-admin';\n *\n * const PostTags = ({ post }) => {\n *     const { data, isLoading, error } = useGetMany(\n *         'tags',\n *         { ids: post.tags },\n *     );\n *     if (isLoading) { return <Loading />; }\n *     if (error) { return <p>ERROR</p>; }\n *     return <ul>{data.map(tag =>\n *         <li key={tag.id}>{tag.name}</li>\n *     )}</ul>;\n * };\n */\nexport const useGetMany = <RecordType extends RaRecord = any>(\n    resource: string,\n    params: Partial<GetManyParams> = {},\n    options?: UseQueryOptions<RecordType[], Error>\n): UseGetManyHookValue<RecordType> => {\n    const { ids, meta } = params;\n    const dataProvider = useDataProvider();\n    const queryClient = useQueryClient();\n    const queryCache = queryClient.getQueryCache();\n\n    return useQuery<RecordType[], Error, RecordType[]>(\n        [resource, 'getMany', { ids: ids.map(id => String(id)), meta }],\n        () => {\n            if (!ids || ids.length === 0) {\n                // no need to call the dataProvider\n                return Promise.resolve([]);\n            }\n            return dataProvider\n                .getMany<RecordType>(resource, { ids, meta })\n                .then(({ data }) => data);\n        },\n        {\n            placeholderData: () => {\n                const records = ids.map(id => {\n                    const queryHash = hashQueryKey([\n                        resource,\n                        'getOne',\n                        { id: String(id), meta },\n                    ]);\n                    return queryCache.get<RecordType>(queryHash)?.state?.data;\n                });\n                if (records.some(record => record === undefined)) {\n                    return undefined;\n                } else {\n                    return records;\n                }\n            },\n            onSuccess: data => {\n                // optimistically populate the getOne cache\n                data.forEach(record => {\n                    queryClient.setQueryData(\n                        [resource, 'getOne', { id: String(record.id), meta }],\n                        oldRecord => oldRecord ?? record\n                    );\n                });\n            },\n            retry: false,\n            ...options,\n        }\n    );\n};\n\nexport type UseGetManyHookValue<\n    RecordType extends RaRecord = any\n> = UseQueryResult<RecordType[], Error>;\n","import { useMemo } from 'react';\nimport {\n    QueryClient,\n    useQueryClient,\n    useQuery,\n    UseQueryOptions,\n    hashQueryKey,\n} from 'react-query';\nimport union from 'lodash/union';\n\nimport { UseGetManyHookValue } from './useGetMany';\nimport { Identifier, RaRecord, GetManyParams, DataProvider } from '../types';\nimport { useDataProvider } from './useDataProvider';\n\n/**\n * Call the dataProvider.getMany() method and return the resolved result\n * as well as the loading state.\n *\n * The return value updates according to the request state:\n *\n * - start: { isLoading: true, isFetching: true, refetch }\n * - success: { data: [data from response], isLoading: false, isFetching: false, refetch }\n * - error: { error: [error from response], isLoading: false, isFetching: false, refetch }\n *\n * This hook will return the cached result when called a second time\n * with the same parameters, until the response arrives.\n *\n * This hook aggregates and deduplicates calls to the same resource, so for instance, if an app calls:\n *\n * useGetManyAggregate('tags', [1, 2, 3]);\n * useGetManyAggregate('tags', [3, 4]);\n *\n * during the same tick, the hook will only call the dataProvider once with the following parameters:\n *\n * dataProvider.getMany('tags', [1, 2, 3, 4])\n *\n * @param resource The resource name, e.g. 'posts'\n * @param {Params} params The getMany parameters { ids, meta }\n * @param {Object} options Options object to pass to the dataProvider.\n * @param {boolean} options.enabled Flag to conditionally run the query. If it's false, the query will not run\n * @param {Function} options.onSuccess Side effect function to be executed upon success, e.g. { onSuccess: { refresh: true } }\n * @param {Function} options.onError Side effect function to be executed upon failure, e.g. { onError: error => notify(error.message) }\n *\n * @typedef Params\n * @prop params.ids The ids to get, e.g. [123, 456, 789]\n * @prop params.meta Optional meta parameters\n\n * @returns The current request state. Destructure as { data, error, isLoading, isFetching, refetch }.\n *\n * @example\n *\n * import { useGetManyAggregate } from 'react-admin';\n *\n * const PostTags = ({ record }) => {\n *     const { data, isLoading, error } = useGetManyAggregate('tags', { ids: record.tagIds });\n *     if (isLoading) { return <Loading />; }\n *     if (error) { return <p>ERROR</p>; }\n *     return (\n *          <ul>\n *              {data.map(tag => (\n *                  <li key={tag.id}>{tag.name}</li>\n *              ))}\n *          </ul>\n *      );\n * };\n */\nexport const useGetManyAggregate = <RecordType extends RaRecord = any>(\n    resource: string,\n    params: GetManyParams,\n    options: UseQueryOptions<RecordType[], Error> = {}\n): UseGetManyHookValue<RecordType> => {\n    const dataProvider = useDataProvider();\n    const queryClient = useQueryClient();\n    const queryCache = queryClient.getQueryCache();\n    const { ids, meta } = params;\n    const placeholderData = useMemo(() => {\n        const records = ids.map(id => {\n            const queryHash = hashQueryKey([\n                resource,\n                'getOne',\n                { id: String(id), meta },\n            ]);\n            return queryCache.get<RecordType>(queryHash)?.state?.data;\n        });\n        if (records.some(record => record === undefined)) {\n            return undefined;\n        } else {\n            return records;\n        }\n    }, [ids, queryCache, resource, meta]);\n\n    return useQuery<RecordType[], Error, RecordType[]>(\n        [resource, 'getMany', { ids: ids.map(id => String(id)), meta }],\n        () =>\n            new Promise((resolve, reject) => {\n                if (!ids || ids.length === 0) {\n                    // no need to call the dataProvider\n                    return resolve([]);\n                }\n                // debounced / batched fetch\n                return callGetManyQueries({\n                    resource,\n                    ids,\n                    meta,\n                    resolve,\n                    reject,\n                    dataProvider,\n                    queryClient,\n                });\n            }),\n        {\n            placeholderData,\n            onSuccess: data => {\n                // optimistically populate the getOne cache\n                data.forEach(record => {\n                    queryClient.setQueryData(\n                        [resource, 'getOne', { id: String(record.id), meta }],\n                        oldRecord => oldRecord ?? record\n                    );\n                });\n            },\n            retry: false,\n            ...options,\n        }\n    );\n};\n\n/**\n * Batch all calls to a function into one single call with the arguments of all the calls.\n *\n * @example\n * let sum = 0;\n * const add = (args) => { sum = args.reduce((arg, total) => total + arg, 0); };\n * const addBatched = batch(add);\n * addBatched(2);\n * addBatched(8);\n * // add will be called once with arguments [2, 8]\n * // and sum will be equal to 10\n */\nconst batch = fn => {\n    let capturedArgs = [];\n    let timeout = null;\n    return arg => {\n        capturedArgs.push(arg);\n        if (timeout) clearTimeout(timeout);\n        timeout = setTimeout(() => {\n            timeout = null;\n            fn([...capturedArgs]);\n            capturedArgs = [];\n        }, 0);\n    };\n};\n\ninterface GetManyCallArgs {\n    resource: string;\n    ids: Identifier[];\n    meta?: any;\n    resolve: (data: any[]) => void;\n    reject: (error?: any) => void;\n    dataProvider: DataProvider;\n    queryClient: QueryClient;\n}\n\n/**\n * Group and execute all calls to the dataProvider.getMany() method for the current tick\n *\n * Thanks to batch(), this function executes at most once per tick,\n * whatever the number of calls to useGetManyAggregate().\n */\nconst callGetManyQueries = batch((calls: GetManyCallArgs[]) => {\n    const dataProvider = calls[0].dataProvider;\n    const queryClient = calls[0].queryClient;\n\n    /**\n     * Aggregate calls by resource\n     *\n     * callsByResource will look like:\n     * {\n     *     posts: [{ resource, ids, resolve, reject, dataProvider, queryClient }, ...],\n     *     tags: [{ resource, ids, resolve, reject, dataProvider, queryClient }, ...],\n     * }\n     */\n    const callsByResource = calls.reduce((acc, callArgs) => {\n        if (!acc[callArgs.resource]) {\n            acc[callArgs.resource] = [];\n        }\n        acc[callArgs.resource].push(callArgs);\n        return acc;\n    }, {} as { [resource: string]: GetManyCallArgs[] });\n\n    /**\n     * For each resource, aggregate ids and call dataProvider.getMany() once\n     */\n    Object.keys(callsByResource).forEach(resource => {\n        const callsForResource = callsByResource[resource];\n\n        /**\n         * Extract ids from queries, aggregate and deduplicate them\n         *\n         * @example from [[1, 2], [2, null, 3], [4, null]] to [1, 2, 3, 4]\n         */\n        const aggregatedIds = callsForResource\n            .reduce((acc, { ids }) => union(acc, ids), []) // concat + unique\n            .filter(v => v != null && v !== ''); // remove null values\n        const uniqueMeta = callsForResource.reduce(\n            (acc, { meta }) => meta || acc,\n            undefined\n        );\n\n        if (aggregatedIds.length === 0) {\n            // no need to call the data provider if all the ids are null\n            callsForResource.forEach(({ resolve }) => {\n                resolve([]);\n            });\n            return;\n        }\n\n        if (\n            callsForResource.find(\n                ({ ids }) =>\n                    JSON.stringify(ids) === JSON.stringify(aggregatedIds)\n            )\n        ) {\n            // There is only one call (no aggregation), or one of the calls has the same ids as the sum of all calls.\n            // Either way, we can't trigger a new fetchQuery with the same signature, as it's already pending.\n            // Therefore, we reply with the dataProvider\n            const {\n                dataProvider,\n                resource,\n                ids,\n                meta,\n                resolve,\n                reject,\n            } = callsForResource[0];\n            dataProvider\n                .getMany<any>(resource, { ids, meta })\n                .then(({ data }) => data)\n                .then(resolve, reject);\n            return;\n        }\n\n        /**\n         * Call dataProvider.getMany() with the aggregatedIds,\n         * and resolve each of the promises using the results\n         */\n        queryClient\n            .fetchQuery<any[], Error, any[]>(\n                [\n                    resource,\n                    'getMany',\n                    {\n                        ids: aggregatedIds.map(id => String(id)),\n                        meta: uniqueMeta,\n                    },\n                ],\n                () =>\n                    dataProvider\n                        .getMany<any>(resource, {\n                            ids: aggregatedIds,\n                            meta: uniqueMeta,\n                        })\n                        .then(({ data }) => data)\n            )\n            .then(data => {\n                callsForResource.forEach(({ ids, resolve }) => {\n                    resolve(data.filter(record => ids.includes(record.id)));\n                });\n            })\n            .catch(error =>\n                callsForResource.forEach(({ reject }) => reject(error))\n            );\n    });\n});\n","import {\n    useQuery,\n    UseQueryOptions,\n    UseQueryResult,\n    useQueryClient,\n} from 'react-query';\n\nimport {\n    RaRecord,\n    GetManyReferenceParams,\n    GetManyReferenceResult,\n} from '../types';\nimport { useDataProvider } from './useDataProvider';\n\n/**\n * Call the dataProvider.getManyReference() method and return the resolved result\n * as well as the loading state.\n *\n * The return value updates according to the request state:\n *\n * - start: { isLoading: true, refetch }\n * - success: { data: [data from store], total: [total from response], isLoading: false, refetch }\n * - error: { error: [error from response], isLoading: false, refetch }\n *\n * This hook will return the cached result when called a second time\n * with the same parameters, until the response arrives.\n *\n * @param {string} resource The resource name, e.g. 'posts'\n * @param {Params} params The getManyReference parameters { target, id, pagination, sort, filter, meta }\n * @param {Object} options Options object to pass to the queryClient.\n * May include side effects to be executed upon success or failure, e.g. { onSuccess: () => { refresh(); } }\n *\n * @typedef Params\n * @prop params.target The target resource key, e.g. 'post_id'\n * @prop params.id The identifier of the record to look for in target, e.g. '123'\n * @prop params.pagination The request pagination { page, perPage }, e.g. { page: 1, perPage: 10 }\n * @prop params.sort The request sort { field, order }, e.g. { field: 'id', order: 'DESC' }\n * @prop params.filter The request filters, e.g. { title: 'hello, world' }\n * @prop params.meta Optional meta parameters\n *\n *\n * @returns The current request state. Destructure as { data, total, error, isLoading, refetch }.\n *\n * @example\n *\n * import { useGetManyReference } from 'react-admin';\n *\n * const PostComments = ({ record }) => {\n *     // fetch all comments related to the current record\n *     const { data, isLoading, error } = useGetManyReference(\n *         'comments',\n *         { target: 'post_id', id: record.id, pagination: { page: 1, perPage: 10 }, sort: { field: 'published_at', order: 'DESC' } }\n *     );\n *     if (isLoading) { return <Loading />; }\n *     if (error) { return <p>ERROR</p>; }\n *     return <ul>{data.map(comment =>\n *         <li key={comment.id}>{comment.body}</li>\n *     )}</ul>;\n * };\n */\nexport const useGetManyReference = <RecordType extends RaRecord = any>(\n    resource: string,\n    params: Partial<GetManyReferenceParams> = {},\n    options?: UseQueryOptions<{ data: RecordType[]; total: number }, Error>\n): UseGetManyReferenceHookValue<RecordType> => {\n    const {\n        target,\n        id,\n        pagination = { page: 1, perPage: 25 },\n        sort = { field: 'id', order: 'DESC' },\n        filter = {},\n        meta,\n    } = params;\n    const dataProvider = useDataProvider();\n    const queryClient = useQueryClient();\n    const result = useQuery<\n        GetManyReferenceResult<RecordType>,\n        Error,\n        GetManyReferenceResult<RecordType>\n    >(\n        [\n            resource,\n            'getManyReference',\n            { target, id, pagination, sort, filter, meta },\n        ],\n        () =>\n            dataProvider\n                .getManyReference<RecordType>(resource, {\n                    target,\n                    id,\n                    pagination,\n                    sort,\n                    filter,\n                    meta,\n                })\n                .then(({ data, total, pageInfo }) => ({\n                    data,\n                    total,\n                    pageInfo,\n                })),\n        {\n            onSuccess: ({ data }) => {\n                // optimistically populate the getOne cache\n                data.forEach(record => {\n                    queryClient.setQueryData(\n                        [resource, 'getOne', { id: String(record.id), meta }],\n                        oldRecord => oldRecord ?? record\n                    );\n                });\n            },\n            ...options,\n        }\n    );\n\n    return (result.data\n        ? {\n              ...result,\n              data: result.data?.data,\n              total: result.data?.total,\n              pageInfo: result.data?.pageInfo,\n          }\n        : result) as UseQueryResult<RecordType[], Error> & {\n        total?: number;\n        pageInfo?: {\n            hasNextPage?: boolean;\n            hasPreviousPage?: boolean;\n        };\n    };\n};\n\nexport type UseGetManyReferenceHookValue<\n    RecordType extends RaRecord = any\n> = UseQueryResult<RecordType[], Error> & {\n    total?: number;\n    pageInfo?: {\n        hasNextPage?: boolean;\n        hasPreviousPage?: boolean;\n    };\n};\n","import { useRef } from 'react';\nimport {\n    useMutation,\n    UseMutationOptions,\n    UseMutationResult,\n    useQueryClient,\n    MutateOptions,\n} from 'react-query';\n\nimport { useDataProvider } from './useDataProvider';\nimport { RaRecord, CreateParams } from '../types';\n\n/**\n * Get a callback to call the dataProvider.create() method, the result and the loading state.\n *\n * @param {string} resource\n * @param {Params} params The create parameters { data }\n * @param {Object} options Options object to pass to the queryClient.\n * May include side effects to be executed upon success or failure, e.g. { onSuccess: () => { refresh(); } }\n *\n * @typedef Params\n * @prop params.data The record to create, e.g. { title: 'hello, world' }\n *\n * @returns The current mutation state. Destructure as [create, { data, error, isLoading }].\n *\n * The return value updates according to the request state:\n *\n * - initial: [create, { isLoading: false, isIdle: true }]\n * - start:   [create, { isLoading: true }]\n * - success: [create, { data: [data from response], isLoading: false, isSuccess: true }]\n * - error:   [create, { error: [error from response], isLoading: false, isError: true }]\n *\n * The create() function must be called with a resource and a parameter object: create(resource, { data, meta }, options)\n *\n * This hook uses react-query useMutation under the hood.\n * This means the state object contains mutate, isIdle, reset and other react-query methods.\n *\n * @see https://react-query.tanstack.com/reference/useMutation\n *\n * @example // set params when calling the create callback\n *\n * import { useCreate } from 'react-admin';\n *\n * const LikeButton = ({ record }) => {\n *     const like = { postId: record.id };\n *     const [create, { isLoading, error }] = useCreate();\n *     const handleClick = () => {\n *         create('likes', { data: like })\n *     }\n *     if (error) { return <p>ERROR</p>; }\n *     return <button disabled={isLoading} onClick={handleClick}>Like</button>;\n * };\n *\n * @example // set params when calling the hook\n *\n * import { useCreate } from 'react-admin';\n *\n * const LikeButton = ({ record }) => {\n *     const like = { postId: record.id };\n *     const [create, { isLoading, error }] = useCreate('likes', { data: like });\n *     if (error) { return <p>ERROR</p>; }\n *     return <button disabled={isLoading} onClick={() => create()}>Like</button>;\n * };\n *\n * @example // TypeScript\n * const [create, { data }] = useCreate<Product>('products', { data: product });\n *                    \\-- data is Product\n */\nexport const useCreate = <RecordType extends RaRecord = any>(\n    resource?: string,\n    params: Partial<CreateParams<Partial<RecordType>>> = {},\n    options: UseCreateOptions<RecordType> = {}\n): UseCreateResult<RecordType> => {\n    const dataProvider = useDataProvider();\n    const queryClient = useQueryClient();\n    const paramsRef = useRef<Partial<CreateParams<Partial<RecordType>>>>(\n        params\n    );\n\n    const mutation = useMutation<\n        RecordType,\n        unknown,\n        Partial<UseCreateMutateParams<RecordType>>\n    >(\n        ({\n            resource: callTimeResource = resource,\n            data: callTimeData = paramsRef.current.data,\n            meta: callTimeMeta = paramsRef.current.meta,\n        } = {}) =>\n            dataProvider\n                .create<RecordType>(callTimeResource, {\n                    data: callTimeData,\n                    meta: callTimeMeta,\n                })\n                .then(({ data }) => data),\n        {\n            ...options,\n            onSuccess: (\n                data: RecordType,\n                variables: Partial<UseCreateMutateParams<RecordType>> = {},\n                context: unknown\n            ) => {\n                const { resource: callTimeResource = resource } = variables;\n                queryClient.setQueryData(\n                    [callTimeResource, 'getOne', { id: String(data.id) }],\n                    data\n                );\n\n                if (options.onSuccess) {\n                    options.onSuccess(data, variables, context);\n                }\n                // call-time success callback is executed by react-query\n            },\n        }\n    );\n\n    const create = (\n        callTimeResource: string = resource,\n        callTimeParams: Partial<CreateParams<RecordType>> = {},\n        createOptions: MutateOptions<\n            RecordType,\n            unknown,\n            Partial<UseCreateMutateParams<RecordType>>,\n            unknown\n        > & { returnPromise?: boolean } = {}\n    ) => {\n        const { returnPromise, ...reactCreateOptions } = createOptions;\n        if (returnPromise) {\n            return mutation.mutateAsync(\n                { resource: callTimeResource, ...callTimeParams },\n                createOptions\n            );\n        }\n        mutation.mutate(\n            { resource: callTimeResource, ...callTimeParams },\n            reactCreateOptions\n        );\n    };\n\n    return [create, mutation];\n};\n\nexport interface UseCreateMutateParams<RecordType extends RaRecord = any> {\n    resource?: string;\n    data?: Partial<RecordType>;\n    meta?: any;\n}\n\nexport type UseCreateOptions<\n    RecordType extends RaRecord = any\n> = UseMutationOptions<\n    RecordType,\n    unknown,\n    Partial<UseCreateMutateParams<RecordType>>\n>;\n\nexport type UseCreateResult<\n    RecordType extends RaRecord = any,\n    TReturnPromise extends boolean = boolean\n> = [\n    (\n        resource?: string,\n        params?: Partial<CreateParams<Partial<RecordType>>>,\n        options?: MutateOptions<\n            RecordType,\n            unknown,\n            Partial<UseCreateMutateParams<RecordType>>,\n            unknown\n        > & { returnPromise?: TReturnPromise }\n    ) => Promise<TReturnPromise extends true ? RecordType : void>,\n    UseMutationResult<\n        RecordType,\n        unknown,\n        Partial<UseCreateMutateParams<RecordType>>,\n        unknown\n    >\n];\n","import { useRef } from 'react';\nimport {\n    useMutation,\n    useQueryClient,\n    UseMutationOptions,\n    UseMutationResult,\n    MutateOptions,\n    QueryKey,\n} from 'react-query';\n\nimport { useDataProvider } from './useDataProvider';\nimport undoableEventEmitter from './undoableEventEmitter';\nimport { RaRecord, UpdateParams, MutationMode } from '../types';\n\n/**\n * Get a callback to call the dataProvider.update() method, the result and the loading state.\n *\n * @param {string} resource\n * @param {Params} params The update parameters { id, data, previousData, meta }\n * @param {Object} options Options object to pass to the queryClient.\n * May include side effects to be executed upon success or failure, e.g. { onSuccess: () => { refresh(); } }\n * May include a mutation mode (optimistic/pessimistic/undoable), e.g. { mutationMode: 'undoable' }\n *\n * @typedef Params\n * @prop params.id The resource identifier, e.g. 123\n * @prop params.data The updates to merge into the record, e.g. { views: 10 }\n * @prop params.previousData The record before the update is applied\n * @prop params.meta Optional meta data\n *\n * @returns The current mutation state. Destructure as [update, { data, error, isLoading }].\n *\n * The return value updates according to the request state:\n *\n * - initial: [update, { isLoading: false, isIdle: true }]\n * - start:   [update, { isLoading: true }]\n * - success: [update, { data: [data from response], isLoading: false, isSuccess: true }]\n * - error:   [update, { error: [error from response], isLoading: false, isError: true }]\n *\n * The update() function must be called with a resource and a parameter object: update(resource, { id, data, previousData }, options)\n *\n * This hook uses react-query useMutation under the hood.\n * This means the state object contains mutate, isIdle, reset and other react-query methods.\n *\n * @see https://react-query.tanstack.com/reference/useMutation\n *\n * @example // set params when calling the update callback\n *\n * import { useUpdate } from 'react-admin';\n *\n * const IncreaseLikeButton = ({ record }) => {\n *     const diff = { likes: record.likes + 1 };\n *     const [update, { isLoading, error }] = useUpdate();\n *     const handleClick = () => {\n *         update('likes', { id: record.id, data: diff, previousData: record })\n *     }\n *     if (error) { return <p>ERROR</p>; }\n *     return <button disabled={isLoading} onClick={handleClick}>Like</div>;\n * };\n *\n * @example // set params when calling the hook\n *\n * import { useUpdate } from 'react-admin';\n *\n * const IncreaseLikeButton = ({ record }) => {\n *     const diff = { likes: record.likes + 1 };\n *     const [update, { isLoading, error }] = useUpdate('likes', { id: record.id, data: diff, previousData: record });\n *     if (error) { return <p>ERROR</p>; }\n *     return <button disabled={isLoading} onClick={() => update()}>Like</button>;\n * };\n *\n * @example // TypeScript\n * const [update, { data }] = useUpdate<Product>('products', { id, data: diff, previousData: product });\n *                    \\-- data is Product\n */\nexport const useUpdate = <RecordType extends RaRecord = any>(\n    resource?: string,\n    params: Partial<UpdateParams<RecordType>> = {},\n    options: UseUpdateOptions<RecordType> = {}\n): UseUpdateResult<RecordType> => {\n    const dataProvider = useDataProvider();\n    const queryClient = useQueryClient();\n    const { id, data, meta } = params;\n    const { mutationMode = 'pessimistic', ...reactMutationOptions } = options;\n    const mode = useRef<MutationMode>(mutationMode);\n    const paramsRef = useRef<Partial<UpdateParams<RecordType>>>(params);\n    const snapshot = useRef<Snapshot>([]);\n\n    const updateCache = ({ resource, id, data }) => {\n        // hack: only way to tell react-query not to fetch this query for the next 5 seconds\n        // because setQueryData doesn't accept a stale time option\n        const now = Date.now();\n        const updatedAt = mode.current === 'undoable' ? now + 5 * 1000 : now;\n\n        const updateColl = (old: RecordType[]) => {\n            if (!old) return;\n            const index = old.findIndex(\n                // eslint-disable-next-line eqeqeq\n                record => record.id == id\n            );\n            if (index === -1) {\n                return old;\n            }\n            return [\n                ...old.slice(0, index),\n                { ...old[index], ...data },\n                ...old.slice(index + 1),\n            ];\n        };\n\n        type GetListResult = { data?: RecordType[]; total?: number };\n\n        queryClient.setQueryData(\n            [resource, 'getOne', { id: String(id), meta }],\n            (record: RecordType) => ({ ...record, ...data }),\n            { updatedAt }\n        );\n        queryClient.setQueriesData(\n            [resource, 'getList'],\n            (res: GetListResult) =>\n                res && res.data\n                    ? { data: updateColl(res.data), total: res.total }\n                    : res,\n            { updatedAt }\n        );\n        queryClient.setQueriesData(\n            [resource, 'getMany'],\n            (coll: RecordType[]) =>\n                coll && coll.length > 0 ? updateColl(coll) : coll,\n            { updatedAt }\n        );\n        queryClient.setQueriesData(\n            [resource, 'getManyReference'],\n            (res: GetListResult) =>\n                res && res.data\n                    ? { data: updateColl(res.data), total: res.total }\n                    : res,\n            { updatedAt }\n        );\n    };\n\n    const mutation = useMutation<\n        RecordType,\n        unknown,\n        Partial<UseUpdateMutateParams<RecordType>>\n    >(\n        ({\n            resource: callTimeResource = resource,\n            id: callTimeId = paramsRef.current.id,\n            data: callTimeData = paramsRef.current.data,\n            meta: callTimeMeta = paramsRef.current.meta,\n            previousData: callTimePreviousData = paramsRef.current.previousData,\n        } = {}) =>\n            dataProvider\n                .update<RecordType>(callTimeResource, {\n                    id: callTimeId,\n                    data: callTimeData,\n                    previousData: callTimePreviousData,\n                    meta: callTimeMeta,\n                })\n                .then(({ data }) => data),\n        {\n            ...reactMutationOptions,\n            onMutate: async (\n                variables: Partial<UseUpdateMutateParams<RecordType>>\n            ) => {\n                if (reactMutationOptions.onMutate) {\n                    const userContext =\n                        (await reactMutationOptions.onMutate(variables)) || {};\n                    return {\n                        snapshot: snapshot.current,\n                        // @ts-ignore\n                        ...userContext,\n                    };\n                } else {\n                    // Return a context object with the snapshot value\n                    return { snapshot: snapshot.current };\n                }\n            },\n            onError: (\n                error: unknown,\n                variables: Partial<UseUpdateMutateParams<RecordType>> = {},\n                context: { snapshot: Snapshot }\n            ) => {\n                if (\n                    mode.current === 'optimistic' ||\n                    mode.current === 'undoable'\n                ) {\n                    // If the mutation fails, use the context returned from onMutate to rollback\n                    context.snapshot.forEach(([key, value]) => {\n                        queryClient.setQueryData(key, value);\n                    });\n                }\n\n                if (reactMutationOptions.onError) {\n                    return reactMutationOptions.onError(\n                        error,\n                        variables,\n                        context\n                    );\n                }\n                // call-time error callback is executed by react-query\n            },\n            onSuccess: (\n                data: RecordType,\n                variables: Partial<UseUpdateMutateParams<RecordType>> = {},\n                context: unknown\n            ) => {\n                if (mode.current === 'pessimistic') {\n                    // update the getOne and getList query cache with the new result\n                    const {\n                        resource: callTimeResource = resource,\n                        id: callTimeId = id,\n                    } = variables;\n                    updateCache({\n                        resource: callTimeResource,\n                        id: callTimeId,\n                        data,\n                    });\n\n                    if (reactMutationOptions.onSuccess) {\n                        reactMutationOptions.onSuccess(\n                            data,\n                            variables,\n                            context\n                        );\n                    }\n                    // call-time success callback is executed by react-query\n                }\n            },\n            onSettled: (\n                data: RecordType,\n                error: unknown,\n                variables: Partial<UseUpdateMutateParams<RecordType>> = {},\n                context: { snapshot: Snapshot }\n            ) => {\n                if (\n                    mode.current === 'optimistic' ||\n                    mode.current === 'undoable'\n                ) {\n                    // Always refetch after error or success:\n                    context.snapshot.forEach(([key]) => {\n                        queryClient.invalidateQueries(key);\n                    });\n                }\n\n                if (reactMutationOptions.onSettled) {\n                    return reactMutationOptions.onSettled(\n                        data,\n                        error,\n                        variables,\n                        context\n                    );\n                }\n            },\n        }\n    );\n\n    const update = async (\n        callTimeResource: string = resource,\n        callTimeParams: Partial<UpdateParams<RecordType>> = {},\n        updateOptions: MutateOptions<\n            RecordType,\n            unknown,\n            Partial<UseUpdateMutateParams<RecordType>>,\n            unknown\n        > & { mutationMode?: MutationMode; returnPromise?: boolean } = {}\n    ) => {\n        const {\n            mutationMode,\n            returnPromise,\n            onSuccess,\n            onSettled,\n            onError,\n        } = updateOptions;\n\n        // store the hook time params *at the moment of the call*\n        // because they may change afterwards, which would break the undoable mode\n        // as the previousData would be overwritten by the optimistic update\n        paramsRef.current = params;\n\n        if (mutationMode) {\n            mode.current = mutationMode;\n        }\n\n        if (returnPromise && mode.current !== 'pessimistic') {\n            console.warn(\n                'The returnPromise parameter can only be used if the mutationMode is set to pessimistic'\n            );\n        }\n\n        if (mode.current === 'pessimistic') {\n            if (returnPromise) {\n                return mutation.mutateAsync(\n                    { resource: callTimeResource, ...callTimeParams },\n                    { onSuccess, onSettled, onError }\n                );\n            }\n            return mutation.mutate(\n                { resource: callTimeResource, ...callTimeParams },\n                { onSuccess, onSettled, onError }\n            );\n        }\n\n        const {\n            id: callTimeId = id,\n            data: callTimeData = data,\n            meta: callTimeMeta = meta,\n        } = callTimeParams;\n\n        // optimistic update as documented in https://react-query.tanstack.com/guides/optimistic-updates\n        // except we do it in a mutate wrapper instead of the onMutate callback\n        // to have access to success side effects\n\n        const previousRecord = queryClient.getQueryData<RecordType>([\n            callTimeResource,\n            'getOne',\n            { id: String(callTimeId), meta: callTimeMeta },\n        ]);\n\n        const queryKeys = [\n            [\n                callTimeResource,\n                'getOne',\n                { id: String(callTimeId), meta: callTimeMeta },\n            ],\n            [callTimeResource, 'getList'],\n            [callTimeResource, 'getMany'],\n            [callTimeResource, 'getManyReference'],\n        ];\n\n        /**\n         * Snapshot the previous values via queryClient.getQueriesData()\n         *\n         * The snapshotData ref will contain an array of tuples [query key, associated data]\n         *\n         * @example\n         * [\n         *   [['posts', 'getOne', { id: '1' }], { id: 1, title: 'Hello' }],\n         *   [['posts', 'getList'], { data: [{ id: 1, title: 'Hello' }], total: 1 }],\n         *   [['posts', 'getMany'], [{ id: 1, title: 'Hello' }]],\n         * ]\n         *\n         * @see https://react-query.tanstack.com/reference/QueryClient#queryclientgetqueriesdata\n         */\n        snapshot.current = queryKeys.reduce(\n            (prev, curr) => prev.concat(queryClient.getQueriesData(curr)),\n            [] as Snapshot\n        );\n\n        // Cancel any outgoing re-fetches (so they don't overwrite our optimistic update)\n        await Promise.all(\n            snapshot.current.map(([key]) => queryClient.cancelQueries(key))\n        );\n\n        // Optimistically update to the new value\n        updateCache({\n            resource: callTimeResource,\n            id: callTimeId,\n            data: callTimeData,\n        });\n\n        // run the success callbacks during the next tick\n        if (onSuccess) {\n            setTimeout(\n                () =>\n                    onSuccess(\n                        previousRecord,\n                        { resource: callTimeResource, ...callTimeParams },\n                        { snapshot: snapshot.current }\n                    ),\n                0\n            );\n        }\n        if (reactMutationOptions.onSuccess) {\n            setTimeout(\n                () =>\n                    reactMutationOptions.onSuccess(\n                        previousRecord,\n                        { resource: callTimeResource, ...callTimeParams },\n                        { snapshot: snapshot.current }\n                    ),\n                0\n            );\n        }\n\n        if (mode.current === 'optimistic') {\n            // call the mutate method without success side effects\n            return mutation.mutate(\n                { resource: callTimeResource, ...callTimeParams },\n                { onSettled, onError }\n            );\n        } else {\n            // undoable mutation: register the mutation for later\n            undoableEventEmitter.once('end', ({ isUndo }) => {\n                if (isUndo) {\n                    // rollback\n                    snapshot.current.forEach(([key, value]) => {\n                        queryClient.setQueryData(key, value);\n                    });\n                } else {\n                    // call the mutate method without success side effects\n                    mutation.mutate(\n                        { resource: callTimeResource, ...callTimeParams },\n                        { onSettled, onError }\n                    );\n                }\n            });\n        }\n    };\n\n    return [update, mutation];\n};\n\ntype Snapshot = [key: QueryKey, value: any][];\n\nexport interface UseUpdateMutateParams<RecordType extends RaRecord = any> {\n    resource?: string;\n    id?: RecordType['id'];\n    data?: Partial<RecordType>;\n    previousData?: any;\n    meta?: any;\n}\n\nexport type UseUpdateOptions<\n    RecordType extends RaRecord = any\n> = UseMutationOptions<\n    RecordType,\n    unknown,\n    Partial<UseUpdateMutateParams<RecordType>>\n> & { mutationMode?: MutationMode };\n\nexport type UseUpdateResult<\n    RecordType extends RaRecord = any,\n    TReturnPromise extends boolean = boolean\n> = [\n    (\n        resource?: string,\n        params?: Partial<UpdateParams<RecordType>>,\n        options?: MutateOptions<\n            RecordType,\n            unknown,\n            Partial<UseUpdateMutateParams<RecordType>>,\n            unknown\n        > & { mutationMode?: MutationMode; returnPromise?: TReturnPromise }\n    ) => Promise<TReturnPromise extends true ? RecordType : void>,\n    UseMutationResult<\n        RecordType,\n        unknown,\n        Partial<UpdateParams<RecordType> & { resource?: string }>,\n        unknown\n    >\n];\n","import { useRef } from 'react';\nimport {\n    useMutation,\n    useQueryClient,\n    UseMutationOptions,\n    UseMutationResult,\n    MutateOptions,\n    QueryKey,\n} from 'react-query';\n\nimport { useDataProvider } from './useDataProvider';\nimport undoableEventEmitter from './undoableEventEmitter';\nimport { RaRecord, UpdateManyParams, MutationMode } from '../types';\nimport { Identifier } from '..';\n\n/**\n * Get a callback to call the dataProvider.updateMany() method, the result and the loading state.\n *\n * @param {string} resource\n * @param {Params} params The updateMany parameters { ids, data, meta }\n * @param {Object} options Options object to pass to the queryClient.\n * May include side effects to be executed upon success or failure, e.g. { onSuccess: () => { refresh(); } }\n * May include a mutation mode (optimistic/pessimistic/undoable), e.g. { mutationMode: 'undoable' }\n *\n * @typedef Params\n * @prop params.ids The resource identifiers, e.g. [123, 456]\n * @prop params.data The updates to merge into the record, e.g. { views: 10 }\n * @prop params.meta Optional meta parameters\n *\n * @returns The current mutation state. Destructure as [updateMany, { data, error, isLoading }].\n *\n * The return value updates according to the request state:\n *\n * - initial: [updateMany, { isLoading: false, isIdle: true }]\n * - start:   [updateMany, { isLoading: true }]\n * - success: [updateMany, { data: [data from response], isLoading: false, isSuccess: true }]\n * - error:   [updateMany, { error: [error from response], isLoading: false, isError: true }]\n *\n * The updateMany() function must be called with a resource and a parameter object: updateMany(resource, { ids, data, previousData }, options)\n *\n * This hook uses react-query useMutation under the hood.\n * This means the state object contains mutate, isIdle, reset and other react-query methods.\n *\n * @see https://react-query.tanstack.com/reference/useMutation\n *\n * @example // set params when calling the updateMany callback\n *\n * import { useUpdateMany } from 'react-admin';\n *\n * const BulkResetViewsButton = ({ selectedIds }) => {\n *     const [updateMany, { isLoading, error }] = useUpdateMany();\n *     const handleClick = () => {\n *         updateMany('posts', { ids: selectedIds, data: { views: 0 } });\n *     }\n *     if (error) { return <p>ERROR</p>; }\n *     return <button disabled={isLoading} onClick={handleClick}>Reset views</button>;\n * };\n *\n * @example // set params when calling the hook\n *\n * import { useUpdateMany } from 'react-admin';\n *\n * const BulkResetViewsButton = ({ selectedIds }) => {\n *     const [updateMany, { isLoading, error }] = useUpdateMany('posts', { ids: selectedIds, data: { views: 0 } });\n *     if (error) { return <p>ERROR</p>; }\n *     return <button disabled={isLoading} onClick={() => updateMany()}>Reset views</button>;\n * };\n */\nexport const useUpdateMany = <RecordType extends RaRecord = any>(\n    resource?: string,\n    params: Partial<UpdateManyParams<Partial<RecordType>>> = {},\n    options: UseUpdateManyOptions<RecordType> = {}\n): UseUpdateManyResult<RecordType> => {\n    const dataProvider = useDataProvider();\n    const queryClient = useQueryClient();\n    const { ids, data, meta } = params;\n    const { mutationMode = 'pessimistic', ...reactMutationOptions } = options;\n    const mode = useRef<MutationMode>(mutationMode);\n    const paramsRef = useRef<Partial<UpdateManyParams<Partial<RecordType>>>>(\n        params\n    );\n    const snapshot = useRef<Snapshot>([]);\n\n    const updateCache = async ({\n        resource,\n        ids,\n        data,\n        meta,\n    }: {\n        resource: string;\n        ids: Identifier[];\n        data: any;\n        meta?: any;\n    }) => {\n        // hack: only way to tell react-query not to fetch this query for the next 5 seconds\n        // because setQueryData doesn't accept a stale time option\n        const updatedAt =\n            mode.current === 'undoable' ? Date.now() + 1000 * 5 : Date.now();\n\n        const updateColl = (old: RecordType[]) => {\n            if (!old) return;\n            let newCollection = [...old];\n            ids.forEach(id => {\n                // eslint-disable-next-line eqeqeq\n                const index = old.findIndex(record => record.id == id);\n                if (index === -1) {\n                    return;\n                }\n                newCollection = [\n                    ...newCollection.slice(0, index),\n                    { ...newCollection[index], ...data },\n                    ...newCollection.slice(index + 1),\n                ];\n            });\n            return newCollection;\n        };\n\n        type GetListResult = { data?: RecordType[]; total?: number };\n\n        ids.forEach(id =>\n            queryClient.setQueryData(\n                [resource, 'getOne', { id: String(id), meta }],\n                (record: RecordType) => ({ ...record, ...data }),\n                { updatedAt }\n            )\n        );\n        queryClient.setQueriesData(\n            [resource, 'getList'],\n            (res: GetListResult) =>\n                res && res.data\n                    ? { data: updateColl(res.data), total: res.total }\n                    : res,\n            { updatedAt }\n        );\n        queryClient.setQueriesData(\n            [resource, 'getMany'],\n            (coll: RecordType[]) =>\n                coll && coll.length > 0 ? updateColl(coll) : coll,\n            { updatedAt }\n        );\n        queryClient.setQueriesData(\n            [resource, 'getManyReference'],\n            (res: GetListResult) =>\n                res && res.data\n                    ? { data: updateColl(res.data), total: res.total }\n                    : res,\n            { updatedAt }\n        );\n    };\n\n    const mutation = useMutation<\n        Array<RecordType['id']>,\n        unknown,\n        Partial<UseUpdateManyMutateParams<RecordType>>\n    >(\n        ({\n            resource: callTimeResource = resource,\n            ids: callTimeIds = paramsRef.current.ids,\n            data: callTimeData = paramsRef.current.data,\n            meta: callTimeMeta = paramsRef.current.meta,\n        } = {}) =>\n            dataProvider\n                .updateMany(callTimeResource, {\n                    ids: callTimeIds,\n                    data: callTimeData,\n                    meta: callTimeMeta,\n                })\n                .then(({ data }) => data),\n        {\n            ...reactMutationOptions,\n            onMutate: async (\n                variables: Partial<UseUpdateManyMutateParams<RecordType>>\n            ) => {\n                if (reactMutationOptions.onMutate) {\n                    const userContext =\n                        (await reactMutationOptions.onMutate(variables)) || {};\n                    return {\n                        snapshot: snapshot.current,\n                        // @ts-ignore\n                        ...userContext,\n                    };\n                } else {\n                    // Return a context object with the snapshot value\n                    return { snapshot: snapshot.current };\n                }\n            },\n            onError: (\n                error: unknown,\n                variables: Partial<UseUpdateManyMutateParams<RecordType>> = {},\n                context: { snapshot: Snapshot }\n            ) => {\n                if (\n                    mode.current === 'optimistic' ||\n                    mode.current === 'undoable'\n                ) {\n                    // If the mutation fails, use the context returned from onMutate to rollback\n                    context.snapshot.forEach(([key, value]) => {\n                        queryClient.setQueryData(key, value);\n                    });\n                }\n\n                if (reactMutationOptions.onError) {\n                    return reactMutationOptions.onError(\n                        error,\n                        variables,\n                        context\n                    );\n                }\n                // call-time error callback is executed by react-query\n            },\n            onSuccess: (\n                data: Array<RecordType['id']>,\n                variables: Partial<UseUpdateManyMutateParams<RecordType>> = {},\n                context: unknown\n            ) => {\n                if (mode.current === 'pessimistic') {\n                    // update the getOne and getList query cache with the new result\n                    const {\n                        resource: callTimeResource = resource,\n                        ids: callTimeIds = ids,\n                        meta: callTimeMeta = meta,\n                    } = variables;\n                    updateCache({\n                        resource: callTimeResource,\n                        ids: callTimeIds,\n                        data,\n                        meta: callTimeMeta,\n                    });\n\n                    if (reactMutationOptions.onSuccess) {\n                        reactMutationOptions.onSuccess(\n                            data,\n                            variables,\n                            context\n                        );\n                    }\n                    // call-time success callback is executed by react-query\n                }\n            },\n            onSettled: (\n                data: Array<RecordType['id']>,\n                error: unknown,\n                variables: Partial<UseUpdateManyMutateParams<RecordType>> = {},\n                context: { snapshot: Snapshot }\n            ) => {\n                if (\n                    mode.current === 'optimistic' ||\n                    mode.current === 'undoable'\n                ) {\n                    // Always refetch after error or success:\n                    context.snapshot.forEach(([key]) => {\n                        queryClient.invalidateQueries(key);\n                    });\n                }\n\n                if (reactMutationOptions.onSettled) {\n                    return reactMutationOptions.onSettled(\n                        data,\n                        error,\n                        variables,\n                        context\n                    );\n                }\n            },\n        }\n    );\n\n    const updateMany = async (\n        callTimeResource: string = resource,\n        callTimeParams: Partial<UpdateManyParams<RecordType>> = {},\n        updateOptions: MutateOptions<\n            Array<RecordType['id']>,\n            unknown,\n            Partial<UseUpdateManyMutateParams<RecordType>>,\n            unknown\n        > & { mutationMode?: MutationMode } = {}\n    ) => {\n        const { mutationMode, onSuccess, onSettled, onError } = updateOptions;\n\n        // store the hook time params *at the moment of the call*\n        // because they may change afterwards, which would break the undoable mode\n        // as the previousData would be overwritten by the optimistic update\n        paramsRef.current = params;\n\n        if (mutationMode) {\n            mode.current = mutationMode;\n        }\n\n        if (mode.current === 'pessimistic') {\n            return mutation.mutate(\n                { resource: callTimeResource, ...callTimeParams },\n                { onSuccess, onSettled, onError }\n            );\n        }\n\n        const {\n            ids: callTimeIds = ids,\n            data: callTimeData = data,\n            meta: callTimeMeta = meta,\n        } = callTimeParams;\n\n        // optimistic update as documented in https://react-query.tanstack.com/guides/optimistic-updates\n        // except we do it in a mutate wrapper instead of the onMutate callback\n        // to have access to success side effects\n\n        const queryKeys = [\n            [callTimeResource, 'getOne'],\n            [callTimeResource, 'getList'],\n            [callTimeResource, 'getMany'],\n            [callTimeResource, 'getManyReference'],\n        ];\n\n        /**\n         * Snapshot the previous values via queryClient.getQueriesData()\n         *\n         * The snapshotData ref will contain an array of tuples [query key, associated data]\n         *\n         * @example\n         * [\n         *   [['posts', 'getOne', { id: '1' }], { id: 1, title: 'Hello' }],\n         *   [['posts', 'getList'], { data: [{ id: 1, title: 'Hello' }], total: 1 }],\n         *   [['posts', 'getMany'], [{ id: 1, title: 'Hello' }]],\n         * ]\n         *\n         * @see https://react-query.tanstack.com/reference/QueryClient#queryclientgetqueriesdata\n         */\n        snapshot.current = queryKeys.reduce(\n            (prev, curr) => prev.concat(queryClient.getQueriesData(curr)),\n            [] as Snapshot\n        );\n\n        // Cancel any outgoing re-fetches (so they don't overwrite our optimistic update)\n        await Promise.all(\n            snapshot.current.map(([key]) => queryClient.cancelQueries(key))\n        );\n\n        // Optimistically update to the new data\n        await updateCache({\n            resource: callTimeResource,\n            ids: callTimeIds,\n            data: callTimeData,\n            meta: callTimeMeta,\n        });\n\n        // run the success callbacks during the next tick\n        if (onSuccess) {\n            setTimeout(\n                () =>\n                    onSuccess(\n                        callTimeIds,\n                        { resource: callTimeResource, ...callTimeParams },\n                        { snapshot: snapshot.current }\n                    ),\n                0\n            );\n        }\n        if (reactMutationOptions.onSuccess) {\n            setTimeout(\n                () =>\n                    reactMutationOptions.onSuccess(\n                        callTimeIds,\n                        { resource: callTimeResource, ...callTimeParams },\n                        { snapshot: snapshot.current }\n                    ),\n                0\n            );\n        }\n\n        if (mode.current === 'optimistic') {\n            // call the mutate method without success side effects\n            return mutation.mutate(\n                { resource: callTimeResource, ...callTimeParams },\n                { onSettled, onError }\n            );\n        } else {\n            // undoable mutation: register the mutation for later\n            undoableEventEmitter.once('end', ({ isUndo }) => {\n                if (isUndo) {\n                    // rollback\n                    snapshot.current.forEach(([key, value]) => {\n                        queryClient.setQueryData(key, value);\n                    });\n                } else {\n                    // call the mutate method without success side effects\n                    mutation.mutate(\n                        { resource: callTimeResource, ...callTimeParams },\n                        { onSettled, onError }\n                    );\n                }\n            });\n        }\n    };\n\n    return [updateMany, mutation];\n};\n\ntype Snapshot = [key: QueryKey, value: any][];\n\nexport interface UseUpdateManyMutateParams<RecordType extends RaRecord = any> {\n    resource?: string;\n    ids?: Array<RecordType['id']>;\n    data?: Partial<RecordType>;\n    previousData?: any;\n    meta?: any;\n}\n\nexport type UseUpdateManyOptions<\n    RecordType extends RaRecord = any\n> = UseMutationOptions<\n    Array<RecordType['id']>,\n    unknown,\n    Partial<UseUpdateManyMutateParams<RecordType>>\n> & { mutationMode?: MutationMode };\n\nexport type UseUpdateManyResult<RecordType extends RaRecord = any> = [\n    (\n        resource?: string,\n        params?: Partial<UpdateManyParams<RecordType>>,\n        options?: MutateOptions<\n            Array<RecordType['id']>,\n            unknown,\n            Partial<UseUpdateManyMutateParams<RecordType>>,\n            unknown\n        > & { mutationMode?: MutationMode }\n    ) => Promise<void>,\n    UseMutationResult<\n        Array<RecordType['id']>,\n        unknown,\n        Partial<UpdateManyParams<Partial<RecordType>> & { resource?: string }>,\n        unknown\n    >\n];\n","import { useRef } from 'react';\nimport {\n    useMutation,\n    useQueryClient,\n    UseMutationOptions,\n    UseMutationResult,\n    MutateOptions,\n    QueryKey,\n} from 'react-query';\n\nimport { useDataProvider } from './useDataProvider';\nimport undoableEventEmitter from './undoableEventEmitter';\nimport { RaRecord, DeleteParams, MutationMode } from '../types';\n\n/**\n * Get a callback to call the dataProvider.delete() method, the result and the loading state.\n *\n * @param {string} resource\n * @param {Params} params The delete parameters { id, previousData }\n * @param {Object} options Options object to pass to the queryClient.\n * May include side effects to be executed upon success or failure, e.g. { onSuccess: () => { refresh(); } }\n * May include a mutation mode (optimistic/pessimistic/undoable), e.g. { mutationMode: 'undoable' }\n *\n * @typedef Params\n * @prop params.id The resource identifier, e.g. 123\n * @prop params.previousData The record before the update is applied\n *\n * @returns The current mutation state. Destructure as [deleteOne, { data, error, isLoading }].\n *\n * The return value updates according to the request state:\n *\n * - initial: [deleteOne, { isLoading: false, isIdle: true }]\n * - start:   [deleteOne, { isLoading: true }]\n * - success: [deleteOne, { data: [data from response], isLoading: false, isSuccess: true }]\n * - error:   [deleteOne, { error: [error from response], isLoading: false, isError: true }]\n *\n * The deleteOne() function must be called with a resource and a parameter object: deleteOne(resource, { id, previousData, meta }, options)\n *\n * This hook uses react-query useMutation under the hood.\n * This means the state object contains mutate, isIdle, reset and other react-query methods.\n *\n * @see https://react-query.tanstack.com/reference/useMutation\n *\n * @example // set params when calling the deleteOne callback\n *\n * import { useDelete } from 'react-admin';\n *\n * const DeleteButton = ({ record }) => {\n *     const [deleteOne, { isLoading, error }] = useDelete();\n *     const handleClick = () => {\n *         deleteOne('likes', { id: record.id }, record)\n *     }\n *     if (error) { return <p>ERROR</p>; }\n *     return <button disabled={isLoading} onClick={handleClick}>Delete</div>;\n * };\n *\n * @example // set params when calling the hook\n *\n * import { useDelete } from 'react-admin';\n *\n * const DeleteButton = ({ record }) => {\n *     const [deleteOne, { isLoading, error }] = useDelete('likes', { id: record.id }, record);\n *     if (error) { return <p>ERROR</p>; }\n *     return <button disabled={isLoading} onClick={() => deleteOne()}>Delete</button>;\n * };\n *\n * @example // TypeScript\n * const [delete, { data }] = useDelete<Product>('products', { id, previousData: product });\n *                    \\-- data is Product\n */\nexport const useDelete = <RecordType extends RaRecord = any>(\n    resource?: string,\n    params: Partial<DeleteParams<RecordType>> = {},\n    options: UseDeleteOptions<RecordType> = {}\n): UseDeleteResult<RecordType> => {\n    const dataProvider = useDataProvider();\n    const queryClient = useQueryClient();\n    const { id, previousData } = params;\n    const { mutationMode = 'pessimistic', ...reactMutationOptions } = options;\n    const mode = useRef<MutationMode>(mutationMode);\n    const paramsRef = useRef<Partial<DeleteParams<RecordType>>>(params);\n    const snapshot = useRef<Snapshot>([]);\n\n    const updateCache = ({ resource, id }) => {\n        // hack: only way to tell react-query not to fetch this query for the next 5 seconds\n        // because setQueryData doesn't accept a stale time option\n        const now = Date.now();\n        const updatedAt = mode.current === 'undoable' ? now + 5 * 1000 : now;\n\n        const updateColl = (old: RecordType[]) => {\n            if (!old) return;\n            const index = old.findIndex(\n                // eslint-disable-next-line eqeqeq\n                record => record.id == id\n            );\n            if (index === -1) {\n                return old;\n            }\n            return [...old.slice(0, index), ...old.slice(index + 1)];\n        };\n\n        type GetListResult = { data?: RecordType[]; total?: number };\n\n        queryClient.setQueriesData(\n            [resource, 'getList'],\n            (res: GetListResult) => {\n                if (!res || !res.data) return res;\n                const newCollection = updateColl(res.data);\n                const recordWasFound = newCollection.length < res.data.length;\n                return recordWasFound\n                    ? {\n                          data: newCollection,\n                          total: res.total - 1,\n                      }\n                    : res;\n            },\n            { updatedAt }\n        );\n        queryClient.setQueriesData(\n            [resource, 'getMany'],\n            (coll: RecordType[]) =>\n                coll && coll.length > 0 ? updateColl(coll) : coll,\n            { updatedAt }\n        );\n        queryClient.setQueriesData(\n            [resource, 'getManyReference'],\n            (res: GetListResult) => {\n                if (!res || !res.data) return res;\n                const newCollection = updateColl(res.data);\n                const recordWasFound = newCollection.length < res.data.length;\n                return recordWasFound\n                    ? {\n                          data: newCollection,\n                          total: res.total - 1,\n                      }\n                    : res;\n            },\n            { updatedAt }\n        );\n    };\n\n    const mutation = useMutation<\n        RecordType,\n        unknown,\n        Partial<UseDeleteMutateParams<RecordType>>\n    >(\n        ({\n            resource: callTimeResource = resource,\n            id: callTimeId = paramsRef.current.id,\n            previousData: callTimePreviousData = paramsRef.current.previousData,\n            meta: callTimeMeta = paramsRef.current.meta,\n        } = {}) =>\n            dataProvider\n                .delete<RecordType>(callTimeResource, {\n                    id: callTimeId,\n                    previousData: callTimePreviousData,\n                    meta: callTimeMeta,\n                })\n                .then(({ data }) => data),\n        {\n            ...reactMutationOptions,\n            onMutate: async (\n                variables: Partial<UseDeleteMutateParams<RecordType>>\n            ) => {\n                if (reactMutationOptions.onMutate) {\n                    const userContext =\n                        (await reactMutationOptions.onMutate(variables)) || {};\n                    return {\n                        snapshot: snapshot.current,\n                        // @ts-ignore\n                        ...userContext,\n                    };\n                } else {\n                    // Return a context object with the snapshot value\n                    return { snapshot: snapshot.current };\n                }\n            },\n            onError: (\n                error: unknown,\n                variables: Partial<UseDeleteMutateParams<RecordType>> = {},\n                context: { snapshot: Snapshot }\n            ) => {\n                if (\n                    mode.current === 'optimistic' ||\n                    mode.current === 'undoable'\n                ) {\n                    // If the mutation fails, use the context returned from onMutate to rollback\n                    context.snapshot.forEach(([key, value]) => {\n                        queryClient.setQueryData(key, value);\n                    });\n                }\n\n                if (reactMutationOptions.onError) {\n                    return reactMutationOptions.onError(\n                        error,\n                        variables,\n                        context\n                    );\n                }\n                // call-time error callback is executed by react-query\n            },\n            onSuccess: (\n                data: RecordType,\n                variables: Partial<UseDeleteMutateParams<RecordType>> = {},\n                context: unknown\n            ) => {\n                if (mode.current === 'pessimistic') {\n                    // update the getOne and getList query cache with the new result\n                    const {\n                        resource: callTimeResource = resource,\n                        id: callTimeId = id,\n                    } = variables;\n                    updateCache({\n                        resource: callTimeResource,\n                        id: callTimeId,\n                    });\n\n                    if (reactMutationOptions.onSuccess) {\n                        reactMutationOptions.onSuccess(\n                            data,\n                            variables,\n                            context\n                        );\n                    }\n                    // call-time success callback is executed by react-query\n                }\n            },\n            onSettled: (\n                data: RecordType,\n                error: unknown,\n                variables: Partial<UseDeleteMutateParams<RecordType>> = {},\n                context: { snapshot: Snapshot }\n            ) => {\n                if (\n                    mode.current === 'optimistic' ||\n                    mode.current === 'undoable'\n                ) {\n                    // Always refetch after error or success:\n                    context.snapshot.forEach(([key]) => {\n                        queryClient.invalidateQueries(key);\n                    });\n                }\n\n                if (reactMutationOptions.onSettled) {\n                    return reactMutationOptions.onSettled(\n                        data,\n                        error,\n                        variables,\n                        context\n                    );\n                }\n            },\n        }\n    );\n\n    const mutate = async (\n        callTimeResource: string = resource,\n        callTimeParams: Partial<DeleteParams<RecordType>> = {},\n        updateOptions: MutateOptions<\n            RecordType,\n            unknown,\n            Partial<UseDeleteMutateParams<RecordType>>,\n            unknown\n        > & { mutationMode?: MutationMode } = {}\n    ) => {\n        const { mutationMode, onSuccess, onSettled, onError } = updateOptions;\n\n        // store the hook time params *at the moment of the call*\n        // because they may change afterwards, which would break the undoable mode\n        // as the previousData would be overwritten by the optimistic update\n        paramsRef.current = params;\n\n        if (mutationMode) {\n            mode.current = mutationMode;\n        }\n\n        if (mode.current === 'pessimistic') {\n            return mutation.mutate(\n                { resource: callTimeResource, ...callTimeParams },\n                { onSuccess, onSettled, onError }\n            );\n        }\n\n        const {\n            id: callTimeId = id,\n            previousData: callTimePreviousData = previousData,\n        } = callTimeParams;\n\n        // optimistic update as documented in https://react-query.tanstack.com/guides/optimistic-updates\n        // except we do it in a mutate wrapper instead of the onMutate callback\n        // to have access to success side effects\n\n        const queryKeys = [\n            [callTimeResource, 'getList'],\n            [callTimeResource, 'getMany'],\n            [callTimeResource, 'getManyReference'],\n        ];\n\n        /**\n         * Snapshot the previous values via queryClient.getQueriesData()\n         *\n         * The snapshotData ref will contain an array of tuples [query key, associated data]\n         *\n         * @example\n         * [\n         *   [['posts', 'getList'], { data: [{ id: 1, title: 'Hello' }], total: 1 }],\n         *   [['posts', 'getMany'], [{ id: 1, title: 'Hello' }]],\n         * ]\n         *\n         * @see https://react-query.tanstack.com/reference/QueryClient#queryclientgetqueriesdata\n         */\n        snapshot.current = queryKeys.reduce(\n            (prev, curr) => prev.concat(queryClient.getQueriesData(curr)),\n            [] as Snapshot\n        );\n\n        // Cancel any outgoing re-fetches (so they don't overwrite our optimistic update)\n        await Promise.all(\n            snapshot.current.map(([key]) => queryClient.cancelQueries(key))\n        );\n\n        // Optimistically update to the new value\n        updateCache({\n            resource: callTimeResource,\n            id: callTimeId,\n        });\n\n        // run the success callbacks during the next tick\n        if (onSuccess) {\n            setTimeout(\n                () =>\n                    onSuccess(\n                        callTimePreviousData,\n                        { resource: callTimeResource, ...callTimeParams },\n                        { snapshot: snapshot.current }\n                    ),\n                0\n            );\n        }\n        if (reactMutationOptions.onSuccess) {\n            setTimeout(\n                () =>\n                    reactMutationOptions.onSuccess(\n                        callTimePreviousData,\n                        { resource: callTimeResource, ...callTimeParams },\n                        { snapshot: snapshot.current }\n                    ),\n                0\n            );\n        }\n\n        if (mode.current === 'optimistic') {\n            // call the mutate method without success side effects\n            return mutation.mutate(\n                { resource: callTimeResource, ...callTimeParams },\n                { onSettled, onError }\n            );\n        } else {\n            // undoable mutation: register the mutation for later\n            undoableEventEmitter.once('end', ({ isUndo }) => {\n                if (isUndo) {\n                    // rollback\n                    snapshot.current.forEach(([key, value]) => {\n                        queryClient.setQueryData(key, value);\n                    });\n                } else {\n                    // call the mutate method without success side effects\n                    mutation.mutate(\n                        { resource: callTimeResource, ...callTimeParams },\n                        { onSettled, onError }\n                    );\n                }\n            });\n        }\n    };\n\n    return [mutate, mutation];\n};\n\ntype Snapshot = [key: QueryKey, value: any][];\n\nexport interface UseDeleteMutateParams<RecordType extends RaRecord = any> {\n    resource?: string;\n    id?: RecordType['id'];\n    data?: Partial<RecordType>;\n    previousData?: any;\n    meta?: any;\n}\n\nexport type UseDeleteOptions<\n    RecordType extends RaRecord = any\n> = UseMutationOptions<\n    RecordType,\n    unknown,\n    Partial<UseDeleteMutateParams<RecordType>>\n> & { mutationMode?: MutationMode };\n\nexport type UseDeleteResult<RecordType extends RaRecord = any> = [\n    (\n        resource?: string,\n        params?: Partial<DeleteParams<RecordType>>,\n        options?: MutateOptions<\n            RecordType,\n            unknown,\n            Partial<UseDeleteMutateParams<RecordType>>,\n            unknown\n        > & { mutationMode?: MutationMode }\n    ) => Promise<void>,\n    UseMutationResult<\n        RecordType,\n        unknown,\n        Partial<DeleteParams<RecordType> & { resource?: string }>,\n        unknown\n    >\n];\n","import { useRef } from 'react';\nimport {\n    useMutation,\n    useQueryClient,\n    UseMutationOptions,\n    UseMutationResult,\n    MutateOptions,\n    QueryKey,\n} from 'react-query';\n\nimport { useDataProvider } from './useDataProvider';\nimport undoableEventEmitter from './undoableEventEmitter';\nimport { RaRecord, DeleteManyParams, MutationMode } from '../types';\n\n/**\n * Get a callback to call the dataProvider.delete() method, the result and the loading state.\n *\n * @param {string} resource\n * @param {Params} params The delete parameters { ids }\n * @param {Object} options Options object to pass to the queryClient.\n * May include side effects to be executed upon success or failure, e.g. { onSuccess: () => { refresh(); } }\n * May include a mutation mode (optimistic/pessimistic/undoable), e.g. { mutationMode: 'undoable' }\n *\n * @typedef Params\n * @prop params.ids The resource identifiers, e.g. [123, 456]\n *\n * @returns The current mutation state. Destructure as [deleteMany, { data, error, isLoading }].\n *\n * The return value updates according to the request state:\n *\n * - initial: [deleteMany, { isLoading: false, isIdle: true }]\n * - start:   [deleteMany, { isLoading: true }]\n * - success: [deleteMany, { data: [data from response], isLoading: false, isSuccess: true }]\n * - error:   [deleteMany, { error: [error from response], isLoading: false, isError: true }]\n *\n * The deleteMany() function must be called with a resource and a parameter object: deleteMany(resource, { ids, meta }, options)\n *\n * This hook uses react-query useMutation under the hood.\n * This means the state object contains mutate, isIdle, reset and other react-query methods.\n *\n * @see https://react-query.tanstack.com/reference/useMutation\n *\n * @example // set params when calling the deleteMany callback\n *\n * import { useDeleteMany } from 'react-admin';\n *\n * const BulkDeletePostsButton = ({ selectedIds }) => {\n *     const [deleteMany, { isLoading, error }] = useDeleteMany();\n *     const handleClick = () => {\n *         deleteMany('posts', { ids: selectedIds })\n *     }\n *     if (error) { return <p>ERROR</p>; }\n *     return <button disabled={isLoading} onClick={handleClick}>Delete selected posts</button>;\n * };\n *\n * @example // set params when calling the hook\n *\n * import { useDeleteMany } from 'react-admin';\n *\n * const BulkDeletePostsButton = ({ selectedIds }) => {\n *     const [deleteMany, { isLoading, error }] = useDeleteMany('posts', { ids: selectedIds });\n *     const handleClick = () => {\n *         deleteMany()\n *     }\n *     if (error) { return <p>ERROR</p>; }\n *     return <button disabled={isLoading} onClick={handleClick}>Delete selected posts</button>;\n * };\n *\n * @example // TypeScript\n * const [deleteMany, { data }] = useDeleteMany<Product>('products', { ids });\n *                        \\-- data is Product\n */\nexport const useDeleteMany = <RecordType extends RaRecord = any>(\n    resource?: string,\n    params: Partial<DeleteManyParams<RecordType>> = {},\n    options: UseDeleteManyOptions<RecordType> = {}\n): UseDeleteManyResult<RecordType> => {\n    const dataProvider = useDataProvider();\n    const queryClient = useQueryClient();\n    const { ids } = params;\n    const { mutationMode = 'pessimistic', ...reactMutationOptions } = options;\n    const mode = useRef<MutationMode>(mutationMode);\n    const paramsRef = useRef<Partial<DeleteManyParams<RecordType>>>({});\n    const snapshot = useRef<Snapshot>([]);\n\n    const updateCache = ({ resource, ids }) => {\n        // hack: only way to tell react-query not to fetch this query for the next 5 seconds\n        // because setQueryData doesn't accept a stale time option\n        const now = Date.now();\n        const updatedAt = mode.current === 'undoable' ? now + 5 * 1000 : now;\n\n        const updateColl = (old: RecordType[]) => {\n            if (!old) return;\n            let newCollection = [...old];\n            ids.forEach(id => {\n                const index = newCollection.findIndex(\n                    // eslint-disable-next-line eqeqeq\n                    record => record.id == id\n                );\n                if (index === -1) {\n                    return;\n                }\n                newCollection = [\n                    ...newCollection.slice(0, index),\n                    ...newCollection.slice(index + 1),\n                ];\n            });\n            return newCollection;\n        };\n\n        type GetListResult = { data?: RecordType[]; total?: number };\n\n        queryClient.setQueriesData(\n            [resource, 'getList'],\n            (res: GetListResult) => {\n                if (!res || !res.data) return res;\n                const newCollection = updateColl(res.data);\n                const recordWasFound = newCollection.length < res.data.length;\n                return recordWasFound\n                    ? {\n                          data: newCollection,\n                          total:\n                              res.total -\n                              (res.data.length - newCollection.length),\n                      }\n                    : res;\n            },\n            { updatedAt }\n        );\n        queryClient.setQueriesData(\n            [resource, 'getMany'],\n            (coll: RecordType[]) =>\n                coll && coll.length > 0 ? updateColl(coll) : coll,\n            { updatedAt }\n        );\n        queryClient.setQueriesData(\n            [resource, 'getManyReference'],\n            (res: GetListResult) => {\n                if (!res || !res.data) return res;\n                const newCollection = updateColl(res.data);\n                const recordWasFound = newCollection.length < res.data.length;\n                return recordWasFound\n                    ? {\n                          data: newCollection,\n                          total:\n                              res.total -\n                              (res.data.length - newCollection.length),\n                      }\n                    : res;\n            },\n            { updatedAt }\n        );\n    };\n\n    const mutation = useMutation<\n        RecordType['id'][],\n        unknown,\n        Partial<UseDeleteManyMutateParams<RecordType>>\n    >(\n        ({\n            resource: callTimeResource = resource,\n            ids: callTimeIds = paramsRef.current.ids,\n            meta: callTimeMeta = paramsRef.current.meta,\n        } = {}) =>\n            dataProvider\n                .deleteMany<RecordType>(callTimeResource, {\n                    ids: callTimeIds,\n                    meta: callTimeMeta,\n                })\n                .then(({ data }) => data),\n        {\n            ...reactMutationOptions,\n            onMutate: async (\n                variables: Partial<UseDeleteManyMutateParams<RecordType>>\n            ) => {\n                if (reactMutationOptions.onMutate) {\n                    const userContext =\n                        (await reactMutationOptions.onMutate(variables)) || {};\n                    return {\n                        snapshot: snapshot.current,\n                        // @ts-ignore\n                        ...userContext,\n                    };\n                } else {\n                    // Return a context object with the snapshot value\n                    return { snapshot: snapshot.current };\n                }\n            },\n            onError: (\n                error: unknown,\n                variables: Partial<UseDeleteManyMutateParams<RecordType>> = {},\n                context: { snapshot: Snapshot }\n            ) => {\n                if (\n                    mode.current === 'optimistic' ||\n                    mode.current === 'undoable'\n                ) {\n                    // If the mutation fails, use the context returned from onMutate to rollback\n                    context.snapshot.forEach(([key, value]) => {\n                        queryClient.setQueryData(key, value);\n                    });\n                }\n\n                if (reactMutationOptions.onError) {\n                    return reactMutationOptions.onError(\n                        error,\n                        variables,\n                        context\n                    );\n                }\n                // call-time error callback is executed by react-query\n            },\n            onSuccess: (\n                data: RecordType['id'][],\n                variables: Partial<UseDeleteManyMutateParams<RecordType>> = {},\n                context: unknown\n            ) => {\n                if (mode.current === 'pessimistic') {\n                    // update the getOne and getList query cache with the new result\n                    const {\n                        resource: callTimeResource = resource,\n                        ids: callTimeIds = ids,\n                    } = variables;\n                    updateCache({\n                        resource: callTimeResource,\n                        ids: callTimeIds,\n                    });\n\n                    if (reactMutationOptions.onSuccess) {\n                        reactMutationOptions.onSuccess(\n                            data,\n                            variables,\n                            context\n                        );\n                    }\n                    // call-time success callback is executed by react-query\n                }\n            },\n            onSettled: (\n                data: RecordType['id'][],\n                error: unknown,\n                variables: Partial<UseDeleteManyMutateParams<RecordType>> = {},\n                context: { snapshot: Snapshot }\n            ) => {\n                if (\n                    mode.current === 'optimistic' ||\n                    mode.current === 'undoable'\n                ) {\n                    // Always refetch after error or success:\n                    context.snapshot.forEach(([key]) => {\n                        queryClient.invalidateQueries(key);\n                    });\n                }\n\n                if (reactMutationOptions.onSettled) {\n                    return reactMutationOptions.onSettled(\n                        data,\n                        error,\n                        variables,\n                        context\n                    );\n                }\n            },\n        }\n    );\n\n    const mutate = async (\n        callTimeResource: string = resource,\n        callTimeParams: Partial<DeleteManyParams<RecordType>> = {},\n        updateOptions: MutateOptions<\n            RecordType['id'][],\n            unknown,\n            Partial<UseDeleteManyMutateParams<RecordType>>,\n            unknown\n        > & { mutationMode?: MutationMode } = {}\n    ) => {\n        const { mutationMode, onSuccess, onSettled, onError } = updateOptions;\n\n        // store the hook time params *at the moment of the call*\n        // because they may change afterwards, which would break the undoable mode\n        // as the previousData would be overwritten by the optimistic update\n        paramsRef.current = params;\n\n        if (mutationMode) {\n            mode.current = mutationMode;\n        }\n\n        if (mode.current === 'pessimistic') {\n            return mutation.mutate(\n                { resource: callTimeResource, ...callTimeParams },\n                { onSuccess, onSettled, onError }\n            );\n        }\n\n        const { ids: callTimeIds = ids } = callTimeParams;\n\n        // optimistic update as documented in https://react-query.tanstack.com/guides/optimistic-updates\n        // except we do it in a mutate wrapper instead of the onMutate callback\n        // to have access to success side effects\n\n        const queryKeys = [\n            [callTimeResource, 'getList'],\n            [callTimeResource, 'getMany'],\n            [callTimeResource, 'getManyReference'],\n        ];\n\n        /**\n         * Snapshot the previous values via queryClient.getQueriesData()\n         *\n         * The snapshotData ref will contain an array of tuples [query key, associated data]\n         *\n         * @example\n         * [\n         *   [['posts', 'getList'], { data: [{ id: 1, title: 'Hello' }], total: 1 }],\n         *   [['posts', 'getMany'], [{ id: 1, title: 'Hello' }]],\n         * ]\n         *\n         * @see https://react-query.tanstack.com/reference/QueryClient#queryclientgetqueriesdata\n         */\n        snapshot.current = queryKeys.reduce(\n            (prev, curr) => prev.concat(queryClient.getQueriesData(curr)),\n            [] as Snapshot\n        );\n\n        // Cancel any outgoing re-fetches (so they don't overwrite our optimistic update)\n        await Promise.all(\n            snapshot.current.map(([key]) => queryClient.cancelQueries(key))\n        );\n\n        // Optimistically update to the new value\n        updateCache({\n            resource: callTimeResource,\n            ids: callTimeIds,\n        });\n\n        // run the success callbacks during the next tick\n        if (onSuccess) {\n            setTimeout(\n                () =>\n                    onSuccess(\n                        callTimeIds,\n                        { resource: callTimeResource, ...callTimeParams },\n                        { snapshot: snapshot.current }\n                    ),\n                0\n            );\n        }\n        if (reactMutationOptions.onSuccess) {\n            setTimeout(\n                () =>\n                    reactMutationOptions.onSuccess(\n                        callTimeIds,\n                        { resource: callTimeResource, ...callTimeParams },\n                        { snapshot: snapshot.current }\n                    ),\n                0\n            );\n        }\n\n        if (mode.current === 'optimistic') {\n            // call the mutate method without success side effects\n            return mutation.mutate(\n                { resource: callTimeResource, ...callTimeParams },\n                { onSettled, onError }\n            );\n        } else {\n            // undoable mutation: register the mutation for later\n            undoableEventEmitter.once('end', ({ isUndo }) => {\n                if (isUndo) {\n                    // rollback\n                    snapshot.current.forEach(([key, value]) => {\n                        queryClient.setQueryData(key, value);\n                    });\n                } else {\n                    // call the mutate method without success side effects\n                    mutation.mutate(\n                        { resource: callTimeResource, ...callTimeParams },\n                        { onSettled, onError }\n                    );\n                }\n            });\n        }\n    };\n\n    return [mutate, mutation];\n};\n\ntype Snapshot = [key: QueryKey, value: any][];\n\nexport interface UseDeleteManyMutateParams<RecordType extends RaRecord = any> {\n    resource?: string;\n    ids?: RecordType['id'][];\n    meta?: any;\n}\n\nexport type UseDeleteManyOptions<\n    RecordType extends RaRecord = any\n> = UseMutationOptions<\n    RecordType['id'][],\n    unknown,\n    Partial<UseDeleteManyMutateParams<RecordType>>\n> & { mutationMode?: MutationMode };\n\nexport type UseDeleteManyResult<RecordType extends RaRecord = any> = [\n    (\n        resource?: string,\n        params?: Partial<DeleteManyParams<RecordType>>,\n        options?: MutateOptions<\n            RecordType['id'][],\n            unknown,\n            Partial<UseDeleteManyMutateParams<RecordType>>,\n            unknown\n        > & { mutationMode?: MutationMode }\n    ) => Promise<void>,\n    UseMutationResult<\n        RecordType['id'][],\n        unknown,\n        Partial<DeleteManyParams<RecordType> & { resource?: string }>,\n        unknown\n    >\n];\n","import * as React from 'react';\nimport { createContext, useCallback, useState } from 'react';\nimport isEqual from 'lodash/isEqual';\n\nimport { ResourceDefinition } from '../types';\n\nexport type ResourceDefinitions = {\n    [name: string]: ResourceDefinition;\n};\n\nexport type ResourceDefinitionContextValue = [\n    ResourceDefinitions,\n    (config: ResourceDefinition) => void\n];\n\nexport const ResourceDefinitionContext = createContext<\n    ResourceDefinitionContextValue\n>([{}, () => {}]);\n\n/**\n * Context to store the current resource Definition.\n *\n * Use the useResourceDefinition() hook to read the context.\n *\n * @example\n *\n * import { useResourceDefinition, useTranslate } from 'ra-core';\n *\n * const PostMenuItem = () => {\n *     const { name, icon } = useResourceDefinition({ resource: 'posts' });\n *\n *     return (\n *          <MenuItem>\n *              <ListItemIcon>{icon}</ListItemIcon>\n *              {name}\n *          </MenuItem>\n *     );\n * };\n */\nexport const ResourceDefinitionContextProvider = ({\n    definitions: defaultDefinitions = {},\n    children,\n}) => {\n    const [definitions, setState] = useState<ResourceDefinitions>(\n        defaultDefinitions\n    );\n\n    const setDefinition = useCallback((config: ResourceDefinition) => {\n        setState(prev =>\n            isEqual(prev[config.name], config)\n                ? prev\n                : {\n                      ...prev,\n                      [config.name]: config,\n                  }\n        );\n    }, []);\n\n    return (\n        <ResourceDefinitionContext.Provider\n            value={[definitions, setDefinition]}\n        >\n            {children}\n        </ResourceDefinitionContext.Provider>\n    );\n};\n","import * as React from 'react';\nimport { ComponentType, useEffect, isValidElement, createElement } from 'react';\nimport { Routes, Route } from 'react-router-dom';\n\nimport { CoreAdminRoutes } from './CoreAdminRoutes';\nimport { Ready } from '../util';\nimport {\n    TitleComponent,\n    LoginComponent,\n    LayoutComponent,\n    CoreLayoutProps,\n    AdminChildren,\n    CatchAllComponent,\n    DashboardComponent,\n    LoadingComponent,\n} from '../types';\n\nexport type ChildrenFunction = () => ComponentType[];\n\nconst DefaultLayout = ({ children }: CoreLayoutProps) => <>{children}</>;\n\nexport interface CoreAdminUIProps {\n    catchAll?: CatchAllComponent;\n    children?: AdminChildren;\n    dashboard?: DashboardComponent;\n    disableTelemetry?: boolean;\n    layout?: LayoutComponent;\n    loading?: LoadingComponent;\n    loginPage?: LoginComponent | boolean;\n    /**\n     * @deprecated use a custom layout instead\n     */\n    menu?: ComponentType;\n    requireAuth?: boolean;\n    ready?: ComponentType;\n    title?: TitleComponent;\n}\n\nexport const CoreAdminUI = (props: CoreAdminUIProps) => {\n    const {\n        catchAll = Noop,\n        children,\n        dashboard,\n        disableTelemetry = false,\n        layout = DefaultLayout,\n        loading = Noop,\n        loginPage: LoginPage = false,\n        menu, // deprecated, use a custom layout instead\n        ready = Ready,\n        title = 'React Admin',\n        requireAuth = false,\n    } = props;\n\n    useEffect(() => {\n        if (\n            disableTelemetry ||\n            process.env.NODE_ENV !== 'production' ||\n            typeof window === 'undefined' ||\n            typeof window.location === 'undefined' ||\n            typeof Image === 'undefined'\n        ) {\n            return;\n        }\n        const img = new Image();\n        img.src = `https://react-admin-telemetry.marmelab.com/react-admin-telemetry?domain=${window.location.hostname}`;\n    }, [disableTelemetry]);\n\n    return (\n        <Routes>\n            {LoginPage !== false && LoginPage !== true ? (\n                <Route path=\"/login\" element={createOrGetElement(LoginPage)} />\n            ) : null}\n            <Route\n                path=\"/*\"\n                element={\n                    <CoreAdminRoutes\n                        catchAll={catchAll}\n                        dashboard={dashboard}\n                        layout={layout}\n                        loading={loading}\n                        menu={menu}\n                        requireAuth={requireAuth}\n                        ready={ready}\n                        title={title}\n                    >\n                        {children}\n                    </CoreAdminRoutes>\n                }\n            />\n        </Routes>\n    );\n};\n\nconst createOrGetElement = el => (isValidElement(el) ? el : createElement(el));\n\nconst Noop = () => null;\n","import * as React from 'react';\nimport { useState, useEffect, Children, ComponentType } from 'react';\nimport { Navigate, Route, Routes } from 'react-router-dom';\n\nimport { WithPermissions, useCheckAuth } from '../auth';\nimport { useTimeout } from '../util';\nimport { useScrollToTop, useCreatePath } from '../routing';\nimport {\n    AdminChildren,\n    CatchAllComponent,\n    LayoutComponent,\n    LoadingComponent,\n    CoreLayoutProps,\n} from '../types';\nimport { useConfigureAdminRouterFromChildren } from './useConfigureAdminRouterFromChildren';\n\nexport const CoreAdminRoutes = (props: CoreAdminRoutesProps) => {\n    const oneSecondHasPassed = useTimeout(1000);\n    useScrollToTop();\n    const createPath = useCreatePath();\n\n    const {\n        customRoutesWithLayout,\n        customRoutesWithoutLayout,\n        status,\n        resources,\n    } = useConfigureAdminRouterFromChildren(props.children);\n\n    const {\n        layout: Layout,\n        catchAll: CatchAll,\n        dashboard,\n        loading: LoadingPage,\n        menu,\n        requireAuth,\n        ready: Ready,\n        title,\n    } = props;\n\n    const [canRender, setCanRender] = useState(!requireAuth);\n    const checkAuth = useCheckAuth();\n\n    useEffect(() => {\n        if (requireAuth) {\n            checkAuth()\n                .then(() => {\n                    setCanRender(true);\n                })\n                .catch(() => {});\n        }\n    }, [checkAuth, requireAuth]);\n\n    if (status === 'empty') {\n        return <Ready />;\n    }\n\n    if (status === 'loading' || !canRender) {\n        return (\n            <Routes>\n                {customRoutesWithoutLayout}\n                {oneSecondHasPassed ? (\n                    <Route path=\"*\" element={<LoadingPage />} />\n                ) : (\n                    <Route path=\"*\" element={null} />\n                )}\n            </Routes>\n        );\n    }\n\n    return (\n        <Routes>\n            {/*\n                Render the custom routes that were outside the child function.\n            */}\n            {customRoutesWithoutLayout}\n            <Route\n                path=\"/*\"\n                element={\n                    <div>\n                        <Layout dashboard={dashboard} menu={menu} title={title}>\n                            <Routes>\n                                {customRoutesWithLayout}\n                                {Children.map(resources, resource => (\n                                    <Route\n                                        key={resource.props.name}\n                                        path={`${resource.props.name}/*`}\n                                        element={resource}\n                                    />\n                                ))}\n                                <Route\n                                    path=\"/\"\n                                    element={\n                                        dashboard ? (\n                                            <WithPermissions\n                                                authParams={defaultAuthParams}\n                                                component={dashboard}\n                                            />\n                                        ) : resources.length > 0 ? (\n                                            <Navigate\n                                                to={createPath({\n                                                    resource:\n                                                        resources[0].props.name,\n                                                    type: 'list',\n                                                })}\n                                            />\n                                        ) : null\n                                    }\n                                />\n                                <Route\n                                    path=\"*\"\n                                    element={<CatchAll title={title} />}\n                                />\n                            </Routes>\n                        </Layout>\n                    </div>\n                }\n            />\n        </Routes>\n    );\n};\n\nCoreAdminRoutes.defaultProps = {\n    customRoutes: [],\n};\n\nexport interface CoreAdminRoutesProps extends CoreLayoutProps {\n    layout: LayoutComponent;\n    catchAll: CatchAllComponent;\n    children?: AdminChildren;\n    loading: LoadingComponent;\n    requireAuth?: boolean;\n    ready?: ComponentType;\n}\n\nconst defaultAuthParams = { route: 'dashboard' };\n","import React, {\n    Children,\n    Fragment,\n    ReactElement,\n    ReactNode,\n    useEffect,\n} from 'react';\nimport { useLogout, useGetPermissions, useAuthState } from '../auth';\nimport { useSafeSetState } from '../util';\nimport {\n    AdminChildren,\n    RenderResourcesFunction,\n    ResourceDefinition,\n    ResourceProps,\n} from '../types';\nimport { CustomRoutesProps } from './CustomRoutes';\nimport { useRegisterResource } from './useRegisterResource';\n\n/**\n * This hook inspects the CoreAdminRouter children and returns them separated in three groups:\n * - Custom routes without layout\n * - Custom routes with layout\n * - Resources\n *\n * It also returns a status:\n * - loading: still loading children from a function child\n * - empty: no resources were provided among children\n * - ready: admin is ready to be rendered\n *\n * @example\n * const {\n *    customRoutesWithLayout,\n *    customRoutesWithoutLayout,\n *    resources,\n *    status,\n * } = useConfigureAdminRouterFromChildren(children);\n */\nexport const useConfigureAdminRouterFromChildren = (\n    children: AdminChildren\n) => {\n    const getPermissions = useGetPermissions();\n    const doLogout = useLogout();\n    const { authenticated } = useAuthState();\n    const registerResource = useRegisterResource();\n    // Gather custom routes and resources that were declared as direct children of CoreAdminRouter\n    // e.g. Not returned from the child function (if any)\n    // We need to know right away wether some resources were declared to correctly\n    // initialize the status at the next stop\n    const routesAndResources = getRoutesAndResourceFromNodes(children);\n\n    const [\n        customRoutesWithoutLayout,\n        setCustomRoutesWithoutLayout,\n    ] = useSafeSetState(routesAndResources.customRoutesWithoutLayout);\n    const [customRoutesWithLayout, setCustomRoutesWithLayout] = useSafeSetState(\n        routesAndResources.customRoutesWithLayout\n    );\n    const [resources, setResources] = useSafeSetState<\n        ReactElement<ResourceProps>[]\n    >(routesAndResources.resources);\n\n    const [status, setStatus] = useSafeSetState<AdminRouterStatus>(() =>\n        !!getSingleChildFunction(children)\n            ? 'loading'\n            : resources.length > 0\n            ? 'ready'\n            : 'empty'\n    );\n\n    // Whenever children are updated, update our custom routes and resources\n    useEffect(() => {\n        const functionChild = getSingleChildFunction(children);\n        const routesAndResources = getRoutesAndResourceFromNodes(children);\n        setCustomRoutesWithLayout(routesAndResources.customRoutesWithLayout);\n        setCustomRoutesWithoutLayout(\n            routesAndResources.customRoutesWithoutLayout\n        );\n        setResources(routesAndResources.resources);\n        setStatus(\n            !!functionChild\n                ? 'loading'\n                : routesAndResources.resources.length > 0\n                ? 'ready'\n                : 'empty'\n        );\n    }, [\n        children,\n        setCustomRoutesWithLayout,\n        setCustomRoutesWithoutLayout,\n        setResources,\n        setStatus,\n    ]);\n\n    useEffect(() => {\n        const resolveChildFunction = async (\n            childFunc: RenderResourcesFunction\n        ) => {\n            const updateRoutesAndResources = nodes => {\n                const routesAndResources = getRoutesAndResourceFromNodes(nodes);\n                setCustomRoutesWithLayout(previous =>\n                    previous.concat(routesAndResources.customRoutesWithLayout)\n                );\n                setCustomRoutesWithoutLayout(previous =>\n                    previous.concat(\n                        routesAndResources.customRoutesWithoutLayout\n                    )\n                );\n                setResources(previous =>\n                    previous.concat(routesAndResources.resources)\n                );\n            };\n\n            try {\n                const permissions = await getPermissions();\n                const childrenFuncResult = childFunc(permissions);\n                if ((childrenFuncResult as Promise<ReactNode>).then) {\n                    (childrenFuncResult as Promise<ReactNode>).then(\n                        resolvedChildren => {\n                            updateRoutesAndResources(resolvedChildren);\n                        }\n                    );\n                } else {\n                    updateRoutesAndResources(childrenFuncResult);\n                }\n\n                setStatus('ready');\n            } catch (error) {\n                console.error(error);\n                doLogout();\n            }\n        };\n\n        const functionChild = getSingleChildFunction(children);\n        if (functionChild) {\n            resolveChildFunction(functionChild);\n        }\n    }, [\n        authenticated,\n        children,\n        doLogout,\n        getPermissions,\n        setCustomRoutesWithLayout,\n        setCustomRoutesWithoutLayout,\n        setResources,\n        setStatus,\n    ]);\n\n    // Whenever the resources change, we must ensure they're all registered\n    useEffect(() => {\n        resources.forEach(resource => {\n            if (\n                typeof ((resource.type as unknown) as ResourceWithRegisterFunction)\n                    .registerResource === 'function'\n            ) {\n                const definition = ((resource.type as unknown) as ResourceWithRegisterFunction).registerResource(\n                    resource.props\n                );\n                registerResource(definition);\n            } else {\n                throw new Error(\n                    'When using a custom Resource element, it must have a static registerResource method accepting its props and returning a ResourceDefinition'\n                );\n            }\n        });\n    }, [registerResource, resources]);\n\n    return {\n        customRoutesWithLayout,\n        customRoutesWithoutLayout,\n        status,\n        resources,\n    };\n};\n\ntype ResourceWithRegisterFunction = {\n    registerResource: (props: ResourceProps) => ResourceDefinition;\n};\n\n/**\n * Inspect the children of a CoreAdminRouter to see if one of them is a function.\n * Throws an error if there are more than one function child.\n * Returns the function child if one was provided, or null otherwise.\n */\nconst getSingleChildFunction = (\n    children: ReactNode\n): RenderResourcesFunction | null => {\n    const childrenArray = Array.isArray(children) ? children : [children];\n\n    const functionChildren = childrenArray.filter(\n        child => typeof child === 'function'\n    );\n\n    if (functionChildren.length > 1) {\n        throw new Error(\n            'You can only provide one function child to AdminRouter'\n        );\n    }\n\n    if (functionChildren.length === 0) {\n        return null;\n    }\n\n    return functionChildren[0] as RenderResourcesFunction;\n};\n\ntype AdminRouterStatus = 'loading' | 'empty' | 'ready';\n\n/**\n * Inspect the children and return an object with the following keys:\n * - customRoutesWithLayout: an array of the custom routes to render inside the layout\n * - customRoutesWithoutLayout: an array of custom routes to render outside the layout\n * - resources: an array of resources elements\n */\nconst getRoutesAndResourceFromNodes = (children: ReactNode) => {\n    const customRoutesWithLayout = [];\n    const customRoutesWithoutLayout = [];\n    const resources = [];\n    Children.forEach(children, element => {\n        if (!React.isValidElement(element)) {\n            // Ignore non-elements. This allows people to more easily inline\n            // conditionals in their route config.\n            return;\n        }\n        if (element.type === Fragment) {\n            const customRoutesFromFragment = getRoutesAndResourceFromNodes(\n                element.props.children\n            );\n            customRoutesWithLayout.push(\n                ...customRoutesFromFragment.customRoutesWithLayout\n            );\n            customRoutesWithoutLayout.push(\n                ...customRoutesFromFragment.customRoutesWithoutLayout\n            );\n            resources.push(...customRoutesFromFragment.resources);\n        }\n\n        if ((element.type as any).raName === 'CustomRoutes') {\n            const customRoutesElement = element as ReactElement<\n                CustomRoutesProps\n            >;\n\n            if (customRoutesElement.props.noLayout) {\n                customRoutesWithoutLayout.push(\n                    customRoutesElement.props.children\n                );\n            } else {\n                customRoutesWithLayout.push(customRoutesElement.props.children);\n            }\n        } else if ((element.type as any).raName === 'Resource') {\n            resources.push(element as ReactElement<ResourceProps>);\n        }\n    });\n\n    return {\n        customRoutesWithLayout,\n        customRoutesWithoutLayout,\n        resources,\n    };\n};\n","import { useCallback, useContext } from 'react';\n\nimport { ResourceDefinitionContext } from './ResourceDefinitionContext';\nimport { ResourceDefinition } from '../types';\n\nexport const useRegisterResource = () => {\n    const [, setResourceConfiguration] = useContext(ResourceDefinitionContext);\n\n    const registerResource = useCallback(\n        (...resources: ResourceDefinition[]) => {\n            resources.forEach(resource => {\n                setResourceConfiguration(resource);\n            });\n        },\n        [setResourceConfiguration]\n    );\n\n    return registerResource;\n};\n","import { ReactNode } from 'react';\n\n/**\n * This component allows you to provide custom routes to the Admin.\n * @param props The component props\n * @param props.children The custom routes.\n * @param props.noLayout A boolean indicating whether to render the routes outside the Layout. Defaults to false.\n * @returns Nothing. This is a configuration component.\n */\nexport const CustomRoutes = (props: CustomRoutesProps) => {\n    return null;\n};\n\nCustomRoutes.raName = 'CustomRoutes';\n\nexport type CustomRoutesProps = {\n    children: ReactNode;\n    noLayout?: boolean;\n};\n","import * as React from 'react';\nimport { isValidElement } from 'react';\nimport { Route, Routes } from 'react-router-dom';\n\nimport { ResourceProps } from '../types';\nimport { ResourceContextProvider } from './ResourceContextProvider';\n\nexport const Resource = (props: ResourceProps) => {\n    const { create: Create, edit: Edit, list: List, name, show: Show } = props;\n\n    return (\n        <ResourceContextProvider value={name}>\n            <Routes>\n                {Create && (\n                    <Route\n                        path=\"create/*\"\n                        element={isValidElement(Create) ? Create : <Create />}\n                    />\n                )}\n                {Show && (\n                    <Route\n                        path=\":id/show/*\"\n                        element={isValidElement(Show) ? Show : <Show />}\n                    />\n                )}\n                {Edit && (\n                    <Route\n                        path=\":id/*\"\n                        element={isValidElement(Edit) ? Edit : <Edit />}\n                    />\n                )}\n                {List && (\n                    <Route\n                        path=\"/*\"\n                        element={isValidElement(List) ? List : <List />}\n                    />\n                )}\n            </Routes>\n        </ResourceContextProvider>\n    );\n};\n\nResource.raName = 'Resource';\n\nResource.registerResource = ({\n    create,\n    edit,\n    icon,\n    list,\n    name,\n    options,\n    show,\n}: ResourceProps) => ({\n    name,\n    options,\n    hasList: !!list,\n    hasCreate: !!create,\n    hasEdit: !!edit,\n    hasShow: !!show,\n    icon,\n});\n","import * as React from 'react';\nimport { ReactElement } from 'react';\nimport { ResourceContext, ResourceContextValue } from './ResourceContext';\n\n/**\n * Create a Resource Context with the resource name\n *\n * Some react-admin components rely on the resource name to be available in the context.\n * This component provides it.\n *\n * If the value is empty, the context is not provided.\n *\n * @param {string} value the resource name\n * @example\n *\n * import { ResourceContextProvider } from 'react-admin';\n *\n * const MyComponent = () => (\n *    <ResourceContextProvider value=\"posts\">\n *       <MyResourceSpecificComponent />\n *   </ResourceContextProvider>\n * );\n */\nexport const ResourceContextProvider = ({\n    children,\n    value,\n}: {\n    children: ReactElement;\n    value?: ResourceContextValue;\n}) =>\n    value ? (\n        <ResourceContext.Provider value={value}>\n            {children}\n        </ResourceContext.Provider>\n    ) : (\n        children\n    );\n","import inflection from 'inflection';\n\nimport { useResourceDefinitions } from './useResourceDefinitions';\nimport { useTranslate } from '../i18n';\n\n/**\n * A hook which returns function to get a translated resource name. It will use the label option of the `Resource` component if it was provided.\n *\n * @returns {GetResourceLabel} A function which takes a resource name and an optional number indicating the number of items (used for pluralization) and returns a translated string.\n * @example\n * const Menu = () => {\n *     const resources = useResourceDefinitions();\n *     const getResourceLabel = useGetResourceLabel();\n *\n *     return (\n *         <ul>\n *             {Object.keys(resources).map(name => (\n *                 <li key={name}>\n *                     {getResourceLabel(name, 2)}\n *                 </li>\n *             ))}\n *         </ul>\n *     )\n * }\n */\nexport const useGetResourceLabel = (): GetResourceLabel => {\n    const translate = useTranslate();\n    const definitions = useResourceDefinitions();\n\n    return (resource: string, count = 2): string => {\n        const resourceDefinition = definitions[resource];\n\n        const label = translate(`resources.${resource}.name`, {\n            smart_count: count,\n            _:\n                resourceDefinition &&\n                resourceDefinition.options &&\n                resourceDefinition.options.label\n                    ? translate(resourceDefinition.options.label, {\n                          smart_count: count,\n                          _: resourceDefinition.options.label,\n                      })\n                    : inflection.humanize(\n                          count > 1\n                              ? inflection.pluralize(resource)\n                              : inflection.singularize(resource)\n                      ),\n        });\n\n        return label;\n    };\n};\n\nexport type GetResourceLabel = (resource: string, count?: number) => string;\n","import { useContext } from 'react';\n\nimport {\n    ResourceDefinitionContext,\n    ResourceDefinitions,\n} from './ResourceDefinitionContext';\n\n/**\n * Get the definition of the all resources\n *\n * @example\n *\n * const definitions = useResourceDefinitions();\n * console.log(definitions.posts);\n * // {\n * //   name: 'posts',\n * //   hasList: true,\n * //   hasEdit: true,\n * //   hasShow: true,\n * //   hasCreate: true,\n * //   options: {},\n * //   icon: PostIcon,\n * // }\n */\nexport const useResourceDefinitions = (): ResourceDefinitions =>\n    useContext(ResourceDefinitionContext)[0];\n","import { useMemo } from 'react';\nimport defaults from 'lodash/defaults';\n\nimport { useResourceDefinitions } from './useResourceDefinitions';\nimport { useResourceContext } from './useResourceContext';\nimport { ResourceDefinition } from '../types';\n\n/**\n * Hook to get the definition of a given resource\n *\n * @example // Get the current resource definition (based on ResourceContext)\n *\n * const definition = useResourceDefinition();\n * console.log(definition);\n * // {\n * //   name: 'posts',\n * //   hasList: true,\n * //   hasEdit: true,\n * //   hasShow: true,\n * //   hasCreate: true,\n * //   options: {},\n * //   icon: PostIcon,\n * // }\n *\n * @example // Pass a resource prop to check a different resource definition\n *\n * const definition = useResourceDefinition({ resource: 'posts' });\n */\nexport const useResourceDefinition = (\n    props?: UseResourceDefinitionOptions\n): ResourceDefinition => {\n    const resource = useResourceContext(props);\n    const resourceDefinitions = useResourceDefinitions();\n    const { hasCreate, hasEdit, hasList, hasShow } = props || {};\n\n    const definition = useMemo(() => {\n        return defaults(\n            {},\n            {\n                hasCreate,\n                hasEdit,\n                hasList,\n                hasShow,\n            },\n            resourceDefinitions[resource]\n        );\n    }, [resource, resourceDefinitions, hasCreate, hasEdit, hasList, hasShow]);\n\n    return definition;\n};\n\nexport interface UseResourceDefinitionOptions {\n    readonly resource?: string;\n    readonly hasList?: boolean;\n    readonly hasEdit?: boolean;\n    readonly hasShow?: boolean;\n    readonly hasCreate?: boolean;\n}\n","import jsonExport from 'jsonexport/dist';\n\nimport downloadCSV from './downloadCSV';\nimport { Exporter } from '../types';\n\nconst defaultExporter: Exporter = (data, _, __, resource) =>\n    jsonExport(data, (err, csv) => downloadCSV(csv, resource));\n\nexport default defaultExporter;\n","export default (csv, filename) => {\n    const fakeLink = document.createElement('a');\n    fakeLink.style.display = 'none';\n    document.body.appendChild(fakeLink);\n    const blob = new Blob([csv], { type: 'text/csv;charset=utf-8' });\n    // @ts-ignore\n    if (window.navigator && window.navigator.msSaveOrOpenBlob) {\n        // Manage IE11+ & Edge\n        // @ts-ignore\n        window.navigator.msSaveOrOpenBlob(blob, `${filename}.csv`);\n    } else {\n        fakeLink.setAttribute('href', URL.createObjectURL(blob));\n        fakeLink.setAttribute('download', `${filename}.csv`);\n        fakeLink.click();\n    }\n};\n","import { createContext } from 'react';\n\nimport { Exporter } from '../types';\nimport defaultExporter from './defaultExporter';\n\nconst ExporterContext = createContext<Exporter | false>(defaultExporter);\n\nExporterContext.displayName = 'ExporterContext';\n\nexport default ExporterContext;\n","import { RaRecord, Identifier, DataProvider } from '../types';\n\n/**\n * Helper function for calling the dataProvider.getMany() method,\n * and getting a Promise for the records indexed by id in return.\n *\n * @example\n *     fetchRelatedRecords(dataProvider)(records, 'post_id', 'posts').then(posts =>\n *         posts.map(record => ({\n *             ...record,\n *             post_title: posts[record.post_id].title,\n *         }))\n *     );\n */\nconst fetchRelatedRecords = (dataProvider: DataProvider) => (\n    data,\n    field,\n    resource\n) =>\n    dataProvider\n        .getMany(resource, { ids: getRelatedIds(data, field) })\n        .then(({ data }) =>\n            data.reduce((acc, post) => {\n                acc[post.id] = post;\n                return acc;\n            }, {})\n        );\n\n/**\n * Extracts, aggregates and deduplicates the ids of related records\n *\n * @example\n *     const books = [\n *         { id: 1, author_id: 123, title: 'Pride and Prejudice' },\n *         { id: 2, author_id: 123, title: 'Sense and Sensibility' },\n *         { id: 3, author_id: 456, title: 'War and Peace' },\n *     ];\n *     getRelatedIds(books, 'author_id'); => [123, 456]\n *\n * @example\n *     const books = [\n *         { id: 1, tag_ids: [1, 2], title: 'Pride and Prejudice' },\n *         { id: 2, tag_ids: [2, 3], title: 'Sense and Sensibility' },\n *         { id: 3, tag_ids: [4], title: 'War and Peace' },\n *     ];\n *     getRelatedIds(records, 'tag_ids'); => [1, 2, 3, 4]\n *\n * @param {Object[]} records An array of records\n * @param {string} field the identifier of the record field to use\n */\nexport const getRelatedIds = (\n    records: RaRecord[],\n    field: string\n): Identifier[] =>\n    Array.from(\n        new Set(\n            records\n                .filter(record => record[field] != null)\n                .map(record => record[field])\n                .reduce((ids, value) => ids.concat(value), [])\n        )\n    );\n\nexport default fetchRelatedRecords;\n","import * as React from 'react';\nimport inflection from 'inflection';\n\nimport getValuesFromRecords from './getValuesFromRecords';\nimport InferredElement from './InferredElement';\n\nimport {\n    isObject,\n    valuesAreArray,\n    valuesAreBoolean,\n    valuesAreDate,\n    valuesAreDateString,\n    valuesAreHtml,\n    valuesAreInteger,\n    valuesAreNumeric,\n    valuesAreObject,\n    valuesAreString,\n} from './assertions';\nimport { InferredTypeMap } from './types';\n\nconst DefaultComponent = () => <span>;</span>;\nconst defaultType = {\n    type: DefaultComponent,\n    representation: () => '<DefaultComponent />',\n};\nconst defaultTypes = {\n    array: defaultType,\n    boolean: defaultType,\n    date: defaultType,\n    email: defaultType,\n    id: defaultType,\n    number: defaultType,\n    reference: defaultType,\n    referenceArray: defaultType,\n    richText: defaultType,\n    string: defaultType,\n    url: defaultType,\n};\n\nconst hasType = (type, types) => typeof types[type] !== 'undefined';\n\n/**\n * Guesses an element based on an array of values\n *\n * @example\n *     inferElementFromValues(\n *         'address',\n *         ['2 Baker Street', '1 Downing street'],\n *         { number: NumberField, string: StringField }\n *     );\n *     // new InferredElement(<StringField source=\"address\" />)\n *\n * Types are optional: if a type isn't provided, the function falls back\n * to the nearest type.\n *\n * @example\n *     inferElementFromValues(\n *         'content',\n *         ['<h1>Hello</h1>'],\n *         { string: StringField } // no richText type\n *     );\n *     // new InferredElement(<StringField source=\"content\" />)\n *\n * Types can be disabled by passing a falsy value.\n *\n * @example\n *     inferElementFromValues(\n *         'content',\n *         ['<h1>Hello</h1>'],\n *         { string: StringField, richText: false }\n *     );\n *     // null\n *\n * @param {string} name Property name, e.g. 'date_of_birth'\n * @param {any[]} values an array of values from which to determine the type, e.g. [12, 34.4, 43]\n * @param {Object} types A set of components indexed by type. The string type is the only required one\n *\n * @return InferredElement\n */\nconst inferElementFromValues = (\n    name,\n    values = [],\n    types: InferredTypeMap = defaultTypes\n) => {\n    if (name === 'id' && hasType('id', types)) {\n        return new InferredElement(types.id, { source: name });\n    }\n    if (name.substr(name.length - 3) === '_id' && hasType('reference', types)) {\n        const reference = inflection.pluralize(name.substr(0, name.length - 3));\n        return (\n            types.reference &&\n            new InferredElement(\n                types.reference,\n                {\n                    source: name,\n                    reference,\n                },\n                new InferredElement(types.referenceChild)\n            )\n        );\n    }\n    if (name.substr(name.length - 2) === 'Id' && hasType('reference', types)) {\n        const reference = inflection.pluralize(name.substr(0, name.length - 2));\n        return (\n            types.reference &&\n            new InferredElement(\n                types.reference,\n                {\n                    source: name,\n                    reference,\n                },\n                new InferredElement(types.referenceChild)\n            )\n        );\n    }\n    if (\n        name.substr(name.length - 4) === '_ids' &&\n        hasType('referenceArray', types)\n    ) {\n        const reference = inflection.pluralize(name.substr(0, name.length - 4));\n        return (\n            types.referenceArray &&\n            new InferredElement(\n                types.referenceArray,\n                {\n                    source: name,\n                    reference,\n                },\n                new InferredElement(types.referenceArrayChild)\n            )\n        );\n    }\n    if (\n        name.substr(name.length - 3) === 'Ids' &&\n        hasType('referenceArray', types)\n    ) {\n        const reference = inflection.pluralize(name.substr(0, name.length - 3));\n        return (\n            types.referenceArray &&\n            new InferredElement(\n                types.referenceArray,\n                {\n                    source: name,\n                    reference,\n                },\n                new InferredElement(types.referenceArrayChild)\n            )\n        );\n    }\n    if (values.length === 0) {\n        // FIXME introspect further using name\n        return new InferredElement(types.string, { source: name });\n    }\n    if (valuesAreArray(values)) {\n        if (isObject(values[0][0]) && hasType('array', types)) {\n            const leafValues = getValuesFromRecords(\n                values.reduce((acc, vals) => acc.concat(vals), [])\n            );\n            // FIXME bad visual representation\n            return (\n                types.array &&\n                new InferredElement(\n                    types.array,\n                    {\n                        source: name,\n                    },\n                    Object.keys(leafValues).map(leafName =>\n                        inferElementFromValues(\n                            leafName,\n                            leafValues[leafName],\n                            types\n                        )\n                    )\n                )\n            );\n        }\n        // FIXME introspect further\n        return new InferredElement(types.string, { source: name });\n    }\n    if (valuesAreBoolean(values) && hasType('boolean', types)) {\n        return new InferredElement(types.boolean, { source: name });\n    }\n    if (valuesAreDate(values) && hasType('date', types)) {\n        return new InferredElement(types.date, { source: name });\n    }\n    if (valuesAreString(values)) {\n        if (name === 'email' && hasType('email', types)) {\n            return new InferredElement(types.email, { source: name });\n        }\n        if (name === 'url' && hasType('url', types)) {\n            return new InferredElement(types.url, { source: name });\n        }\n        if (valuesAreDateString(values) && hasType('date', types)) {\n            return new InferredElement(types.date, { source: name });\n        }\n        if (valuesAreHtml(values) && hasType('richText', types)) {\n            return new InferredElement(types.richText, { source: name });\n        }\n        return new InferredElement(types.string, { source: name });\n    }\n    if (\n        (valuesAreInteger(values) || valuesAreNumeric(values)) &&\n        hasType('number', types)\n    ) {\n        return new InferredElement(types.number, { source: name });\n    }\n    if (valuesAreObject(values)) {\n        // we need to go deeper\n        // Arbitrarily, choose the first prop of the first object\n        const propName = Object.keys(values[0]).shift();\n        const leafValues = values.map(v => v[propName]);\n        return inferElementFromValues(`${name}.${propName}`, leafValues, types);\n    }\n    return new InferredElement(types.string, { source: name });\n};\n\nexport default inferElementFromValues;\n","/**\n * Gets a list of values indexed by field based on a list of records\n *\n * @example\n * const records = [\n *     {\n *         id: 1,\n *         title: \"Lorem Ipsum\",\n *         views: 254,\n *         user_id: 123,\n *     },\n *     {\n *         id: 2,\n *         title: \"Sic Dolor amet\",\n *         views: 65,\n *         user_id: 456,\n *     },\n * ];\n * getValuesFromRecords(records);\n * // {\n * //    id: [1, 2],\n * //    title: ['Lorem Ipsum', 'Sic Dolor amet'],\n * //    views: [254, 65],\n * //    user_id: [123, 456],\n * // }\n */\nexport default (records: any[]) =>\n    records.reduce((values, record) => {\n        Object.keys(record).forEach(fieldName => {\n            if (!values[fieldName]) {\n                values[fieldName] = [];\n            }\n            if (record[fieldName] != null) {\n                const value = Array.isArray(record[fieldName])\n                    ? [record[fieldName]]\n                    : record[fieldName];\n                values[fieldName] = values[fieldName].concat(value);\n            }\n        });\n        return values;\n    }, {});\n","import { createElement } from 'react';\nimport { InferredType } from './types';\n\nclass InferredElement {\n    constructor(\n        private type?: InferredType,\n        private props?: any,\n        private children?: any\n    ) {}\n\n    getElement(props = {}) {\n        if (!this.isDefined()) {\n            return;\n        }\n        return this.children\n            ? createElement(\n                  this.type.component,\n                  { ...this.props, ...props },\n                  this.children.length > 0\n                      ? this.children.map((child, index) =>\n                            child.getElement({ key: index })\n                        )\n                      : this.children.getElement()\n              )\n            : createElement(this.type.component, { ...this.props, ...props });\n    }\n\n    getProps() {\n        return this.props;\n    }\n\n    isDefined() {\n        return !!this.type;\n    }\n\n    getRepresentation() {\n        if (!this.isDefined()) {\n            return;\n        }\n        if (this.type.representation) {\n            return this.type.representation(this.props, this.children);\n        }\n        return `<${\n            this.type.component.displayName || this.type.component.name\n        } source=\"${this.props.source}\" />`;\n    }\n}\n\nexport default InferredElement;\n","import { isMatch, isValid, parseISO } from 'date-fns';\n\nexport const isNumeric = (value: any) =>\n    !isNaN(parseFloat(value)) && isFinite(value);\nexport const valuesAreNumeric = (values: any[]) => values.every(isNumeric);\n\nexport const isInteger = (value: any) =>\n    Number.isInteger(value) || !isNaN(parseInt(value));\nexport const valuesAreInteger = (values: any[]) => values.every(isInteger);\n\nexport const isBoolean = (value: any) => typeof value === 'boolean';\nexport const valuesAreBoolean = (values: any[]) => values.every(isBoolean);\n\nexport const isBooleanString = (value: any) =>\n    ['true', 'false'].includes(value.toString().toLowerCase());\nexport const valuesAreBooleanString = (values: any[]) =>\n    values.every(isBooleanString);\n\nexport const isString = (value: any) => typeof value === 'string';\nexport const valuesAreString = (values: any[]) => values.every(isString);\n\nconst HtmlRegexp = /<([A-Z][A-Z0-9]*)\\b[^>]*>(.*?)<\\/\\1>/i;\nexport const isHtml = (value: any) => !value || HtmlRegexp.test(value);\nexport const valuesAreHtml = (values: any[]) => values.every(isHtml);\n\nconst UrlRegexp = /http(s*):\\/\\/.*/i;\nexport const isUrl = (value: any) => !value || UrlRegexp.test(value);\nexport const valuesAreUrl = (values: any[]) => values.every(isUrl);\n\nconst ImageUrlRegexp = /http(s*):\\/\\/.*\\.(jpeg|jpg|jfif|pjpeg|pjp|png|svg|gif|webp|apng|bmp|ico|cur|tif|tiff)/i;\nexport const isImageUrl = (value: any) => !value || ImageUrlRegexp.test(value);\nexport const valuesAreImageUrl = (values: any[]) => values.every(isImageUrl);\n\n// This is a very simple regex to find emails\n// It is NOT meant to validate emails as the spec is way more complicated but is\n// enough for our inference needs\nconst EmailRegexp = /@{1}/;\nexport const isEmail = (value: any) => !value || EmailRegexp.test(value);\nexport const valuesAreEmail = (values: any[]) => values.every(isEmail);\n\nexport const isArray = (value: any) => Array.isArray(value);\nexport const valuesAreArray = (values: any[]) => values.every(isArray);\n\nexport const isDate = (value: any) => !value || value instanceof Date;\nexport const valuesAreDate = (values: any[]) => values.every(isDate);\n\nexport const isDateString = (value: any) =>\n    !value ||\n    (typeof value === 'string' &&\n        (isMatch(value, 'MM/dd/yyyy') ||\n            isMatch(value, 'MM/dd/yy') ||\n            isValid(parseISO(value))));\n\nexport const valuesAreDateString = (values: any[]) =>\n    values.every(isDateString);\n\nexport const isObject = (value: any) =>\n    Object.prototype.toString.call(value) === '[object Object]';\nexport const valuesAreObject = (values: any[]) => values.every(isObject);\n","import inferElementFromValues from './inferElementFromValues';\nimport getValuesFromRecords from './getValuesFromRecords';\nimport { InferredTypeMap } from './types';\n\n/**\n * Get a list of React-admin field components from a list of records\n *\n * @example\n * const records = [\n *     {\n *         \"id\": 1,\n *         \"title\": \"Lorem Ipsum\",\n *         \"views\": 254,\n *         \"user_id\": 123,\n *     },\n *     {\n *         \"id\": 2,\n *         \"title\": \"Sic Dolor amet\",\n *         \"user_id\": 456,\n *     },\n * ];\n * const types = {\n *     id: NumberField,\n *     string: TextField,\n *     number: NumberField,\n *     reference: ReferenceField\n * };\n * const components = getElementsFromRecords(records, types);\n * // [\n * //    <NumberField source=\"id\" />,\n * //    <TextField source=\"title\" />,\n * //    <NumberField source=\"views\" />,\n * //    <ReferenceField source=\"user_id\" reference=\"users\"><NumberField source=\"id\" /></ReferenceField>,\n * // ];\n */\nexport default (records: any[], types: InferredTypeMap) => {\n    const fieldValues = getValuesFromRecords(records);\n    return Object.keys(fieldValues)\n        .reduce(\n            (fields, fieldName) =>\n                fields.concat(\n                    inferElementFromValues(\n                        fieldName,\n                        fieldValues[fieldName],\n                        types\n                    )\n                ),\n            []\n        )\n        .filter(inferredElement => inferredElement.isDefined());\n};\n","import inflection from 'inflection';\n\nimport getValuesFromRecords from './getValuesFromRecords';\n\nimport {\n    isObject,\n    valuesAreArray,\n    valuesAreBoolean,\n    valuesAreDate,\n    valuesAreDateString,\n    valuesAreHtml,\n    valuesAreInteger,\n    valuesAreNumeric,\n    valuesAreObject,\n    valuesAreString,\n    valuesAreUrl,\n    valuesAreImageUrl,\n    valuesAreEmail,\n} from './assertions';\n\nexport const InferenceTypes = [\n    'array',\n    'boolean',\n    'date',\n    'email',\n    'id',\n    'image',\n    'number',\n    'reference',\n    'referenceChild',\n    'referenceArray',\n    'referenceArrayChild',\n    'richText',\n    'string',\n    'url',\n    'object',\n] as const;\n\nexport type PossibleInferredElementTypes = typeof InferenceTypes[number];\n\nexport interface InferredElementDescription {\n    type: PossibleInferredElementTypes;\n    props?: any;\n    children?: InferredElementDescription | InferredElementDescription[];\n}\n\n/**\n * Guesses an element type based on an array of values\n *\n * @example\n *     inferElementFromValues(\n *         'address',\n *         ['2 Baker Street', '1 Downing street'],\n *     );\n *     // { type: 'string', props: { source: 'address' } }\n *\n * @param {string} name Property name, e.g. 'date_of_birth'\n * @param {any[]} values an array of values from which to determine the type, e.g. [12, 34.4, 43]\n */\nexport const inferTypeFromValues = (\n    name,\n    values = []\n): InferredElementDescription => {\n    if (name === 'id') {\n        return { type: 'id', props: { source: name } };\n    }\n    if (name.substr(name.length - 3) === '_id') {\n        return {\n            type: 'reference',\n            props: {\n                source: name,\n                reference: inflection.pluralize(\n                    name.substr(0, name.length - 3)\n                ),\n            },\n            children: { type: 'referenceChild' },\n        };\n    }\n    if (name.substr(name.length - 2) === 'Id') {\n        return {\n            type: 'reference',\n            props: {\n                source: name,\n                reference: inflection.pluralize(\n                    name.substr(0, name.length - 2)\n                ),\n            },\n            children: { type: 'referenceChild' },\n        };\n    }\n    if (name.substr(name.length - 4) === '_ids') {\n        return {\n            type: 'referenceArray',\n            props: {\n                source: name,\n                reference: inflection.pluralize(\n                    name.substr(0, name.length - 4)\n                ),\n            },\n            children: { type: 'referenceArrayChild' },\n        };\n    }\n    if (name.substr(name.length - 3) === 'Ids') {\n        return {\n            type: 'referenceArray',\n            props: {\n                source: name,\n                reference: inflection.pluralize(\n                    name.substr(0, name.length - 3)\n                ),\n            },\n            children: { type: 'referenceArrayChild' },\n        };\n    }\n    if (values.length === 0) {\n        if (name === 'email') {\n            return { type: 'email', props: { source: name } };\n        }\n        if (name === 'url') {\n            return { type: 'url', props: { source: name } };\n        }\n        // FIXME introspect further using name\n        return { type: 'string', props: { source: name } };\n    }\n    if (valuesAreArray(values)) {\n        if (isObject(values[0][0])) {\n            const leafValues = getValuesFromRecords(\n                values.reduce((acc, vals) => acc.concat(vals), [])\n            );\n            // FIXME bad visual representation\n            return {\n                type: 'array',\n                props: { source: name },\n                children: Object.keys(leafValues).map(leafName =>\n                    inferTypeFromValues(leafName, leafValues[leafName])\n                ),\n            };\n        }\n        // FIXME introspect further\n        return { type: 'string', props: { source: name } };\n    }\n    if (valuesAreBoolean(values)) {\n        return { type: 'boolean', props: { source: name } };\n    }\n    if (valuesAreDate(values)) {\n        return { type: 'date', props: { source: name } };\n    }\n    if (valuesAreString(values)) {\n        if (name === 'email' || valuesAreEmail(values)) {\n            return { type: 'email', props: { source: name } };\n        }\n        if (name === 'url' || valuesAreUrl(values)) {\n            if (valuesAreImageUrl(values)) {\n                return { type: 'image', props: { source: name } };\n            }\n            return { type: 'url', props: { source: name } };\n        }\n        if (valuesAreDateString(values)) {\n            return { type: 'date', props: { source: name } };\n        }\n        if (valuesAreHtml(values)) {\n            return { type: 'richText', props: { source: name } };\n        }\n        if (valuesAreInteger(values) || valuesAreNumeric(values)) {\n            return { type: 'number', props: { source: name } };\n        }\n        return { type: 'string', props: { source: name } };\n    }\n    if (valuesAreInteger(values) || valuesAreNumeric(values)) {\n        return { type: 'number', props: { source: name } };\n    }\n    if (valuesAreObject(values)) {\n        /// Arbitrarily, choose the first prop of the first object\n        const propName = Object.keys(values[0]).shift();\n        const leafValues = values.map(v => v[propName]);\n        return inferTypeFromValues(`${name}.${propName}`, leafValues);\n    }\n    return { type: 'string', props: { source: name } };\n};\n","import { useEffect, useRef, useCallback } from 'react';\nimport debounce from 'lodash/debounce';\nimport isEqual from 'lodash/isEqual';\n\nimport { useSafeSetState } from '../util';\nimport { FilterPayload } from '../types';\n\ninterface UseFilterStateOptions {\n    filterToQuery?: (v: string) => FilterPayload;\n    permanentFilter?: FilterPayload;\n    debounceTime?: number;\n}\n\n/**\n * @typedef UseFilterStateProps\n * @property {Object} filter: The filter object.\n * @property {setFilter} setFilter: Update the filter with the given string\n */\ninterface UseFilterStateProps {\n    filter: FilterPayload;\n    setFilter: (v: string) => void;\n}\n\nconst defaultFilterToQuery = (v: string) => ({ q: v });\n\n/**\n * Hooks to provide filter state and setFilter which update the query part of the filter\n *\n * @example\n *\n * const { filter, setFilter } = useFilter({\n *      filterToQuery: v => ({ query: v }),\n *      permanentFilter: { foo: 'bar' },\n *      debounceTime: 500,\n * });\n * // filter initial value:\n * {\n *      query: '',\n *      foo: 'bar'\n * }\n *  // after updating filter\n *  setFilter('needle');\n *  {\n *      query: 'needle',\n *      foo: 'bar'\n *  }\n *\n * @param {Object} option\n * @param {Function} option.filterToQuery Function to convert the filter string to a filter object. Defaults to v => ({ q: v }).\n * @param {Object} option.permanentFilter Permanent filter to be merged with the filter string. Defaults to {}.\n * @param {number} option.debounceTime Time in ms between filter updates - used to debounce the search. Defaults to 500ms.\n *\n * @returns {UseFilterStateOptions} The filter props\n */\nexport default ({\n    filterToQuery = defaultFilterToQuery,\n    permanentFilter = {},\n    debounceTime = 500,\n}: UseFilterStateOptions): UseFilterStateProps => {\n    const permanentFilterProp = useRef(permanentFilter);\n    const latestValue = useRef<string>();\n    const [filter, setFilterValue] = useSafeSetState({\n        ...permanentFilter,\n        ...filterToQuery(''),\n    });\n    // Developers often pass an object literal as permanent filter\n    // e.g. <ReferenceInput source=\"book_id\" reference=\"books\" filter={{ is_published: true }}>\n    // The effect should execute again when the parent component updates the filter value,\n    // but not when the object literal describes the same values. Therefore,\n    // we use JSON.stringify(permanentFilter) in the `useEffect` and `useCallback`\n    // dependencies instead of permanentFilter.\n    const permanentFilterSignature = JSON.stringify(permanentFilter);\n\n    useEffect(() => {\n        if (!isEqual(permanentFilterProp.current, permanentFilter)) {\n            permanentFilterProp.current = permanentFilter;\n            setFilterValue({\n                ...permanentFilter,\n                ...filterToQuery(latestValue.current),\n            });\n        }\n    }, [permanentFilterSignature, permanentFilterProp, filterToQuery]); // eslint-disable-line react-hooks/exhaustive-deps\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    const setFilter = useCallback(\n        debounce((value: string) => {\n            setFilterValue({\n                ...permanentFilter,\n                ...filterToQuery(value),\n            });\n            latestValue.current = value;\n        }, debounceTime),\n        [permanentFilterSignature] // eslint-disable-line react-hooks/exhaustive-deps\n    );\n\n    return {\n        filter,\n        setFilter,\n    };\n};\n","import { useReducer, useEffect, useRef, useCallback } from 'react';\n\nimport { SORT_ASC, SORT_DESC } from './list/queryReducer';\nimport { SortPayload } from '../types';\n\nexport interface SortProps {\n    setSortField: (field: SortPayload['field']) => void;\n    setSortOrder: (order: SortPayload['order']) => void;\n    setSort: (sort: SortPayload) => void;\n    sort: SortPayload;\n}\n\ntype Action =\n    | { type: 'SET_SORT'; payload: SortPayload }\n    | { type: 'SET_SORT_FIELD'; payload: SortPayload['field'] }\n    | { type: 'SET_SORT_ORDER'; payload: SortPayload['order'] };\n\nconst sortReducer = (state: SortPayload, action: Action): SortPayload => {\n    switch (action.type) {\n        case 'SET_SORT':\n            return action.payload;\n        case 'SET_SORT_FIELD': {\n            const field = action.payload;\n            const order =\n                state.field === field\n                    ? state.order === SORT_ASC\n                        ? SORT_DESC\n                        : SORT_ASC\n                    : SORT_ASC;\n            return { field, order };\n        }\n        case 'SET_SORT_ORDER': {\n            const order = action.payload;\n            return {\n                ...state,\n                order,\n            };\n        }\n        default:\n            return state;\n    }\n};\n\nexport const defaultSort = { field: 'id', order: 'DESC' };\n\n/**\n * Set the sort { field, order }\n * @name setSort\n * @function\n * @param {SortPayload} sort the sort object\n */\n\n/**\n * Set the sort field, swap the order if the field is the same\n * @name setSortField\n * @function\n * @param {string} field the sort field\n */\n\n/**\n * Set the sort order\n * @name setSortOrder\n * @function\n * @param {string} order The sort order, either ASC or DESC\n */\n\n/**\n * @typedef SortProps\n * @type {Object}\n * @property {Object} sort: the sort object.\n * @property {string} sort.field: the sort object.\n * @property {'ASC' | 'DESC'} sort.order: the sort object.\n * @property {setSort} setSort\n * @property {setSortField} setSortField\n * @property {setSortOrder} setSortOrder\n */\n\n/**\n * Hooks to provide sort state\n *\n * @example\n *\n * const { sort, setSort, setSortField, setSortOrder } = useSort({\n *      field: 'name',\n *      order: 'ASC',\n * });\n *\n * setSort({ field: 'name', order: 'ASC' });\n * // is the same as\n * setSortField('name');\n * setSortOrder('ASC');\n *\n * @param {Object} initialSort\n * @param {string} initialSort.field The initial sort field\n * @param {string} initialSort.order The initial sort order\n * @returns {SortProps} The sort props\n */\nconst useSortState = (initialSort: SortPayload = defaultSort): SortProps => {\n    const [sort, dispatch] = useReducer(sortReducer, initialSort);\n    const isFirstRender = useRef(true);\n    useEffect(() => {\n        if (isFirstRender.current) {\n            isFirstRender.current = false;\n            return;\n        }\n        dispatch({ type: 'SET_SORT', payload: initialSort });\n    }, [initialSort.field, initialSort.order]); // eslint-disable-line react-hooks/exhaustive-deps\n\n    return {\n        setSort: useCallback(\n            (sort: SortPayload) =>\n                dispatch({ type: 'SET_SORT', payload: sort }),\n            [dispatch]\n        ),\n        setSortField: useCallback(\n            (field: string) =>\n                dispatch({ type: 'SET_SORT_FIELD', payload: field }),\n            [dispatch]\n        ),\n        setSortOrder: useCallback(\n            (order: string) =>\n                dispatch({ type: 'SET_SORT_ORDER', payload: order }),\n            [dispatch]\n        ),\n        sort,\n    };\n};\n\nexport default useSortState;\n","import { Reducer } from 'react';\nimport set from 'lodash/set';\n\nimport removeEmpty from '../../util/removeEmpty';\nimport removeKey from '../../util/removeKey';\nimport { ListParams } from './useListParams';\n\nexport const SET_SORT = 'SET_SORT';\nexport const SORT_ASC = 'ASC';\nexport const SORT_DESC = 'DESC';\n\nexport const SET_PAGE = 'SET_PAGE';\nexport const SET_PER_PAGE = 'SET_PER_PAGE';\n\nexport const SET_FILTER = 'SET_FILTER';\nexport const SHOW_FILTER = 'SHOW_FILTER';\nexport const HIDE_FILTER = 'HIDE_FILTER';\n\nconst oppositeOrder = direction =>\n    direction === SORT_DESC ? SORT_ASC : SORT_DESC;\n\ntype ActionTypes =\n    | {\n          type: typeof SET_SORT;\n          payload: {\n              field: string;\n              order?: typeof SORT_ASC | typeof SORT_DESC;\n          };\n      }\n    | {\n          type: typeof SET_PAGE;\n          payload: number;\n      }\n    | {\n          type: typeof SET_PER_PAGE;\n          payload: number;\n      }\n    | {\n          type: typeof SET_FILTER;\n          payload: {\n              filter: any;\n              displayedFilters?: { [key: string]: boolean };\n          };\n      }\n    | {\n          type: typeof SHOW_FILTER;\n          payload: { filterName: string; defaultValue?: any };\n      }\n    | {\n          type: typeof HIDE_FILTER;\n          payload: string;\n      };\n\n/**\n * This reducer is for the react-router query string.\n */\nexport const queryReducer: Reducer<ListParams, ActionTypes> = (\n    previousState,\n    action\n) => {\n    switch (action.type) {\n        case SET_SORT:\n            if (action.payload.field === previousState.sort) {\n                return {\n                    ...previousState,\n                    order: oppositeOrder(previousState.order),\n                    page: 1,\n                };\n            }\n\n            return {\n                ...previousState,\n                sort: action.payload.field,\n                order: action.payload.order || SORT_ASC,\n                page: 1,\n            };\n\n        case SET_PAGE:\n            return { ...previousState, page: action.payload };\n\n        case SET_PER_PAGE:\n            return { ...previousState, page: 1, perPage: action.payload };\n\n        case SET_FILTER: {\n            return {\n                ...previousState,\n                page: 1,\n                filter: action.payload.filter,\n                displayedFilters: action.payload.displayedFilters\n                    ? action.payload.displayedFilters\n                    : previousState.displayedFilters,\n            };\n        }\n\n        case SHOW_FILTER: {\n            if (\n                previousState.displayedFilters &&\n                previousState.displayedFilters[action.payload.filterName]\n            ) {\n                // the filter is already shown\n                return previousState;\n            }\n            return {\n                ...previousState,\n                filter:\n                    typeof action.payload.defaultValue !== 'undefined'\n                        ? set(\n                              previousState.filter,\n                              action.payload.filterName,\n                              action.payload.defaultValue\n                          )\n                        : previousState.filter,\n                // we don't use lodash.set() for displayed filters\n                // to avoid problems with compound filter names (e.g. 'author.name')\n                displayedFilters: {\n                    ...previousState.displayedFilters,\n                    [action.payload.filterName]: true,\n                },\n            };\n        }\n\n        case HIDE_FILTER: {\n            return {\n                ...previousState,\n                filter: removeEmpty(\n                    removeKey(previousState.filter, action.payload)\n                ),\n                // we don't use lodash.set() for displayed filters\n                // to avoid problems with compound filter names (e.g. 'author.name')\n                displayedFilters: previousState.displayedFilters\n                    ? Object.keys(previousState.displayedFilters).reduce(\n                          (filters, filter) => {\n                              return filter !== action.payload\n                                  ? { ...filters, [filter]: true }\n                                  : filters;\n                          },\n                          {}\n                      )\n                    : previousState.displayedFilters,\n            };\n        }\n\n        default:\n            return previousState;\n    }\n};\n\nexport default queryReducer;\n","import { useEffect, useReducer, useCallback, useRef } from 'react';\nimport { PaginationPayload } from '../types';\n\n/**\n * @typedef PaginationProps\n * @type {Object}\n * @property {number} page: The page number.\n * @property {number} perPage: The number of item per page.\n * @property {Function} setPage: Set the page number\n * @property {Function} setPerPage: Set the per page number\n * @property {Function} setPagination: Set page and perPage pagination numbers\n */\nexport interface PaginationHookResult {\n    page: number;\n    perPage: number;\n    pagination: PaginationPayload;\n    setPage: (page: number) => void;\n    setPerPage: (perPage: number) => void;\n    setPagination: (pagination: PaginationPayload) => void;\n}\n\nconst paginationReducer = (\n    prevState: PaginationPayload,\n    nextState: Partial<PaginationPayload>\n): PaginationPayload => {\n    return {\n        ...prevState,\n        ...nextState,\n    };\n};\n\nconst defaultPagination = {\n    page: 1,\n    perPage: 25,\n};\n\n/**\n * Hooks to provide pagination state (page and perPage)\n *\n * @example\n *\n * const { page, setPage, perPage, setPerPage } = usePagination(initialPerPage);\n *\n * @param {number} initialPagination the initial value per page\n * @returns {PaginationHookResult} The pagination props\n */\nexport default (\n    initialPagination: { perPage?: number; page?: number } = {}\n): PaginationHookResult => {\n    const [pagination, setPagination] = useReducer(paginationReducer, {\n        ...defaultPagination,\n        ...initialPagination,\n    });\n    const isFirstRender = useRef(true);\n\n    const setPerPage = useCallback(\n        perPage => setPagination({ perPage, page: 1 }),\n        []\n    );\n    const setPage = useCallback(page => setPagination({ page }), []);\n\n    useEffect(() => {\n        if (isFirstRender.current) {\n            isFirstRender.current = false;\n            return;\n        }\n        setPerPage(initialPagination.perPage || 25);\n    }, [initialPagination.perPage, setPerPage]);\n\n    return {\n        page: pagination.page,\n        perPage: pagination.perPage,\n        pagination,\n        setPage,\n        setPerPage,\n        setPagination,\n    };\n};\n","import * as React from 'react';\nimport { ComponentType } from 'react';\n\nconst checkMinimumRequiredProps = (\n    displayName: string,\n    requiredProps: string[]\n) => (WrappedComponent: ComponentType) => (props: any) => {\n    useCheckMinimumRequiredProps(displayName, requiredProps, props);\n    return <WrappedComponent {...props} />;\n};\n\nexport default checkMinimumRequiredProps;\n\n// Not a hook but named that way to avoid conflicts with the old one\nexport const useCheckMinimumRequiredProps = (\n    displayName: string,\n    requiredProps: string[],\n    props: any\n): void => {\n    const propNames = Object.keys(props);\n    const missingProps = requiredProps.filter(\n        prop => !propNames.includes(prop)\n    );\n\n    if (missingProps.length > 0) {\n        throw new Error(\n            `<${displayName}> component is not properly configured, some essential props are missing.\nBe sure to pass the props from the parent. Example:\n\nconst My${displayName} = props => (\n    <${displayName} {...props}></${displayName}>\n);\n\nThe missing props are: ${missingProps.join(', ')}`\n        );\n    }\n};\n","import { useCallback, ReactEventHandler } from 'react';\nimport { UseMutationOptions } from 'react-query';\n\nimport { useDelete } from '../../dataProvider';\nimport { useUnselect } from '../../controller';\nimport { useRedirect, RedirectionSideEffect } from '../../routing';\nimport { useNotify } from '../../notification';\nimport { RaRecord, DeleteParams } from '../../types';\nimport { useResourceContext } from '../../core';\n\n/**\n * Prepare callback for a Delete button with undo support\n *\n * @example\n *\n * import React from 'react';\n * import ActionDelete from '@mui/icons-material/Delete';\n * import { Button, useDeleteWithUndoController } from 'react-admin';\n *\n * const DeleteButton = ({\n *     resource,\n *     record,\n *     redirect,\n *     onClick,\n *     ...rest\n * }) => {\n *     const { isLoading, handleDelete } = useDeleteWithUndoController({\n *         resource,\n *         record,\n *         redirect,\n *         onClick,\n *     });\n *\n *     return (\n *         <Button\n *             onClick={handleDelete}\n *             disabled={isLoading}\n *             label=\"ra.action.delete\"\n *             {...rest}\n *         >\n *             <ActionDelete />\n *         </Button>\n *     );\n * };\n */\nconst useDeleteWithUndoController = <RecordType extends RaRecord = any>(\n    props: UseDeleteWithUndoControllerParams<RecordType>\n): UseDeleteWithUndoControllerReturn => {\n    const {\n        record,\n        redirect: redirectTo = 'list',\n        onClick,\n        mutationOptions,\n    } = props;\n    const resource = useResourceContext(props);\n    const notify = useNotify();\n    const unselect = useUnselect(resource);\n    const redirect = useRedirect();\n    const [deleteOne, { isLoading }] = useDelete<RecordType>();\n\n    const handleDelete = useCallback(\n        event => {\n            event.stopPropagation();\n            deleteOne(\n                resource,\n                { id: record.id, previousData: record },\n                {\n                    onSuccess: () => {\n                        notify('ra.notification.deleted', {\n                            type: 'info',\n                            messageArgs: { smart_count: 1 },\n                            undoable: true,\n                        });\n                        unselect([record.id]);\n                        redirect(redirectTo, resource);\n                    },\n                    onError: (error: Error) => {\n                        notify(\n                            typeof error === 'string'\n                                ? error\n                                : error.message || 'ra.notification.http_error',\n                            {\n                                type: 'warning',\n                                messageArgs: {\n                                    _:\n                                        typeof error === 'string'\n                                            ? error\n                                            : error && error.message\n                                            ? error.message\n                                            : undefined,\n                                },\n                            }\n                        );\n                    },\n                    mutationMode: 'undoable',\n                    ...mutationOptions,\n                }\n            );\n            if (typeof onClick === 'function') {\n                onClick(event);\n            }\n        },\n        [\n            deleteOne,\n            mutationOptions,\n            notify,\n            onClick,\n            record,\n            redirect,\n            redirectTo,\n            resource,\n            unselect,\n        ]\n    );\n\n    return { isLoading, handleDelete };\n};\n\nexport interface UseDeleteWithUndoControllerParams<\n    RecordType extends RaRecord = any\n> {\n    record?: RecordType;\n    redirect?: RedirectionSideEffect;\n    // @deprecated. This hook get the resource from the context\n    resource?: string;\n    onClick?: ReactEventHandler<any>;\n    mutationOptions?: UseMutationOptions<\n        RecordType,\n        unknown,\n        DeleteParams<RecordType>\n    >;\n}\n\nexport interface UseDeleteWithUndoControllerReturn {\n    isLoading: boolean;\n    handleDelete: ReactEventHandler<any>;\n}\n\nexport default useDeleteWithUndoController;\n","import {\n    useState,\n    useCallback,\n    ReactEventHandler,\n    SyntheticEvent,\n} from 'react';\nimport { UseMutationOptions } from 'react-query';\n\nimport { useDelete } from '../../dataProvider';\nimport { useUnselect } from '../../controller';\nimport { useRedirect, RedirectionSideEffect } from '../../routing';\nimport { useNotify } from '../../notification';\nimport { RaRecord, MutationMode, DeleteParams } from '../../types';\nimport { useResourceContext } from '../../core';\n\n/**\n * Prepare a set of callbacks for a delete button guarded by confirmation dialog\n *\n * @example\n *\n * const DeleteButton = ({\n *     resource,\n *     record,\n *     redirect,\n *     onClick,\n *     ...rest\n * }) => {\n *     const {\n *         open,\n *         isLoading,\n *         handleDialogOpen,\n *         handleDialogClose,\n *         handleDelete,\n *     } = useDeleteWithConfirmController({\n *         resource,\n *         record,\n *         redirect,\n *         onClick,\n *     });\n *\n *     return (\n *         <Fragment>\n *             <Button\n *                 onClick={handleDialogOpen}\n *                 label=\"ra.action.delete\"\n *                 {...rest}\n *             >\n *                 {icon}\n *             </Button>\n *             <Confirm\n *                 isOpen={open}\n *                 loading={isLoading}\n *                 title=\"ra.message.delete_title\"\n *                 content=\"ra.message.delete_content\"\n *                 translateOptions={{\n *                     name: resource,\n *                     id: record.id,\n *                 }}\n *                 onConfirm={handleDelete}\n *                 onClose={handleDialogClose}\n *             />\n *         </Fragment>\n *     );\n * };\n */\nconst useDeleteWithConfirmController = <RecordType extends RaRecord = any>(\n    props: UseDeleteWithConfirmControllerParams<RecordType>\n): UseDeleteWithConfirmControllerReturn => {\n    const {\n        record,\n        redirect: redirectTo,\n        mutationMode,\n        onClick,\n        mutationOptions,\n    } = props;\n    const resource = useResourceContext(props);\n    const [open, setOpen] = useState(false);\n    const notify = useNotify();\n    const unselect = useUnselect(resource);\n    const redirect = useRedirect();\n    const [deleteOne, { isLoading }] = useDelete<RecordType>();\n\n    const handleDialogOpen = e => {\n        setOpen(true);\n        e.stopPropagation();\n    };\n\n    const handleDialogClose = e => {\n        setOpen(false);\n        e.stopPropagation();\n    };\n\n    const handleDelete = useCallback(\n        event => {\n            event.stopPropagation();\n            deleteOne(\n                resource,\n                { id: record.id, previousData: record },\n                {\n                    onSuccess: () => {\n                        setOpen(false);\n                        notify('ra.notification.deleted', {\n                            type: 'info',\n                            messageArgs: { smart_count: 1 },\n                            undoable: mutationMode === 'undoable',\n                        });\n                        unselect([record.id]);\n                        redirect(redirectTo, resource);\n                    },\n                    onError: (error: Error) => {\n                        setOpen(false);\n\n                        notify(\n                            typeof error === 'string'\n                                ? error\n                                : error.message || 'ra.notification.http_error',\n                            {\n                                type: 'warning',\n                                messageArgs: {\n                                    _:\n                                        typeof error === 'string'\n                                            ? error\n                                            : error && error.message\n                                            ? error.message\n                                            : undefined,\n                                },\n                            }\n                        );\n                    },\n                    mutationMode,\n                    ...mutationOptions,\n                }\n            );\n            if (typeof onClick === 'function') {\n                onClick(event);\n            }\n        },\n        [\n            deleteOne,\n            mutationMode,\n            mutationOptions,\n            notify,\n            onClick,\n            record,\n            redirect,\n            redirectTo,\n            resource,\n            unselect,\n        ]\n    );\n\n    return {\n        open,\n        isLoading,\n        handleDialogOpen,\n        handleDialogClose,\n        handleDelete,\n    };\n};\n\nexport interface UseDeleteWithConfirmControllerParams<\n    RecordType extends RaRecord = any\n> {\n    mutationMode?: MutationMode;\n    record?: RecordType;\n    redirect?: RedirectionSideEffect;\n    // @deprecated. This hook get the resource from the context\n    resource?: string;\n    onClick?: ReactEventHandler<any>;\n    mutationOptions?: UseMutationOptions<\n        RecordType,\n        unknown,\n        DeleteParams<RecordType>\n    >;\n}\n\nexport interface UseDeleteWithConfirmControllerReturn {\n    open: boolean;\n    isLoading: boolean;\n    handleDialogOpen: (e: SyntheticEvent) => void;\n    handleDialogClose: (e: SyntheticEvent) => void;\n    handleDelete: ReactEventHandler<any>;\n}\n\nexport default useDeleteWithConfirmController;\n","import * as React from 'react';\nimport { ReactNode } from 'react';\nimport {\n    useCreateController,\n    CreateControllerProps,\n} from './useCreateController';\nimport { CreateContextProvider } from './CreateContextProvider';\nimport { RaRecord } from '../../types';\n\n/**\n * Call useCreateController and put the value in a CreateContext\n *\n * Base class for <Create> components, without UI.\n *\n * Accepts any props accepted by useCreateController:\n * - id: The record identifier\n * - resource: The resource\n *\n * @example // Custom edit layout\n *\n * const PostCreate = props => (\n *     <CreateBase {...props}>\n *         <Grid container>\n *             <Grid item xs={8}>\n *                 <SimpleForm>\n *                     ...\n *                 </SimpleForm>\n *             </Grid>\n *             <Grid item xs={4}>\n *                 Create instructions...\n *             </Grid>\n *         </Grid>\n *         <div>\n *             Post related links...\n *         </div>\n *     </CreateBase>\n * );\n */\nexport const CreateBase = <RecordType extends RaRecord = any>({\n    children,\n    ...props\n}: CreateControllerProps<RecordType> & { children: ReactNode }) => (\n    <CreateContextProvider value={useCreateController(props)}>\n        {children}\n    </CreateContextProvider>\n);\n","import { useCallback } from 'react';\n// @ts-ignore\nimport { parse } from 'query-string';\nimport { useLocation } from 'react-router-dom';\nimport { Location } from 'history';\nimport { UseMutationOptions } from 'react-query';\n\nimport { useAuthenticated } from '../../auth';\nimport { useCreate } from '../../dataProvider';\nimport { useRedirect, RedirectionSideEffect } from '../../routing';\nimport { useNotify } from '../../notification';\nimport { SaveHandler } from '../saveContext';\nimport { useTranslate } from '../../i18n';\nimport { RaRecord, CreateParams, TransformData } from '../../types';\nimport {\n    useResourceContext,\n    useResourceDefinition,\n    useGetResourceLabel,\n} from '../../core';\n\n/**\n * Prepare data for the Create view\n *\n * @param {Object} props The props passed to the Create component.\n *\n * @return {Object} controllerProps Fetched data and callbacks for the Create view\n *\n * @example\n *\n * import { useCreateController } from 'react-admin';\n * import CreateView from './CreateView';\n *\n * const MyCreate = props => {\n *     const controllerProps = useCreateController(props);\n *     return <CreateView {...controllerProps} {...props} />;\n * }\n */\nexport const useCreateController = <RecordType extends RaRecord = RaRecord>(\n    props: CreateControllerProps<RecordType> = {}\n): CreateControllerResult<RecordType> => {\n    const {\n        disableAuthentication,\n        record,\n        redirect: redirectTo,\n        transform,\n        mutationOptions = {},\n    } = props;\n\n    useAuthenticated({ enabled: !disableAuthentication });\n    const resource = useResourceContext(props);\n    const { hasEdit, hasShow } = useResourceDefinition(props);\n    const finalRedirectTo =\n        redirectTo || getDefaultRedirectRoute(hasShow, hasEdit);\n    const location = useLocation();\n    const translate = useTranslate();\n    const notify = useNotify();\n    const redirect = useRedirect();\n    const recordToUse = record ?? getRecordFromLocation(location) ?? undefined;\n    const { onSuccess, onError, ...otherMutationOptions } = mutationOptions;\n\n    const [create, { isLoading: saving }] = useCreate<RecordType>(\n        resource,\n        undefined,\n        otherMutationOptions\n    );\n\n    const save = useCallback(\n        (\n            data: Partial<RecordType>,\n            {\n                onSuccess: onSuccessFromSave,\n                onError: onErrorFromSave,\n                transform: transformFromSave,\n            } = {}\n        ) =>\n            Promise.resolve(\n                transformFromSave\n                    ? transformFromSave(data)\n                    : transform\n                    ? transform(data)\n                    : data\n            ).then((data: Partial<RecordType>) =>\n                create(\n                    resource,\n                    { data },\n                    {\n                        onSuccess: onSuccessFromSave\n                            ? onSuccessFromSave\n                            : onSuccess\n                            ? onSuccess\n                            : newRecord => {\n                                  notify('ra.notification.created', {\n                                      type: 'info',\n                                      messageArgs: { smart_count: 1 },\n                                  });\n                                  redirect(\n                                      finalRedirectTo,\n                                      resource,\n                                      newRecord.id,\n                                      newRecord\n                                  );\n                              },\n                        onError: onErrorFromSave\n                            ? onErrorFromSave\n                            : onError\n                            ? onError\n                            : (error: Error) => {\n                                  notify(\n                                      typeof error === 'string'\n                                          ? error\n                                          : error.message ||\n                                                'ra.notification.http_error',\n                                      {\n                                          type: 'warning',\n                                          messageArgs: {\n                                              _:\n                                                  typeof error === 'string'\n                                                      ? error\n                                                      : error && error.message\n                                                      ? error.message\n                                                      : undefined,\n                                          },\n                                      }\n                                  );\n                              },\n                    }\n                )\n            ),\n        [\n            create,\n            finalRedirectTo,\n            notify,\n            onError,\n            onSuccess,\n            redirect,\n            resource,\n            transform,\n        ]\n    );\n\n    const getResourceLabel = useGetResourceLabel();\n    const defaultTitle = translate('ra.page.create', {\n        name: getResourceLabel(resource, 1),\n    });\n\n    return {\n        isFetching: false,\n        isLoading: false,\n        saving,\n        defaultTitle,\n        save,\n        resource,\n        record: recordToUse,\n        redirect: finalRedirectTo,\n    };\n};\n\nexport interface CreateControllerProps<RecordType extends RaRecord = RaRecord> {\n    disableAuthentication?: boolean;\n    record?: Partial<RecordType>;\n    redirect?: RedirectionSideEffect;\n    resource?: string;\n    mutationOptions?: UseMutationOptions<\n        RecordType,\n        unknown,\n        CreateParams<RecordType>\n    >;\n    transform?: TransformData;\n}\n\nexport interface CreateControllerResult<\n    RecordType extends RaRecord = RaRecord\n> {\n    // Necessary for actions (EditActions) which expect a data prop containing the record\n    // @deprecated - to be removed in 4.0d\n    data?: RecordType;\n    defaultTitle: string;\n    isFetching: boolean;\n    isLoading: boolean;\n    save: SaveHandler<RecordType>;\n    saving: boolean;\n    record?: Partial<RecordType>;\n    redirect: RedirectionSideEffect;\n    resource: string;\n}\n\n/**\n * Get the initial record from the location, whether it comes from the location\n * state or is serialized in the url search part.\n */\nexport const getRecordFromLocation = ({ state, search }: Location) => {\n    if (state && (state as StateWithRecord).record) {\n        return (state as StateWithRecord).record;\n    }\n    if (search) {\n        try {\n            const searchParams = parse(search);\n            if (searchParams.source) {\n                if (Array.isArray(searchParams.source)) {\n                    console.error(\n                        `Failed to parse location search parameter '${search}'. To pre-fill some fields in the Create form, pass a stringified source parameter (e.g. '?source={\"title\":\"foo\"}')`\n                    );\n                    return;\n                }\n                return JSON.parse(searchParams.source);\n            }\n        } catch (e) {\n            console.error(\n                `Failed to parse location search parameter '${search}'. To pre-fill some fields in the Create form, pass a stringified source parameter (e.g. '?source={\"title\":\"foo\"}')`\n            );\n        }\n    }\n    return null;\n};\n\ntype StateWithRecord = {\n    record?: Partial<RaRecord>;\n};\n\nconst getDefaultRedirectRoute = (hasShow, hasEdit) => {\n    if (hasEdit) {\n        return 'edit';\n    }\n    if (hasShow) {\n        return 'show';\n    }\n    return 'list';\n};\n","import * as React from 'react';\nimport { ReactNode } from 'react';\n\nimport { RaRecord } from '../../types';\nimport { RecordContextProvider } from '../record/RecordContext';\nimport { CreateContext } from './CreateContext';\nimport { CreateControllerResult } from './useCreateController';\nimport { SaveContextProvider, usePickSaveContext } from '../saveContext';\n\n/**\n * Create a Create Context.\n *\n * @example\n *\n * const MyCreate = (props) => {\n *     const controllerProps = useCreateController(props);\n *     return (\n *         <CreateContextProvider value={controllerProps}>\n *             <MyCreateView>\n *         </CreateContextProvider>\n *     );\n * };\n *\n * const MyCreateView = () => {\n *     const record = useRecordContext();\n *     // or, to rerender only when the save operation change but not data\n *     const { saving } = useCreateContext();\n * }\n *\n * @see CreateContext\n * @see RecordContext\n */\nexport const CreateContextProvider = ({\n    children,\n    value,\n}: {\n    children: ReactNode;\n    value: CreateControllerResult;\n}) => (\n    <CreateContext.Provider value={value}>\n        <SaveContextProvider\n            value={{\n                ...usePickSaveContext(value),\n                mutationMode: 'pessimistic',\n            }}\n        >\n            <RecordContextProvider<Partial<RaRecord>>\n                value={value && value.record}\n            >\n                {children}\n            </RecordContextProvider>\n        </SaveContextProvider>\n    </CreateContext.Provider>\n);\n","import * as React from 'react';\nimport { createContext, ReactNode } from 'react';\nimport { RaRecord } from '../../types';\n\n/**\n * Context to store a record.\n *\n * @see RecordContextProvider\n * @see useRecordContext\n */\nexport const RecordContext = createContext<RaRecord | Omit<RaRecord, 'id'>>(\n    undefined\n);\n\nRecordContext.displayName = 'RecordContext';\n\n/**\n * Provider for the Record Context, to store a record.\n *\n * Use the useRecordContext() hook to read the context.\n * That's what the Edit and Show components do in react-admin.\n *\n * Many react-admin components read the RecordContext, including all Field\n * components.\n *\n * @example\n *\n * import { useGetOne, RecordContextProvider } from 'ra-core';\n *\n * const Show = ({ resource, id }) => {\n *     const { data } = useGetOne(resource, { id });\n *     return (\n *         <RecordContextProvider value={data}>\n *             ...\n *         </RecordContextProvider>\n *     );\n * };\n */\nexport const RecordContextProvider = <\n    RecordType extends RaRecord | Omit<RaRecord, 'id'> = RaRecord\n>({\n    children,\n    value,\n}: RecordContextProviderProps<RecordType>) => (\n    <RecordContext.Provider value={value}>{children}</RecordContext.Provider>\n);\n\nexport interface RecordContextProviderProps<RecordType> {\n    children: ReactNode;\n    value?: RecordType;\n}\n","import { createContext } from 'react';\nimport { CreateControllerResult } from './useCreateController';\n\n/**\n * Context to store the result of the useCreateController() hook.\n *\n * Use the useCreateContext() hook to read the context. That's what the Create components do in react-admin.\n *\n * @example\n *\n * import { useCreateController, CreateContextProvider } from 'ra-core';\n *\n * const Create = props => {\n *     const controllerProps = useCreateController(props);\n *     return (\n *         <CreateContextProvider value={controllerProps}>\n *             ...\n *         </CreateContextProvider>\n *     );\n * };\n */\nexport const CreateContext = createContext<CreateControllerResult>({\n    record: null,\n    defaultTitle: null,\n    isFetching: null,\n    isLoading: null,\n    redirect: null,\n    resource: null,\n    save: null,\n    saving: null,\n});\n\nCreateContext.displayName = 'CreateContext';\n","import { createContext } from 'react';\nimport {\n    RaRecord,\n    onError,\n    OnSuccess,\n    TransformData,\n    MutationMode,\n} from '../../types';\n\nexport interface SaveContextValue<RecordType extends RaRecord = any> {\n    save?: SaveHandler<RecordType>;\n    saving?: boolean;\n    mutationMode?: MutationMode;\n}\n\nexport type SaveHandler<RecordType> = (\n    record: Partial<RecordType>,\n    callbacks?: {\n        onSuccess?: OnSuccess;\n        onError?: onError;\n        transform?: TransformData;\n    }\n) => Promise<void | RecordType> | Record<string, string>;\n\nexport const SaveContext = createContext<SaveContextValue>(undefined);\n","import * as React from 'react';\nimport { SaveContext } from './SaveContext';\n\nexport const SaveContextProvider = ({ children, value }) => (\n    <SaveContext.Provider value={value}>{children}</SaveContext.Provider>\n);\n","import { useMemo } from 'react';\nimport pick from 'lodash/pick';\nimport { SaveContextValue } from './SaveContext';\n\n/**\n * This hook extracts the `save`, `saving` and mutationMode properties from either the `CreateContext` or `EditContext`. This ensures the `SaveContext` doesn't rerender when those two contexts have other properties changes.\n */\nexport const usePickSaveContext = <\n    ContextType extends SaveContextValue = SaveContextValue\n>(\n    context: ContextType\n): SaveContextValue => {\n    const value = useMemo(\n        () => pick(context, ['save', 'saving', 'mutationMode']),\n        /* eslint-disable react-hooks/exhaustive-deps */\n        [context.save, context.saving, context.mutationMode]\n        /* eslint-enable react-hooks/exhaustive-deps */\n    );\n\n    return value;\n};\n","import { useContext } from 'react';\nimport { SaveContext, SaveContextValue } from './SaveContext';\n/**\n * Get the save() function and its status\n *\n * Used in forms.\n *\n * @example\n *\n * const {\n *     save,\n *     saving\n * } = useSaveContext();\n */\nexport const useSaveContext = <\n    PropsType extends SaveContextValue = SaveContextValue\n>(\n    props?: PropsType\n): SaveContextValue => {\n    return useContext(SaveContext);\n};\n","import {\n    useCreateController,\n    CreateControllerProps,\n    CreateControllerResult,\n} from './useCreateController';\n\n/**\n * Render prop version of the useCreateController hook\n *\n * @see useCreateController\n * @example\n *\n * const CreateView = () => <div>...</div>\n * const MyCreate = props => (\n *     <CreateController {...props}>\n *         {controllerProps => <CreateView {...controllerProps} {...props} />}\n *     </CreateController>\n * );\n */\nexport const CreateController = ({\n    children,\n    ...props\n}: {\n    children: (params: CreateControllerResult) => JSX.Element;\n} & CreateControllerProps) => {\n    const controllerProps = useCreateController(props);\n    return children(controllerProps);\n};\n","import { useContext, useMemo } from 'react';\nimport defaults from 'lodash/defaults';\n\nimport { RaRecord } from '../../types';\nimport { CreateContext } from './CreateContext';\nimport { CreateControllerResult } from './useCreateController';\n\n/**\n * Hook to read the create controller props from the CreateContext.\n *\n * Mostly used within a <CreateContext.Provider> (e.g. as a descendent of <Create>).\n *\n * But you can also use it without a <CreateContext.Provider>. In this case, it is up to you\n * to pass all the necessary props.\n *\n * The given props will take precedence over context values.\n *\n * @typedef {Object} CreateControllerProps\n *\n * @returns {CreateControllerResult} create controller props\n *\n * @see useCreateController for how it is filled\n *\n */\nexport const useCreateContext = <RecordType extends RaRecord = RaRecord>(\n    props?: Partial<CreateControllerResult<RecordType>>\n): Partial<CreateControllerResult<RecordType>> => {\n    const context = useContext<CreateControllerResult<RecordType>>(\n        // Can't find a way to specify the RecordType when CreateContext is declared\n        // @ts-ignore\n        CreateContext\n    );\n    // Props take precedence over the context\n    return useMemo(\n        () =>\n            defaults(\n                {},\n                props != null ? extractCreateContextProps(props) : {},\n                context\n            ),\n        [context, props]\n    );\n};\n\n/**\n * Extract only the create controller props\n *\n * @param {Object} props props passed to the useCreateContext hook\n *\n * @returns {CreateControllerResult} create controller props\n */\nconst extractCreateContextProps = ({\n    record,\n    defaultTitle,\n    isFetching,\n    isLoading,\n    redirect,\n    resource,\n    save,\n    saving,\n}: any) => ({\n    record,\n    defaultTitle,\n    isFetching,\n    isLoading,\n    redirect,\n    resource,\n    save,\n    saving,\n});\n","import * as React from 'react';\nimport { ReactNode } from 'react';\n\nimport { RaRecord } from '../../types';\nimport { useEditController, EditControllerProps } from './useEditController';\nimport { EditContextProvider } from './EditContextProvider';\n\n/**\n * Call useEditController and put the value in a EditContext\n *\n * Base class for <Edit> components, without UI.\n *\n * Accepts any props accepted by useEditController:\n * - id: The record identifier\n * - resource: The resource\n *\n * @example // Custom edit layout\n *\n * const PostEdit = () => (\n *     <EditBase resource=\"posts\">\n *         <Grid container>\n *             <Grid item xs={8}>\n *                 <SimpleForm>\n *                     ...\n *                 </SimpleForm>\n *             </Grid>\n *             <Grid item xs={4}>\n *                 Edit instructions...\n *             </Grid>\n *         </Grid>\n *         <div>\n *             Post related links...\n *         </div>\n *     </EditBase>\n * );\n */\nexport const EditBase = <RecordType extends RaRecord = any>({\n    children,\n    ...props\n}: { children: ReactNode } & EditControllerProps<RecordType>) => (\n    <EditContextProvider value={useEditController<RecordType>(props)}>\n        {children}\n    </EditContextProvider>\n);\n","import { useCallback } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { UseQueryOptions, UseMutationOptions } from 'react-query';\n\nimport { useAuthenticated } from '../../auth';\nimport {\n    RaRecord,\n    MutationMode,\n    TransformData,\n    UpdateParams,\n} from '../../types';\nimport { useRedirect, RedirectionSideEffect } from '../../routing';\nimport { useNotify } from '../../notification';\nimport {\n    useGetOne,\n    useUpdate,\n    useRefresh,\n    UseGetOneHookValue,\n} from '../../dataProvider';\nimport { useTranslate } from '../../i18n';\nimport { useResourceContext, useGetResourceLabel } from '../../core';\nimport { SaveHandler } from '../saveContext';\n\n/**\n * Prepare data for the Edit view.\n *\n * useEditController does a few things:\n * - it grabs the id from the URL and the resource name from the ResourceContext,\n * - it fetches the record via useGetOne,\n * - it prepares the page title.\n *\n * @param {Object} props The props passed to the Edit component.\n *\n * @return {Object} controllerProps Fetched data and callbacks for the Edit view\n *\n * @example\n *\n * import { useEditController } from 'react-admin';\n * import EditView from './EditView';\n *\n * const MyEdit = () => {\n *     const controllerProps = useEditController({ resource: 'posts', id: 123 });\n *     return <EditView {...controllerProps} {...props} />;\n * }\n */\nexport const useEditController = <RecordType extends RaRecord = any>(\n    props: EditControllerProps<RecordType> = {}\n): EditControllerResult<RecordType> => {\n    const {\n        disableAuthentication,\n        id: propsId,\n        mutationMode = 'undoable',\n        mutationOptions = {},\n        queryOptions = {},\n        redirect: redirectTo = DefaultRedirect,\n        transform,\n    } = props;\n    useAuthenticated({ enabled: !disableAuthentication });\n    const resource = useResourceContext(props);\n    const translate = useTranslate();\n    const notify = useNotify();\n    const redirect = useRedirect();\n    const refresh = useRefresh();\n    const { id: routeId } = useParams<'id'>();\n    const id = propsId || decodeURIComponent(routeId);\n    const { onSuccess, onError, ...otherMutationOptions } = mutationOptions;\n\n    const { data: record, error, isLoading, isFetching, refetch } = useGetOne<\n        RecordType\n    >(\n        resource,\n        { id },\n        {\n            onError: () => {\n                notify('ra.notification.item_doesnt_exist', {\n                    type: 'warning',\n                });\n                redirect('list', resource);\n                refresh();\n            },\n            refetchOnReconnect: false,\n            refetchOnWindowFocus: false,\n            retry: false,\n            ...queryOptions,\n        }\n    );\n\n    // eslint-disable-next-line eqeqeq\n    if (record && record.id && record.id != id) {\n        throw new Error(\n            `useEditController: Fetched record's id attribute (${record.id}) must match the requested 'id' (${id})`\n        );\n    }\n\n    const getResourceLabel = useGetResourceLabel();\n    const defaultTitle = translate('ra.page.edit', {\n        name: getResourceLabel(resource, 1),\n        id,\n        record,\n    });\n\n    const recordCached = { id, previousData: record };\n\n    const [update, { isLoading: saving }] = useUpdate<RecordType>(\n        resource,\n        recordCached,\n        { ...otherMutationOptions, mutationMode }\n    );\n\n    const save = useCallback(\n        (\n            data: Partial<RecordType>,\n            {\n                onSuccess: onSuccessFromSave,\n                onError: onErrorFromSave,\n                transform: transformFromSave,\n            } = {}\n        ) =>\n            Promise.resolve(\n                transformFromSave\n                    ? transformFromSave(data, {\n                          previousData: recordCached.previousData,\n                      })\n                    : transform\n                    ? transform(data, {\n                          previousData: recordCached.previousData,\n                      })\n                    : data\n            ).then((data: Partial<RecordType>) =>\n                update(\n                    resource,\n                    { data },\n                    {\n                        onSuccess: onSuccessFromSave\n                            ? onSuccessFromSave\n                            : onSuccess\n                            ? onSuccess\n                            : () => {\n                                  notify('ra.notification.updated', {\n                                      type: 'info',\n                                      messageArgs: { smart_count: 1 },\n                                      undoable: mutationMode === 'undoable',\n                                  });\n                                  redirect(redirectTo, resource, data.id, data);\n                              },\n                        onError: onErrorFromSave\n                            ? onErrorFromSave\n                            : onError\n                            ? onError\n                            : (error: Error | string) => {\n                                  notify(\n                                      typeof error === 'string'\n                                          ? error\n                                          : error.message ||\n                                                'ra.notification.http_error',\n                                      {\n                                          type: 'warning',\n                                          messageArgs: {\n                                              _:\n                                                  typeof error === 'string'\n                                                      ? error\n                                                      : error && error.message\n                                                      ? error.message\n                                                      : undefined,\n                                          },\n                                      }\n                                  );\n                              },\n                    }\n                )\n            ),\n        [\n            mutationMode,\n            notify,\n            onError,\n            onSuccess,\n            redirect,\n            redirectTo,\n            resource,\n            transform,\n            update,\n            recordCached.previousData,\n        ]\n    );\n\n    return {\n        defaultTitle,\n        error,\n        isFetching,\n        isLoading,\n        mutationMode,\n        record,\n        redirect: DefaultRedirect,\n        refetch,\n        resource,\n        save,\n        saving,\n    };\n};\n\nexport interface EditControllerProps<RecordType extends RaRecord = any> {\n    disableAuthentication?: boolean;\n    id?: RecordType['id'];\n    mutationMode?: MutationMode;\n    mutationOptions?: UseMutationOptions<\n        RecordType,\n        unknown,\n        UpdateParams<RecordType>\n    >;\n    queryOptions?: UseQueryOptions<RecordType>;\n    redirect?: RedirectionSideEffect;\n    resource?: string;\n    transform?: TransformData;\n    [key: string]: any;\n}\n\nexport interface EditControllerResult<RecordType extends RaRecord = any> {\n    // Necessary for actions (EditActions) which expect a data prop containing the record\n    // @deprecated - to be removed in 4.0d\n    data?: RecordType;\n    error?: any;\n    defaultTitle: string;\n    isFetching: boolean;\n    isLoading: boolean;\n    mutationMode?: MutationMode;\n    save: SaveHandler<RecordType>;\n    saving: boolean;\n    record?: RecordType;\n    refetch: UseGetOneHookValue<RecordType>['refetch'];\n    redirect: RedirectionSideEffect;\n    resource: string;\n}\n\nconst DefaultRedirect = 'list';\n","import * as React from 'react';\nimport { ReactNode } from 'react';\nimport { RaRecord } from '../../types';\nimport { RecordContextProvider } from '../record';\nimport { SaveContextProvider, usePickSaveContext } from '../saveContext';\nimport { EditContext } from './EditContext';\nimport { EditControllerResult } from './useEditController';\n\n/**\n * Create an Edit Context.\n *\n * @example\n *\n * const MyEdit = (props) => {\n *     const controllerProps = useEditController(props);\n *     return (\n *         <EditContextProvider value={controllerProps}>\n *             <MyEditView>\n *         </EditContextProvider>\n *     );\n * };\n *\n * const MyEditView = () => {\n *     const record = useRecordContext();\n *     // or, to rerender only when the save operation change but not data\n *     const { saving } = useEditContext();\n * }\n *\n * @see EditContext\n * @see RecordContext\n */\nexport const EditContextProvider = ({\n    children,\n    value,\n}: {\n    children: ReactNode;\n    value: EditControllerResult;\n}) => (\n    <EditContext.Provider value={value}>\n        <SaveContextProvider value={usePickSaveContext(value)}>\n            <RecordContextProvider<Partial<RaRecord>>\n                value={value && value.record}\n            >\n                {children}\n            </RecordContextProvider>\n        </SaveContextProvider>\n    </EditContext.Provider>\n);\n","import { useContext } from 'react';\nimport { RaRecord } from '../../types';\nimport { RecordContext } from './RecordContext';\n\n/**\n * Hook to read the record from a RecordContext.\n *\n * Must be used within a <RecordContext> such as provided by the <EditContextProvider>\n * (e.g. as a descendent of <Edit> or <EditBase>) or within a <ShowContextProvider>\n * (e.g. as a descendent of <Show> or <ShowBase>)\n *\n * @example // basic usage\n *\n * import { useRecordContext } from 'ra-core';\n *\n * const TitleField = () => {\n *     const record = useRecordContext();\n *     return <span>{record && record.title}</span>;\n * };\n *\n * @example // allow record override via props\n *\n * import { useRecordContext } from 'ra-core';\n *\n * const TitleField = (props) => {\n *     const record = useRecordContext(props);\n *     return <span>{record && record.title}</span>;\n * };\n * render(<TextField record={record} />);\n *\n * @returns {RaRecord} A record object\n */\nexport const useRecordContext = <\n    RecordType extends RaRecord | Omit<RaRecord, 'id'> = RaRecord\n>(\n    props?: UseRecordContextParams<RecordType>\n): RecordType | undefined => {\n    // Can't find a way to specify the RecordType when CreateContext is declared\n    // @ts-ignore\n    const context = useContext<RecordType>(RecordContext);\n\n    return (props && props.record) || context;\n};\n\nexport interface UseRecordContextParams<\n    RecordType extends RaRecord | Omit<RaRecord, 'id'> = RaRecord\n> {\n    record?: RecordType;\n    [key: string]: any;\n}\n","import { ReactElement } from 'react';\nimport { RaRecord } from '../../types';\nimport { useRecordContext } from './useRecordContext';\n\n/**\n * Render prop version of useRecordContext\n *\n * @example\n * const BookShow = () => (\n *    <Show>\n *       <SimpleShowLayout>\n *          <WithRecord render={record => <span>{record.title}</span>} />\n *      </SimpleShowLayout>\n *   </Show>\n * );\n */\nexport const WithRecord = <RecordType extends RaRecord>({\n    render,\n}: WithRecordProps<RecordType>) => {\n    const record = useRecordContext<RecordType>();\n    return record ? render(record) : null;\n};\n\nexport interface WithRecordProps<RecordType extends RaRecord> {\n    render: (record: RecordType) => ReactElement;\n    label?: string;\n}\n","import * as React from 'react';\nimport { ReactElement } from 'react';\nimport { RaRecord } from '../../types';\nimport { RecordContextProvider } from './RecordContext';\n\n/**\n * Wrap children with a RecordContext provider only if the value is defined.\n *\n * Allows a component to work outside of a record context.\n *\n * @example\n *\n * import { OptionalRecordContextProvider, TextField } from 'react-admin';\n *\n * const RecordTitle = ({ record }) => (\n *     <OptionalRecordContextProvider value={record}>\n *         <TextField source=\"title\" />\n *     </OptionalRecordContextProvider>\n * );\n */\nexport const OptionalRecordContextProvider = <\n    RecordType extends RaRecord | Omit<RaRecord, 'id'> = RaRecord\n>({\n    value,\n    children,\n}: {\n    children: ReactElement;\n    value?: RecordType;\n}) =>\n    value ? (\n        <RecordContextProvider value={value}>{children}</RecordContextProvider>\n    ) : (\n        children\n    );\n","import { createContext } from 'react';\nimport { EditControllerResult } from './useEditController';\n\n/**\n * Context to store the result of the useEditController() hook.\n *\n * Use the useEditContext() hook to read the context. That's what the Edit components do in react-admin.\n *\n * @example\n *\n * import { useEditController, EditContextProvider } from 'ra-core';\n *\n * const Edit = props => {\n *     const controllerProps = useEditController(props);\n *     return (\n *         <EditContextProvider value={controllerProps}>\n *             ...\n *         </EditContextProvider>\n *     );\n * };\n */\nexport const EditContext = createContext<EditControllerResult>({\n    record: null,\n    defaultTitle: null,\n    isFetching: null,\n    isLoading: null,\n    mutationMode: null,\n    redirect: null,\n    refetch: null,\n    resource: null,\n    save: null,\n    saving: null,\n});\n\nEditContext.displayName = 'EditContext';\n","import {\n    useEditController,\n    EditControllerProps,\n    EditControllerResult,\n} from './useEditController';\n\n/**\n * Render prop version of the useEditController hook\n *\n * @see useEditController\n * @example\n *\n * const EditView = () => <div>...</div>\n * const MyEdit = props => (\n *     <EditController {...props}>\n *         {controllerProps => <EditView {...controllerProps} {...props} />}\n *     </EditController>\n * );\n */\nexport const EditController = ({\n    children,\n    ...props\n}: {\n    children: (params: EditControllerResult) => JSX.Element;\n} & EditControllerProps) => {\n    const controllerProps = useEditController(props);\n    return children(controllerProps);\n};\n","import { useContext, useMemo } from 'react';\nimport defaults from 'lodash/defaults';\n\nimport { RaRecord } from '../../types';\nimport { EditContext } from './EditContext';\nimport { EditControllerResult } from './useEditController';\n\n/**\n * Hook to read the edit controller props from the CreateContext.\n *\n * Mostly used within a <EditContext.Provider> (e.g. as a descendent of <Edit>).\n *\n * But you can also use it without a <EditContext.Provider>. In this case, it is up to you\n * to pass all the necessary props.\n *\n * The given props will take precedence over context values.\n *\n * @typedef {Object} EditControllerProps\n *\n * @returns {EditControllerResult} edit controller props\n *\n * @see useEditController for how it is filled\n *\n */\nexport const useEditContext = <RecordType extends RaRecord = any>(\n    props?: Partial<EditControllerResult<RecordType>>\n): Partial<EditControllerResult<RecordType>> => {\n    // Can't find a way to specify the RecordType when EditContext is declared\n    // @ts-ignore\n    const context = useContext<EditControllerResult<RecordType>>(EditContext);\n\n    // Props take precedence over the context\n    return useMemo(\n        () =>\n            defaults(\n                {},\n                props != null ? extractEditContextProps(props) : {},\n                context\n            ),\n        [context, props]\n    );\n};\n\n/**\n * Extract only the edit controller props\n *\n * @param {Object} props props passed to the useEditContext hook\n *\n * @returns {EditControllerResult} edit controller props\n */\nconst extractEditContextProps = ({\n    data,\n    record,\n    defaultTitle,\n    isFetching,\n    isLoading,\n    mutationMode,\n    redirect,\n    resource,\n    save,\n    saving,\n}: any) => ({\n    // Necessary for actions (EditActions) which expect a data prop containing the record\n    // @deprecated - to be removed in 4.0d\n    data: record || data,\n    record: record || data,\n    defaultTitle,\n    isFetching,\n    isLoading,\n    mutationMode,\n    redirect,\n    resource,\n    save,\n    saving,\n});\n","import get from 'lodash/get';\n\nimport { RaRecord, SortPayload } from '../../types';\nimport { useGetManyAggregate } from '../../dataProvider';\nimport { ListControllerResult, useList } from '../list';\nimport { useNotify } from '../../notification';\n\nexport interface UseReferenceArrayFieldControllerParams {\n    filter?: any;\n    page?: number;\n    perPage?: number;\n    record?: RaRecord;\n    reference: string;\n    resource: string;\n    sort?: SortPayload;\n    source: string;\n}\n\nconst emptyArray = [];\nconst defaultFilter = {};\nconst defaultSort = { field: null, order: null };\n\n/**\n * Hook that fetches records from another resource specified\n * by an array of *ids* in current record.\n *\n * @example\n *\n * const { data, error, isFetching, isLoading } = useReferenceArrayFieldController({\n *      record: { referenceIds: ['id1', 'id2']};\n *      reference: 'reference';\n *      resource: 'resource';\n *      source: 'referenceIds';\n * });\n *\n * @param {Object} props\n * @param {Object} props.record The current resource record\n * @param {string} props.reference The linked resource name\n * @param {string} props.resource The current resource name\n * @param {string} props.source The key of the linked resource identifier\n *\n * @param {Props} props\n *\n * @returns {ListControllerResult} The reference props\n */\nexport const useReferenceArrayFieldController = (\n    props: UseReferenceArrayFieldControllerParams\n): ListControllerResult => {\n    const {\n        filter = defaultFilter,\n        page = 1,\n        perPage = 1000,\n        record,\n        reference,\n        sort = defaultSort,\n        source,\n    } = props;\n    const notify = useNotify();\n    const ids = get(record, source) || emptyArray;\n    const { data, error, isLoading, isFetching, refetch } = useGetManyAggregate(\n        reference,\n        { ids },\n        {\n            onError: error =>\n                notify(\n                    typeof error === 'string'\n                        ? error\n                        : error.message || 'ra.notification.http_error',\n                    {\n                        type: 'warning',\n                        messageArgs: {\n                            _:\n                                typeof error === 'string'\n                                    ? error\n                                    : error && error.message\n                                    ? error.message\n                                    : undefined,\n                        },\n                    }\n                ),\n        }\n    );\n\n    const listProps = useList({\n        data,\n        error,\n        filter,\n        isFetching,\n        isLoading,\n        page,\n        perPage,\n        sort,\n    });\n\n    return {\n        ...listProps,\n        defaultTitle: null,\n        refetch,\n        resource: reference,\n    };\n};\n","import * as React from 'react';\nimport { ReactNode } from 'react';\nimport { useListController, ListControllerProps } from './useListController';\nimport { ResourceContextProvider } from '../../core';\nimport { RaRecord } from '../../types';\nimport { ListContextProvider } from './ListContextProvider';\n\n/**\n * Call useListController and put the value in a ListContext\n *\n * Base class for <List> components, without UI.\n *\n * Accepts any props accepted by useListController:\n * - filter: permanent filter applied to the list\n * - filters: Filter element, to display the filters\n * - filterDefaultValues: object;\n * - perPage: Number of results per page\n * - sort: Default sort\n * - exporter: exported function\n *\n * @example // Custom list layout\n *\n * const PostList = props => (\n *     <ListBase {...props} perPage={10}>\n *         <div>\n *              List metrics...\n *         </div>\n *         <Grid container>\n *             <Grid item xs={8}>\n *                 <SimpleList primaryText={record => record.title} />\n *             </Grid>\n *             <Grid item xs={4}>\n *                 List instructions...\n *             </Grid>\n *         </Grid>\n *         <div>\n *             Post related links...\n *         </div>\n *     </ListBase>\n * );\n */\nexport const ListBase = <RecordType extends RaRecord = any>({\n    children,\n    ...props\n}: ListControllerProps<RecordType> & { children: ReactNode }) => (\n    <ResourceContextProvider value={props.resource}>\n        <ListContextProvider value={useListController<RecordType>(props)}>\n            {children}\n        </ListContextProvider>\n    </ResourceContextProvider>\n);\n","import { isValidElement, useEffect, useMemo } from 'react';\nimport { UseQueryOptions } from 'react-query';\n\nimport { useAuthenticated } from '../../auth';\nimport { useTranslate } from '../../i18n';\nimport { useNotify } from '../../notification';\nimport { useGetList, UseGetListHookValue } from '../../dataProvider';\nimport { SORT_ASC } from './queryReducer';\nimport { defaultExporter } from '../../export';\nimport { FilterPayload, SortPayload, RaRecord, Exporter } from '../../types';\nimport { useResourceContext, useGetResourceLabel } from '../../core';\nimport { useRecordSelection } from './useRecordSelection';\nimport { useListParams } from './useListParams';\n\n/**\n * Prepare data for the List view\n *\n * @param {Object} props The props passed to the List component.\n *\n * @return {Object} controllerProps Fetched and computed data for the List view\n *\n * @example\n *\n * import { useListController } from 'react-admin';\n * import ListView from './ListView';\n *\n * const MyList = props => {\n *     const controllerProps = useListController(props);\n *     return <ListView {...controllerProps} {...props} />;\n * }\n */\nexport const useListController = <RecordType extends RaRecord = any>(\n    props: ListControllerProps<RecordType> = {}\n): ListControllerResult<RecordType> => {\n    const {\n        disableAuthentication,\n        exporter = defaultExporter,\n        filterDefaultValues,\n        sort = defaultSort,\n        perPage = 10,\n        filter,\n        debounce = 500,\n        disableSyncWithLocation,\n        queryOptions,\n    } = props;\n    useAuthenticated({ enabled: !disableAuthentication });\n    const resource = useResourceContext(props);\n\n    if (!resource) {\n        throw new Error(\n            `<List> was called outside of a ResourceContext and without a resource prop. You must set the resource prop.`\n        );\n    }\n    if (filter && isValidElement(filter)) {\n        throw new Error(\n            '<List> received a React element as `filter` props. If you intended to set the list filter elements, use the `filters` (with an s) prop instead. The `filter` prop is internal and should not be set by the developer.'\n        );\n    }\n\n    const translate = useTranslate();\n    const notify = useNotify();\n\n    const [query, queryModifiers] = useListParams({\n        resource,\n        filterDefaultValues,\n        sort,\n        perPage,\n        debounce,\n        disableSyncWithLocation,\n    });\n\n    const [selectedIds, selectionModifiers] = useRecordSelection(resource);\n\n    const {\n        data,\n        pageInfo,\n        total,\n        error,\n        isLoading,\n        isFetching,\n        refetch,\n    } = useGetList<RecordType>(\n        resource,\n        {\n            pagination: {\n                page: query.page,\n                perPage: query.perPage,\n            },\n            sort: { field: query.sort, order: query.order },\n            filter: { ...query.filter, ...filter },\n        },\n        {\n            keepPreviousData: true,\n            retry: false,\n            onError: error =>\n                notify(error?.message || 'ra.notification.http_error', {\n                    type: 'warning',\n                    messageArgs: {\n                        _: error?.message,\n                    },\n                }),\n            ...queryOptions,\n        }\n    );\n\n    // change page if there is no data\n    useEffect(() => {\n        if (\n            query.page <= 0 ||\n            (!isFetching && query.page > 1 && data.length === 0)\n        ) {\n            // Query for a page that doesn't exist, set page to 1\n            queryModifiers.setPage(1);\n            return;\n        }\n        if (total == null) {\n            return;\n        }\n        const totalPages = Math.ceil(total / query.perPage) || 1;\n        if (!isFetching && query.page > totalPages) {\n            // Query for a page out of bounds, set page to the last existing page\n            // It occurs when deleting the last element of the last page\n            queryModifiers.setPage(totalPages);\n        }\n    }, [isFetching, query.page, query.perPage, data, queryModifiers, total]);\n\n    const currentSort = useMemo(\n        () => ({\n            field: query.sort,\n            order: query.order,\n        }),\n        [query.sort, query.order]\n    );\n\n    const getResourceLabel = useGetResourceLabel();\n    const defaultTitle = translate('ra.page.list', {\n        name: getResourceLabel(resource, 2),\n    });\n\n    return {\n        sort: currentSort,\n        data,\n        defaultTitle,\n        displayedFilters: query.displayedFilters,\n        error,\n        exporter,\n        filter,\n        filterValues: query.filterValues,\n        hideFilter: queryModifiers.hideFilter,\n        isFetching,\n        isLoading,\n        onSelect: selectionModifiers.select,\n        onToggleItem: selectionModifiers.toggle,\n        onUnselectItems: selectionModifiers.clearSelection,\n        page: query.page,\n        perPage: query.perPage,\n        refetch,\n        resource,\n        selectedIds,\n        setFilters: queryModifiers.setFilters,\n        setPage: queryModifiers.setPage,\n        setPerPage: queryModifiers.setPerPage,\n        setSort: queryModifiers.setSort,\n        showFilter: queryModifiers.showFilter,\n        total: total,\n        hasNextPage: pageInfo\n            ? pageInfo.hasNextPage\n            : total != null\n            ? query.page * query.perPage < total\n            : undefined,\n        hasPreviousPage: pageInfo ? pageInfo.hasPreviousPage : query.page > 1,\n    };\n};\n\nexport interface ListControllerProps<RecordType extends RaRecord = any> {\n    debounce?: number;\n    disableAuthentication?: boolean;\n    /**\n     * Whether to disable the synchronization of the list parameters with the current location (URL search parameters)\n     */\n    disableSyncWithLocation?: boolean;\n    exporter?: Exporter | false;\n    filter?: FilterPayload;\n    filterDefaultValues?: object;\n    perPage?: number;\n    queryOptions?: UseQueryOptions<{\n        data: RecordType[];\n        total?: number;\n        pageInfo?: {\n            hasNextPage?: boolean;\n            hasPreviousPage?: boolean;\n        };\n    }>;\n    resource?: string;\n    sort?: SortPayload;\n}\n\nconst defaultSort = {\n    field: 'id',\n    order: SORT_ASC,\n};\n\nexport interface ListControllerResult<RecordType extends RaRecord = any> {\n    sort: SortPayload;\n    data: RecordType[];\n    defaultTitle?: string;\n    displayedFilters: any;\n    error?: any;\n    exporter?: Exporter | false;\n    filter?: FilterPayload;\n    filterValues: any;\n    hideFilter: (filterName: string) => void;\n    isFetching: boolean;\n    isLoading: boolean;\n    onSelect: (ids: RecordType['id'][]) => void;\n    onToggleItem: (id: RecordType['id']) => void;\n    onUnselectItems: () => void;\n    page: number;\n    perPage: number;\n    refetch: UseGetListHookValue<RecordType>['refetch'];\n    resource: string;\n    selectedIds: RecordType['id'][];\n    setFilters: (\n        filters: any,\n        displayedFilters: any,\n        debounce?: boolean\n    ) => void;\n    setPage: (page: number) => void;\n    setPerPage: (page: number) => void;\n    setSort: (sort: SortPayload) => void;\n    showFilter: (filterName: string, defaultValue: any) => void;\n    total: number;\n    hasNextPage: boolean;\n    hasPreviousPage: boolean;\n}\n\nexport const injectedProps = [\n    'sort',\n    'data',\n    'defaultTitle',\n    'displayedFilters',\n    'error',\n    'exporter',\n    'filterValues',\n    'hideFilter',\n    'isFetching',\n    'isLoading',\n    'onSelect',\n    'onToggleItem',\n    'onUnselectItems',\n    'page',\n    'perPage',\n    'refetch',\n    'refresh',\n    'resource',\n    'selectedIds',\n    'setFilters',\n    'setPage',\n    'setPerPage',\n    'setSort',\n    'showFilter',\n    'total',\n    'totalPages',\n];\n\n/**\n * Select the props injected by the useListController hook\n * to be passed to the List children need\n * This is an implementation of pick()\n */\nexport const getListControllerProps = props =>\n    injectedProps.reduce((acc, key) => ({ ...acc, [key]: props[key] }), {});\n\n/**\n * Select the props not injected by the useListController hook\n * to be used inside the List children to sanitize props injected by List\n * This is an implementation of omit()\n */\nexport const sanitizeListRestProps = props =>\n    Object.keys(props)\n        .filter(propName => !injectedProps.includes(propName))\n        .reduce((acc, key) => ({ ...acc, [key]: props[key] }), {});\n","import { useMemo } from 'react';\n\nimport { useStore, useRemoveFromStore } from '../../store';\nimport { Identifier } from '../../types';\n\n/**\n * Get the list of selected items for a resource, and callbacks to change the selection\n *\n * @param resource The resource name, e.g. 'posts'\n *\n * @returns {Object} Destructure as [selectedIds, { select, toggle, clearSelection }].\n */\nexport const useRecordSelection = (\n    resource: string\n): [\n    Identifier[],\n    {\n        select: (ids: Identifier[]) => void;\n        unselect: (ids: Identifier[]) => void;\n        toggle: (id: Identifier) => void;\n        clearSelection: () => void;\n    }\n] => {\n    const storeKey = `${resource}.selectedIds`;\n    const [ids, setIds] = useStore(storeKey, defaultSelection);\n    const reset = useRemoveFromStore(storeKey);\n\n    const selectionModifiers = useMemo(\n        () => ({\n            select: (idsToAdd: Identifier[]) => {\n                if (!idsToAdd) return;\n                setIds([...idsToAdd]);\n            },\n            unselect(idsToRemove: Identifier[]) {\n                if (!idsToRemove || idsToRemove.length === 0) return;\n                setIds(ids => {\n                    if (!Array.isArray(ids)) return [];\n                    return ids.filter(id => !idsToRemove.includes(id));\n                });\n            },\n            toggle: (id: Identifier) => {\n                if (typeof id === 'undefined') return;\n                setIds(ids => {\n                    if (!Array.isArray(ids)) return [...ids];\n                    const index = ids.indexOf(id);\n                    return index > -1\n                        ? [...ids.slice(0, index), ...ids.slice(index + 1)]\n                        : [...ids, id];\n                });\n            },\n            clearSelection: () => {\n                reset();\n            },\n        }),\n        [setIds, reset]\n    );\n\n    return [ids, selectionModifiers];\n};\n\nconst defaultSelection = [];\n","import { useCallback, useMemo, useEffect, useState, useRef } from 'react';\nimport { parse, stringify } from 'query-string';\nimport lodashDebounce from 'lodash/debounce';\nimport pickBy from 'lodash/pickBy';\nimport { useNavigate, useLocation } from 'react-router-dom';\n\nimport { useStore } from '../../store';\nimport queryReducer, {\n    SET_FILTER,\n    HIDE_FILTER,\n    SHOW_FILTER,\n    SET_PAGE,\n    SET_PER_PAGE,\n    SET_SORT,\n    SORT_ASC,\n} from './queryReducer';\nimport { SortPayload, FilterPayload } from '../../types';\nimport removeEmpty from '../../util/removeEmpty';\nimport { useIsMounted } from '../../util/hooks';\n\nexport interface ListParams {\n    sort: string;\n    order: string;\n    page: number;\n    perPage: number;\n    filter: any;\n    displayedFilters: any;\n}\n\n/**\n * Get the list parameters (page, sort, filters) and modifiers.\n *\n * These parameters are merged from 3 sources:\n *   - the query string from the URL\n *   - the params stored in the state (from previous navigation)\n *   - the options passed to the hook (including the filter defaultValues)\n *\n * @returns {Array} A tuple [parameters, modifiers].\n * Destructure as [\n *    { page, perPage, sort, order, filter, filterValues, displayedFilters, requestSignature },\n *    { setFilters, hideFilter, showFilter, setPage, setPerPage, setSort }\n * ]\n *\n * @example\n *\n * const [listParams, listParamsActions] = useListParams({\n *      resource: 'posts',\n *      location: location // From react-router. Injected to your component by react-admin inside a List\n *      filterDefaultValues: {\n *          published: true\n *      },\n *      sort: {\n *          field: 'published_at',\n *          order: 'DESC'\n *      },\n *      perPage: 25\n * });\n *\n * const {\n *      page,\n *      perPage,\n *      sort,\n *      order,\n *      filter,\n *      filterValues,\n *      displayedFilters,\n *      requestSignature\n * } = listParams;\n *\n * const {\n *      setFilters,\n *      hideFilter,\n *      showFilter,\n *      setPage,\n *      setPerPage,\n *      setSort,\n * } = listParamsActions;\n */\nexport const useListParams = ({\n    resource,\n    filterDefaultValues,\n    sort = defaultSort,\n    perPage = 10,\n    debounce = 500,\n    disableSyncWithLocation = false,\n}: ListParamsOptions): [Parameters, Modifiers] => {\n    const location = useLocation();\n    const navigate = useNavigate();\n    const [localParams, setLocalParams] = useState(defaultParams);\n    const storeKey = `${resource}.listParams`;\n    const [params, setParams] = useStore(storeKey, defaultParams);\n    const tempParams = useRef<ListParams>();\n    const isMounted = useIsMounted();\n\n    const requestSignature = [\n        location.search,\n        resource,\n        JSON.stringify(disableSyncWithLocation ? localParams : params),\n        JSON.stringify(filterDefaultValues),\n        JSON.stringify(sort),\n        perPage,\n        disableSyncWithLocation,\n    ];\n\n    const queryFromLocation = disableSyncWithLocation\n        ? {}\n        : parseQueryFromLocation(location);\n\n    const query = useMemo(\n        () =>\n            getQuery({\n                queryFromLocation,\n                params: disableSyncWithLocation ? localParams : params,\n                filterDefaultValues,\n                sort,\n                perPage,\n            }),\n        requestSignature // eslint-disable-line react-hooks/exhaustive-deps\n    );\n\n    // if the location includes params (for example from a link like\n    // the categories products on the demo), we need to persist them in the\n    // store as well so that we don't lose them after a redirection back\n    // to the list\n    useEffect(() => {\n        if (Object.keys(queryFromLocation).length > 0) {\n            setParams(query);\n        }\n    }, [location.search]); // eslint-disable-line\n\n    const changeParams = useCallback(action => {\n        // do not change params if the component is already unmounted\n        // this is necessary because changeParams can be debounced, and therefore\n        // executed after the component is unmounted\n        if (!isMounted.current) return;\n\n        if (!tempParams.current) {\n            // no other changeParams action dispatched this tick\n            tempParams.current = queryReducer(query, action);\n            // schedule side effects for next tick\n            setTimeout(() => {\n                if (disableSyncWithLocation) {\n                    setLocalParams(tempParams.current);\n                } else {\n                    // the useEffect above will apply the changes to the params in the store\n                    navigate(\n                        {\n                            search: `?${stringify({\n                                ...tempParams.current,\n                                filter: JSON.stringify(\n                                    tempParams.current.filter\n                                ),\n                                displayedFilters: JSON.stringify(\n                                    tempParams.current.displayedFilters\n                                ),\n                            })}`,\n                        },\n                        {\n                            state: { _scrollToTop: action.type === SET_PAGE },\n                        }\n                    );\n                }\n                tempParams.current = undefined;\n            }, 0);\n        } else {\n            // side effects already scheduled, just change the params\n            tempParams.current = queryReducer(tempParams.current, action);\n        }\n    }, requestSignature); // eslint-disable-line react-hooks/exhaustive-deps\n\n    const setSort = useCallback(\n        (sort: SortPayload) =>\n            changeParams({\n                type: SET_SORT,\n                payload: sort,\n            }),\n        requestSignature // eslint-disable-line react-hooks/exhaustive-deps\n    );\n\n    const setPage = useCallback(\n        (newPage: number) => changeParams({ type: SET_PAGE, payload: newPage }),\n        requestSignature // eslint-disable-line react-hooks/exhaustive-deps\n    );\n\n    const setPerPage = useCallback(\n        (newPerPage: number) =>\n            changeParams({ type: SET_PER_PAGE, payload: newPerPage }),\n        requestSignature // eslint-disable-line react-hooks/exhaustive-deps\n    );\n\n    const filterValues = query.filter || emptyObject;\n    const displayedFilterValues = query.displayedFilters || emptyObject;\n\n    const debouncedSetFilters = lodashDebounce((filter, displayedFilters) => {\n        changeParams({\n            type: SET_FILTER,\n            payload: {\n                filter: removeEmpty(filter),\n                displayedFilters,\n            },\n        });\n    }, debounce);\n\n    const setFilters = useCallback(\n        (filter, displayedFilters, debounce = true) =>\n            debounce\n                ? debouncedSetFilters(filter, displayedFilters)\n                : changeParams({\n                      type: SET_FILTER,\n                      payload: {\n                          filter: removeEmpty(filter),\n                          displayedFilters,\n                      },\n                  }),\n        requestSignature // eslint-disable-line react-hooks/exhaustive-deps\n    );\n\n    const hideFilter = useCallback((filterName: string) => {\n        changeParams({\n            type: HIDE_FILTER,\n            payload: filterName,\n        });\n    }, requestSignature); // eslint-disable-line react-hooks/exhaustive-deps\n\n    const showFilter = useCallback((filterName: string, defaultValue: any) => {\n        changeParams({\n            type: SHOW_FILTER,\n            payload: {\n                filterName,\n                defaultValue,\n            },\n        });\n    }, requestSignature); // eslint-disable-line react-hooks/exhaustive-deps\n\n    return [\n        {\n            displayedFilters: displayedFilterValues,\n            filterValues,\n            requestSignature,\n            ...query,\n        },\n        {\n            changeParams,\n            setPage,\n            setPerPage,\n            setSort,\n            setFilters,\n            hideFilter,\n            showFilter,\n        },\n    ];\n};\n\nexport const validQueryParams = [\n    'page',\n    'perPage',\n    'sort',\n    'order',\n    'filter',\n    'displayedFilters',\n];\n\nconst parseObject = (query, field) => {\n    if (query[field] && typeof query[field] === 'string') {\n        try {\n            query[field] = JSON.parse(query[field]);\n        } catch (err) {\n            delete query[field];\n        }\n    }\n};\n\nexport const parseQueryFromLocation = ({ search }): Partial<ListParams> => {\n    const query = pickBy(\n        parse(search),\n        (v, k) => validQueryParams.indexOf(k) !== -1\n    );\n    parseObject(query, 'filter');\n    parseObject(query, 'displayedFilters');\n    return query;\n};\n\n/**\n * Check if user has already set custom sort, page, or filters for this list\n *\n * User params come from the store as the params props. By default,\n * this object is:\n *\n * { filter: {}, order: null, page: 1, perPage: null, sort: null }\n *\n * To check if the user has custom params, we must compare the params\n * to these initial values.\n *\n * @param {Object} params\n */\nexport const hasCustomParams = (params: ListParams) => {\n    return (\n        params &&\n        params.filter &&\n        (Object.keys(params.filter).length > 0 ||\n            params.order != null ||\n            params.page !== 1 ||\n            params.perPage != null ||\n            params.sort != null)\n    );\n};\n\n/**\n * Merge list params from 3 different sources:\n *   - the query string\n *   - the params stored in the state (from previous navigation)\n *   - the props passed to the List component (including the filter defaultValues)\n */\nexport const getQuery = ({\n    queryFromLocation,\n    params,\n    filterDefaultValues,\n    sort,\n    perPage,\n}) => {\n    const query: Partial<ListParams> =\n        Object.keys(queryFromLocation).length > 0\n            ? queryFromLocation\n            : hasCustomParams(params)\n            ? { ...params }\n            : { filter: filterDefaultValues || {} };\n\n    if (!query.sort) {\n        query.sort = sort.field;\n        query.order = sort.order;\n    }\n    if (query.perPage == null) {\n        query.perPage = perPage;\n    }\n    if (query.page == null) {\n        query.page = 1;\n    }\n\n    return {\n        ...query,\n        page: getNumberOrDefault(query.page, 1),\n        perPage: getNumberOrDefault(query.perPage, 10),\n    } as ListParams;\n};\n\nexport const getNumberOrDefault = (\n    possibleNumber: string | number | undefined,\n    defaultValue: number\n) => {\n    const parsedNumber =\n        typeof possibleNumber === 'string'\n            ? parseInt(possibleNumber, 10)\n            : possibleNumber;\n\n    return isNaN(parsedNumber) ? defaultValue : parsedNumber;\n};\n\nexport interface ListParamsOptions {\n    resource: string;\n    perPage?: number;\n    sort?: SortPayload;\n    // default value for a filter when displayed but not yet set\n    filterDefaultValues?: FilterPayload;\n    debounce?: number;\n    // Whether to disable the synchronization of the list parameters with\n    // the current location (URL search parameters)\n    disableSyncWithLocation?: boolean;\n}\n\ninterface Parameters extends ListParams {\n    filterValues: object;\n    displayedFilters: {\n        [key: string]: boolean;\n    };\n    requestSignature: any[];\n}\n\ninterface Modifiers {\n    changeParams: (action: any) => void;\n    setPage: (page: number) => void;\n    setPerPage: (pageSize: number) => void;\n    setSort: (sort: SortPayload) => void;\n    setFilters: (filters: any, displayedFilters: any) => void;\n    hideFilter: (filterName: string) => void;\n    showFilter: (filterName: string, defaultValue: any) => void;\n}\n\nconst emptyObject = {};\n\nconst defaultSort = {\n    field: 'id',\n    order: SORT_ASC,\n};\n\nconst defaultParams = {};\n","import * as React from 'react';\nimport { ListContext } from './ListContext';\nimport { ListFilterContext, usePickFilterContext } from './ListFilterContext';\nimport { ListSortContext, usePickSortContext } from './ListSortContext';\nimport {\n    ListPaginationContext,\n    usePickPaginationContext,\n} from './ListPaginationContext';\n\n/**\n * Create a List Context and several thematic List subcontext.\n *\n * Allows children to subscribe to part of the ListContext, and bail out of\n * rendering when some parts of the context that they don't depend on change\n * (because unfortunately React doesn't allow to use context selectors yet).\n *\n * @example\n *\n * const MyList = (props) => {\n *     const controllerProps = useListController(props);\n *     return (\n *         <ListContextProvider value={controllerProps}>\n *             <MyListView>\n *         </ListContextProvider>\n *     );\n * };\n *\n * const MyListView = () => {\n *     const { data, filterValues, setFilters } = useListContext();\n *     // or, to rerender only when filters change but not data\n *     const { filterValues, setFilters } = useListFilterContext();\n * }\n *\n * @see ListContext\n * @see ListFilterContext\n */\nexport const ListContextProvider = ({ value, children }) => (\n    <ListContext.Provider value={value}>\n        <ListFilterContext.Provider value={usePickFilterContext(value)}>\n            <ListSortContext.Provider value={usePickSortContext(value)}>\n                <ListPaginationContext.Provider\n                    value={usePickPaginationContext(value)}\n                >\n                    {children}\n                </ListPaginationContext.Provider>\n            </ListSortContext.Provider>\n        </ListFilterContext.Provider>\n    </ListContext.Provider>\n);\n","import { createContext } from 'react';\nimport { ListControllerResult } from './useListController';\n\n/**\n * Context to store the result of the useListController() hook.\n *\n * Use the useListContext() hook to read the context. That's what many\n * List components do in react-admin (e.g. <Datagrid>, <FilterForm>, <Pagination>).\n *\n * @typedef {Object} ListControllerProps\n * @prop {Array}    data an array of the list records, e.g. [{ id: 123, title: 'hello world' }, { ... }]\n * @prop {integer}  total the total number of results for the current filters, excluding pagination. Useful to build the pagination controls. e.g. 23\n * @prop {boolean}  isFetching boolean that is true on mount, and false once the data was fetched\n * @prop {boolean}  isLoading boolean that is false until the data is available\n * @prop {integer}  page the current page. Starts at 1\n * @prop {Function} setPage a callback to change the page, e.g. setPage(3)\n * @prop {integer}  perPage the number of results per page. Defaults to 25\n * @prop {Function} setPerPage a callback to change the number of results per page, e.g. setPerPage(25)\n * @prop {Object}   sort a sort object { field, order }, e.g. { field: 'date', order: 'DESC' }\n * @prop {Function} setSort a callback to change the sort, e.g. setSort({ field: 'name', order: 'ASC' })\n * @prop {Object}   filterValues a dictionary of filter values, e.g. { title: 'lorem', nationality: 'fr' }\n * @prop {Function} setFilters a callback to update the filters, e.g. setFilters(filters, displayedFilters)\n * @prop {Object}   displayedFilters a dictionary of the displayed filters, e.g. { title: true, nationality: true }\n * @prop {Function} showFilter a callback to show one of the filters, e.g. showFilter('title', defaultValue)\n * @prop {Function} hideFilter a callback to hide one of the filters, e.g. hideFilter('title')\n * @prop {Array}    selectedIds an array listing the ids of the selected rows, e.g. [123, 456]\n * @prop {Function} onSelect callback to change the list of selected rows, e.g. onSelect([456, 789])\n * @prop {Function} onToggleItem callback to toggle the selection of a given record based on its id, e.g. onToggleItem(456)\n * @prop {Function} onUnselectItems callback to clear the selection, e.g. onUnselectItems();\n * @prop {string}   defaultTitle the translated title based on the resource, e.g. 'Posts'\n * @prop {string}   resource the resource name, deduced from the location. e.g. 'posts'\n * @prop {Function} refetch a function for triggering a refetch of the list data\n *\n * @typedef Props\n * @prop {ListControllerResult} value\n *\n * @param {Props}\n *\n * @see useListController\n * @see useListContext\n *\n * @example\n *\n * import { useListController, ListContext } from 'ra-core';\n *\n * const List = props => {\n *     const controllerProps = useListController(props);\n *     return (\n *         <ListContext.Provider value={controllerProps}>\n *             ...\n *         </ListContext.Provider>\n *     );\n * };\n */\nexport const ListContext = createContext<ListControllerResult>({\n    sort: null,\n    data: null,\n    defaultTitle: null,\n    displayedFilters: null,\n    exporter: null,\n    filterValues: null,\n    hasNextPage: null,\n    hasPreviousPage: null,\n    hideFilter: null,\n    isFetching: null,\n    isLoading: null,\n    onSelect: null,\n    onToggleItem: null,\n    onUnselectItems: null,\n    page: null,\n    perPage: null,\n    refetch: null,\n    resource: null,\n    selectedIds: undefined,\n    setFilters: null,\n    setPage: null,\n    setPerPage: null,\n    setSort: null,\n    showFilter: null,\n    total: null,\n});\n\nListContext.displayName = 'ListContext';\n","import { createContext, useMemo } from 'react';\nimport pick from 'lodash/pick';\nimport { ListControllerResult } from './useListController';\n\n/**\n * Context to store the filter part of the useListController() result.\n *\n * Use the useListFilterContext() hook to read the context. That's what many\n * List components do in react-admin (e.g. <FilterForm>, <FilterListItem>).\n *\n * @typedef {Object} ListFilterContextValue\n * @prop {Object}   filterValues a dictionary of filter values, e.g. { title: 'lorem', nationality: 'fr' }\n * @prop {Function} setFilters a callback to update the filters, e.g. setFilters(filters, displayedFilters)\n * @prop {Object}   displayedFilters a dictionary of the displayed filters, e.g. { title: true, nationality: true }\n * @prop {Function} showFilter a callback to show one of the filters, e.g. showFilter('title', defaultValue)\n * @prop {Function} hideFilter a callback to hide one of the filters, e.g. hideFilter('title')\n * @prop {string}   resource the resource name, deduced from the location. e.g. 'posts'\n *\n * @typedef Props\n * @prop {ListFilterContextValue} value\n *\n * @param {Props}\n *\n * @see useListController\n * @see useListFilterContext\n *\n * @example\n *\n * import { useListController, usePickFilterContext, ListFilterContext } from 'ra-core';\n *\n * const List = props => {\n *     const controllerProps = useListController(props);\n *     return (\n *         <ListFilterContext.Provider value={usePickFilterContext(controllerProps)}>\n *             ...\n *         </ListFilterContext.Provider>\n *     );\n * };\n */\nexport const ListFilterContext = createContext<ListFilterContextValue>({\n    displayedFilters: null,\n    filterValues: null,\n    hideFilter: null,\n    setFilters: null,\n    showFilter: null,\n    resource: null,\n});\n\nexport type ListFilterContextValue = Pick<\n    ListControllerResult,\n    | 'displayedFilters'\n    | 'filterValues'\n    | 'hideFilter'\n    | 'setFilters'\n    | 'showFilter'\n    | 'resource'\n>;\n\nexport const usePickFilterContext = (\n    context: ListControllerResult\n): ListFilterContextValue =>\n    useMemo(\n        () =>\n            pick(context, [\n                'displayedFilters',\n                'filterValues',\n                'hideFilter',\n                'setFilters',\n                'showFilter',\n                'resource',\n            ]),\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n        [\n            context.displayedFilters,\n            context.filterValues,\n            context.hideFilter,\n            context.setFilters,\n            context.showFilter,\n        ]\n    );\n\nListFilterContext.displayName = 'ListFilterContext';\n","import { createContext, useMemo } from 'react';\nimport pick from 'lodash/pick';\nimport { ListControllerResult } from './useListController';\n\n/**\n * Context to store the sort part of the useListController() result.\n *\n * Use the useListSortContext() hook to read the context. That's what many\n * List components do in react-admin (e.g. <SortButton>).\n *\n * @typedef {Object} ListSortContextValue\n * @prop {Object}   sort a sort object { field, order }, e.g. { field: 'date', order: 'DESC' }\n * @prop {Function} setSort a callback to change the sort, e.g. setSort({ field: 'name', order: 'ASC' })\n * @prop {string}   resource the resource name, deduced from the location. e.g. 'posts'\n *\n * @typedef Props\n * @prop {ListSortContextValue} value\n *\n * @param {Props}\n *\n * @see useListController\n * @see useListSortContext\n *\n * @example\n *\n * import { useListController, usePickSortContext, ListSortContext } from 'ra-core';\n *\n * const List = props => {\n *     const controllerProps = useListController(props);\n *     return (\n *         <ListSortContext.Provider value={usePickSortContext(controllerProps)}>\n *             ...\n *         </ListSortContext.Provider>\n *     );\n * };\n */\nexport const ListSortContext = createContext<ListSortContextValue>({\n    sort: null,\n    setSort: null,\n    resource: null,\n});\n\nexport type ListSortContextValue = Pick<\n    ListControllerResult,\n    'sort' | 'setSort' | 'resource'\n>;\n\nexport const usePickSortContext = (\n    context: ListControllerResult\n): ListSortContextValue =>\n    useMemo(\n        () => pick(context, ['sort', 'setSort', 'resource']),\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n        [context.sort, context.setSort]\n    );\n\nListSortContext.displayName = 'ListSortContext';\n","import { createContext, useMemo } from 'react';\nimport pick from 'lodash/pick';\nimport { ListControllerResult } from './useListController';\n\n/**\n * Context to store the pagination part of the useListController() result.\n *\n * Use the useListPaginationContext() hook to read the pagination information.\n * That's what List components do in react-admin (e.g. <Pagination>).\n *\n * @typedef {Object} ListPaginationContextValue\n * @prop {boolean}  isLoading boolean that is false until the data is available\n * @prop {integer}  total the total number of results for the current filters, excluding pagination. Useful to build the pagination controls. e.g. 23\n * @prop {integer}  page the current page. Starts at 1\n * @prop {Function} setPage a callback to change the page, e.g. setPage(3)\n * @prop {integer}  perPage the number of results per page. Defaults to 25\n * @prop {Function} setPerPage a callback to change the number of results per page, e.g. setPerPage(25)\n * @prop {Boolean}  hasPreviousPage true if the current page is not the first one\n * @prop {Boolean}  hasNextPage true if the current page is not the last one\n\n * @prop {string}   resource the resource name, deduced from the location. e.g. 'posts'\n *\n * @typedef Props\n * @prop {ListPaginationContextValue} value\n *\n * @param {Props}\n *\n * @see useListController\n * @see useListContext\n *\n * @example\n *\n * import { useListController, ListPaginationContext } from 'ra-core';\n *\n * const List = props => {\n *     const controllerProps = useListController(props);\n *     return (\n *         <ListPaginationContext.Provider value={controllerProps}>\n *             ...\n *         </ListPaginationContext.Provider>\n *     );\n * };\n */\nexport const ListPaginationContext = createContext<ListPaginationContextValue>({\n    isLoading: null,\n    page: null,\n    perPage: null,\n    setPage: null,\n    setPerPage: null,\n    hasPreviousPage: null,\n    hasNextPage: null,\n    total: undefined,\n    resource: null,\n});\n\nListPaginationContext.displayName = 'ListPaginationContext';\n\nexport type ListPaginationContextValue = Pick<\n    ListControllerResult,\n    | 'isLoading'\n    | 'hasPreviousPage'\n    | 'hasNextPage'\n    | 'page'\n    | 'perPage'\n    | 'setPage'\n    | 'setPerPage'\n    | 'total'\n    | 'resource'\n>;\n\nexport const usePickPaginationContext = (\n    context: ListControllerResult\n): ListPaginationContextValue =>\n    useMemo(\n        () =>\n            pick(context, [\n                'isLoading',\n                'hasPreviousPage',\n                'hasNextPage',\n                'page',\n                'perPage',\n                'setPage',\n                'setPerPage',\n                'total',\n                'resource',\n            ]),\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n        [\n            context.isLoading,\n            context.hasPreviousPage,\n            context.hasNextPage,\n            context.page,\n            context.perPage,\n            context.setPage,\n            context.setPerPage,\n            context.total,\n        ]\n    );\n","import {\n    useListController,\n    ListControllerProps,\n    ListControllerResult,\n} from './useListController';\n\n/**\n * Render prop version of the useListController hook.\n *\n * @see useListController\n * @example\n *\n * const ListView = () => <div>...</div>;\n * const List = props => (\n *     <ListController {...props}>\n *        {controllerProps => <ListView {...controllerProps} {...props} />}\n *     </ListController>\n * )\n */\nexport const ListController = ({\n    children,\n    ...props\n}: {\n    children: (params: ListControllerResult) => JSX.Element;\n} & ListControllerProps) => {\n    const controllerProps = useListController(props);\n    return children(controllerProps);\n};\n","import { useCallback, useEffect, useRef } from 'react';\nimport get from 'lodash/get';\nimport isEqual from 'lodash/isEqual';\nimport { removeEmpty, useSafeSetState } from '../../util';\nimport { FilterPayload, RaRecord, SortPayload } from '../../types';\nimport { useResourceContext } from '../../core';\nimport usePaginationState from '../usePaginationState';\nimport useSortState from '../useSortState';\nimport { useRecordSelection } from './useRecordSelection';\nimport { ListControllerResult } from './useListController';\n\nconst refetch = () => {\n    throw new Error(\n        'refetch is not available for a ListContext built from useList based on local data'\n    );\n};\n\n/**\n * Handle filtering, sorting and pagination on local data.\n *\n * Returns the data and callbacks expected by <ListContext>.\n *\n * @example\n * const data = [\n *     { id: 1, name: 'Arnold' },\n *     { id: 2, name: 'Sylvester' },\n *     { id: 3, name: 'Jean-Claude' },\n * ]\n *\n * const MyComponent = () => {\n *     const listContext = useList({ data });\n *     return (\n *         <ListContextProvider value={listContext}>\n *             <Datagrid>\n *                 <TextField source=\"id\" />\n *                 <TextField source=\"name\" />\n *             </Datagrid>\n *         </ListContextProvider>\n *     );\n * };\n *\n * @param {UseListOptions} props\n * @param {RaRecord[]} props.data An array of records\n * @param {Boolean} props.isFetching: Optional. A boolean indicating whether the data is being loaded\n * @param {Boolean} props.isLoading: Optional. A boolean indicating whether the data has been loaded at least once\n * @param {Error | String} props.error: Optional. The error if any occurred while loading the data\n * @param {Object} props.filter: Optional. An object containing the filters applied on the data\n * @param {Number} props.page: Optional. The initial page index\n * @param {Number} props.perPage: Optional. The initial page size\n * @param {SortPayload} props.sort: Optional. The initial sort (field and order)\n */\nexport const useList = <RecordType extends RaRecord = any>(\n    props: UseListOptions<RecordType>\n): UseListValue<RecordType> => {\n    const {\n        data,\n        error,\n        filter = defaultFilter,\n        isFetching = false,\n        isLoading = false,\n        page: initialPage = 1,\n        perPage: initialPerPage = 1000,\n        sort: initialSort = defaultSort,\n    } = props;\n    const resource = useResourceContext(props);\n\n    const [fetchingState, setFetchingState] = useSafeSetState<boolean>(\n        isFetching\n    );\n    const [loadingState, setLoadingState] = useSafeSetState<boolean>(isLoading);\n\n    const [finalItems, setFinalItems] = useSafeSetState<{\n        data?: RecordType[];\n        total: number;\n    }>(() => ({\n        data,\n        total: data ? data.length : undefined,\n    }));\n\n    // pagination logic\n    const { page, setPage, perPage, setPerPage } = usePaginationState({\n        page: initialPage,\n        perPage: initialPerPage,\n    });\n\n    // sort logic\n    const { sort, setSort: setSortState } = useSortState(initialSort);\n    const setSort = useCallback(\n        (sort: SortPayload) => {\n            setSortState(sort);\n            setPage(1);\n        },\n        [setPage, setSortState]\n    );\n\n    // selection logic\n    const [selectedIds, selectionModifiers] = useRecordSelection(resource);\n\n    // filter logic\n    const filterRef = useRef(filter);\n    const [displayedFilters, setDisplayedFilters] = useSafeSetState<{\n        [key: string]: boolean;\n    }>({});\n    const [filterValues, setFilterValues] = useSafeSetState<{\n        [key: string]: any;\n    }>(filter);\n    const hideFilter = useCallback(\n        (filterName: string) => {\n            setDisplayedFilters(previousState => {\n                const { [filterName]: _, ...newState } = previousState;\n                return newState;\n            });\n            setFilterValues(previousState => {\n                const { [filterName]: _, ...newState } = previousState;\n                return newState;\n            });\n        },\n        [setDisplayedFilters, setFilterValues]\n    );\n    const showFilter = useCallback(\n        (filterName: string, defaultValue: any) => {\n            setDisplayedFilters(previousState => ({\n                ...previousState,\n                [filterName]: true,\n            }));\n            setFilterValues(previousState =>\n                removeEmpty({\n                    ...previousState,\n                    [filterName]: defaultValue,\n                })\n            );\n        },\n        [setDisplayedFilters, setFilterValues]\n    );\n    const setFilters = useCallback(\n        (filters, displayedFilters) => {\n            setFilterValues(removeEmpty(filters));\n            if (displayedFilters) {\n                setDisplayedFilters(displayedFilters);\n            }\n            setPage(1);\n        },\n        [setDisplayedFilters, setFilterValues, setPage]\n    );\n    // handle filter prop change\n    useEffect(() => {\n        if (!isEqual(filter, filterRef.current)) {\n            filterRef.current = filter;\n            setFilterValues(filter);\n        }\n    });\n\n    // We do all the data processing (filtering, sorting, paginating) client-side\n    useEffect(\n        () => {\n            if (isLoading || !data) return;\n\n            // 1. filter\n            let tempData = data.filter(record =>\n                Object.entries(filterValues).every(\n                    ([filterName, filterValue]) => {\n                        const recordValue = get(record, filterName);\n                        const result = Array.isArray(recordValue)\n                            ? Array.isArray(filterValue)\n                                ? recordValue.some(item =>\n                                      filterValue.includes(item)\n                                  )\n                                : recordValue.includes(filterValue)\n                            : Array.isArray(filterValue)\n                            ? filterValue.includes(recordValue)\n                            : filterValue == recordValue; // eslint-disable-line eqeqeq\n                        return result;\n                    }\n                )\n            );\n\n            const filteredLength = tempData.length;\n\n            // 2. sort\n            if (sort.field) {\n                tempData = tempData.sort((a, b) => {\n                    if (get(a, sort.field) > get(b, sort.field)) {\n                        return sort.order === 'ASC' ? 1 : -1;\n                    }\n                    if (get(a, sort.field) < get(b, sort.field)) {\n                        return sort.order === 'ASC' ? -1 : 1;\n                    }\n                    return 0;\n                });\n            }\n\n            // 3. paginate\n            tempData = tempData.slice((page - 1) * perPage, page * perPage);\n\n            setFinalItems({\n                data: tempData,\n                total: filteredLength,\n            });\n        }, // eslint-disable-next-line react-hooks/exhaustive-deps\n        [\n            // eslint-disable-next-line react-hooks/exhaustive-deps\n            JSON.stringify(data),\n            filterValues,\n            isLoading,\n            page,\n            perPage,\n            setFinalItems,\n            sort.field,\n            sort.order,\n        ]\n    );\n\n    useEffect(() => {\n        if (isFetching !== fetchingState) {\n            setFetchingState(isFetching);\n        }\n    }, [isFetching, fetchingState, setFetchingState]);\n\n    useEffect(() => {\n        if (isLoading !== loadingState) {\n            setLoadingState(isLoading);\n        }\n    }, [isLoading, loadingState, setLoadingState]);\n\n    return {\n        sort,\n        data: finalItems.data,\n        defaultTitle: '',\n        error,\n        displayedFilters,\n        filterValues,\n        hasNextPage: page * perPage < finalItems.total,\n        hasPreviousPage: page > 1,\n        hideFilter,\n        isFetching: fetchingState,\n        isLoading: loadingState,\n        onSelect: selectionModifiers.select,\n        onToggleItem: selectionModifiers.toggle,\n        onUnselectItems: selectionModifiers.clearSelection,\n        page,\n        perPage,\n        resource: undefined,\n        refetch,\n        selectedIds,\n        setFilters,\n        setPage,\n        setPerPage,\n        setSort,\n        showFilter,\n        total: finalItems.total,\n    };\n};\n\nexport interface UseListOptions<RecordType extends RaRecord = any> {\n    data?: RecordType[];\n    error?: any;\n    filter?: FilterPayload;\n    isFetching?: boolean;\n    isLoading?: boolean;\n    page?: number;\n    perPage?: number;\n    sort?: SortPayload;\n    resource?: string;\n}\n\nexport type UseListValue<\n    RecordType extends RaRecord = any\n> = ListControllerResult<RecordType>;\n\nconst defaultFilter = {};\nconst defaultSort = { field: null, order: null };\n","import { useContext, useMemo } from 'react';\nimport defaults from 'lodash/defaults';\n\nimport { ListContext } from './ListContext';\nimport { ListControllerResult } from './useListController';\nimport { RaRecord } from '../../types';\n\n/**\n * Hook to read the list controller props from the ListContext.\n *\n * Mostly used within a <ListContext.Provider> (e.g. as a descendent of <List>\n * or <ListBase>).\n *\n * But you can also use it without a <ListContext.Provider>. In this case, it is up to you\n * to pass all the necessary props (see the list below).\n *\n * The given props will take precedence over context values.\n *\n * @typedef {Object} ListControllerProps\n * @prop {Object}   data an array of the list records, e.g. [{ id: 123, title: 'hello world' }, { ... }]\n * @prop {integer}  total the total number of results for the current filters, excluding pagination. Useful to build the pagination controls. e.g. 23\n * @prop {boolean}  isFetching boolean that is true on mount, and false once the data was fetched\n * @prop {boolean}  isLoading boolean that is false until the data is available\n * @prop {integer}  page the current page. Starts at 1\n * @prop {Function} setPage a callback to change the page, e.g. setPage(3)\n * @prop {integer}  perPage the number of results per page. Defaults to 25\n * @prop {Function} setPerPage a callback to change the number of results per page, e.g. setPerPage(25)\n * @prop {Object}   sort a sort object { field, order }, e.g. { field: 'date', order: 'DESC' }\n * @prop {Function} setSort a callback to change the sort, e.g. setSort({ field : 'name', order: 'ASC' })\n * @prop {Object}   filterValues a dictionary of filter values, e.g. { title: 'lorem', nationality: 'fr' }\n * @prop {Function} setFilters a callback to update the filters, e.g. setFilters(filters, displayedFilters)\n * @prop {Object}   displayedFilters a dictionary of the displayed filters, e.g. { title: true, nationality: true }\n * @prop {Function} showFilter a callback to show one of the filters, e.g. showFilter('title', defaultValue)\n * @prop {Function} hideFilter a callback to hide one of the filters, e.g. hideFilter('title')\n * @prop {Array}    selectedIds an array listing the ids of the selected rows, e.g. [123, 456]\n * @prop {Function} onSelect callback to change the list of selected rows, e.g. onSelect([456, 789])\n * @prop {Function} onToggleItem callback to toggle the selection of a given record based on its id, e.g. onToggleItem(456)\n * @prop {Function} onUnselectItems callback to clear the selection, e.g. onUnselectItems();\n * @prop {string}   defaultTitle the translated title based on the resource, e.g. 'Posts'\n * @prop {string}   resource the resource name, deduced from the location. e.g. 'posts'\n *\n * @returns {ListControllerResult} list controller props\n *\n * @see useListController for how it is filled\n *\n * @example // custom list view\n *\n * import { useListContext } from 'react-admin';\n *\n * const MyList = () => {\n *     const { data, isLoading } = useListContext();\n *     if (isLoading) {\n *         return <>Loading...</>;\n *     }\n *     return (\n *         <ul>\n *             {data.map(record => (\n *                 <li key={record.id}>{record.name}</li>\n *             ))}\n *         </ul>\n *     );\n * }\n *\n * @example // custom pagination\n *\n * import { useListContext } from 'react-admin';\n * import { Button, Toolbar } from '@mui/material';\n * import ChevronLeft from '@mui/icons-material/ChevronLeft';\n * import ChevronRight from '@mui/icons-material/ChevronRight';\n *\n * const PrevNextPagination = () => {\n *     const { page, perPage, total, setPage } = useListContext();\n *     const nbPages = Math.ceil(total / perPage) || 1;\n *     return (\n *         nbPages > 1 &&\n *             <Toolbar>\n *                 {page > 1 &&\n *                     <Button color=\"primary\" key=\"prev\" onClick={() => setPage(page - 1)}>\n *                         <ChevronLeft />\n *                         Prev\n *                     </Button>\n *                 }\n *                 {page !== nbPages &&\n *                     <Button color=\"primary\" key=\"next\" onClick={() => setPage(page + 1)}>\n *                         Next\n *                         <ChevronRight />\n *                     </Button>\n *                 }\n *             </Toolbar>\n *     );\n * }\n */\nexport const useListContext = <RecordType extends RaRecord = any>(\n    props?: any\n): ListControllerResult<RecordType> => {\n    const context = useContext(ListContext);\n    // Props take precedence over the context\n    // @ts-ignore\n    return useMemo(\n        () =>\n            defaults(\n                {},\n                props != null ? extractListContextProps(props) : {},\n                context\n            ),\n        [context, props]\n    );\n};\n\n/**\n * Extract only the list controller props\n *\n * @param {Object} props Props passed to the useListContext hook\n *\n * @returns {ListControllerResult} List controller props\n */\nconst extractListContextProps = ({\n    sort,\n    data,\n    defaultTitle,\n    displayedFilters,\n    exporter,\n    filterValues,\n    hasCreate,\n    hideFilter,\n    isFetching,\n    isLoading,\n    onSelect,\n    onToggleItem,\n    onUnselectItems,\n    page,\n    perPage,\n    refetch,\n    resource,\n    selectedIds,\n    setFilters,\n    setPage,\n    setPerPage,\n    setSort,\n    showFilter,\n    total,\n}) => ({\n    sort,\n    data,\n    defaultTitle,\n    displayedFilters,\n    exporter,\n    filterValues,\n    hasCreate,\n    hideFilter,\n    isFetching,\n    isLoading,\n    onSelect,\n    onToggleItem,\n    onUnselectItems,\n    page,\n    perPage,\n    refetch,\n    resource,\n    selectedIds,\n    setFilters,\n    setPage,\n    setPerPage,\n    setSort,\n    showFilter,\n    total,\n});\n","import { useContext } from 'react';\n\nimport { ListFilterContext, ListFilterContextValue } from './ListFilterContext';\n\n/**\n * Hook to read the list controller props from the ListContext.\n *\n * Must be used within a <ListContextProvider> (e.g. as a descendent of <List>\n * or <ListBase>).\n *\n * @typedef {Object} ListFilterContextValue\n * @prop {Object}   filterValues a dictionary of filter values, e.g. { title: 'lorem', nationality: 'fr' }\n * @prop {Function} setFilters a callback to update the filters, e.g. setFilters(filters, displayedFilters)\n * @prop {Object}   displayedFilters a dictionary of the displayed filters, e.g. { title: true, nationality: true }\n * @prop {Function} showFilter a callback to show one of the filters, e.g. showFilter('title', defaultValue)\n * @prop {Function} hideFilter a callback to hide one of the filters, e.g. hideFilter('title')\n * @prop {string}   resource the resource name, deduced from the location. e.g. 'posts'\n *\n * @returns {ListFilterContextValue} list controller props\n *\n * @see useListController for how it is filled\n */\nexport const useListFilterContext = (props?: any): ListFilterContextValue => {\n    const context = useContext(ListFilterContext);\n    if (!context.hideFilter) {\n        /**\n         * The element isn't inside a <ListFilterContext.Provider>\n         *\n         * This may only happen when using Datagrid / SimpleList / SingleFieldList components\n         * outside of a List / ReferenceManyField / ReferenceArrayField -\n         * which isn't documented but tolerated.\n         * To avoid breakage in that case, fallback to props\n         *\n         * @deprecated - to be removed in 4.0\n         */\n        if (process.env.NODE_ENV !== 'production') {\n            console.log(\n                \"List components must be used inside a <ListContextProvider>. Relying on props rather than context to get List data and callbacks is deprecated and won't be supported in the next major version of react-admin.\"\n            );\n        }\n        return props;\n    }\n    return context;\n};\n","import { useContext } from 'react';\n\nimport {\n    ListPaginationContext,\n    ListPaginationContextValue,\n} from './ListPaginationContext';\n\n/**\n * Hook to read the list controller props from the ListContext.\n *\n * Must be used within a <ListContextProvider> (e.g. as a descendent of <List>\n * or <ListBase>).\n *\n * @typedef {Object} ListPaginationContextValue\n * @prop {integer}  total the total number of results for the current filters, excluding pagination. Useful to build the pagination controls. e.g. 23\n * @prop {integer}  page the current page. Starts at 1\n * @prop {Function} setPage a callback to change the page, e.g. setPage(3)\n * @prop {integer}  perPage the number of results per page. Defaults to 25\n * @prop {Function} setPerPage a callback to change the number of results per page, e.g. setPerPage(25)\n * @prop {Boolean}  hasPreviousPage true if the current page is not the first one\n * @prop {Boolean}  hasNextPage true if the current page is not the last one\n * @prop {string}   resource the resource name, deduced from the location. e.g. 'posts'\n *\n * @returns {ListPaginationContextValue} list controller props\n *\n * @see useListController for how it is filled\n */\nexport const useListPaginationContext = (\n    props?: any\n): ListPaginationContextValue => {\n    const context = useContext(ListPaginationContext);\n    if (!context.setPage) {\n        /**\n         * The element isn't inside a <ListPaginationContext.Provider>\n         *\n         * This may only happen when using Datagrid / SimpleList / SingleFieldList components\n         * outside of a List / ReferenceManyField / ReferenceArrayField -\n         * which isn't documented but tolerated.\n         * To avoid breakage in that case, fallback to props\n         *\n         * @deprecated - to be removed in 4.0\n         */\n        if (process.env.NODE_ENV !== 'production') {\n            console.log(\n                \"List components must be used inside a <ListContextProvider>. Relying on props rather than context to get List data and callbacks is deprecated and won't be supported in the next major version of react-admin.\"\n            );\n        }\n        return props;\n    }\n    return context;\n};\n\nexport default useListPaginationContext;\n","import { useContext } from 'react';\n\nimport { ListSortContext, ListSortContextValue } from './ListSortContext';\n\n/**\n * Hook to read the list controller props from the ListContext.\n *\n * Must be used within a <ListContextProvider> (e.g. as a descendent of <List>\n * or <ListBase>).\n *\n * @typedef {Object} ListSortContextValue\n * @prop {Object}   sort a sort object { field, order }, e.g. { field: 'date', order: 'DESC' }\n * @prop {Function} setSort a callback to change the sort, e.g. setSort({ field: 'name', order: 'ASC' })\n * @prop {string}   resource the resource name, deduced from the location. e.g. 'posts'\n *\n * @returns {ListSortContextValue} list controller props\n *\n * @see useListController for how it is filled\n */\nexport const useListSortContext = (props?: any): ListSortContextValue => {\n    const context = useContext(ListSortContext);\n    if (!context.setSort) {\n        /**\n         * The element isn't inside a <ListSortContext.Provider>\n         *\n         * This may only happen when using Datagrid / SimpleList / SingleFieldList components\n         * outside of a List / ReferenceManyField / ReferenceArrayField -\n         * which isn't documented but tolerated.\n         * To avoid breakage in that case, fallback to props\n         *\n         * @deprecated - to be removed in 4.0\n         */\n        if (process.env.NODE_ENV !== 'production') {\n            console.log(\n                \"List components must be used inside a <ListContextProvider>. Relying on props rather than context to get List data and callbacks is deprecated and won't be supported in the next major version of react-admin.\"\n            );\n        }\n        return props;\n    }\n    return context;\n};\n","import { useCallback } from 'react';\n\nimport { useRecordSelection } from './useRecordSelection';\nimport { Identifier } from '../../types';\n\n/**\n * Hook to Unselect the rows of a datagrid\n *\n * @example\n *\n * const unselect = useUnselect('posts');\n * unselect([123, 456]);\n */\nexport const useUnselect = (resource: string) => {\n    const [, { unselect }] = useRecordSelection(resource);\n    return useCallback(\n        (ids: Identifier[]) => {\n            unselect(ids);\n        },\n        [unselect]\n    );\n};\n","import { useCallback } from 'react';\n\nimport { useRecordSelection } from './useRecordSelection';\n\n/**\n * Hook to unselect all row of a datagrid\n *\n * @example\n *\n * const unselectAll = useUnselectAll('posts');\n * unselectAll();\n */\nexport const useUnselectAll = (resource: string) => {\n    const [, { clearSelection }] = useRecordSelection(resource);\n    return useCallback(() => {\n        clearSelection();\n    }, [clearSelection]);\n};\n","import { useCallback } from 'react';\n\nimport { useStore } from '../../store';\nimport { Identifier } from '../../types';\n\n/**\n * State-like hook for controlling the expanded state of a list item\n *\n * @param {string} resource The resource name, e.g. 'posts'\n * @param {string|integer} id The record identifier, e.g. 123\n * @param {boolean} single Forces only one id to be expanded at a time\n * @returns {Object} Destructure as [expanded, toggleExpanded].\n *\n * @example\n *\n * const [expanded, toggleExpanded] = useExpanded('posts', 123);\n * const expandIcon = expanded ? ExpandLess : ExpandMore;\n * const onExpandClick = () => toggleExpanded();\n */\nexport const useExpanded = (\n    resource: string,\n    id: Identifier,\n    single: boolean = false\n): [boolean, () => void] => {\n    const [expandedIds, setExpandedIds] = useStore<Identifier[]>(\n        `${resource}.datagrid.expanded`,\n        []\n    );\n    const expanded = Array.isArray(expandedIds)\n        ? // eslint-disable-next-line eqeqeq\n          expandedIds.map(el => el == id).indexOf(true) !== -1\n        : false;\n\n    const toggleExpanded = useCallback(() => {\n        setExpandedIds(ids => {\n            if (!Array.isArray(ids)) {\n                return [id];\n            }\n            const index = ids.findIndex(el => el == id); // eslint-disable-line eqeqeq\n            return index > -1\n                ? single\n                    ? []\n                    : [...ids.slice(0, index), ...ids.slice(index + 1)]\n                : single\n                ? [id]\n                : [...ids, id];\n        });\n    }, [setExpandedIds, id, single]);\n\n    return [expanded, toggleExpanded];\n};\n","import get from 'lodash/get';\nimport { useCallback, useEffect, useRef } from 'react';\nimport isEqual from 'lodash/isEqual';\n\nimport { useSafeSetState, removeEmpty } from '../../util';\nimport { useGetManyReference } from '../../dataProvider';\nimport { useNotify } from '../../notification';\nimport { RaRecord, SortPayload } from '../../types';\nimport { ListControllerResult } from '../list';\nimport usePaginationState from '../usePaginationState';\nimport { useRecordSelection } from '../list/useRecordSelection';\nimport useSortState from '../useSortState';\n\nexport interface UseReferenceManyFieldControllerParams {\n    filter?: any;\n    page?: number;\n    perPage?: number;\n    record?: RaRecord;\n    reference: string;\n    resource: string;\n    sort?: SortPayload;\n    source?: string;\n    target: string;\n}\n\nconst defaultFilter = {};\n\n/**\n * Fetch reference records, and return them when available\n *\n * The reference prop should be the name of one of the <Resource> components\n * added as <Admin> child.\n *\n * @example\n *\n * const { isLoading, data } = useReferenceManyFieldController({\n *     resource\n *     reference: 'users',\n *     record: {\n *         userId: 7\n *     }\n *     target: 'comments',\n *     source: 'userId',\n *     page: 1,\n *     perPage: 25,\n * });\n *\n * @param {Object} props\n * @param {string} props.resource The current resource name\n * @param {string} props.reference The linked resource name\n * @param {Object} props.record The current resource record\n * @param {string} props.target The target resource key\n * @param {Object} props.filter The filter applied on the recorded records list\n * @param {string} props.source The key of the linked resource identifier\n * @param {number} props.page the page number\n * @param {number} props.perPage the number of item per page\n * @param {Object} props.sort the sort to apply to the referenced records\n *\n * @returns {ListControllerResult} The reference many props\n */\nexport const useReferenceManyFieldController = (\n    props: UseReferenceManyFieldControllerParams\n): ListControllerResult => {\n    const {\n        reference,\n        record,\n        target,\n        filter = defaultFilter,\n        source,\n        page: initialPage,\n        perPage: initialPerPage,\n        sort: initialSort = { field: 'id', order: 'DESC' },\n    } = props;\n    const notify = useNotify();\n\n    // pagination logic\n    const { page, setPage, perPage, setPerPage } = usePaginationState({\n        page: initialPage,\n        perPage: initialPerPage,\n    });\n\n    // sort logic\n    const { sort, setSort: setSortState } = useSortState(initialSort);\n    const setSort = useCallback(\n        (sort: SortPayload) => {\n            setSortState(sort);\n            setPage(1);\n        },\n        [setPage, setSortState]\n    );\n\n    // selection logic\n    const [selectedIds, selectionModifiers] = useRecordSelection(reference);\n\n    // filter logic\n    const filterRef = useRef(filter);\n    const [displayedFilters, setDisplayedFilters] = useSafeSetState<{\n        [key: string]: boolean;\n    }>({});\n    const [filterValues, setFilterValues] = useSafeSetState<{\n        [key: string]: any;\n    }>(filter);\n    const hideFilter = useCallback(\n        (filterName: string) => {\n            setDisplayedFilters(previousState => {\n                const { [filterName]: _, ...newState } = previousState;\n                return newState;\n            });\n            setFilterValues(previousState => {\n                const { [filterName]: _, ...newState } = previousState;\n                return newState;\n            });\n        },\n        [setDisplayedFilters, setFilterValues]\n    );\n    const showFilter = useCallback(\n        (filterName: string, defaultValue: any) => {\n            setDisplayedFilters(previousState => ({\n                ...previousState,\n                [filterName]: true,\n            }));\n            setFilterValues(previousState => ({\n                ...previousState,\n                [filterName]: defaultValue,\n            }));\n        },\n        [setDisplayedFilters, setFilterValues]\n    );\n    const setFilters = useCallback(\n        (filters, displayedFilters) => {\n            setFilterValues(removeEmpty(filters));\n            setDisplayedFilters(displayedFilters);\n            setPage(1);\n        },\n        [setDisplayedFilters, setFilterValues, setPage]\n    );\n    // handle filter prop change\n    useEffect(() => {\n        if (!isEqual(filter, filterRef.current)) {\n            filterRef.current = filter;\n            setFilterValues(filter);\n        }\n    });\n\n    const {\n        data,\n        total,\n        pageInfo,\n        error,\n        isFetching,\n        isLoading,\n        refetch,\n    } = useGetManyReference(\n        reference,\n        {\n            target,\n            id: get(record, source),\n            pagination: { page, perPage },\n            sort,\n            filter: filterValues,\n        },\n        {\n            keepPreviousData: true,\n            onError: error =>\n                notify(\n                    typeof error === 'string'\n                        ? error\n                        : error.message || 'ra.notification.http_error',\n                    {\n                        type: 'warning',\n                        messageArgs: {\n                            _:\n                                typeof error === 'string'\n                                    ? error\n                                    : error && error.message\n                                    ? error.message\n                                    : undefined,\n                        },\n                    }\n                ),\n        }\n    );\n\n    return {\n        sort,\n        data,\n        defaultTitle: null,\n        displayedFilters,\n        error,\n        filterValues,\n        hideFilter,\n        isFetching,\n        isLoading,\n        onSelect: selectionModifiers.select,\n        onToggleItem: selectionModifiers.toggle,\n        onUnselectItems: selectionModifiers.clearSelection,\n        page,\n        perPage,\n        refetch,\n        resource: reference,\n        selectedIds,\n        setFilters,\n        setPage,\n        setPerPage,\n        hasNextPage: pageInfo\n            ? pageInfo.hasNextPage\n            : total != null\n            ? page * perPage < total\n            : undefined,\n        hasPreviousPage: pageInfo ? pageInfo.hasPreviousPage : page > 1,\n        setSort,\n        showFilter,\n        total,\n    };\n};\n","import get from 'lodash/get';\n\nimport { useGetManyReference } from '../../dataProvider';\nimport { useNotify } from '../../notification';\nimport { RaRecord } from '../../types';\nimport { UseReferenceResult } from '../useReference';\n\nexport interface UseReferenceOneFieldControllerParams {\n    record?: RaRecord;\n    reference: string;\n    source?: string;\n    target: string;\n}\n\n/**\n * Fetch a reference record in a one-to-one relationship, and return it when available\n *\n * The reference prop should be the name of one of the <Resource> components\n * added as <Admin> child.\n *\n * @example\n *\n * const { data, isLoading, error } = useReferenceOneFieldController({\n *     record: { id: 7, name: 'James Joyce'}\n *     reference: 'bios',\n *     target: 'author_id',\n * });\n *\n * @typedef {Object} UseReferenceOneFieldControllerParams\n * @prop {Object} props.record The current resource record\n * @prop {string} props.reference The linked resource name\n * @prop {string} props.target The target resource key\n * @prop {string} props.source The key current record identifier ('id' by default)\n *\n * @returns {UseReferenceResult} The request state. Destructure as { referenceRecord, isLoading, error }.\n */\nexport const useReferenceOneFieldController = (\n    props: UseReferenceOneFieldControllerParams\n): UseReferenceResult => {\n    const { reference, record, target, source = 'id' } = props;\n    const notify = useNotify();\n\n    const { data, error, isFetching, isLoading, refetch } = useGetManyReference(\n        reference,\n        {\n            target,\n            id: get(record, source),\n            pagination: { page: 1, perPage: 1 },\n            sort: { field: 'id', order: 'ASC' },\n            filter: {},\n        },\n        {\n            enabled: !!record,\n            onError: error =>\n                notify(\n                    typeof error === 'string'\n                        ? error\n                        : error.message || 'ra.notification.http_error',\n                    {\n                        type: 'warning',\n                        messageArgs: {\n                            _:\n                                typeof error === 'string'\n                                    ? error\n                                    : error && error.message\n                                    ? error.message\n                                    : undefined,\n                        },\n                    }\n                ),\n        }\n    );\n\n    return {\n        referenceRecord: data ? data[0] : undefined,\n        error,\n        isFetching,\n        isLoading,\n        refetch,\n    };\n};\n","import { RaRecord, Translate } from '../../types';\nimport { MatchingReferencesError } from './types';\nimport { ControllerRenderProps } from 'react-hook-form';\n\ninterface GetStatusForInputParams<RecordType extends RaRecord = RaRecord> {\n    field: Pick<ControllerRenderProps, 'value'>;\n    matchingReferences: RecordType[] | MatchingReferencesError;\n    referenceRecord: RecordType;\n    translate: Translate;\n}\n\nconst isMatchingReferencesError = (\n    matchingReferences?: any\n): matchingReferences is MatchingReferencesError =>\n    matchingReferences && matchingReferences.error !== undefined;\n\nexport const getStatusForInput = <RecordType extends RaRecord = RaRecord>({\n    field,\n    matchingReferences,\n    referenceRecord,\n    translate = x => x,\n}: GetStatusForInputParams<RecordType>) => {\n    const matchingReferencesError = isMatchingReferencesError(\n        matchingReferences\n    )\n        ? translate(matchingReferences.error, {\n              _: matchingReferences.error,\n          })\n        : null;\n    const selectedReferenceError =\n        field.value && !referenceRecord\n            ? translate('ra.input.references.single_missing', {\n                  _: 'ra.input.references.single_missing',\n              })\n            : null;\n\n    return {\n        waiting:\n            (field.value && selectedReferenceError && !matchingReferences) ||\n            (!field.value && !matchingReferences),\n        error:\n            (field.value &&\n                selectedReferenceError &&\n                matchingReferencesError) ||\n            (!field.value && matchingReferencesError)\n                ? field.value\n                    ? selectedReferenceError\n                    : matchingReferencesError\n                : null,\n        warning: selectedReferenceError || matchingReferencesError,\n        choices: Array.isArray(matchingReferences)\n            ? matchingReferences\n            : [referenceRecord].filter(choice => choice),\n    };\n};\n\nexport const REFERENCES_STATUS_READY = 'REFERENCES_STATUS_READY';\nexport const REFERENCES_STATUS_INCOMPLETE = 'REFERENCES_STATUS_INCOMPLETE';\nexport const REFERENCES_STATUS_EMPTY = 'REFERENCES_STATUS_EMPTY';\n\nexport const getSelectedReferencesStatus = <RecordType extends RaRecord = any>(\n    field: Pick<ControllerRenderProps, 'value'>,\n    referenceRecords: RecordType[]\n) =>\n    !field.value || field.value.length === referenceRecords.length\n        ? REFERENCES_STATUS_READY\n        : referenceRecords.length > 0\n        ? REFERENCES_STATUS_INCOMPLETE\n        : REFERENCES_STATUS_EMPTY;\n\ninterface GetStatusForArrayInputParams<RecordType extends RaRecord = any> {\n    field: ControllerRenderProps;\n    matchingReferences: RecordType[] | MatchingReferencesError;\n    referenceRecords: RecordType[];\n    translate: Translate;\n}\n\nexport const getStatusForArrayInput = <RecordType extends RaRecord = any>({\n    field,\n    matchingReferences,\n    referenceRecords,\n    translate = x => x,\n}: GetStatusForArrayInputParams<RecordType>) => {\n    // selectedReferencesDataStatus can be \"empty\" (no data was found for references from input.value)\n    // or \"incomplete\" (Not all of the reference data was found)\n    // or \"ready\" (all references data was found or there is no references from input.value)\n    const selectedReferencesDataStatus = getSelectedReferencesStatus(\n        field,\n        referenceRecords\n    );\n\n    const matchingReferencesError = isMatchingReferencesError(\n        matchingReferences\n    )\n        ? translate(matchingReferences.error, {\n              _: matchingReferences.error,\n          })\n        : null;\n\n    const choices = Array.isArray(matchingReferences)\n        ? referenceRecords.concat(\n              matchingReferences.filter(\n                  choice =>\n                      referenceRecords.findIndex(c => c.id === choice.id) === -1\n              )\n          )\n        : referenceRecords;\n\n    return {\n        waiting:\n            (!matchingReferences &&\n                field.value &&\n                selectedReferencesDataStatus === REFERENCES_STATUS_EMPTY) ||\n            (!matchingReferences && !field.value),\n        error:\n            matchingReferencesError &&\n            (!field.value ||\n                (field.value &&\n                    selectedReferencesDataStatus === REFERENCES_STATUS_EMPTY))\n                ? translate('ra.input.references.all_missing', {\n                      _: 'ra.input.references.all_missing',\n                  })\n                : null,\n        warning:\n            matchingReferencesError ||\n            (field.value &&\n                selectedReferencesDataStatus !== REFERENCES_STATUS_READY)\n                ? matchingReferencesError ||\n                  translate('ra.input.references.many_missing', {\n                      _: 'ra.input.references.many_missing',\n                  })\n                : null,\n        choices,\n    };\n};\n","import { useCallback, useMemo } from 'react';\nimport { useWatch } from 'react-hook-form';\n\nimport { FilterPayload, RaRecord, SortPayload } from '../../types';\nimport { useGetList, useGetManyAggregate } from '../../dataProvider';\nimport { useReferenceParams } from './useReferenceParams';\nimport { ChoicesContextValue } from '../../form';\nimport { UseQueryOptions } from 'react-query';\n\n/**\n * Prepare data for the ReferenceArrayInput components\n *\n * @example\n *\n * const { allChoices, availableChoices, selectedChoices, error, isFetching, isLoading } = useReferenceArrayInputController({\n *      record: { referenceIds: ['id1', 'id2']};\n *      reference: 'reference';\n *      resource: 'resource';\n *      source: 'referenceIds';\n * });\n *\n * @param {Object} props\n * @param {Object} props.record The current resource record\n * @param {string} props.reference The linked resource name\n * @param {string} props.resource The current resource name\n * @param {string} props.source The key of the linked resource identifier\n *\n * @param {Props} props\n *\n * @return {Object} controllerProps Fetched data and callbacks for the ReferenceArrayInput components\n */\nexport const useReferenceArrayInputController = <\n    RecordType extends RaRecord = any\n>(\n    props: UseReferenceArrayInputParams<RecordType>\n): ChoicesContextValue<RecordType> => {\n    const {\n        debounce,\n        enableGetChoices,\n        filter,\n        page: initialPage = 1,\n        perPage: initialPerPage = 25,\n        sort: initialSort = { field: 'id', order: 'DESC' },\n        queryOptions = {},\n        reference,\n        source,\n    } = props;\n    const value = useWatch({ name: source });\n\n    /**\n     * Get the records related to the current value (with getMany)\n     */\n    const {\n        data: referenceRecords,\n        error: errorGetMany,\n        isLoading: isLoadingGetMany,\n        isFetching: isFetchingGetMany,\n        refetch: refetchGetMany,\n    } = useGetManyAggregate<RecordType>(\n        reference,\n        {\n            ids: value || EmptyArray,\n        },\n        {\n            enabled: value != null && value.length > 0,\n        }\n    );\n\n    const [params, paramsModifiers] = useReferenceParams({\n        resource: reference,\n        page: initialPage,\n        perPage: initialPerPage,\n        sort: initialSort,\n        debounce,\n        filter,\n    });\n\n    // filter out not found references - happens when the dataProvider doesn't guarantee referential integrity\n    const finalReferenceRecords = referenceRecords\n        ? referenceRecords.filter(Boolean)\n        : [];\n\n    const isGetMatchingEnabled = enableGetChoices\n        ? enableGetChoices(params.filterValues)\n        : true;\n\n    const {\n        data: matchingReferences,\n        total,\n        pageInfo,\n        error: errorGetList,\n        isLoading: isLoadingGetList,\n        isFetching: isFetchingGetList,\n        refetch: refetchGetMatching,\n    } = useGetList<RecordType>(\n        reference,\n        {\n            pagination: {\n                page: params.page,\n                perPage: params.perPage,\n            },\n            sort: { field: params.sort, order: params.order },\n            filter: { ...params.filter, ...filter },\n        },\n        { retry: false, enabled: isGetMatchingEnabled, ...queryOptions }\n    );\n\n    // We merge the currently selected records with the matching ones, otherwise\n    // the component displaying the currently selected records may fail\n    const finalMatchingReferences =\n        matchingReferences && matchingReferences.length > 0\n            ? mergeReferences(matchingReferences, finalReferenceRecords)\n            : finalReferenceRecords.length > 0\n            ? finalReferenceRecords\n            : matchingReferences;\n\n    const refetch = useCallback(() => {\n        refetchGetMany();\n        refetchGetMatching();\n    }, [refetchGetMany, refetchGetMatching]);\n\n    const currentSort = useMemo(\n        () => ({\n            field: params.sort,\n            order: params.order,\n        }),\n        [params.sort, params.order]\n    );\n    return {\n        sort: currentSort,\n        allChoices: finalMatchingReferences,\n        availableChoices: matchingReferences,\n        selectedChoices: finalReferenceRecords,\n        displayedFilters: params.displayedFilters,\n        error: errorGetMany || errorGetList,\n        filter,\n        filterValues: params.filterValues,\n        hideFilter: paramsModifiers.hideFilter,\n        isFetching: isFetchingGetMany || isFetchingGetList,\n        isLoading: isLoadingGetMany || isLoadingGetList,\n        page: params.page,\n        perPage: params.perPage,\n        refetch,\n        resource: reference,\n        setFilters: paramsModifiers.setFilters,\n        setPage: paramsModifiers.setPage,\n        setPerPage: paramsModifiers.setPerPage,\n        setSort: paramsModifiers.setSort,\n        showFilter: paramsModifiers.showFilter,\n        source,\n        total: total,\n        hasNextPage: pageInfo\n            ? pageInfo.hasNextPage\n            : total != null\n            ? params.page * params.perPage < total\n            : undefined,\n        hasPreviousPage: pageInfo ? pageInfo.hasPreviousPage : params.page > 1,\n    };\n};\n\nconst EmptyArray = [];\n\n// concatenate and deduplicate two lists of records\nconst mergeReferences = <RecordType extends RaRecord = any>(\n    ref1: RecordType[],\n    ref2: RecordType[]\n): RecordType[] => {\n    const res = [...ref1];\n    const ids = ref1.map(ref => ref.id);\n    ref2.forEach(ref => {\n        if (!ids.includes(ref.id)) {\n            ids.push(ref.id);\n            res.push(ref);\n        }\n    });\n    return res;\n};\n\nexport interface UseReferenceArrayInputParams<\n    RecordType extends RaRecord = any\n> {\n    debounce?: number;\n    filter?: FilterPayload;\n    queryOptions?: UseQueryOptions<{\n        data: RecordType[];\n        total?: number;\n        pageInfo?: {\n            hasNextPage?: boolean;\n            hasPreviousPage?: boolean;\n        };\n    }>;\n    page?: number;\n    perPage?: number;\n    record?: RecordType;\n    reference: string;\n    resource?: string;\n    sort?: SortPayload;\n    source: string;\n    enableGetChoices?: (filters: any) => boolean;\n}\n","import { useCallback, useMemo, useState, useRef } from 'react';\nimport lodashDebounce from 'lodash/debounce';\n\nimport { SortPayload, FilterPayload } from '../../types';\nimport removeEmpty from '../../util/removeEmpty';\nimport {\n    queryReducer,\n    HIDE_FILTER,\n    SET_FILTER,\n    SET_PAGE,\n    SET_PER_PAGE,\n    SET_SORT,\n    SHOW_FILTER,\n    SORT_ASC,\n} from '../list';\n\n/**\n * Get the reference inputs parameters (page, sort, filters) and modifiers.\n *\n * @returns {Array} A tuple [parameters, modifiers].\n * Destructure as [\n *    { page, perPage, sort, order, filter, filterValues, displayedFilters, requestSignature },\n *    { setFilters, hideFilter, showFilter, setPage, setPerPage, setSort }\n * ]\n *\n * @example\n *\n * const [referenceParams, referenceParamsActions] = useReferenceParams({\n *      resource: 'posts',\n *      filterDefaultValues: {\n *          published: true\n *      },\n *      sort: {\n *          field: 'published_at',\n *          order: 'DESC'\n *      },\n *      perPage: 25\n * });\n *\n * const {\n *      page,\n *      perPage,\n *      sort,\n *      order,\n *      filter,\n *      filterValues,\n *      displayedFilters,\n *      requestSignature\n * } = referenceParams;\n *\n * const {\n *      setFilters,\n *      hideFilter,\n *      showFilter,\n *      setPage,\n *      setPerPage,\n *      setSort,\n * } = referenceParamsActions;\n */\nexport const useReferenceParams = ({\n    resource,\n    filter,\n    sort = defaultSort,\n    page = 1,\n    perPage = 10,\n    debounce = 500,\n}: ReferenceParamsOptions): [Parameters, Modifiers] => {\n    const [params, setParams] = useState(defaultParams);\n    const tempParams = useRef<ReferenceParams>();\n\n    const requestSignature = [\n        resource,\n        JSON.stringify(params),\n        JSON.stringify(filter),\n        JSON.stringify(sort),\n        page,\n        perPage,\n    ];\n\n    const query = useMemo(\n        () =>\n            getQuery({\n                params: params,\n                filterDefaultValues: filter,\n                sort,\n                page,\n                perPage,\n            }),\n        requestSignature // eslint-disable-line react-hooks/exhaustive-deps\n    );\n\n    const changeParams = useCallback(action => {\n        if (!tempParams.current) {\n            // no other changeParams action dispatched this tick\n            tempParams.current = queryReducer(query, action);\n            // schedule side effects for next tick\n            setTimeout(() => {\n                setParams(tempParams.current);\n                tempParams.current = undefined;\n            }, 0);\n        } else {\n            // side effects already scheduled, just change the params\n            tempParams.current = queryReducer(tempParams.current, action);\n        }\n    }, requestSignature); // eslint-disable-line react-hooks/exhaustive-deps\n\n    const setSort = useCallback(\n        (sort: SortPayload) =>\n            changeParams({\n                type: SET_SORT,\n                payload: sort,\n            }),\n        requestSignature // eslint-disable-line react-hooks/exhaustive-deps\n    );\n\n    const setPage = useCallback(\n        (newPage: number) => changeParams({ type: SET_PAGE, payload: newPage }),\n        requestSignature // eslint-disable-line react-hooks/exhaustive-deps\n    );\n\n    const setPerPage = useCallback(\n        (newPerPage: number) =>\n            changeParams({ type: SET_PER_PAGE, payload: newPerPage }),\n        requestSignature // eslint-disable-line react-hooks/exhaustive-deps\n    );\n\n    const filterValues = query.filter || emptyObject;\n    const displayedFilterValues = query.displayedFilters || emptyObject;\n\n    const debouncedSetFilters = lodashDebounce((filter, displayedFilters) => {\n        changeParams({\n            type: SET_FILTER,\n            payload: {\n                filter: removeEmpty(filter),\n                displayedFilters,\n            },\n        });\n    }, debounce);\n\n    const setFilters = useCallback(\n        (filter, displayedFilters, debounce = true) => {\n            debounce\n                ? debouncedSetFilters(filter, displayedFilters)\n                : changeParams({\n                      type: SET_FILTER,\n                      payload: {\n                          filter: removeEmpty(filter),\n                          displayedFilters,\n                      },\n                  });\n        },\n        requestSignature // eslint-disable-line react-hooks/exhaustive-deps\n    );\n\n    const hideFilter = useCallback((filterName: string) => {\n        changeParams({\n            type: HIDE_FILTER,\n            payload: filterName,\n        });\n    }, requestSignature); // eslint-disable-line react-hooks/exhaustive-deps\n\n    const showFilter = useCallback((filterName: string, defaultValue: any) => {\n        changeParams({\n            type: SHOW_FILTER,\n            payload: {\n                filterName,\n                defaultValue,\n            },\n        });\n    }, requestSignature); // eslint-disable-line react-hooks/exhaustive-deps\n    return [\n        {\n            displayedFilters: displayedFilterValues,\n            filterValues,\n            requestSignature,\n            ...query,\n        },\n        {\n            changeParams,\n            setPage,\n            setPerPage,\n            setSort,\n            setFilters,\n            hideFilter,\n            showFilter,\n        },\n    ];\n};\n\nexport const validQueryParams = [\n    'page',\n    'perPage',\n    'sort',\n    'order',\n    'filter',\n    'displayedFilters',\n];\n\n/**\n * Merge list params from 2 different sources:\n *   - the params stored in the local state\n *   - the props passed to the List component (including the filter defaultValues)\n */\nexport const getQuery = ({\n    params,\n    filterDefaultValues,\n    sort,\n    page,\n    perPage,\n}) => {\n    const query: Partial<ReferenceParams> = hasCustomParams(params)\n        ? { ...params }\n        : { filter: filterDefaultValues || {} };\n\n    if (!query.sort) {\n        query.sort = sort.field;\n        query.order = sort.order;\n    }\n    if (query.page == null) {\n        query.page = page;\n    }\n    if (query.perPage == null) {\n        query.perPage = perPage;\n    }\n    if (query.page == null) {\n        query.page = 1;\n    }\n\n    return {\n        ...query,\n        page: getNumberOrDefault(query.page, 1),\n        perPage: getNumberOrDefault(query.perPage, 10),\n    } as ReferenceParams;\n};\n\n/**\n * Check if user has already set custom sort, page, or filters for this list\n *\n * User params come from the Redux store as the params props. By default,\n * this object is:\n *\n * { filter: {}, order: null, page: 1, perPage: null, sort: null }\n *\n * To check if the user has custom params, we must compare the params\n * to these initial values.\n *\n * @param {Object} params\n */\nexport const hasCustomParams = (params: ReferenceParams) => {\n    return (\n        params &&\n        params.filter &&\n        (Object.keys(params.filter).length > 0 ||\n            params.order != null ||\n            params.page !== 1 ||\n            params.perPage != null ||\n            params.sort != null)\n    );\n};\n\nexport const getNumberOrDefault = (\n    possibleNumber: string | number | undefined,\n    defaultValue: number\n) => {\n    const parsedNumber =\n        typeof possibleNumber === 'string'\n            ? parseInt(possibleNumber, 10)\n            : possibleNumber;\n\n    return isNaN(parsedNumber) ? defaultValue : parsedNumber;\n};\n\nexport interface ReferenceParamsOptions {\n    resource: string;\n    page?: number;\n    perPage?: number;\n    sort?: SortPayload;\n    // default value for a filter when displayed but not yet set\n    filter?: FilterPayload;\n    debounce?: number;\n}\n\nexport interface ReferenceParams {\n    sort: string;\n    order: string;\n    page: number;\n    perPage: number;\n    filter: any;\n    displayedFilters: any;\n}\n\ninterface Parameters extends ReferenceParams {\n    filterValues: object;\n    displayedFilters: {\n        [key: string]: boolean;\n    };\n    requestSignature: any[];\n}\n\ninterface Modifiers {\n    changeParams: (action: any) => void;\n    setPage: (page: number) => void;\n    setPerPage: (pageSize: number) => void;\n    setSort: (sort: SortPayload) => void;\n    setFilters: (filters: any, displayedFilters: any) => void;\n    hideFilter: (filterName: string) => void;\n    showFilter: (filterName: string, defaultValue: any) => void;\n}\n\nconst emptyObject = {};\n\nconst defaultSort = {\n    field: 'id',\n    order: SORT_ASC,\n};\n\nconst defaultParams = {};\n","import { useCallback, useMemo } from 'react';\nimport { useWatch } from 'react-hook-form';\nimport { useGetList } from '../../dataProvider';\nimport { FilterPayload, RaRecord, SortPayload } from '../../types';\nimport { useReference } from '../useReference';\nimport { ChoicesContextValue } from '../../form';\nimport { useReferenceParams } from './useReferenceParams';\nimport { UseQueryOptions } from 'react-query';\n\nconst defaultReferenceSource = (resource: string, source: string) =>\n    `${resource}@${source}`;\n\n/**\n * A hook for choosing a reference record. Useful for foreign keys.\n *\n * This hook fetches the possible values in the reference resource\n * (using `dataProvider.getList()`), it returns the possible choices\n * as the `choices` attribute.\n *\n * @example\n * const {\n *      choices, // the available reference resource\n * } = useReferenceInputController({\n *      input, // the input props\n *      resource: 'comments',\n *      reference: 'posts',\n *      source: 'post_id',\n * });\n *\n * The hook also allow to filter results. It returns a `setFilters`\n * function. It uses the value to create a filter for the query.\n * You can also add a permanentFilter to further filter the result:\n *\n * @example\n * const {\n *      choices, // the available reference resource\n *      setFilter,\n * } = useReferenceInputController({\n *      input, // the input props\n *      resource: 'comments',\n *      reference: 'posts',\n *      source: 'post_id',\n *      permanentFilter: {\n *          author: 'john'\n *      },\n * });\n */\nexport const useReferenceInputController = <RecordType extends RaRecord = any>(\n    props: UseReferenceInputControllerParams\n): ChoicesContextValue<RecordType> => {\n    const {\n        debounce,\n        enableGetChoices,\n        filter,\n        page: initialPage = 1,\n        perPage: initialPerPage = 25,\n        sort: initialSort,\n        queryOptions = {},\n        reference,\n        source,\n    } = props;\n\n    const [params, paramsModifiers] = useReferenceParams({\n        resource: reference,\n        page: initialPage,\n        perPage: initialPerPage,\n        sort: initialSort,\n        debounce,\n        filter,\n    });\n\n    // selection logic\n    const currentValue = useWatch({ name: source });\n\n    const isGetMatchingEnabled = enableGetChoices\n        ? enableGetChoices(params.filterValues)\n        : true;\n\n    // fetch possible values\n    const {\n        data: possibleValuesData = [],\n        total,\n        pageInfo,\n        isFetching: possibleValuesFetching,\n        isLoading: possibleValuesLoading,\n        error: possibleValuesError,\n        refetch: refetchGetList,\n    } = useGetList<RecordType>(\n        reference,\n        {\n            pagination: {\n                page: params.page,\n                perPage: params.perPage,\n            },\n            sort: { field: params.sort, order: params.order },\n            filter: { ...params.filter, ...filter },\n        },\n        {\n            enabled: isGetMatchingEnabled,\n            ...queryOptions,\n        }\n    );\n\n    // fetch current value\n    const {\n        referenceRecord,\n        refetch: refetchReference,\n        error: referenceError,\n        isLoading: referenceLoading,\n        isFetching: referenceFetching,\n    } = useReference<RecordType>({\n        id: currentValue,\n        reference,\n    });\n    // add current value to possible sources\n    let finalData: RecordType[], finalTotal: number;\n    if (\n        !referenceRecord ||\n        possibleValuesData.find(record => record.id === currentValue)\n    ) {\n        finalData = possibleValuesData;\n        finalTotal = total;\n    } else {\n        finalData = [referenceRecord, ...possibleValuesData];\n        finalTotal = total == null ? undefined : total + 1;\n    }\n\n    const refetch = useCallback(() => {\n        refetchGetList();\n        refetchReference();\n    }, [refetchGetList, refetchReference]);\n\n    const currentSort = useMemo(\n        () => ({\n            field: params.sort,\n            order: params.order,\n        }),\n        [params.sort, params.order]\n    );\n    return {\n        sort: currentSort,\n        allChoices: finalData,\n        availableChoices: possibleValuesData,\n        selectedChoices: [referenceRecord],\n        displayedFilters: params.displayedFilters,\n        error: referenceError || possibleValuesError,\n        filter: params.filter,\n        filterValues: params.filterValues,\n        hideFilter: paramsModifiers.hideFilter,\n        isFetching: referenceFetching || possibleValuesFetching,\n        isLoading: referenceLoading || possibleValuesLoading,\n        page: params.page,\n        perPage: params.perPage,\n        refetch,\n        resource: reference,\n        setFilters: paramsModifiers.setFilters,\n        setPage: paramsModifiers.setPage,\n        setPerPage: paramsModifiers.setPerPage,\n        setSort: paramsModifiers.setSort,\n        showFilter: paramsModifiers.showFilter,\n        source,\n        total: finalTotal,\n        hasNextPage: pageInfo\n            ? pageInfo.hasNextPage\n            : total != null\n            ? params.page * params.perPage < total\n            : undefined,\n        hasPreviousPage: pageInfo ? pageInfo.hasPreviousPage : params.page > 1,\n    };\n};\n\nexport interface UseReferenceInputControllerParams<\n    RecordType extends RaRecord = any\n> {\n    debounce?: number;\n    filter?: FilterPayload;\n    queryOptions?: UseQueryOptions<{\n        data: RecordType[];\n        total?: number;\n        pageInfo?: {\n            hasNextPage?: boolean;\n            hasPreviousPage?: boolean;\n        };\n    }>;\n    page?: number;\n    perPage?: number;\n    record?: RaRecord;\n    reference: string;\n    // @deprecated ignored\n    referenceSource?: typeof defaultReferenceSource;\n    resource?: string;\n    sort?: SortPayload;\n    source: string;\n    enableGetChoices?: (filters: any) => boolean;\n}\n","import { RaRecord, Identifier } from '../types';\nimport { UseGetManyHookValue, useGetManyAggregate } from '../dataProvider';\n\ninterface UseReferenceProps {\n    id: Identifier;\n    reference: string;\n}\n\nexport interface UseReferenceResult<RecordType extends RaRecord = any> {\n    isLoading: boolean;\n    isFetching: boolean;\n    referenceRecord?: RecordType;\n    error?: any;\n    refetch: UseGetManyHookValue<RecordType>['refetch'];\n}\n\n/**\n * @typedef UseReferenceResult\n * @type {Object}\n * @property {boolean} isFetching: boolean indicating if the reference is loading\n * @property {boolean} isLoading: boolean indicating if the reference has loaded at least once\n * @property {Object} referenceRecord: the referenced record.\n */\n\n/**\n * Fetch reference record, and return it when available\n *\n * The reference prop should be the name of one of the <Resource> components\n * added as <Admin> child.\n *\n * @example\n *\n * const { isLoading, referenceRecord } = useReference({\n *     id: 7,\n *     reference: 'users',\n * });\n *\n * @param {Object} option\n * @param {string} option.reference The linked resource name\n * @param {string} option.id The id of the reference\n *\n * @returns {UseReferenceResult} The reference record\n */\nexport const useReference = <RecordType extends RaRecord = any>({\n    reference,\n    id,\n}: UseReferenceProps): UseReferenceResult<RecordType> => {\n    const { data, error, isLoading, isFetching, refetch } = useGetManyAggregate<\n        RecordType\n    >(reference, { ids: [id] });\n    return {\n        referenceRecord: error ? undefined : data ? data[0] : undefined,\n        refetch,\n        error,\n        isLoading,\n        isFetching,\n    };\n};\n","import * as React from 'react';\nimport { ReactElement } from 'react';\n\nimport { RaRecord } from '../../types';\nimport { useShowController, ShowControllerProps } from './useShowController';\nimport { ShowContextProvider } from './ShowContextProvider';\n\n/**\n * Call useShowController and put the value in a ShowContext\n *\n * Base class for <Show> components, without UI.\n *\n * Accepts any props accepted by useShowController:\n * - id: The record identifier\n * - resource: The resource\n *\n * @example // Custom show layout\n *\n * const PostShow = () => (\n *     <ShowBase resource=\"posts\">\n *         <Grid container>\n *             <Grid item xs={8}>\n *                 <SimpleForm>\n *                     ...\n *                 </SimpleForm>\n *             </Grid>\n *             <Grid item xs={4}>\n *                 Show instructions...\n *             </Grid>\n *         </Grid>\n *         <div>\n *             Post related links...\n *         </div>\n *     </ShowBase>\n * );\n */\nexport const ShowBase = <RecordType extends RaRecord = any>({\n    children,\n    ...props\n}: { children: ReactElement } & ShowControllerProps<RecordType>) => (\n    <ShowContextProvider value={useShowController<RecordType>(props)}>\n        {children}\n    </ShowContextProvider>\n);\n","import { useParams } from 'react-router-dom';\nimport { UseQueryOptions } from 'react-query';\n\nimport { useAuthenticated } from '../../auth';\nimport { RaRecord } from '../../types';\nimport { useGetOne, useRefresh, UseGetOneHookValue } from '../../dataProvider';\nimport { useTranslate } from '../../i18n';\nimport { useRedirect } from '../../routing';\nimport { useNotify } from '../../notification';\nimport { useResourceContext, useGetResourceLabel } from '../../core';\n\n/**\n * Prepare data for the Show view.\n *\n * useShowController does a few things:\n * - it grabs the id from the URL and the resource name from the ResourceContext,\n * - it fetches the record via useGetOne,\n * - it prepares the page title.\n *\n * @param {Object} props The props passed to the Show component.\n *\n * @return {Object} controllerProps Fetched data and callbacks for the Show view\n *\n * @example\n *\n * import { useShowController } from 'react-admin';\n * import ShowView from './ShowView';\n *\n * const MyShow = () => {\n *     const controllerProps = useShowController();\n *     return <ShowView {...controllerProps} />;\n * };\n *\n * @example // useShowController can also take its parameters from props\n *\n * import { useShowController } from 'react-admin';\n * import ShowView from './ShowView';\n *\n * const MyShow = () => {\n *     const controllerProps = useShowController({ resource: 'posts', id: 1234 });\n *     return <ShowView {...controllerProps} />;\n * };\n */\nexport const useShowController = <RecordType extends RaRecord = any>(\n    props: ShowControllerProps<RecordType> = {}\n): ShowControllerResult<RecordType> => {\n    const { disableAuthentication, id: propsId, queryOptions = {} } = props;\n\n    useAuthenticated({ enabled: !disableAuthentication });\n\n    const resource = useResourceContext(props);\n    const translate = useTranslate();\n    const notify = useNotify();\n    const redirect = useRedirect();\n    const refresh = useRefresh();\n    const { id: routeId } = useParams<'id'>();\n    const id = propsId || decodeURIComponent(routeId);\n\n    const { data: record, error, isLoading, isFetching, refetch } = useGetOne<\n        RecordType\n    >(\n        resource,\n        { id },\n        {\n            onError: () => {\n                notify('ra.notification.item_doesnt_exist', {\n                    type: 'warning',\n                });\n                redirect('list', resource);\n                refresh();\n            },\n            retry: false,\n            ...queryOptions,\n        }\n    );\n\n    // eslint-disable-next-line eqeqeq\n    if (record && record.id && record.id != id) {\n        throw new Error(\n            `useShowController: Fetched record's id attribute (${record.id}) must match the requested 'id' (${id})`\n        );\n    }\n\n    const getResourceLabel = useGetResourceLabel();\n    const defaultTitle = translate('ra.page.show', {\n        name: getResourceLabel(resource, 1),\n        id,\n        record,\n    });\n\n    return {\n        defaultTitle,\n        error,\n        isLoading,\n        isFetching,\n        record,\n        refetch,\n        resource,\n    };\n};\n\nexport interface ShowControllerProps<RecordType extends RaRecord = any> {\n    disableAuthentication?: boolean;\n    id?: RecordType['id'];\n    queryOptions?: UseQueryOptions<RecordType>;\n    resource?: string;\n}\n\nexport interface ShowControllerResult<RecordType extends RaRecord = any> {\n    defaultTitle: string;\n    // Necessary for actions (EditActions) which expect a data prop containing the record\n    // @deprecated - to be removed in 4.0d\n    data?: RecordType;\n    error?: any;\n    isFetching: boolean;\n    isLoading: boolean;\n    resource: string;\n    record?: RecordType;\n    refetch: UseGetOneHookValue<RecordType>['refetch'];\n}\n","import * as React from 'react';\nimport { ReactNode } from 'react';\nimport { RaRecord } from '../../types';\nimport { RecordContextProvider } from '../record/RecordContext';\nimport { ShowContext } from './ShowContext';\nimport { ShowControllerResult } from './useShowController';\n\n/**\n * Create a Show Context.\n *\n * @example\n *\n * const MyShow = (props) => {\n *     const controllerProps = useShowController(props);\n *     return (\n *         <ShowContextProvider value={controllerProps}>\n *             <MyShowView>\n *         </ShowContextProvider>\n *     );\n * };\n *\n * const MyShowView = () => {\n *     const record = useRecordContext();\n * }\n *\n * @see ShowContext\n * @see RecordContext\n */\nexport const ShowContextProvider = ({\n    children,\n    value,\n}: {\n    children: ReactNode;\n    value: ShowControllerResult;\n}) => (\n    <ShowContext.Provider value={value}>\n        <RecordContextProvider<Partial<RaRecord>> value={value && value.record}>\n            {children}\n        </RecordContextProvider>\n    </ShowContext.Provider>\n);\n","import { createContext } from 'react';\nimport { ShowControllerResult } from './useShowController';\n\n/**\n * Context to store the result of the useShowController() hook.\n *\n * Use the useShowContext() hook to read the context. That's what the Show components do in react-admin.\n *\n * @example\n *\n * import { useShowController, ShowContextProvider } from 'ra-core';\n *\n * const Show = props => {\n *     const controllerProps = useShowController(props);\n *     return (\n *         <ShowContextProvider value={controllerProps}>\n *             ...\n *         </ShowContextProvider>\n *     );\n * };\n */\nexport const ShowContext = createContext<ShowControllerResult>({\n    record: null,\n    defaultTitle: null,\n    isFetching: null,\n    isLoading: null,\n    refetch: null,\n    resource: null,\n});\n\nShowContext.displayName = 'ShowContext';\n","import {\n    useShowController,\n    ShowControllerProps,\n    ShowControllerResult,\n} from './useShowController';\n\n/**\n * Render prop version of the useShowController hook\n *\n * @see useShowController\n * @example\n *\n * const ShowView = () => <div>...</div>\n * const MyShow = () => (\n *     <ShowController>\n *         {controllerProps => <ShowView {...controllerProps} {...props} />}\n *     </ShowController>\n * );\n */\nexport const ShowController = ({\n    children,\n    ...props\n}: {\n    children: (params: ShowControllerResult) => JSX.Element;\n} & ShowControllerProps) => {\n    const controllerProps = useShowController(props);\n    return children(controllerProps);\n};\n","import { useContext, useMemo } from 'react';\nimport defaults from 'lodash/defaults';\n\nimport { RaRecord } from '../../types';\nimport { ShowContext } from './ShowContext';\nimport { ShowControllerResult } from './useShowController';\n\n/**\n * Hook to read the show controller props from the ShowContext.\n *\n * Mostly used within a <ShowContext.Provider> (e.g. as a descendent of <Show>).\n *\n * But you can also use it without a <ShowContext.Provider>. In this case, it is up to you\n * to pass all the necessary props.\n *\n * The given props will take precedence over context values.\n *\n * @typedef {Object} ShowControllerResult\n *\n * @returns {ShowControllerResult} create controller props\n *\n * @see useShowController for how it is filled\n *\n */\nexport const useShowContext = <RecordType extends RaRecord = any>(\n    props?: Partial<ShowControllerResult<RecordType>>\n): Partial<ShowControllerResult<RecordType>> => {\n    // Can't find a way to specify the RecordType when ShowContext is declared\n    // @ts-ignore\n    const context = useContext<ShowControllerResult<RecordType>>(ShowContext);\n\n    // Props take precedence over the context\n    return useMemo(\n        () =>\n            defaults(\n                {},\n                props != null ? extractShowContextProps(props) : {},\n                context\n            ),\n        [context, props]\n    );\n};\n\n/**\n * Extract only the show controller props\n *\n * @param {Object} props props passed to the useShowContext hook\n *\n * @returns {ShowControllerResult} show controller props\n */\nconst extractShowContextProps = ({\n    record,\n    data,\n    defaultTitle,\n    isFetching,\n    isLoading,\n    resource,\n}: any) => ({\n    // Necessary for actions (EditActions) which expect a data prop containing the record\n    // @deprecated - to be removed in 4.0d\n    record: record || data,\n    data: record || data,\n    defaultTitle,\n    isFetching,\n    isLoading,\n    resource,\n});\n","import * as React from 'react';\nimport { ReactNode } from 'react';\nimport { useWatch } from 'react-hook-form';\nimport get from 'lodash/get';\n\nimport warning from '../util/warning';\n/**\n * Get the current (edited) value of the record from the form and pass it\n * to a child function\n *\n * @example\n *\n * const PostEdit = (props) => (\n *     <Edit {...props}>\n *         <SimpleForm>\n *             <BooleanInput source=\"hasEmail\" />\n *             <FormDataConsumer>\n *                 {({ formData, ...rest }) => formData.hasEmail &&\n *                      <TextInput source=\"email\" {...rest} />\n *                 }\n *             </FormDataConsumer>\n *         </SimpleForm>\n *     </Edit>\n * );\n *\n * @example\n *\n * const OrderEdit = (props) => (\n *     <Edit {...props}>\n *         <SimpleForm>\n *             <SelectInput source=\"country\" choices={countries} />\n *             <FormDataConsumer>\n *                 {({ formData, ...rest }) =>\n *                      <SelectInput\n *                          source=\"city\"\n *                          choices={getCitiesFor(formData.country)}\n *                          {...rest}\n *                      />\n *                 }\n *             </FormDataConsumer>\n *         </SimpleForm>\n *     </Edit>\n * );\n */\nconst FormDataConsumer = (props: ConnectedProps) => {\n    const formData = useWatch();\n\n    return <FormDataConsumerView formData={formData} {...props} />;\n};\n\nexport const FormDataConsumerView = (props: Props) => {\n    const { children, form, formData, source, index, ...rest } = props;\n    let scopedFormData = formData;\n    let getSource;\n    let getSourceHasBeenCalled = false;\n    let ret;\n\n    // If we have an index, we are in an iterator like component (such as the SimpleFormIterator)\n    if (typeof index !== 'undefined') {\n        scopedFormData = get(formData, source);\n        getSource = (scopedSource: string) => {\n            getSourceHasBeenCalled = true;\n            return `${source}.${scopedSource}`;\n        };\n        ret = children({ formData, scopedFormData, getSource, ...rest });\n    } else {\n        ret = children({ formData, ...rest });\n    }\n\n    warning(\n        typeof index !== 'undefined' && ret && !getSourceHasBeenCalled,\n        `You're using a FormDataConsumer inside an ArrayInput and you did not call the getSource function supplied by the FormDataConsumer component. This is required for your inputs to get the proper source.\n\n<ArrayInput source=\"users\">\n    <SimpleFormIterator>\n        <TextInput source=\"name\" />\n\n        <FormDataConsumer>\n            {({\n                formData, // The whole form data\n                scopedFormData, // The data for this item of the ArrayInput\n                getSource, // A function to get the valid source inside an ArrayInput\n                ...rest,\n            }) =>\n                scopedFormData.name ? (\n                    <SelectInput\n                        source={getSource('role')} // Will translate to \"users[0].role\"\n                        choices={[{id: 1, name: 'Admin'}, {id: 2, name: 'User'},\n                        {...rest}\n                    />\n                ) : null\n            }\n        </FormDataConsumer>\n    </SimpleFormIterator>\n</ArrayInput>`\n    );\n\n    return ret === undefined ? null : ret;\n};\n\nexport default FormDataConsumer;\n\nexport interface FormDataConsumerRenderParams {\n    formData: any;\n    scopedFormData?: any;\n    getSource?: (source: string) => string;\n}\n\nexport type FormDataConsumerRender = (\n    params: FormDataConsumerRenderParams\n) => ReactNode;\n\ninterface ConnectedProps {\n    children: FormDataConsumerRender;\n    form?: string;\n    record?: any;\n    source?: string;\n    [key: string]: any;\n}\n\ninterface Props extends ConnectedProps {\n    formData: any;\n    index?: number;\n}\n","import { createContext } from 'react';\n\nexport const FormGroupsContext = createContext<FormGroupsContextValue>(\n    undefined\n);\n\nexport type FormGroupSubscriber = () => void;\n\nexport type FormGroupsContextValue = {\n    registerGroup: (name: string) => void;\n    unregisterGroup: (name: string) => void;\n    registerField: (source: string, group?: string) => void;\n    unregisterField: (source: string, group?: string) => void;\n    getGroupFields: (name: string) => string[];\n    /**\n     * Subscribe to any changes of the group content (fields added or removed).\n     * Subscribers can get the current fields of the group by calling getGroupFields.\n     * Returns a function to unsubscribe.\n     */\n    subscribe: (name: string, subscriber: FormGroupSubscriber) => () => void;\n};\n","import * as React from 'react';\nimport {\n    ValidationErrorMessage,\n    ValidationErrorMessageWithArgs,\n} from './validate';\nimport { useTranslate } from '../i18n';\n\nexport interface ValidationErrorProps {\n    error: ValidationErrorMessage;\n}\n\nconst ValidationError = (props: ValidationErrorProps) => {\n    const { error } = props;\n    const translate = useTranslate();\n    if ((error as ValidationErrorMessageWithArgs).message) {\n        const { message, args } = error as ValidationErrorMessageWithArgs;\n        return <>{translate(message, { _: message, ...args })}</>;\n    }\n\n    return <>{translate(error as string, { _: error })}</>;\n};\n\nexport default ValidationError;\n","import { FieldValues } from 'react-hook-form';\nimport _ from 'lodash';\n\n// Flattening an object into path keys:\n// https://github.com/lodash/lodash/issues/2240#issuecomment-418820848\nexport const flattenKeys = (obj, path = []) =>\n    !_.isObject(obj)\n        ? { [path.join('.')]: obj }\n        : _.reduce(\n              obj,\n              (cum, next, key) =>\n                  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n                  _.merge(cum, flattenKeys(next, [...path, key])),\n              {}\n          );\n\n/**\n * Convert a simple validation function that returns an object matching the form shape with errors\n * to a validation resolver compatible with react-hook-form.\n *\n * @example\n * const validate = (values: any) => {\n *     if (values.username == null || values.username.trim() === '') {\n *         return { username: 'Required' };\n *     }\n * }\n *\n * const validationResolver = getSimpleValidationResolver(validate);\n *\n * const UserForm = () => (\n *     <Form\n *         defaultValues={{ username: 'John' }}\n *         validationResolver={validationResolver}\n *     >\n *         <TextField source=\"username\" />\n *     </Form>\n * );\n */\nexport const getSimpleValidationResolver = (validate: ValidateForm) => async (\n    data: FieldValues\n) => {\n    const errors = await validate(data);\n\n    if (!errors || Object.getOwnPropertyNames(errors).length === 0) {\n        return { values: data, errors: {} };\n    }\n    const flattenedErrors = flattenKeys(errors);\n\n    return {\n        values: {},\n        errors: Object.keys(flattenedErrors).reduce(\n            (acc, field) => ({\n                ...acc,\n                [field]: {\n                    type: 'manual',\n                    message: flattenedErrors[field],\n                },\n            }),\n            {} as FieldValues\n        ),\n    };\n};\n\nexport type ValidateForm = (\n    data: FieldValues\n) => FieldValues | Promise<FieldValues>;\n","import { createContext } from 'react';\nimport { FilterPayload, RaRecord, SortPayload } from '../../types';\n\n/**\n * Context to store choices and functions to retrieve them.\n *\n * Use the useChoicesContext() hook to read the context.\n */\nexport const ChoicesContext = createContext<ChoicesContextValue>(undefined);\n\nexport type ChoicesContextValue<RecordType extends RaRecord = any> = {\n    allChoices: RecordType[];\n    availableChoices: RecordType[];\n    displayedFilters: any;\n    error?: any;\n    filter?: FilterPayload;\n    filterValues: any;\n    hasNextPage: boolean;\n    hasPreviousPage: boolean;\n    hideFilter: (filterName: string) => void;\n    isFetching: boolean;\n    isLoading: boolean;\n    page: number;\n    perPage: number;\n    refetch: () => void;\n    resource: string;\n    selectedChoices: RecordType[];\n    setFilters: (\n        filters: any,\n        displayedFilters: any,\n        debounce?: boolean\n    ) => void;\n    setPage: (page: number) => void;\n    setPerPage: (page: number) => void;\n    setSort: (sort: SortPayload) => void;\n    showFilter: (filterName: string, defaultValue: any) => void;\n    sort: SortPayload;\n    source: string;\n    total: number;\n};\n","import * as React from 'react';\nimport { ReactNode } from 'react';\nimport { ChoicesContext, ChoicesContextValue } from './ChoicesContext';\n\nexport const ChoicesContextProvider = ({\n    children,\n    value,\n}: {\n    children: ReactNode;\n    value: ChoicesContextValue;\n}) => (\n    <ChoicesContext.Provider value={value}>{children}</ChoicesContext.Provider>\n);\n","import { useContext, useMemo } from 'react';\nimport { RaRecord } from '../../types';\nimport { useList } from '../../controller';\nimport { ChoicesContext, ChoicesContextValue } from './ChoicesContext';\n\nexport const useChoicesContext = <ChoicesType extends RaRecord = RaRecord>(\n    options: Partial<ChoicesContextValue> & { choices?: ChoicesType[] } = {}\n): ChoicesContextValue => {\n    const context = useContext(ChoicesContext) as ChoicesContextValue<\n        ChoicesType\n    >;\n    const { data, ...list } = useList<ChoicesType>({ data: options.choices });\n    const result = useMemo(\n        () => ({\n            allChoices: context?.allChoices ?? data,\n            availableChoices:\n                context?.availableChoices ?? options.availableChoices ?? data,\n            selectedChoices:\n                context?.selectedChoices ?? options.selectedChoices ?? data,\n            displayedFilters:\n                context?.displayedFilters ??\n                options.displayedFilters ??\n                list.displayedFilters,\n            error: context?.error ?? options.error ?? list.error,\n            filter: context?.filter ?? options.filter ?? list.filter,\n            filterValues:\n                context?.filterValues ??\n                options.filterValues ??\n                list.filterValues,\n            hasNextPage:\n                context?.hasNextPage ?? options.hasNextPage ?? list.hasNextPage,\n            hasPreviousPage:\n                context?.hasPreviousPage ??\n                options.hasPreviousPage ??\n                list.hasPreviousPage,\n            hideFilter:\n                context?.hideFilter ?? options.hideFilter ?? list.hideFilter,\n            isFetching:\n                context?.isFetching ?? options.isFetching ?? list.isFetching,\n            isLoading:\n                context?.isLoading ?? options.isLoading ?? list.isLoading,\n            page: context?.page ?? options.page ?? list.page,\n            perPage: context?.perPage ?? options.perPage ?? list.perPage,\n            refetch: context?.refetch ?? options.refetch ?? list.refetch,\n            resource: context?.resource ?? options.resource ?? list.resource,\n            setFilters:\n                context?.setFilters ?? options.setFilters ?? list.setFilters,\n            setPage: context?.setPage ?? options.setPage ?? list.setPage,\n            setPerPage:\n                context?.setPerPage ?? options.setPerPage ?? list.setPerPage,\n            setSort: context?.setSort ?? options.setSort ?? list.setSort,\n            showFilter:\n                context?.showFilter ?? options.showFilter ?? list.showFilter,\n            sort: context?.sort ?? options.sort ?? list.sort,\n            source: context?.source ?? options.source,\n            total: context?.total ?? options.total ?? list.total,\n        }),\n        [context, data, list, options]\n    );\n\n    return result;\n};\n","import * as React from 'react';\nimport { ReactNode } from 'react';\nimport { FormProvider, FieldValues, UseFormProps } from 'react-hook-form';\n\nimport { FormGroupsProvider } from './FormGroupsProvider';\nimport { RaRecord } from '../types';\nimport { useRecordContext, OptionalRecordContextProvider } from '../controller';\nimport { ValidateForm } from './getSimpleValidationResolver';\nimport { useAugmentedForm } from './useAugmentedForm';\n\n/**\n * Creates a form element, initialized with the current record, calling the saveContext on submit\n *\n * Wrapper around react-hook-form's useForm, FormContextProvider, and <form>.\n * Also sets up a FormGroupContext, and handles submission validation.\n *\n * @example\n *\n * const MyForm = ({ record, defaultValues, validate }) => (\n *    <Form record={record} defaultValues={defaultValues} validate={validate}>\n *        <Stack>\n *            <TextInput source=\"title\" />\n *            <SaveButton />\n *        </Stack>\n *    </Form>\n * );\n *\n * @typedef {Object} Props the props you can use\n * @prop {Object} defaultValues\n * @prop {Function} validate\n * @prop {Function} save\n *\n * @see useForm\n * @see FormGroupContext\n *\n * @link https://react-hook-form.com/api/useformcontext\n */\nexport const Form = (props: FormProps) => {\n    const { children, id, className, noValidate = false } = props;\n    const record = useRecordContext(props);\n    const { form, formHandleSubmit } = useAugmentedForm(props);\n\n    return (\n        <OptionalRecordContextProvider value={record}>\n            <FormProvider {...form}>\n                <FormGroupsProvider>\n                    <form\n                        onSubmit={formHandleSubmit}\n                        noValidate={noValidate}\n                        id={id}\n                        className={className}\n                    >\n                        {children}\n                    </form>\n                </FormGroupsProvider>\n            </FormProvider>\n        </OptionalRecordContextProvider>\n    );\n};\n\nexport type FormProps = FormOwnProps &\n    Omit<UseFormProps, 'onSubmit'> & {\n        validate?: ValidateForm;\n        noValidate?: boolean;\n    };\n\nexport interface FormOwnProps {\n    children: ReactNode;\n    className?: string;\n    defaultValues?: any;\n    formRootPathname?: string;\n    id?: string;\n    record?: Partial<RaRecord>;\n    onSubmit?: (data: FieldValues) => any | Promise<any>;\n    warnWhenUnsavedChanges?: boolean;\n}\n","import * as React from 'react';\nimport { ReactNode, useMemo, useRef } from 'react';\nimport {\n    FormGroupsContext,\n    FormGroupsContextValue,\n    FormGroupSubscriber,\n} from './FormGroupsContext';\n\n/**\n * This component provides functions through context to manage form groups,\n * allowing to link or unlink an input to a group.\n * @see FormGroupContextProvider\n * @see useFormGroup\n * @see useFormGroups\n */\nexport const FormGroupsProvider = ({ children }: { children: ReactNode }) => {\n    const formGroups = useRef<{ [key: string]: string[] }>({});\n    const subscribers = useRef<{\n        [key: string]: FormGroupSubscriber[];\n    }>({});\n\n    const formContextValue = useMemo<FormGroupsContextValue>(\n        () => ({\n            /**\n             * Register a subscriber function for the specified group. The subscriber\n             * will be called whenever the group content changes (fields added or removed).\n             */\n            subscribe: (group, subscriber) => {\n                if (!subscribers.current[group]) {\n                    subscribers.current[group] = [];\n                }\n                subscribers.current[group].push(subscriber);\n\n                return () => {\n                    subscribers.current[group] = subscribers.current[\n                        group\n                    ].filter(s => s !== subscriber);\n                };\n            },\n            getGroupFields: name => formGroups.current[name] || [],\n            registerGroup: name => {\n                formGroups.current[name] = formGroups.current[name] || [];\n            },\n            unregisterGroup: name => {\n                delete formGroups[name];\n            },\n            registerField: (source, group) => {\n                if (group != null) {\n                    if (!(formGroups.current[group] || []).includes(source)) {\n                        formGroups.current[group] = [\n                            ...(formGroups.current[group] || []),\n                            source,\n                        ];\n                        // Notify subscribers that the group fields have changed\n                        if (subscribers.current[group]) {\n                            subscribers.current[group].forEach(subscriber =>\n                                subscriber()\n                            );\n                        }\n                    }\n                }\n            },\n            unregisterField: (source, group) => {\n                if (group != null) {\n                    if (!formGroups.current[group]) {\n                        console.warn(`Invalid form group ${group}`);\n                    } else {\n                        const fields = new Set(formGroups.current[group]);\n                        fields.delete(source);\n                        formGroups.current[group] = Array.from(fields);\n\n                        // Notify subscribers that the group fields have changed\n                        if (subscribers.current[group]) {\n                            subscribers.current[group].forEach(subscriber =>\n                                subscriber()\n                            );\n                        }\n                    }\n                }\n            },\n        }),\n        []\n    );\n\n    return (\n        <FormGroupsContext.Provider value={formContextValue}>\n            {children}\n        </FormGroupsContext.Provider>\n    );\n};\n","import { BaseSyntheticEvent, useCallback, useMemo, useEffect } from 'react';\nimport { FieldValues, useForm, UseFormProps } from 'react-hook-form';\n\nimport { RaRecord } from '../types';\nimport { useSaveContext } from '../controller';\nimport { useRecordContext } from '../controller';\nimport getFormInitialValues from './getFormInitialValues';\nimport {\n    getSimpleValidationResolver,\n    ValidateForm,\n} from './getSimpleValidationResolver';\nimport { setSubmissionErrors } from './setSubmissionErrors';\nimport { useNotify } from '../notification';\nimport { useIsFormInvalid } from './useIsFormInvalid';\nimport { useWarnWhenUnsavedChanges } from './useWarnWhenUnsavedChanges';\n\n/**\n * Wrapper around react-hook-form's useForm\n *\n * This hook adds the following features to react-hook-form's useForm:\n *\n * - form initialization based on RecordContext\n * - validation based on a validate function\n * - notification on invalid form\n * - stop form submission event propagation\n */\nexport const useAugmentedForm = (props: UseAugmentedFormProps) => {\n    const {\n        context,\n        criteriaMode = 'firstError',\n        defaultValues,\n        delayError,\n        formRootPathname,\n        mode,\n        resolver,\n        reValidateMode = 'onChange',\n        onSubmit,\n        shouldFocusError,\n        shouldUnregister,\n        shouldUseNativeValidation,\n        warnWhenUnsavedChanges,\n        validate,\n    } = props;\n    const record = useRecordContext(props);\n    const saveContext = useSaveContext();\n\n    const defaultValuesIncludingRecord = useMemo(\n        () => getFormInitialValues(defaultValues, record),\n        [JSON.stringify({ defaultValues, record })] // eslint-disable-line\n    );\n\n    const finalResolver = resolver\n        ? resolver\n        : validate\n        ? getSimpleValidationResolver(validate)\n        : undefined;\n\n    const form = useForm({\n        context,\n        criteriaMode,\n        defaultValues: defaultValuesIncludingRecord,\n        delayError,\n        mode,\n        reValidateMode,\n        resolver: finalResolver,\n        shouldFocusError,\n        shouldUnregister,\n        shouldUseNativeValidation,\n    });\n\n    // initialize form with record\n    useEffect(() => {\n        if (!record) {\n            return;\n        }\n        const initialValues = getFormInitialValues(defaultValues, record);\n        form.reset(initialValues);\n    }, [form.reset, JSON.stringify(record, defaultValues)]); // eslint-disable-line react-hooks/exhaustive-deps\n\n    // notify on invalid form\n    const isInvalid = useIsFormInvalid(form.control);\n    const notify = useNotify();\n    useEffect(() => {\n        if (isInvalid) {\n            notify('ra.message.invalid_form', { type: 'warning' });\n        }\n    }, [isInvalid, notify]);\n\n    // warn when unsaved change\n    useWarnWhenUnsavedChanges(\n        warnWhenUnsavedChanges,\n        formRootPathname,\n        form.control\n    );\n\n    // submit callbacks\n    const handleSubmit = useCallback(\n        async values => {\n            let errors;\n\n            if (onSubmit) {\n                errors = await onSubmit(values);\n            }\n            if (onSubmit == null && saveContext?.save) {\n                errors = await saveContext.save(values);\n            }\n            if (errors != null) {\n                setSubmissionErrors(errors, form.setError);\n            }\n        },\n        [form, onSubmit, saveContext]\n    );\n\n    const formHandleSubmit = useCallback(\n        (event: BaseSyntheticEvent) => {\n            // Prevent outer forms to receive the event\n            event.stopPropagation();\n            form.handleSubmit(handleSubmit)(event);\n            return;\n        },\n        [form, handleSubmit]\n    );\n\n    return {\n        form,\n        handleSubmit,\n        formHandleSubmit,\n        isInvalid,\n    };\n};\n\nexport type UseAugmentedFormProps = UseFormOwnProps &\n    Omit<UseFormProps, 'onSubmit'> & {\n        validate?: ValidateForm;\n    };\n\nexport interface UseFormOwnProps {\n    defaultValues?: any;\n    formRootPathname?: string;\n    record?: Partial<RaRecord>;\n    onSubmit?: (data: FieldValues) => any | Promise<any>;\n    warnWhenUnsavedChanges?: boolean;\n}\n","import merge from 'lodash/merge';\nimport { RaRecord } from '../types';\n\nexport default function getFormInitialValues(\n    defaultValues: DefaultValue,\n    record: Partial<RaRecord>\n) {\n    const finalInitialValues = merge(\n        {},\n        getValues(defaultValues, record),\n        record\n    );\n    return finalInitialValues;\n}\n\nfunction getValues(values, record) {\n    if (typeof values === 'object') {\n        return values;\n    }\n\n    if (typeof values === 'function') {\n        return values(record);\n    }\n\n    return {};\n}\n\ninterface DefaultValueObject {\n    [key: string]: any;\n}\ntype DefaultValueFunction = (record: RaRecord) => DefaultValueObject;\ntype DefaultValue = DefaultValueObject | DefaultValueFunction;\n","import { FieldValues, UseFormSetError } from 'react-hook-form';\n\n/**\n * This internal function is used to convert an object matching the form shape with errors to a\n * format compatible with react-hook-form. It's used to handle submission errors. Only useful when\n * you are implementing a custom form without leveraging our Form component.\n *\n * @example\n * const MyForm = () => {\n *     const { register, handleSubmit, setError } = useForm();\n *     const onSubmit = data => {\n *         return saveAsync(data).catch(error => setSubmissionErrors(error.body.details));\n *     };\n *\n *     return (\n *         <form onSubmit={handleSubmit(onSubmit)}>\n *             ...\n *         </form>\n *     );\n * };\n */\nexport const setSubmissionErrors = (\n    errors: FieldValues,\n    setError: UseFormSetError<FieldValues>\n) => {\n    const setErrorFromArray = (errors: any[], rootPath: string) => {\n        errors.forEach((error, index) => {\n            if (typeof error === 'object') {\n                setErrorFromObject(error, `${rootPath}.${index}.`);\n                return;\n            }\n            if (Array.isArray(error)) {\n                setErrorFromArray(error, `${rootPath}.${index}.`);\n                return;\n            }\n            setError(`${rootPath}.${index}`, {\n                type: 'server',\n                message: error.toString(),\n            });\n        });\n    };\n    const setErrorFromObject = (errors: any, rootPath: string) => {\n        Object.entries(errors).forEach(([name, error]) => {\n            if (typeof error === 'object') {\n                setErrorFromObject(error, `${rootPath}${name}.`);\n                return;\n            }\n            if (Array.isArray(error)) {\n                setErrorFromArray(error, `${rootPath}${name}.`);\n                return;\n            }\n            setError(`${rootPath}${name}`, {\n                type: 'server',\n                message: error.toString(),\n            });\n        });\n    };\n    setErrorFromObject(errors, '');\n};\n","import { useEffect, useState, useRef } from 'react';\nimport { useFormState, Control } from 'react-hook-form';\n\n/**\n * This hook returns a boolean indicating whether the form is invalid.\n * We use this to display an error message on submit in Form and SaveButton.\n *\n * We can't do the form validity check in the form submit handler\n * as the form state may not have been updated yet when onSubmit validation mode is enabled\n * or when the form hasn't been touched at all.\n */\nexport const useIsFormInvalid = (control?: Control) => {\n    const [isInvalid, setIsInvalid] = useState(false);\n    const { isValid, submitCount, errors } = useFormState(\n        control ? { control } : undefined\n    );\n    const submitCountRef = useRef(submitCount);\n\n    useEffect(() => {\n        // Checking the submit count allows us to only display the notification after users\n        // tried to submit\n        if (submitCount > submitCountRef.current) {\n            submitCountRef.current = submitCount;\n\n            // For some reason, the validation state might not be sync yet on first submit\n            // so we need to check if there are actually some errors even though the isValid is false\n            if (Object.keys(errors).length > 0 && !isValid) {\n                setIsInvalid(true);\n            } else {\n                setIsInvalid(false);\n            }\n        }\n    }, [errors, isValid, submitCount]);\n\n    return isInvalid;\n};\n","import { useContext, useEffect, useRef } from 'react';\nimport { useFormState, Control } from 'react-hook-form';\nimport { UNSAFE_NavigationContext, useLocation } from 'react-router-dom';\nimport { History, Transition } from 'history';\nimport { useTranslate } from '../i18n';\n\n/**\n * Display a confirmation dialog if the form has unsaved changes.\n * - If the user confirms, the navigation continues and the changes are lost.\n * - If the user cancels, the navigation is cancelled and the changes are kept.\n */\nexport const useWarnWhenUnsavedChanges = (\n    enable: boolean,\n    formRootPathname?: string,\n    control?: Control\n) => {\n    // react-router v6 does not yet provide a way to block navigation\n    // This is planned for a future release\n    // See https://github.com/remix-run/react-router/issues/8139\n    const navigator = useContext(UNSAFE_NavigationContext).navigator as History;\n    const location = useLocation();\n    const translate = useTranslate();\n    const { isSubmitSuccessful, isSubmitting, dirtyFields } = useFormState(\n        control ? { control } : undefined\n    );\n    const isDirty = Object.keys(dirtyFields).length > 0;\n    const initialLocation = useRef(formRootPathname || location.pathname);\n\n    useEffect(() => {\n        if (!enable || !isDirty) return;\n\n        let unblock = navigator.block((tx: Transition) => {\n            const newLocationIsInsideForm = tx.location.pathname.startsWith(\n                initialLocation.current\n            );\n\n            if (\n                !isSubmitting &&\n                (newLocationIsInsideForm ||\n                    isSubmitSuccessful ||\n                    window.confirm(translate('ra.message.unsaved_changes')))\n            ) {\n                unblock();\n                tx.retry();\n            }\n        });\n\n        return unblock;\n    }, [\n        enable,\n        location,\n        navigator,\n        isDirty,\n        isSubmitting,\n        isSubmitSuccessful,\n        translate,\n    ]);\n};\n","import lodashMemoize from 'lodash/memoize';\n\n/* eslint-disable no-underscore-dangle */\n/* @link http://stackoverflow.com/questions/46155/validate-email-address-in-javascript */\nconst EMAIL_REGEX = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/; // eslint-disable-line no-useless-escape\n\nconst isEmpty = (value: any) =>\n    typeof value === 'undefined' ||\n    value === null ||\n    value === '' ||\n    (Array.isArray(value) && value.length === 0);\n\nexport interface ValidationErrorMessageWithArgs {\n    message: string;\n    args: {\n        [key: string]: ValidationErrorMessageWithArgs | any;\n    };\n}\n\nexport type ValidationErrorMessage = string | ValidationErrorMessageWithArgs;\n\nexport type Validator = (\n    value: any,\n    values: any,\n    props: any\n) =>\n    | ValidationErrorMessage\n    | null\n    | undefined\n    | Promise<ValidationErrorMessage | null | undefined>;\n\n// type predicate, see https://www.typescriptlang.org/docs/handbook/2/narrowing.html#using-type-predicates\nfunction isValidationErrorMessageWithArgs(\n    error: ReturnType<Validator>\n): error is ValidationErrorMessageWithArgs {\n    return error.hasOwnProperty('message');\n}\n\ninterface MessageFuncParams {\n    args: any;\n    value: any;\n    values: any;\n}\n\ntype MessageFunc = (params: MessageFuncParams) => ValidationErrorMessage;\n\nconst getMessage = (\n    message: string | MessageFunc,\n    messageArgs: any,\n    value: any,\n    values: any\n) =>\n    typeof message === 'function'\n        ? message({\n              args: messageArgs,\n              value,\n              values,\n          })\n        : messageArgs\n        ? {\n              message,\n              args: messageArgs,\n          }\n        : message;\n\ntype Memoize = <T extends (...args: any[]) => any>(\n    func: T,\n    resolver?: (...args: any[]) => any\n) => T;\n\n// If we define validation functions directly in JSX, it will\n// result in a new function at every render, and then trigger infinite re-render.\n// Hence, we memoize every built-in validator to prevent a \"Maximum call stack\" error.\nconst memoize: Memoize = (fn: any) =>\n    lodashMemoize(fn, (...args) => JSON.stringify(args));\n\nconst isFunction = value => typeof value === 'function';\n\nexport const combine2Validators = (\n    validator1: Validator,\n    validator2: Validator\n): Validator => {\n    return (value, values, meta) => {\n        const result1 = validator1(value, values, meta);\n        if (!result1) {\n            return validator2(value, values, meta);\n        }\n        if (\n            typeof result1 === 'string' ||\n            isValidationErrorMessageWithArgs(result1)\n        ) {\n            return result1;\n        }\n\n        return result1.then(resolvedResult1 => {\n            if (!resolvedResult1) {\n                return validator2(value, values, meta);\n            }\n            return resolvedResult1;\n        });\n    };\n};\n\n// Compose multiple validators into a single one for use with react-hook-form\nexport const composeValidators = (...validators) => {\n    const allValidators = (Array.isArray(validators[0])\n        ? validators[0]\n        : validators\n    ).filter(isFunction) as Validator[];\n    return allValidators.reduce(combine2Validators, () => null);\n};\n\n// Compose multiple validators into a single one for use with react-hook-form\nexport const composeSyncValidators = (...validators) => (\n    value,\n    values,\n    meta\n) => {\n    const allValidators = (Array.isArray(validators[0])\n        ? validators[0]\n        : validators\n    ).filter(isFunction) as Validator[];\n\n    for (const validator of allValidators) {\n        const error = validator(value, values, meta);\n\n        if (error) {\n            return error;\n        }\n    }\n};\n\n/**\n * Required validator\n *\n * Returns an error if the value is null, undefined, or empty\n *\n * @param {string|Function} message\n *\n * @example\n *\n * const titleValidators = [required('The title is required')];\n * <TextInput name=\"title\" validate={titleValidators} />\n */\nexport const required = memoize((message = 'ra.validation.required') =>\n    Object.assign(\n        (value, values) =>\n            isEmpty(value)\n                ? getMessage(message, undefined, value, values)\n                : undefined,\n        { isRequired: true }\n    )\n);\n\n/**\n * Minimum length validator\n *\n * Returns an error if the value has a length less than the parameter\n *\n * @param {integer} min\n * @param {string|Function} message\n *\n * @example\n *\n * const passwordValidators = [minLength(10, 'Should be at least 10 characters')];\n * <TextInput type=\"password\" name=\"password\" validate={passwordValidators} />\n */\nexport const minLength = memoize(\n    (min, message = 'ra.validation.minLength') => (value, values) =>\n        !isEmpty(value) && value.length < min\n            ? getMessage(message, { min }, value, values)\n            : undefined\n);\n\n/**\n * Maximum length validator\n *\n * Returns an error if the value has a length higher than the parameter\n *\n * @param {integer} max\n * @param {string|Function} message\n *\n * @example\n *\n * const nameValidators = [maxLength(10, 'Should be at most 10 characters')];\n * <TextInput name=\"name\" validate={nameValidators} />\n */\nexport const maxLength = memoize(\n    (max, message = 'ra.validation.maxLength') => (value, values) =>\n        !isEmpty(value) && value.length > max\n            ? getMessage(message, { max }, value, values)\n            : undefined\n);\n\n/**\n * Minimum validator\n *\n * Returns an error if the value is less than the parameter\n *\n * @param {integer} min\n * @param {string|Function} message\n *\n * @example\n *\n * const fooValidators = [minValue(5, 'Should be more than 5')];\n * <NumberInput name=\"foo\" validate={fooValidators} />\n */\nexport const minValue = memoize(\n    (min, message = 'ra.validation.minValue') => (value, values) =>\n        !isEmpty(value) && value < min\n            ? getMessage(message, { min }, value, values)\n            : undefined\n);\n\n/**\n * Maximum validator\n *\n * Returns an error if the value is higher than the parameter\n *\n * @param {integer} max\n * @param {string|Function} message\n *\n * @example\n *\n * const fooValidators = [maxValue(10, 'Should be less than 10')];\n * <NumberInput name=\"foo\" validate={fooValidators} />\n */\nexport const maxValue = memoize(\n    (max, message = 'ra.validation.maxValue') => (value, values) =>\n        !isEmpty(value) && value > max\n            ? getMessage(message, { max }, value, values)\n            : undefined\n);\n\n/**\n * Number validator\n *\n * Returns an error if the value is not a number\n *\n * @param {string|Function} message\n *\n * @example\n *\n * const ageValidators = [number('Must be a number')];\n * <TextInput name=\"age\" validate={ageValidators} />\n */\nexport const number = memoize(\n    (message = 'ra.validation.number') => (value, values) =>\n        !isEmpty(value) && isNaN(Number(value))\n            ? getMessage(message, undefined, value, values)\n            : undefined\n);\n\n/**\n * Regular expression validator\n *\n * Returns an error if the value does not match the pattern given as parameter\n *\n * @param {RegExp} pattern\n * @param {string|Function} message\n *\n * @example\n *\n * const zipValidators = [regex(/^\\d{5}(?:[-\\s]\\d{4})?$/, 'Must be a zip code')];\n * <TextInput name=\"zip\" validate={zipValidators} />\n */\nexport const regex = lodashMemoize(\n    (pattern, message = 'ra.validation.regex') => (value, values?) =>\n        !isEmpty(value) && typeof value === 'string' && !pattern.test(value)\n            ? getMessage(message, { pattern }, value, values)\n            : undefined,\n    (pattern, message) => {\n        return pattern.toString() + message;\n    }\n);\n\n/**\n * Email validator\n *\n * Returns an error if the value is not a valid email\n *\n * @param {string|Function} message\n *\n * @example\n *\n * const emailValidators = [email('Must be an email')];\n * <TextInput name=\"email\" validate={emailValidators} />\n */\nexport const email = memoize((message = 'ra.validation.email') =>\n    regex(EMAIL_REGEX, message)\n);\n\nconst oneOfTypeMessage: MessageFunc = ({ args }) => ({\n    message: 'ra.validation.oneOf',\n    args,\n});\n\n/**\n * Choices validator\n *\n * Returns an error if the value is not among the list passed as parameter\n *\n * @param {array} list\n * @param {string|Function} message\n *\n * @example\n *\n * const genderValidators = [choices(['male', 'female'], 'Must be either Male or Female')];\n * <TextInput name=\"gender\" validate={genderValidators} />\n */\nexport const choices = memoize(\n    (list, message = oneOfTypeMessage) => (value, values) =>\n        !isEmpty(value) && list.indexOf(value) === -1\n            ? getMessage(message, { list }, value, values)\n            : undefined\n);\n\n/**\n * Given a validator, returns a boolean indicating whether the field is required or not.\n */\nexport const isRequired = validate => {\n    if (validate && validate.isRequired) {\n        return true;\n    }\n    if (Array.isArray(validate)) {\n        return !!validate.find(it => it.isRequired);\n    }\n    return false;\n};\n","import { createContext } from 'react';\n\n/**\n * Context allowing inputs to register to a specific group.\n * This enables other components in the group to access group properties such as its\n * validation (valid/invalid) or whether its inputs have been updated (dirty/pristine).\n *\n * This should only be used through a FormGroupContextProvider.\n */\nexport const FormGroupContext = createContext<FormGroupContextValue>(undefined);\n\nexport type FormGroupContextValue = string;\n","import * as React from 'react';\nimport { ReactNode, useEffect } from 'react';\nimport { FormGroupContext } from './FormGroupContext';\nimport { useFormGroups } from './useFormGroups';\n\n/**\n * This provider allows its input children to register to a specific group.\n * This enables other components in the group to access group properties such as its\n * validation (valid/invalid) or whether its inputs have been updated (dirty/pristine).\n *\n * @example\n * import { Edit, SimpleForm, TextInput, FormGroupContextProvider, useFormGroup } from 'react-admin';\n * import { Accordion, AccordionDetails, AccordionSummary, Typography } from '@mui/material';\n *\n * const PostEdit = (props) => (\n *     <Edit {...props}>\n *         <SimpleForm>\n *             <TextInput source=\"title\" />\n *             <FormGroupContextProvider name=\"options\">\n *                 <Accordion>\n *                     <AccordionSummary\n *                         expandIcon={<ExpandMoreIcon />}\n *                         aria-controls=\"options-content\"\n *                         id=\"options-header\"\n *                     >\n *                         <AccordionSectionTitle name=\"options\">Options</AccordionSectionTitle>\n *                     </AccordionSummary>\n *                     <AccordionDetails id=\"options-content\" aria-labelledby=\"options-header\">\n *                         <TextInput source=\"teaser\" validate={minLength(20)} />\n *                     </AccordionDetails>\n *                 </Accordion>\n *             </FormGroupContextProvider>\n *         </SimpleForm>\n *     </Edit>\n * );\n *\n * const AccordionSectionTitle = ({ children, name }) => {\n *     const formGroupState = useFormGroup(name);\n *     return (\n *         <Typography color={formGroupState.invalid && formGroupState.dirty ? 'error' : 'inherit'}>\n *             {children}\n *         </Typography>\n *     );\n * }\n *\n * @param props The component props\n * @param {ReactNode} props.children The form group content\n * @param {String} props.name The form group name\n */\nexport const FormGroupContextProvider = ({\n    children,\n    name,\n}: {\n    children: ReactNode;\n    name: string;\n}) => {\n    const formGroups = useFormGroups();\n\n    useEffect(() => {\n        if (\n            !formGroups ||\n            !formGroups.registerGroup ||\n            !formGroups.unregisterGroup\n        ) {\n            console.warn(\n                `The FormGroupContextProvider can only be used inside a FormContext such as provided by the SimpleForm and TabbedForm components`\n            );\n            return;\n        }\n        formGroups.registerGroup(name);\n\n        return () => {\n            formGroups.unregisterGroup(name);\n        };\n    }, [formGroups, name]);\n\n    return (\n        <FormGroupContext.Provider value={name}>\n            {children}\n        </FormGroupContext.Provider>\n    );\n};\n","import { useContext } from 'react';\nimport { FormGroupsContext } from './FormGroupsContext';\n\n/**\n * Retrieve the form groups management context. Used by inputs to register themselves into a form group.\n */\nexport const useFormGroups = () => {\n    const context = useContext(FormGroupsContext);\n    return context;\n};\n","import { useEffect } from 'react';\nimport { useFormContext } from 'react-hook-form';\nimport get from 'lodash/get';\nimport { useRecordContext } from '../controller';\nimport { InputProps } from './useInput';\n\n/*\n * This hook updates the input default value whenever the record changes\n * It applies either the record value if it has one or the defaultValue if it was specified\n */\nexport const useApplyInputDefaultValues = (props: Partial<InputProps>) => {\n    const { defaultValue, source } = props;\n    const record = useRecordContext(props);\n    const { getValues, resetField } = useFormContext();\n    const recordValue = get(record, source);\n    const formValue = get(getValues(), source);\n\n    useEffect(() => {\n        if (defaultValue == null) return;\n        if (formValue == null && recordValue == null) {\n            // special case for ArrayInput: since we use get(record, source),\n            // if source is like foo.23.bar, this effect will run.\n            // but we only want to set the default value for the subfield bar\n            // if the record actually has a value for foo.23\n            const pathContainsIndex = source\n                .split('.')\n                .some(pathPart => numericRegex.test(pathPart));\n            if (pathContainsIndex) {\n                const parentPath = source.split('.').slice(0, -1).join('.');\n                const parentValue = get(getValues(), parentPath);\n                if (parentValue == null) {\n                    // the parent is undefined, so we don't want to set the default value\n                    return;\n                }\n            }\n            resetField(source, { defaultValue });\n        }\n    });\n};\n\nconst numericRegex = /^\\d+$/;\n","import * as React from 'react';\nimport { ReactElement, isValidElement, useCallback } from 'react';\nimport get from 'lodash/get';\n\nimport { useTranslate } from '../i18n';\nimport { RaRecord } from '../types';\nimport { RecordContextProvider } from '../controller';\n\nexport type OptionTextElement = ReactElement<{\n    record: RaRecord;\n}>;\nexport type OptionTextFunc = (choice: any) => string | OptionTextElement;\nexport type OptionText = OptionTextElement | OptionTextFunc | string;\n\nexport interface ChoicesProps {\n    choices?: RaRecord[];\n    isFetching?: boolean;\n    isLoading?: boolean;\n    optionValue?: string;\n    optionText?: OptionText;\n    translateChoice?: boolean;\n}\n\nexport interface UseChoicesOptions {\n    optionValue?: string;\n    optionText?: OptionText;\n    disableValue?: string;\n    translateChoice?: boolean;\n}\n\n/*\n * Returns helper functions for choices handling.\n *\n * @param optionText Either a string defining the property to use to get the choice text, a function or a React element\n * @param optionValue The property to use to get the choice value\n * @param translateChoice A boolean indicating whether to option text should be translated\n *\n * @returns An object with helper functions:\n * - getChoiceText: Returns the choice text or a React element\n * - getChoiceValue: Returns the choice value\n */\nexport const useChoices = ({\n    optionText = 'name',\n    optionValue = 'id',\n    disableValue = 'disabled',\n    translateChoice = true,\n}: UseChoicesOptions) => {\n    const translate = useTranslate();\n\n    const getChoiceText = useCallback(\n        choice => {\n            if (isValidElement<{ record: any }>(optionText)) {\n                return (\n                    <RecordContextProvider value={choice}>\n                        {optionText}\n                    </RecordContextProvider>\n                );\n            }\n            const choiceName =\n                typeof optionText === 'function'\n                    ? optionText(choice)\n                    : get(choice, optionText);\n\n            return isValidElement(choiceName)\n                ? choiceName\n                : translateChoice\n                ? translate(String(choiceName), { _: choiceName })\n                : String(choiceName);\n        },\n        [optionText, translate, translateChoice]\n    );\n\n    const getChoiceValue = useCallback(choice => get(choice, optionValue), [\n        optionValue,\n    ]);\n\n    const getDisableValue = useCallback(choice => get(choice, disableValue), [\n        disableValue,\n    ]);\n\n    return {\n        getChoiceText,\n        getChoiceValue,\n        getDisableValue,\n    };\n};\n","import { useCallback, useEffect, useState } from 'react';\nimport get from 'lodash/get';\nimport isEqual from 'lodash/isEqual';\nimport { useFormState } from 'react-hook-form';\nimport { useFormGroups } from './useFormGroups';\n\ntype FieldState = {\n    name: string;\n    error?: any;\n    isDirty: boolean;\n    isTouched: boolean;\n    isValid: boolean;\n};\n\ntype FormGroupState = {\n    errors: object;\n    isDirty: boolean;\n    isTouched: boolean;\n    isValid: boolean;\n};\n\n/**\n * Retrieve a specific form group data such as its validation status (valid/invalid) or\n * or whether its inputs have been updated (dirty/pristine)\n *\n * @example\n * import { Edit, SimpleForm, TextInput, FormGroupContextProvider, useFormGroup, minLength } from 'react-admin';\n * import { Accordion, AccordionDetails, AccordionSummary, Typography } from '@mui/material';\n * import ExpandMoreIcon from '@mui/icons-material/ExpandMoreIcon';\n *\n * const PostEdit = (props) => (\n *     <Edit {...props}>\n *         <SimpleForm>\n *             <TextInput source=\"title\" />\n *             <FormGroupContextProvider name=\"options\">\n *                 <Accordion>\n *                     <AccordionSummary\n *                         expandIcon={<ExpandMoreIcon />}\n *                         aria-controls=\"options-content\"\n *                         id=\"options-header\"\n *                     >\n *                         <AccordionSectionTitle name=\"options\">Options</AccordionSectionTitle>\n *                     </AccordionSummary>\n *                     <AccordionDetails id=\"options-content\" aria-labelledby=\"options-header\">\n *                         <TextInput source=\"teaser\" validate={minLength(20)} />\n *                     </AccordionDetails>\n *                 </Accordion>\n *             </FormGroupContextProvider>\n *         </SimpleForm>\n *     </Edit>\n * );\n *\n * const AccordionSectionTitle = ({ children, name }) => {\n *     const formGroupState = useFormGroup(name);\n *     return (\n *         <Typography color={!formGroupState.isValid && formGroupState.isDirty ? 'error' : 'inherit'}>\n *             {children}\n *         </Typography>\n *     );\n * }\n *\n * @param {string} name The form group name\n * @returns {FormGroupState} The form group state\n */\nexport const useFormGroup = (name: string): FormGroupState => {\n    const { dirtyFields, touchedFields, errors } = useFormState();\n    const formGroups = useFormGroups();\n    const [state, setState] = useState<FormGroupState>({\n        errors: undefined,\n        isDirty: false,\n        isTouched: false,\n        isValid: true,\n    });\n\n    const updateGroupState = useCallback(() => {\n        const fields = formGroups.getGroupFields(name);\n        const fieldStates = fields\n            .map<FieldState>(field => {\n                return {\n                    name: field,\n                    error: get(errors, field, undefined),\n                    isDirty: get(dirtyFields, field, false),\n                    isValid: get(errors, field, undefined) == undefined, // eslint-disable-line\n                    isTouched: get(touchedFields, field, false),\n                };\n            })\n            .filter(fieldState => fieldState != undefined); // eslint-disable-line\n\n        const newState = getFormGroupState(fieldStates);\n        setState(oldState => {\n            if (!isEqual(oldState, newState)) {\n                return newState;\n            }\n\n            return oldState;\n        });\n    }, [dirtyFields, errors, touchedFields, formGroups, name]);\n\n    useEffect(\n        () => {\n            updateGroupState();\n        },\n        // eslint-disable-next-line\n        [\n            // eslint-disable-next-line\n            JSON.stringify({ dirtyFields, errors, touchedFields }),\n            updateGroupState,\n        ]\n    );\n\n    useEffect(() => {\n        // Whenever the group content changes (input are added or removed)\n        // we must update its state\n        return formGroups.subscribe(name, () => {\n            updateGroupState();\n        });\n    }, [formGroups, name, updateGroupState]);\n\n    return state;\n};\n\n/**\n * Get the state of a form group\n *\n * @param {FieldState[]} fieldStates A map of field states from react-hook-form where the key is the field name.\n * @returns {FormGroupState} The state of the group.\n */\nexport const getFormGroupState = (\n    fieldStates: FieldState[]\n): FormGroupState => {\n    return fieldStates.reduce(\n        (acc, fieldState) => {\n            let errors = acc.errors || {};\n\n            if (fieldState.error) {\n                errors[fieldState.name] = fieldState.error;\n            }\n\n            const newState = {\n                isDirty: acc.isDirty || fieldState.isDirty,\n                errors,\n                isTouched: acc.isTouched || fieldState.isTouched,\n                isValid: acc.isValid && fieldState.isValid,\n            };\n\n            return newState;\n        },\n        {\n            isDirty: false,\n            errors: undefined,\n            isValid: true,\n            isTouched: false,\n        }\n    );\n};\n","import { useContext } from 'react';\nimport { FormGroupContext } from './FormGroupContext';\n\n/**\n * Retrieve the name of the form group the consumer belongs to. May be undefined if the consumer is not inside a form group.\n */\nexport const useFormGroupContext = () => {\n    const context = useContext(FormGroupContext);\n    return context;\n};\n","import {\n    ValidationErrorMessage,\n    ValidationErrorMessageWithArgs,\n} from './validate';\nimport { useTranslate } from '../i18n';\n\n/**\n * This internal hook returns a function that can translate an error message.\n * It handles simple string errors and those which have a message and args.\n * Only useful if you are implementing custom inputs without leveraging our useInput hook.\n *\n * @example\n * const MyInput = props => {\n *      const { field, fieldState } = useController(props);\n *      useEffect(() => {\n *          if (fieldState.error) {\n *              const errorMessage = useGetValidationErrorMessage(fieldState.error);\n *              alert(errorMessage);\n *          }\n *      }, [fieldState.error]);\n *\n *      return (\n *          <input {...field} />\n *      );\n * }\n *\n * @see ValidationErrorMessage\n * @see ValidationErrorMessageWithArgs\n */\nexport const useGetValidationErrorMessage = () => {\n    const translate = useTranslate();\n\n    return (error: ValidationErrorMessage) => {\n        if ((error as ValidationErrorMessageWithArgs).message != null) {\n            const { message, args } = error as ValidationErrorMessageWithArgs;\n            return translate(message, { _: message, ...args });\n        }\n        return translate(error as string, { _: error });\n    };\n};\n","import { useEffect } from 'react';\nimport { useFormContext } from 'react-hook-form';\nimport getFormInitialValues from './getFormInitialValues';\n\n/**\n * Restore the record values which should override any default values specified on the form.\n */\nexport const useInitializeFormWithRecord = (defaultValues, record) => {\n    const { reset } = useFormContext();\n\n    useEffect(() => {\n        if (!record) {\n            return;\n        }\n        const initialValues = getFormInitialValues(defaultValues, record);\n        reset(initialValues);\n    }, [reset, JSON.stringify(record, defaultValues)]); // eslint-disable-line react-hooks/exhaustive-deps\n};\n","import { ReactElement, useEffect } from 'react';\nimport {\n    ControllerFieldState,\n    ControllerRenderProps,\n    useController,\n    UseControllerProps,\n    UseControllerReturn,\n    useFormContext,\n    UseFormStateReturn,\n} from 'react-hook-form';\nimport get from 'lodash/get';\n\nimport { useRecordContext } from '../controller';\nimport { composeValidators, Validator } from './validate';\nimport isRequired from './isRequired';\nimport { useFormGroupContext } from './useFormGroupContext';\nimport { useGetValidationErrorMessage } from './useGetValidationErrorMessage';\nimport { useFormGroups } from './useFormGroups';\nimport { useApplyInputDefaultValues } from './useApplyInputDefaultValues';\n\nexport const useInput = (props: InputProps): UseInputValue => {\n    const {\n        defaultValue,\n        format,\n        id,\n        isRequired: isRequiredOption,\n        name,\n        onBlur,\n        onChange,\n        parse,\n        source,\n        validate,\n        ...options\n    } = props;\n    const finalName = name || source;\n    const formGroupName = useFormGroupContext();\n    const formGroups = useFormGroups();\n    const record = useRecordContext();\n    const getValidationErrorMessage = useGetValidationErrorMessage();\n    const formContext = useFormContext();\n\n    useEffect(() => {\n        if (!formGroups || formGroupName == null) {\n            return;\n        }\n\n        formGroups.registerField(source, formGroupName);\n\n        return () => {\n            formGroups.unregisterField(source, formGroupName);\n        };\n    }, [formGroups, formGroupName, source]);\n\n    const sanitizedValidate = Array.isArray(validate)\n        ? composeValidators(validate)\n        : validate;\n\n    // Fetch the defaultValue from the record if available or apply the provided defaultValue.\n    // This ensures dynamically added inputs have their value set correctly (ArrayInput for example).\n    // We don't do this for the form level defaultValues so that it works as it should in react-hook-form\n    // (i.e. field level defaultValue override form level defaultValues for this field).\n    const { field: controllerField, fieldState, formState } = useController({\n        name: finalName,\n        defaultValue: get(record, source, defaultValue),\n        rules: {\n            validate: async value => {\n                if (!sanitizedValidate) return true;\n                const error = await sanitizedValidate(\n                    value,\n                    formContext.getValues(),\n                    props\n                );\n\n                if (!error) return true;\n                return getValidationErrorMessage(error);\n            },\n        },\n        ...options,\n    });\n\n    // Because our forms may receive an asynchronously loaded record for instance,\n    // they may reset their default values which would override the input default value.\n    // This hook ensures that the input default value is applied when a new record is loaded but has\n    // no value for the input.\n    useApplyInputDefaultValues(props);\n\n    const field = {\n        ...controllerField,\n        value: format ? format(controllerField.value) : controllerField.value,\n        onBlur: (...event: any[]) => {\n            if (onBlur) {\n                onBlur(...event);\n            }\n            controllerField.onBlur();\n        },\n        onChange: (...event: any[]) => {\n            if (onChange) {\n                onChange(...event);\n            }\n            const eventOrValue = (typeof event[0]?.target?.checked ===\n                'boolean' && event[0]?.target?.value === 'on'\n                ? event[0].target.checked\n                : event[0]?.target?.value ?? event[0]) as any;\n            controllerField.onChange(\n                parse ? parse(eventOrValue) : eventOrValue\n            );\n        },\n    };\n\n    return {\n        id: id || source,\n        field,\n        fieldState,\n        formState,\n        isRequired: isRequiredOption || isRequired(validate),\n    };\n};\n\nexport type InputProps<ValueType = any> = Omit<\n    UseControllerProps,\n    'name' | 'defaultValue' | 'rules'\n> &\n    Partial<UseControllerReturn> & {\n        alwaysOn?: any;\n        defaultValue?: any;\n        format?: (value: ValueType) => any;\n        id?: string;\n        isRequired?: boolean;\n        label?: string | ReactElement | false;\n        helperText?: string | ReactElement | false;\n        name?: string;\n        onBlur?: (...event: any[]) => void;\n        onChange?: (...event: any[]) => void;\n        parse?: (value: any) => ValueType;\n        resource?: string;\n        source: string;\n        validate?: Validator | Validator[];\n    };\n\nexport type UseInputValue = {\n    id: string;\n    isRequired: boolean;\n    field: ControllerRenderProps;\n    formState: UseFormStateReturn<Record<string, string>>;\n    fieldState: ControllerFieldState;\n};\n","const isRequired = validate => {\n    if (validate && validate.isRequired) {\n        return true;\n    }\n    if (Array.isArray(validate)) {\n        return validate.some(it => it.isRequired);\n    }\n    return false;\n};\n\nexport default isRequired;\n","import { useCallback, isValidElement, ReactElement } from 'react';\nimport set from 'lodash/set';\nimport { useChoices, OptionText, UseChoicesOptions } from './useChoices';\nimport { useTranslate } from '../i18n';\n\n/*\n * Returns helper functions for suggestions handling.\n *\n * @param allowDuplicates A boolean indicating whether a suggestion can be added several times\n * @param choices An array of available choices\n * @param emptyText The text to use for the empty suggestion. Defaults to an empty string\n * @param emptyValue The value to use for the empty suggestion. Defaults to `null`\n * @param limitChoicesToValue A boolean indicating whether the initial suggestions should be limited to the currently selected one(s)\n * @param matchSuggestion Optional unless `optionText` is a React element. Function which check whether a choice matches a filter. Must return a boolean.\n * @param optionText Either a string defining the property to use to get the choice text, a function or a React element\n * @param optionValue The property to use to get the choice value\n * @param selectedItem The currently selected item. May be an array of selected items\n * @param suggestionLimit The maximum number of suggestions returned\n * @param translateChoice A boolean indicating whether to option text should be translated\n *\n * @returns An object with helper functions:\n * - getChoiceText: Returns the choice text or a React element\n * - getChoiceValue: Returns the choice value\n * - getSuggestions: A function taking a filter value (string) and returning the matching suggestions\n */\nexport const useSuggestions = ({\n    allowCreate,\n    choices,\n    createText = 'ra.action.create',\n    createValue = '@@create',\n    emptyText = '',\n    emptyValue = null,\n    limitChoicesToValue,\n    matchSuggestion,\n    optionText,\n    optionValue,\n    selectedItem,\n    suggestionLimit = 0,\n    translateChoice,\n}: UseSuggestionsOptions) => {\n    const translate = useTranslate();\n    const { getChoiceText, getChoiceValue } = useChoices({\n        optionText,\n        optionValue,\n        translateChoice,\n    });\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    const getSuggestions = useCallback(\n        getSuggestionsFactory({\n            allowCreate,\n            choices,\n            createText,\n            createValue,\n            emptyText: translate(emptyText, { _: emptyText }),\n            emptyValue,\n            getChoiceText,\n            getChoiceValue,\n            limitChoicesToValue,\n            matchSuggestion,\n            optionText,\n            optionValue,\n            selectedItem,\n            suggestionLimit,\n        }),\n        [\n            allowCreate,\n            choices,\n            createText,\n            createValue,\n            emptyText,\n            emptyValue,\n            getChoiceText,\n            getChoiceValue,\n            limitChoicesToValue,\n            matchSuggestion,\n            optionText,\n            optionValue,\n            selectedItem,\n            suggestionLimit,\n            translate,\n        ]\n    );\n\n    return {\n        getChoiceText,\n        getChoiceValue,\n        getSuggestions,\n    };\n};\n\nconst escapeRegExp = value =>\n    value ? value.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&') : ''; // $& means the whole matched string\n\nexport interface UseSuggestionsOptions extends UseChoicesOptions {\n    allowCreate?: boolean;\n    allowDuplicates?: boolean;\n    choices: any[];\n    createText?: string;\n    createValue?: any;\n    emptyText?: string;\n    emptyValue?: any;\n    limitChoicesToValue?: boolean;\n    matchSuggestion?: (\n        filter: string,\n        suggestion: any,\n        exact?: boolean\n    ) => boolean;\n    suggestionLimit?: number;\n    selectedItem?: any | any[];\n}\n\n/**\n * Default matcher implementation which check whether the suggestion text matches the filter.\n */\nconst defaultMatchSuggestion = getChoiceText => (\n    filter,\n    suggestion,\n    exact = false\n) => {\n    const suggestionText = getChoiceText(suggestion);\n\n    const isReactElement = isValidElement(suggestionText);\n    const regex = escapeRegExp(filter);\n\n    return isReactElement\n        ? false\n        : suggestionText &&\n              !!suggestionText.match(\n                  // We must escape any RegExp reserved characters to avoid errors\n                  // For example, the filter might contain * which must be escaped as \\*\n                  new RegExp(exact ? `^${regex}$` : regex, 'i')\n              );\n};\n\n/**\n * Get the suggestions to display after applying a fuzzy search on the available choices\n *\n * @example\n *\n * getSuggestions({\n *   choices: [{ id: 1, name: 'admin' }, { id: 2, name: 'publisher' }],\n *   optionText: 'name',\n *   optionValue: 'id',\n *   getSuggestionText: choice => choice[optionText],\n * })('pub')\n *\n * // Will return [{ id: 2, name: 'publisher' }]\n * getSuggestions({\n *   choices: [{ id: 1, name: 'admin' }, { id: 2, name: 'publisher' }],\n *   optionText: 'name',\n *   optionValue: 'id',\n *   getSuggestionText: choice => choice[optionText],\n * })('pub')\n *\n * // Will return [{ id: 2, name: 'publisher' }]\n */\nexport const getSuggestionsFactory = ({\n    allowCreate = false,\n    choices = [],\n    createText = 'ra.action.create',\n    createValue = '@@create',\n    emptyText = '',\n    emptyValue = null,\n    optionText = 'name',\n    optionValue = 'id',\n    getChoiceText,\n    getChoiceValue,\n    limitChoicesToValue = false,\n    matchSuggestion = defaultMatchSuggestion(getChoiceText),\n    selectedItem,\n    suggestionLimit = 0,\n}: UseSuggestionsOptions & {\n    getChoiceText: (choice: any) => string | ReactElement;\n    getChoiceValue: (choice: any) => string;\n}) => filter => {\n    let suggestions = [];\n    // if an item is selected and matches the filter\n    if (\n        selectedItem &&\n        !Array.isArray(selectedItem) &&\n        matchSuggestion(filter, selectedItem)\n    ) {\n        if (limitChoicesToValue) {\n            // display only the selected item\n            suggestions = choices.filter(\n                choice =>\n                    getChoiceValue(choice) === getChoiceValue(selectedItem)\n            );\n        } else {\n            suggestions = [...choices];\n        }\n    } else {\n        suggestions = choices.filter(\n            choice =>\n                matchSuggestion(filter, choice) ||\n                (selectedItem != null &&\n                    (!Array.isArray(selectedItem)\n                        ? getChoiceValue(choice) ===\n                          getChoiceValue(selectedItem)\n                        : selectedItem.some(\n                              selected =>\n                                  getChoiceValue(choice) ===\n                                  getChoiceValue(selected)\n                          )))\n        );\n    }\n\n    suggestions = limitSuggestions(suggestions, suggestionLimit);\n\n    const hasExactMatch = suggestions.some(suggestion =>\n        matchSuggestion(filter, suggestion, true)\n    );\n\n    if (allowCreate) {\n        const filterIsSelectedItem =\n            // If the selectedItem is an array (for example AutocompleteArrayInput)\n            // we shouldn't try to match\n            !!selectedItem && !Array.isArray(selectedItem)\n                ? matchSuggestion(filter, selectedItem, true)\n                : false;\n        if (!hasExactMatch && !filterIsSelectedItem) {\n            suggestions.push(\n                getSuggestion({\n                    optionText,\n                    optionValue,\n                    text: createText,\n                    value: createValue,\n                })\n            );\n        }\n    }\n\n    // Only keep unique items. Necessary because we might have fetched\n    // the currently selected choice in addition of the possible choices\n    // that may also contain it\n    const result = suggestions.filter(\n        (suggestion, index) => suggestions.indexOf(suggestion) === index\n    );\n    return result;\n};\n\n/**\n * @example\n *\n * limitSuggestions(\n *  [{ id: 1, name: 'foo'}, { id: 2, name: 'bar' }],\n *  1\n * );\n *\n * // Will return [{ id: 1, name: 'foo' }]\n *\n * @param suggestions List of suggestions\n * @param limit\n */\nconst limitSuggestions = (suggestions: any[], limit: any = 0) =>\n    Number.isInteger(limit) && limit > 0\n        ? suggestions.slice(0, limit)\n        : suggestions;\n\n/**\n * addSuggestion(\n *  [{ id: 1, name: 'foo'}, { id: 2, name: 'bar' }],\n * );\n *\n * // Will return [{ id: null, name: '' }, { id: 1, name: 'foo' }, , { id: 2, name: 'bar' }]\n *\n * @param suggestions List of suggestions\n * @param options\n * @param options.optionText\n */\nconst getSuggestion = ({\n    optionText = 'name',\n    optionValue = 'id',\n    text = '',\n    value = null,\n}: {\n    optionText: OptionText;\n    optionValue: string;\n    text: string;\n    value: any;\n}) => {\n    const suggestion = {};\n    set(suggestion, optionValue, value);\n    if (typeof optionText === 'string') {\n        set(suggestion, optionText, text);\n    }\n\n    return suggestion;\n};\n","import { ReactNode, ReactElement, ComponentType } from 'react';\n\nimport { WithPermissionsChildrenParams } from './auth/WithPermissions';\nimport { AuthActionType } from './auth/types';\n\n/**\n * data types\n */\n\nexport type Identifier = string | number;\n\nexport interface RaRecord {\n    id: Identifier;\n    [key: string]: any;\n}\n\nexport interface SortPayload {\n    field: string;\n    order: string;\n}\nexport interface FilterPayload {\n    [k: string]: any;\n}\nexport interface PaginationPayload {\n    page: number;\n    perPage: number;\n}\nexport type ValidUntil = Date;\n/**\n * i18nProvider types\n */\n\nexport const I18N_TRANSLATE = 'I18N_TRANSLATE';\nexport const I18N_CHANGE_LOCALE = 'I18N_CHANGE_LOCALE';\n\nexport type Translate = (key: string, options?: any) => string;\n\nexport type I18nProvider = {\n    translate: Translate;\n    changeLocale: (locale: string, options?: any) => Promise<void>;\n    getLocale: () => string;\n    [key: string]: any;\n};\n\nexport interface UserIdentity {\n    id: Identifier;\n    fullName?: string;\n    avatar?: string;\n    [key: string]: any;\n}\n\n/**\n * authProvider types\n */\nexport type AuthProvider = {\n    login: (params: any) => Promise<any>;\n    logout: (params: any) => Promise<void | false | string>;\n    checkAuth: (params: any) => Promise<void>;\n    checkError: (error: any) => Promise<void>;\n    getIdentity?: () => Promise<UserIdentity>;\n    getPermissions: (params: any) => Promise<any>;\n    getRoles?: () => Promise<any>;\n    [key: string]: any;\n};\n\nexport type LegacyAuthProvider = (\n    type: AuthActionType,\n    params?: any\n) => Promise<any>;\n\n/**\n * dataProvider types\n */\n\nexport type DataProvider<ResourceType extends string = string> = {\n    getList: <RecordType extends RaRecord = any>(\n        resource: ResourceType,\n        params: GetListParams\n    ) => Promise<GetListResult<RecordType>>;\n\n    getOne: <RecordType extends RaRecord = any>(\n        resource: ResourceType,\n        params: GetOneParams\n    ) => Promise<GetOneResult<RecordType>>;\n\n    getMany: <RecordType extends RaRecord = any>(\n        resource: ResourceType,\n        params: GetManyParams\n    ) => Promise<GetManyResult<RecordType>>;\n\n    getManyReference: <RecordType extends RaRecord = any>(\n        resource: ResourceType,\n        params: GetManyReferenceParams\n    ) => Promise<GetManyReferenceResult<RecordType>>;\n\n    update: <RecordType extends RaRecord = any>(\n        resource: ResourceType,\n        params: UpdateParams\n    ) => Promise<UpdateResult<RecordType>>;\n\n    updateMany: <RecordType extends RaRecord = any>(\n        resource: ResourceType,\n        params: UpdateManyParams\n    ) => Promise<UpdateManyResult<RecordType>>;\n\n    create: <RecordType extends RaRecord = any>(\n        resource: ResourceType,\n        params: CreateParams\n    ) => Promise<CreateResult<RecordType>>;\n\n    delete: <RecordType extends RaRecord = any>(\n        resource: ResourceType,\n        params: DeleteParams<RecordType>\n    ) => Promise<DeleteResult<RecordType>>;\n\n    deleteMany: <RecordType extends RaRecord = any>(\n        resource: ResourceType,\n        params: DeleteManyParams<RecordType>\n    ) => Promise<DeleteManyResult<RecordType>>;\n\n    [key: string]: any;\n};\n\nexport interface GetListParams {\n    pagination: PaginationPayload;\n    sort: SortPayload;\n    filter: any;\n    meta?: any;\n}\nexport interface GetListResult<RecordType extends RaRecord = any> {\n    data: RecordType[];\n    total?: number;\n    pageInfo?: {\n        hasNextPage?: boolean;\n        hasPreviousPage?: boolean;\n    };\n}\n\nexport interface GetOneParams<RecordType extends RaRecord = any> {\n    id: RecordType['id'];\n    meta?: any;\n}\nexport interface GetOneResult<RecordType extends RaRecord = any> {\n    data: RecordType;\n}\n\nexport interface GetManyParams {\n    ids: Identifier[];\n    meta?: any;\n}\nexport interface GetManyResult<RecordType extends RaRecord = any> {\n    data: RecordType[];\n}\n\nexport interface GetManyReferenceParams {\n    target: string;\n    id: Identifier;\n    pagination: PaginationPayload;\n    sort: SortPayload;\n    filter: any;\n    meta?: any;\n}\nexport interface GetManyReferenceResult<RecordType extends RaRecord = any> {\n    data: RecordType[];\n    total?: number;\n    pageInfo?: {\n        hasNextPage?: boolean;\n        hasPreviousPage?: boolean;\n    };\n}\n\nexport interface UpdateParams<T = any> {\n    id: Identifier;\n    data: Partial<T>;\n    previousData: T;\n    meta?: any;\n}\nexport interface UpdateResult<RecordType extends RaRecord = any> {\n    data: RecordType;\n}\n\nexport interface UpdateManyParams<T = any> {\n    ids: Identifier[];\n    data: T;\n    meta?: any;\n}\nexport interface UpdateManyResult<RecordType extends RaRecord = any> {\n    data?: RecordType['id'][];\n}\n\nexport interface CreateParams<T = any> {\n    data: T;\n    meta?: any;\n}\nexport interface CreateResult<RecordType extends RaRecord = any> {\n    data: RecordType;\n}\n\nexport interface DeleteParams<RecordType extends RaRecord = any> {\n    id: Identifier;\n    previousData?: RecordType;\n    meta?: any;\n}\nexport interface DeleteResult<RecordType extends RaRecord = any> {\n    data: RecordType;\n}\n\nexport interface DeleteManyParams<RecordType extends RaRecord = any> {\n    ids: RecordType['id'][];\n    meta?: any;\n}\nexport interface DeleteManyResult<RecordType extends RaRecord = any> {\n    data?: RecordType['id'][];\n}\n\nexport type DataProviderResult<RecordType extends RaRecord = any> =\n    | CreateResult<RecordType>\n    | DeleteResult<RecordType>\n    | DeleteManyResult\n    | GetListResult<RecordType>\n    | GetManyResult<RecordType>\n    | GetManyReferenceResult<RecordType>\n    | GetOneResult<RecordType>\n    | UpdateResult<RecordType>\n    | UpdateManyResult;\n\nexport type MutationMode = 'pessimistic' | 'optimistic' | 'undoable';\nexport type OnSuccess = (\n    response?: any,\n    variables?: any,\n    context?: any\n) => void;\nexport type onError = (error?: any, variables?: any, context?: any) => void;\nexport type TransformData = (\n    data: any,\n    options?: { previousData: any }\n) => any | Promise<any>;\n\nexport interface UseDataProviderOptions {\n    action?: string;\n    fetch?: string;\n    meta?: object;\n    mutationMode?: MutationMode;\n    onSuccess?: OnSuccess;\n    onError?: onError;\n    enabled?: boolean;\n}\n\nexport type LegacyDataProvider = (\n    type: string,\n    resource: string,\n    params: any\n) => Promise<any>;\n\nexport interface ResourceDefinition {\n    readonly name: string;\n    readonly options?: any;\n    readonly hasList?: boolean;\n    readonly hasEdit?: boolean;\n    readonly hasShow?: boolean;\n    readonly hasCreate?: boolean;\n    readonly icon?: any;\n}\n\n/**\n * Misc types\n */\n\nexport type Dispatch<T> = T extends (...args: infer A) => any\n    ? (...args: A) => void\n    : never;\n\nexport type ResourceElement = ReactElement<ResourceProps>;\nexport type RenderResourcesFunction = (\n    permissions: any\n) => ResourceElement[] | Promise<ResourceElement[]>;\nexport type AdminChildren = RenderResourcesFunction | ReactNode;\n\nexport type TitleComponent = string | ReactElement<any>;\nexport type CatchAllComponent = ComponentType<{ title?: TitleComponent }>;\n\nexport type LoginComponent = ComponentType<{}> | ReactElement<any>;\nexport type DashboardComponent = ComponentType<WithPermissionsChildrenParams>;\n\nexport interface CoreLayoutProps {\n    children?: ReactNode;\n    dashboard?: DashboardComponent;\n    menu?: ComponentType<{\n        hasDashboard?: boolean;\n    }>;\n    title?: TitleComponent;\n}\n\nexport type LayoutComponent = ComponentType<CoreLayoutProps>;\nexport type LoadingComponent = ComponentType<{\n    loadingPrimary?: string;\n    loadingSecondary?: string;\n}>;\n\nexport interface ResourceComponentInjectedProps {\n    permissions?: any;\n    resource?: string;\n    options?: any;\n    hasList?: boolean;\n    hasEdit?: boolean;\n    hasShow?: boolean;\n    hasCreate?: boolean;\n}\n\nexport interface ResourceOptions {\n    label?: string;\n    [key: string]: any;\n}\n\nexport interface ResourceProps {\n    intent?: 'route' | 'registration';\n    name: string;\n    list?: ComponentType<any> | ReactElement;\n    create?: ComponentType<any> | ReactElement;\n    edit?: ComponentType<any> | ReactElement;\n    show?: ComponentType<any> | ReactElement;\n    icon?: ComponentType<any>;\n    options?: ResourceOptions;\n}\n\nexport type Exporter = (\n    data: any,\n    fetchRelatedRecords: (\n        data: any,\n        field: string,\n        resource: string\n    ) => Promise<any>,\n    dataProvider: DataProvider,\n    resource?: string\n) => void | Promise<void>;\n\nexport type SetOnSave = (\n    onSave?: (values: object, redirect: any) => void\n) => void;\n\nexport type FormFunctions = {\n    setOnSave?: SetOnSave;\n};\n"]},"metadata":{},"sourceType":"module"}