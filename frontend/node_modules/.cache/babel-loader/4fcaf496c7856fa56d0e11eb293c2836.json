{"ast":null,"code":"var _jsxFileName = \"D:\\\\myFishProject\\\\frontend\\\\src\\\\components\\\\Addcart.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { useCart } from \"react-use-cart\";\nimport { useEffect, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Cart() {\n  _s();\n\n  const navigate = useNavigate();\n  const user_id = localStorage.getItem(\"User_ID\");\n  let item_id = localStorage.getItem(\"react-use-cart\");\n  const {\n    items: id\n  } = item_id;\n\n  const changeCheckout = e => {\n    e.preventDefault();\n    const {\n      name,\n      value\n    } = e.target;\n    setCheckoutData({ ...checkoutData,\n      [name]: value\n    });\n    console.log(checkoutData);\n  };\n\n  const handleCheckout = e => {\n    e.preventDefault();\n    const main_data = {\n      notes: checkoutData.notes,\n      user: user_id,\n      quantity: totalItems,\n      item: main_item_id\n    };\n    const authCheckout = JSON.parse(localStorage.getItem('authToken'));\n    fetch('http://127.0.0.1:8000/cart/', {\n      method: \"POST\",\n      headers: {\n        'Authorization': `token ${authCheckout}`,\n        'Content-Type': 'application/json',\n        'Accept': 'application/json'\n      },\n      body: JSON.stringify(main_data)\n    }).then(res => {\n      console.log(res.data);\n      navigate('/Cart/Checkout', {\n        replace: false\n      });\n    });\n  };\n\n  const emptyback = e => {\n    e.preventDefault();\n    navigate('/', {\n      replace: true\n    });\n  };\n\n  const {\n    isEmpty,\n    totalUniqueItems,\n    updateItemQuantity,\n    items,\n    removeItem,\n    totalItems,\n    cartTotal\n  } = useCart();\n  const delivery = cartTotal + 2.5;\n  const VAT = parseFloat(delivery * 0.05).toFixed(2);\n  const totalAmount = parseFloat(delivery + VAT).toFixed(2);\n  const checkoutValues = {\n    notes: \"\"\n  };\n  let [checkoutData, setCheckoutData] = useState(checkoutValues);\n\n  const addMore = e => {\n    e.preventDefault();\n    navigate('/', {\n      replace: true\n    });\n  };\n\n  if (isEmpty) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"emptyDiv\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"emptyCart\",\n      children: \"Your Cart is Empty\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"emptyBackButton\",\n      onClick: emptyback,\n      children: \"Go Back\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 90,\n    columnNumber: 24\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mainSection\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: addMore,\n        id: \"addMore\",\n        children: \"Add more items!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"shoppingHeading\",\n        children: \"Shopping Cart\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"paraShoppingHeading\",\n        children: [\"You have \", totalItems, \" items in your shopping cart\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 13\n      }, this), items.map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"cartRow\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            className: \"cartImage\",\n            src: item.img,\n            alt: \"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"cartName\",\n            children: item.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"cartArab\",\n            children: item.arab\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"ul\", {\n            children: /*#__PURE__*/_jsxDEV(\"li\", {\n              children: [item.quantity, \"*\", item.name, \" \\u2014\", /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"updateButton\",\n                onClick: () => updateItemQuantity(item.id, item.quantity - 1),\n                children: \"-\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 116,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"updateButton\",\n                onClick: () => updateItemQuantity(item.id, item.quantity + 1),\n                children: \"+\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 119,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"updateButton\",\n                onClick: () => removeItem(item.id),\n                children: \"\\xD7\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 122,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 113,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 25\n        }, this)]\n      }, item.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 21\n      }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"cartRow2\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"cartRow3\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"paymentHeading\",\n            children: \"Payment Summary\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"paymentSummary\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Items Price Total: \", /*#__PURE__*/_jsxDEV(\"mark\", {\n                children: [cartTotal, \"BD\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 139,\n                columnNumber: 51\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 139,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Delivery Fee: \", /*#__PURE__*/_jsxDEV(\"mark\", {\n                children: [delivery, \"BD\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 140,\n                columnNumber: 46\n              }, this), \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 140,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"VAT Fee: \", /*#__PURE__*/_jsxDEV(\"mark\", {\n                children: [VAT, \"BD\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 141,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 141,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Your Final Amount is: \", /*#__PURE__*/_jsxDEV(\"mark\", {\n                children: [totalAmount, \"BD\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 142,\n                columnNumber: 54\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 142,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"cartRow4\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            id: \"checkoutButton\",\n            onClick: handleCheckout,\n            children: \"Checkout\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"note\",\n          children: /*#__PURE__*/_jsxDEV(\"form\", {\n            children: /*#__PURE__*/_jsxDEV(\"label\", {\n              children: [\"Leave a note here\", /*#__PURE__*/_jsxDEV(\"input\", {\n                className: \"noteInput\",\n                type: \"text\",\n                id: \"noteID\",\n                onChange: changeCheckout,\n                name: \"notes\",\n                value: checkoutData.notes\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 154,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 152,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 96,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Cart, \"9W8G28OCDv2lbHyopQe5C3F+VMg=\", false, function () {\n  return [useNavigate, useCart];\n});\n\n_c = Cart;\nexport default Cart;\n\nvar _c;\n\n$RefreshReg$(_c, \"Cart\");","map":{"version":3,"sources":["D:/myFishProject/frontend/src/components/Addcart.js"],"names":["React","useCart","useEffect","useState","useNavigate","Cart","navigate","user_id","localStorage","getItem","item_id","items","id","changeCheckout","e","preventDefault","name","value","target","setCheckoutData","checkoutData","console","log","handleCheckout","main_data","notes","user","quantity","totalItems","item","main_item_id","authCheckout","JSON","parse","fetch","method","headers","body","stringify","then","res","data","replace","emptyback","isEmpty","totalUniqueItems","updateItemQuantity","removeItem","cartTotal","delivery","VAT","parseFloat","toFixed","totalAmount","checkoutValues","addMore","map","img","arab"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { useCart } from \"react-use-cart\";\r\nimport { useEffect, useState } from \"react\";\r\n\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\n\r\n\r\nfunction Cart(){\r\n    \r\n    const navigate=useNavigate();\r\n    \r\n    const user_id=localStorage.getItem(\"User_ID\");\r\n\r\n    let item_id=localStorage.getItem(\"react-use-cart\");\r\n    const{items:id}=item_id;\r\n\r\n    \r\n   \r\n   const changeCheckout=(e)=>{\r\n       e.preventDefault();\r\n       const {name, value}=e.target;\r\n       setCheckoutData({...checkoutData, [name]:value});\r\n       console.log(checkoutData);\r\n   }\r\n  \r\n    \r\n   const handleCheckout=(e)=>{\r\n       e.preventDefault();\r\n       const main_data={notes:checkoutData.notes, user:user_id, quantity:totalItems, item:main_item_id}\r\n         \r\n        \r\n       const authCheckout=JSON.parse(localStorage.getItem('authToken'));\r\n       \r\n       fetch('http://127.0.0.1:8000/cart/', {\r\n        method:\"POST\",\r\n        headers:{\r\n            'Authorization': `token ${authCheckout}`,\r\n            'Content-Type':'application/json',\r\n            'Accept':'application/json'\r\n        },\r\n        body:JSON.stringify(main_data),\r\n       } ).then((res)=>{\r\n            console.log(res.data);\r\n            navigate('/Cart/Checkout', {replace:false})   \r\n        })\r\n\r\n        \r\n        \r\n   } \r\n   \r\n   const emptyback=(e)=>{\r\n       e.preventDefault();\r\n       navigate('/', {replace:true});\r\n\r\n   }\r\n   \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n   \r\n\r\n    \r\n    const {\r\n        isEmpty,\r\n        totalUniqueItems,\r\n        updateItemQuantity,\r\n        items,\r\n        removeItem,\r\n        totalItems,\r\n        cartTotal,\r\n    } = useCart();\r\n    const delivery=cartTotal+2.5;\r\n    const VAT=parseFloat(delivery*0.05).toFixed(2);\r\n    const totalAmount=parseFloat(delivery+VAT).toFixed(2);\r\n    \r\n    const checkoutValues={notes:\"\"};\r\n    let [checkoutData, setCheckoutData]=useState(checkoutValues);\r\n    const addMore=(e)=>{\r\n        e.preventDefault();\r\n        navigate('/', {replace:true});\r\n    }\r\n    \r\n   \r\n  \r\n    \r\n    if(isEmpty) return <div className=\"emptyDiv\">\r\n        <h1 className=\"emptyCart\">Your Cart is Empty</h1>\r\n        <button className=\"emptyBackButton\" onClick={emptyback}>Go Back</button>\r\n    </div>  \r\n    return(\r\n        \r\n        <section>\r\n            \r\n            <div className=\"mainSection\">\r\n            <button onClick={addMore} id=\"addMore\">Add more items!</button>\r\n            <h1 className=\"shoppingHeading\">Shopping Cart</h1>\r\n            <p className=\"paraShoppingHeading\">You have {totalItems} items in your shopping cart</p>   \r\n               {items.map((item) =>\r\n                    <div className=\"cartRow\" key={item.id} >\r\n                        <div>\r\n                            <img className=\"cartImage\" src={item.img} alt=\"\" />\r\n                        </div>\r\n                        <div>\r\n                            <h3 className=\"cartName\">{item.name}</h3>\r\n                            <h3 className=\"cartArab\">{item.arab}</h3>\r\n                        </div>\r\n                        <div>\r\n                            <ul>\r\n                                <li>\r\n                                    {item.quantity}*{item.name} &mdash;\r\n                                    \r\n                                    <button className=\"updateButton\" onClick={()=>updateItemQuantity(item.id, item.quantity-1)}>\r\n                                        -\r\n                                    </button>\r\n                                    <button className=\"updateButton\" onClick={()=>updateItemQuantity(item.id, item.quantity+1)}>\r\n                                        +\r\n                                    </button>\r\n                                    <button className=\"updateButton\" onClick={()=>removeItem(item.id)}>\r\n                                        &times;\r\n                                    </button>\r\n                                </li>  \r\n                               \r\n                            </ul>\r\n                        </div>\r\n                        \r\n                    </div>\r\n                )}\r\n                <div className=\"cartRow2\">\r\n                   \r\n                    \r\n                    \r\n                    <div className=\"cartRow3\">\r\n                        <h1 className=\"paymentHeading\">Payment Summary</h1>\r\n                        <div className=\"paymentSummary\">\r\n                            <p>Items Price Total: <mark>{cartTotal}BD</mark></p>\r\n                            <p>Delivery Fee: <mark>{delivery}BD</mark> </p>\r\n                            <p>VAT Fee: <mark>{VAT}BD</mark></p>\r\n                            <p>Your Final Amount is: <mark>{totalAmount}BD</mark></p>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"cartRow4\">\r\n                        <button id=\"checkoutButton\" onClick={handleCheckout}>Checkout</button>\r\n                        \r\n                    </div>\r\n                    <hr/>\r\n                    <div className=\"note\">\r\n                        <form>\r\n                        <label>\r\n                            Leave a note here\r\n                            <input className=\"noteInput\" type=\"text\" id=\"noteID\" onChange={changeCheckout} name=\"notes\" value={checkoutData.notes}/>\r\n                        </label> \r\n                        </form>\r\n                    </div>\r\n                    \r\n                    \r\n                </div>\r\n                \r\n\r\n            </div>\r\n        </section>\r\n    )}\r\nexport default Cart;\r\n\r\n"]},"metadata":{},"sourceType":"module"}