{"ast":null,"code":"import _defineProperty from\"D:/myFishProject/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"D:/myFishProject/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"D:/myFishProject/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import{useState}from\"react\";import{useCart}from\"react-use-cart\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Checkout(){var _useCart=useCart(),totalItems=_useCart.totalItems,totalUniqueItems=_useCart.totalUniqueItems;var paymentValues={payment_type:\"\",branch:\"\",order_type:\"\"};var _useState=useState(paymentValues),_useState2=_slicedToArray(_useState,2),payment=_useState2[0],setPayment=_useState2[1];var navigate=useNavigate();var handleOrder=function handleOrder(e){e.preventDefault();var data={payment_type:payment.payment_type,branch:payment.branch,order_type:payment.order_type};var authPayment=JSON.parse(localStorage.getItem('authToken'));fetch('http://127.0.0.1:8000/order/place_order/',{method:\"POST\",headers:{'Authorization':\"token \".concat(authPayment),'Content-Type':'application/json','Accept':'application/json'},body:JSON.stringify(data)}).then(function(res){console.log(res.data);localStorage.removeItem(\"react-use-cart\");navigate('/gitfishproject',{replace:true});}).catch(function(err){alert(\"Order Not Successful\");});};var orderChange=function orderChange(e){e.preventDefault();var _e$target=e.target,name=_e$target.name,value=_e$target.value;setPayment(_objectSpread(_objectSpread({},payment),{},_defineProperty({},name,value)));console.log(payment);};return/*#__PURE__*/_jsxs(\"div\",{className:\"checkoutContainer\",children:[/*#__PURE__*/_jsx(\"div\",{id:\"checkoutRow1\",children:/*#__PURE__*/_jsx(\"h1\",{className:\"checkoutHeading\",children:\"Checkout\"})}),/*#__PURE__*/_jsxs(\"div\",{id:\"checkoutRow2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"checkoutFullDetails\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"headingCheckoutDetails\",children:/*#__PURE__*/_jsx(\"h3\",{children:\"Your added cart details are\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"checkoutDetailsShow\",children:/*#__PURE__*/_jsxs(\"p\",{children:[\"Your total item quantity is \",totalItems,\" and your total unique items are \",totalUniqueItems]})})]}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"branchClass\",children:[/*#__PURE__*/_jsx(\"div\",{id:\"headingBranch\",children:/*#__PURE__*/_jsx(\"h5\",{children:\"Select Branch for Order\"})}),/*#__PURE__*/_jsx(\"div\",{id:\"selectBigBranch\",children:/*#__PURE__*/_jsxs(\"select\",{id:\"select_style\",onChange:orderChange,name:\"branch\",value:payment.branch,children:[/*#__PURE__*/_jsx(\"option\",{children:\"Select Branch\"}),/*#__PURE__*/_jsx(\"option\",{value:1,children:\"Fish Restaurant\"})]})})]}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"paymentType\",children:[/*#__PURE__*/_jsx(\"div\",{id:\"headingPayment\",children:/*#__PURE__*/_jsx(\"h5\",{children:\"Select Payment Type\"})}),/*#__PURE__*/_jsx(\"div\",{id:\"selectBigPayment\",children:/*#__PURE__*/_jsxs(\"select\",{id:\"select_style\",onChange:orderChange,name:\"payment_type\",value:payment.payment_type,children:[/*#__PURE__*/_jsx(\"option\",{children:\"Select Payment Type\"}),/*#__PURE__*/_jsx(\"option\",{value:1,children:\"Cash\"}),/*#__PURE__*/_jsx(\"option\",{value:2,children:\"Credit Card\"}),/*#__PURE__*/_jsx(\"option\",{value:3,children:\"Debit Card\"})]})})]}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"orderType\",children:[/*#__PURE__*/_jsx(\"div\",{id:\"headingOrder\",children:/*#__PURE__*/_jsx(\"h5\",{children:\"Select Order Type\"})}),/*#__PURE__*/_jsx(\"div\",{id:\"selectBigOrder\",children:/*#__PURE__*/_jsxs(\"select\",{id:\"select_style\",onChange:orderChange,name:\"order_type\",value:payment.order_type,children:[/*#__PURE__*/_jsx(\"option\",{children:\"Select Order Type\"}),/*#__PURE__*/_jsx(\"option\",{value:1,children:\"Takeaway\"}),/*#__PURE__*/_jsx(\"option\",{value:2,children:\"Dine\"}),/*#__PURE__*/_jsx(\"option\",{value:3,children:\"Delivery\"})]})})]}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"div\",{className:\"placeOrderButton\",children:/*#__PURE__*/_jsx(\"button\",{onClick:handleOrder,children:\"Place Order\"})})]})]});}export default Checkout;","map":{"version":3,"sources":["D:/myFishProject/frontend/src/components/Checkout.js"],"names":["React","useState","useCart","useNavigate","Checkout","totalItems","totalUniqueItems","paymentValues","payment_type","branch","order_type","payment","setPayment","navigate","handleOrder","e","preventDefault","data","authPayment","JSON","parse","localStorage","getItem","fetch","method","headers","body","stringify","then","res","console","log","removeItem","replace","catch","err","alert","orderChange","target","name","value"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport {useState} from \"react\";\r\nimport { useCart } from \"react-use-cart\";\r\nimport {useNavigate} from \"react-router-dom\";\r\n\r\nfunction Checkout(){\r\n    const {totalItems, totalUniqueItems}=useCart();\r\n    const paymentValues={payment_type:\"\", branch:\"\", order_type:\"\"};  \r\n    const [payment, setPayment]=useState(paymentValues);\r\n    const navigate=useNavigate();\r\n    \r\n    \r\n    \r\n   \r\n    \r\n\r\n    const handleOrder=(e)=>{\r\n        e.preventDefault();\r\n        const data={payment_type:payment.payment_type, branch:payment.branch, order_type:payment.order_type}\r\n        const authPayment=JSON.parse(localStorage.getItem('authToken'));\r\n        fetch('http://127.0.0.1:8000/order/place_order/', {\r\n            method:\"POST\",\r\n            headers:{\r\n                'Authorization': `token ${authPayment}`,\r\n                'Content-Type':'application/json',\r\n                'Accept':'application/json'\r\n            },\r\n            body: JSON.stringify(data),  \r\n        }).then((res)=>{\r\n            console.log(res.data);\r\n            localStorage.removeItem(\"react-use-cart\");\r\n            navigate('/gitfishproject', {replace:true});\r\n        }).catch((err)=>{\r\n            alert(\"Order Not Successful\");\r\n        })\r\n\r\n        \r\n    }\r\n    const orderChange=(e)=>{\r\n        e.preventDefault();\r\n        const {name, value}=e.target;\r\n        setPayment({...payment, [name]:value});\r\n        console.log(payment);\r\n    }\r\n   \r\n\r\n   \r\n\r\n    \r\n   \r\n\r\n    return(\r\n        <div className=\"checkoutContainer\">\r\n           <div id=\"checkoutRow1\">\r\n               <h1 className=\"checkoutHeading\">Checkout</h1>\r\n               \r\n           </div>\r\n           <div id=\"checkoutRow2\">\r\n               <div className=\"checkoutFullDetails\">\r\n                   <div className=\"headingCheckoutDetails\">\r\n                       <h3>Your added cart details are</h3>\r\n                   </div>\r\n                   <div className=\"checkoutDetailsShow\">\r\n                       \r\n                           \r\n                                <p>Your total item quantity is {totalItems} and your total unique items are {totalUniqueItems}</p>   \r\n                           \r\n                       \r\n                   </div>\r\n\r\n               </div>\r\n               <hr />\r\n               <div className=\"branchClass\">\r\n                    <div id=\"headingBranch\">\r\n                        <h5>Select Branch for Order</h5>\r\n                    </div>\r\n                    <div id=\"selectBigBranch\">\r\n                        \r\n                        <select id=\"select_style\" onChange={orderChange} name=\"branch\" value={payment.branch}>\r\n                            \r\n                            \r\n\r\n                            \r\n                            <option>Select Branch</option>\r\n                            \r\n                            <option value={1}>Fish Restaurant</option>\r\n                            \r\n                            \r\n                        </select>\r\n                    \r\n                    </div>\r\n               </div>\r\n               <hr />\r\n               <div className=\"paymentType\">\r\n                    <div id=\"headingPayment\">\r\n                        <h5>Select Payment Type</h5>\r\n                    </div>\r\n                    <div id=\"selectBigPayment\">\r\n                        \r\n                        <select id=\"select_style\" onChange={orderChange} name=\"payment_type\" value={payment.payment_type}>\r\n                            \r\n                            <option  >Select Payment Type</option>\r\n                            \r\n                                \r\n                                <option value={1}>Cash</option>\r\n                                <option value={2}>Credit Card</option>\r\n                                <option value={3}>Debit Card</option>\r\n                                \r\n                                \r\n                           \r\n                            \r\n                            \r\n                        </select>\r\n                    \r\n                    </div>\r\n               </div>\r\n               <hr />\r\n               <div className=\"orderType\">\r\n                    <div id=\"headingOrder\">\r\n                        <h5>Select Order Type</h5>\r\n                    </div>\r\n                    <div id=\"selectBigOrder\">\r\n                        \r\n                        <select id=\"select_style\" onChange={orderChange} name=\"order_type\" value={payment.order_type}>\r\n                            \r\n                            <option >Select Order Type</option>\r\n                            \r\n                                \r\n                                <option value={1}>Takeaway</option>\r\n                                <option value={2}>Dine</option>\r\n                                <option value={3}>Delivery</option>\r\n                                \r\n                                \r\n                           \r\n                            \r\n                            \r\n                        </select>\r\n                    \r\n                    </div>\r\n               </div>\r\n               <hr />\r\n               <div className=\"placeOrderButton\">\r\n                   <button onClick={handleOrder}>Place Order</button>\r\n               </div>\r\n\r\n\r\n           </div>\r\n\r\n        </div>\r\n    )\r\n}\r\nexport default Checkout;"]},"metadata":{},"sourceType":"module"}