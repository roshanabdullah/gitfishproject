{"ast":null,"code":"var _jsxFileName = \"D:\\\\myFishProject\\\\frontend\\\\src\\\\components\\\\Addcart.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { useCart } from \"react-use-cart\";\nimport { useEffect, useState } from \"react\";\nimport startersData from \"./Data\";\nimport { loadStripe } from \"@stripe/stripe-js\";\nimport axios from 'axios';\nimport { Component } from \"react\";\nimport getCommonOptions from \"./getCommonOptions\";\nimport { useCallback } from \"react\";\nimport { v4 as uuid } from 'uuid';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction Cart() {\n  _s();\n\n  let [branches, setBranches] = useState([]);\n\n  const fetchData = () => {\n    fetch('http://127.0.0.1:8000/franchise/', getCommonOptions()).then(response => response.json()).then(data => {\n      setBranches(data);\n      console.log(data);\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n\n  useEffect(() => {\n    fetchData();\n  }, []);\n\n  const changeCheckout = e => {\n    e.preventDefault();\n    const {\n      name,\n      value\n    } = e.target;\n    setCheckoutData({ ...checkoutData,\n      [name]: value\n    });\n    console.log(checkoutData);\n  };\n\n  const handleCheckout = e => {\n    e.preventDefault();\n    const unique_id = uuid();\n    const small_id = unique_id.slice(0, 7);\n    const main_data = {\n      total: checkoutData.total,\n      internal_id: small_id,\n      item_price: cartTotal,\n      notes: checkoutData.notes,\n      road: checkoutData.road,\n      block: checkoutData.block,\n      house: checkoutData.house,\n      branch: checkoutData.branch_select\n    };\n    const authCheckout = JSON.parse(localStorage.getItem('authToken'));\n    fetch('http://127.0.0.1:8000/cart/', {\n      method: \"POST\",\n      headers: {\n        'Authorization': `token ${authCheckout}`,\n        'Content-Type': 'application/json',\n        'Accept': 'application/json'\n      },\n      body: JSON.stringify(main_data)\n    }).then(res => {\n      console.log(res.data);\n    });\n  };\n\n  const {\n    isEmpty,\n    totalUniqueItems,\n    updateItemQuantity,\n    items,\n    removeItem,\n    totalItems,\n    cartTotal\n  } = useCart();\n  const delivery = cartTotal + 2.5;\n  const VAT = parseFloat(delivery * 0.05).toFixed(2);\n  const totalAmount = parseFloat(delivery + VAT).toFixed(2);\n  const checkoutValues = {\n    total: totalAmount,\n    notes: \"\",\n    block: \"\",\n    road: \"\",\n    house: \"\",\n    branch_select: \"\"\n  };\n  let [checkoutData, setCheckoutData] = useState(checkoutValues);\n  if (isEmpty) return /*#__PURE__*/_jsxDEV(\"h1\", {\n    className: \"emptyCart\",\n    children: \"Your Cart is Empty\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 91,\n    columnNumber: 24\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mainSection\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"shoppingHeading\",\n        children: \"Shopping Cart\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"paraShoppingHeading\",\n        children: [\"You have \", totalItems, \" in your shopping cart\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 13\n      }, this), items.map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"cartRow\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            className: \"cartImage\",\n            src: item.img,\n            alt: \"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"cartName\",\n            children: item.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"cartArab\",\n            children: item.arab\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"ul\", {\n            children: /*#__PURE__*/_jsxDEV(\"li\", {\n              children: [item.quantity, \"*\", item.name, \" \\u2014\", /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"updateButton\",\n                onClick: () => updateItemQuantity(item.id, item.quantity - 1),\n                children: \"-\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 114,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"updateButton\",\n                onClick: () => updateItemQuantity(item.id, item.quantity + 1),\n                children: \"+\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 117,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"updateButton\",\n                onClick: () => removeItem(item.id),\n                children: \"\\xD7\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 120,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 111,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 25\n        }, this)]\n      }, item.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 21\n      }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"cartRow2\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"choose\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"chooseHeading\",\n            children: /*#__PURE__*/_jsxDEV(\"h1\", {\n              children: \"Choose\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 133,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"chooseBoxes\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"deliveryBox\",\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: require('./images/cart1.png'),\n                height: \"180px\",\n                width: \"200px\",\n                alt: \"\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 137,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                children: \"Delivery\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 138,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 136,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"dineBox\",\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: require('./images/cart2.png'),\n                height: \"180px\",\n                width: \"200px\",\n                alt: \"\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 141,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                children: \"Dine In\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 142,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 140,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"takeaway\",\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: require('./images/cart3.png'),\n                height: \"180px\",\n                width: \"200px\",\n                alt: \"\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 145,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                children: \"Takeaway\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 146,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 144,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"chooseData\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"deliveryAddress\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: [\"House/Building\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 153,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"address\",\n                  id: \"house\",\n                  name: \"house\",\n                  onChange: changeCheckout\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 154,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 151,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 156,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                children: [\"Block\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 159,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"address\",\n                  id: \"block\",\n                  name: \"block\",\n                  onChange: changeCheckout\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 160,\n                  columnNumber: 33\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 157,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 162,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                children: [\"Road\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 165,\n                  columnNumber: 35\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"address\",\n                  id: \"road\",\n                  name: \"road\",\n                  onChange: changeCheckout\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 166,\n                  columnNumber: 33\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 163,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 150,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 169,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"dineIn\",\n              children: /*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"countdownHeading\",\n                children: \"00:00\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 171,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 170,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"branchDrop\",\n              children: /*#__PURE__*/_jsxDEV(\"select\", {\n                onChange: changeCheckout,\n                value: checkoutData.branch_select,\n                name: \"branch_select\",\n                id: \"branch-select\",\n                children: /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    children: \"Select Branch\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 182,\n                    columnNumber: 41\n                  }, this), branches.map(branch => /*#__PURE__*/_jsxDEV(\"option\", {\n                    name: \"branch_names\",\n                    children: branch.franchise_name\n                  }, branch.id, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 185,\n                    columnNumber: 45\n                  }, this))]\n                }, void 0, true)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 180,\n                columnNumber: 41\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 176,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"note\",\n          children: /*#__PURE__*/_jsxDEV(\"form\", {\n            children: /*#__PURE__*/_jsxDEV(\"label\", {\n              children: [\"Leave a note here\", /*#__PURE__*/_jsxDEV(\"input\", {\n                className: \"noteInput\",\n                type: \"text\",\n                id: \"noteID\",\n                onChange: changeCheckout,\n                name: \"notes\",\n                value: checkoutData.notes\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 208,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 206,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"cartRow3\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"paymentHeading\",\n            children: \"Payment Summary\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 215,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"paymentSummary\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Items Price Total: \", /*#__PURE__*/_jsxDEV(\"mark\", {\n                children: [cartTotal, \"BD\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 217,\n                columnNumber: 51\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 217,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Delivery Fee: \", /*#__PURE__*/_jsxDEV(\"mark\", {\n                children: [delivery, \"BD\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 218,\n                columnNumber: 46\n              }, this), \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 218,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"VAT Fee: \", /*#__PURE__*/_jsxDEV(\"mark\", {\n                children: [VAT, \"BD\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 219,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 219,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Your Final Amount is: \", /*#__PURE__*/_jsxDEV(\"mark\", {\n                children: [totalAmount, \"BD\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 220,\n                columnNumber: 54\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 220,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 216,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"cartRow4\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleCheckout,\n            children: \"Checkout\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 224,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 95,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Cart, \"tNgeMpyHRUJJbyBitpoORLJMn/Y=\", false, function () {\n  return [useCart];\n});\n\n_c = Cart;\nexport default Cart;\n\nvar _c;\n\n$RefreshReg$(_c, \"Cart\");","map":{"version":3,"sources":["D:/myFishProject/frontend/src/components/Addcart.js"],"names":["React","useCart","useEffect","useState","startersData","loadStripe","axios","Component","getCommonOptions","useCallback","v4","uuid","Cart","branches","setBranches","fetchData","fetch","then","response","json","data","console","log","catch","err","changeCheckout","e","preventDefault","name","value","target","setCheckoutData","checkoutData","handleCheckout","unique_id","small_id","slice","main_data","total","internal_id","item_price","cartTotal","notes","road","block","house","branch","branch_select","authCheckout","JSON","parse","localStorage","getItem","method","headers","body","stringify","res","isEmpty","totalUniqueItems","updateItemQuantity","items","removeItem","totalItems","delivery","VAT","parseFloat","toFixed","totalAmount","checkoutValues","map","item","img","arab","quantity","id","require","franchise_name"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { useCart } from \"react-use-cart\";\r\nimport { useEffect, useState } from \"react\";\r\nimport startersData from \"./Data\";\r\nimport { loadStripe } from \"@stripe/stripe-js\";\r\nimport axios from 'axios';\r\nimport { Component } from \"react\";\r\nimport getCommonOptions from \"./getCommonOptions\";\r\nimport { useCallback } from \"react\";\r\n\r\nimport { v4 as uuid } from 'uuid';\r\n\r\nfunction Cart(){\r\n    let [branches, setBranches]=useState([]);\r\n    \r\n    const fetchData=()=>{\r\n        \r\n        fetch('http://127.0.0.1:8000/franchise/', getCommonOptions()).then(response=>response.json())\r\n        .then((data)=>{\r\n            setBranches(data);\r\n            console.log(data);\r\n        }).catch((err)=>{\r\n            console.log(err);\r\n        })\r\n           \r\n        \r\n\r\n    }\r\n    useEffect(()=>{\r\n        fetchData();\r\n    },[])\r\n   \r\n   const changeCheckout=(e)=>{\r\n       e.preventDefault();\r\n       const {name, value}=e.target;\r\n       setCheckoutData({...checkoutData, [name]:value});\r\n       console.log(checkoutData);\r\n   }\r\n    \r\n   const handleCheckout=(e)=>{\r\n       e.preventDefault();\r\n       const unique_id = uuid();\r\n       const small_id = unique_id.slice(0,7);\r\n       const main_data={total:checkoutData.total, internal_id:small_id, item_price:cartTotal, notes:checkoutData.notes,\r\n       road:checkoutData.road, block:checkoutData.block, house:checkoutData.house, branch:checkoutData.branch_select  }\r\n       const authCheckout=JSON.parse(localStorage.getItem('authToken'));\r\n        \r\n       fetch('http://127.0.0.1:8000/cart/', {\r\n        method:\"POST\",\r\n        headers:{\r\n            'Authorization': `token ${authCheckout}`,\r\n            'Content-Type':'application/json',\r\n            'Accept':'application/json'\r\n        },\r\n        body:JSON.stringify(main_data),\r\n       } ).then((res)=>{\r\n           console.log(res.data);       })\r\n   } \r\n   \r\n   \r\n   \r\n        \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n\r\n\r\n    \r\n    const {\r\n        isEmpty,\r\n        totalUniqueItems,\r\n        updateItemQuantity,\r\n        items,\r\n        removeItem,\r\n        totalItems,\r\n        cartTotal,\r\n    } = useCart();\r\n    const delivery=cartTotal+2.5;\r\n    const VAT=parseFloat(delivery*0.05).toFixed(2);\r\n    const totalAmount=parseFloat(delivery+VAT).toFixed(2);\r\n    \r\n    const checkoutValues={total:totalAmount, notes:\"\", block:\"\", road:\"\", house:\"\", branch_select:\"\" };\r\n    let [checkoutData, setCheckoutData]=useState(checkoutValues);\r\n   \r\n   \r\n  \r\n    \r\n    if(isEmpty) return <h1 className=\"emptyCart\">Your Cart is Empty</h1>\r\n    \r\n    return(\r\n        \r\n        <section>\r\n            \r\n            <div className=\"mainSection\">\r\n            <h1 className=\"shoppingHeading\">Shopping Cart</h1>\r\n            <p className=\"paraShoppingHeading\">You have {totalItems} in your shopping cart</p>   \r\n               {items.map((item) =>\r\n                    <div className=\"cartRow\" key={item.id} >\r\n                        <div>\r\n                            <img className=\"cartImage\" src={item.img} alt=\"\" />\r\n                        </div>\r\n                        <div>\r\n                            <h3 className=\"cartName\">{item.name}</h3>\r\n                            <h3 className=\"cartArab\">{item.arab}</h3>\r\n                        </div>\r\n                        <div>\r\n                            <ul>\r\n                                <li>\r\n                                    {item.quantity}*{item.name} &mdash;\r\n                                    \r\n                                    <button className=\"updateButton\" onClick={()=>updateItemQuantity(item.id, item.quantity-1)}>\r\n                                        -\r\n                                    </button>\r\n                                    <button className=\"updateButton\" onClick={()=>updateItemQuantity(item.id, item.quantity+1)}>\r\n                                        +\r\n                                    </button>\r\n                                    <button className=\"updateButton\" onClick={()=>removeItem(item.id)}>\r\n                                        &times;\r\n                                    </button>\r\n                                </li>  \r\n                               \r\n                            </ul>\r\n                        </div>\r\n                        \r\n                    </div>\r\n                )}\r\n                <div className=\"cartRow2\">\r\n                    <div className=\"choose\">\r\n                        <div className=\"chooseHeading\">\r\n                            <h1>Choose</h1>\r\n                        </div>\r\n                        <div className=\"chooseBoxes\">\r\n                            <div className=\"deliveryBox\">\r\n                                <img src={require('./images/cart1.png')} height=\"180px\" width=\"200px\" alt=\"\" />\r\n                                <h3>Delivery</h3>\r\n                            </div>\r\n                            <div className=\"dineBox\">\r\n                                <img src={require('./images/cart2.png')} height=\"180px\" width=\"200px\" alt=\"\" />\r\n                                <h3>Dine In</h3> \r\n                            </div>\r\n                            <div className=\"takeaway\">\r\n                                <img src={require('./images/cart3.png')} height=\"180px\" width=\"200px\" alt=\"\" />\r\n                                <h3>Takeaway</h3>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"chooseData\">\r\n                            <div className=\"deliveryAddress\">\r\n                                <label>\r\n                                    House/Building\r\n                                    <br/>\r\n                                        <input type=\"address\" id=\"house\" name=\"house\" onChange={changeCheckout}/>\r\n                                </label>\r\n                                <br/>\r\n                                <label>\r\n                                    Block\r\n                                    <br/>\r\n                                <input type=\"address\" id=\"block\" name=\"block\" onChange={changeCheckout}/>\r\n                                </label>\r\n                                <br/>\r\n                                <label>\r\n                                  Road\r\n                                  <br/>  \r\n                                <input type=\"address\" id=\"road\" name=\"road\" onChange={changeCheckout}/>\r\n                                </label>\r\n                            </div>\r\n                            <br/>\r\n                            <div className=\"dineIn\">\r\n                                <h3 className=\"countdownHeading\">00:00</h3>\r\n                            </div>\r\n                            \r\n\r\n                            \r\n                            <div   className=\"branchDrop\">\r\n                               \r\n                                        \r\n                                       \r\n                                        <select onChange={changeCheckout} value={checkoutData.branch_select} name=\"branch_select\" id=\"branch-select\">\r\n                                        <>\r\n                                        <option>Select Branch</option>\r\n                                        {branches.map((branch)=>\r\n                                            \r\n                                            <option name=\"branch_names\" key={branch.id}>{branch.franchise_name}</option>,\r\n                                            \r\n                                            \r\n                                            \r\n                                        )}    \r\n                                        </>    \r\n                                        \r\n                                        \r\n                                        </select>\r\n                                              \r\n                                        \r\n                            \r\n                            </div>\r\n                              \r\n\r\n                        </div>\r\n\r\n                    </div>\r\n                    <hr/>\r\n                    <div className=\"note\">\r\n                        <form>\r\n                        <label>\r\n                            Leave a note here\r\n                            <input className=\"noteInput\" type=\"text\" id=\"noteID\" onChange={changeCheckout} name=\"notes\" value={checkoutData.notes}/>\r\n                        </label> \r\n                        </form>\r\n                    </div>\r\n                    <hr/>\r\n                    \r\n                    <div className=\"cartRow3\">\r\n                        <h1 className=\"paymentHeading\">Payment Summary</h1>\r\n                        <div className=\"paymentSummary\">\r\n                            <p>Items Price Total: <mark>{cartTotal}BD</mark></p>\r\n                            <p>Delivery Fee: <mark>{delivery}BD</mark> </p>\r\n                            <p>VAT Fee: <mark>{VAT}BD</mark></p>\r\n                            <p>Your Final Amount is: <mark>{totalAmount}BD</mark></p>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"cartRow4\">\r\n                        <button onClick={handleCheckout}>Checkout</button>\r\n                        \r\n                    </div>\r\n                    \r\n                </div>\r\n                \r\n\r\n            </div>\r\n        </section>\r\n    )}\r\nexport default Cart;\r\n\r\n"]},"metadata":{},"sourceType":"module"}