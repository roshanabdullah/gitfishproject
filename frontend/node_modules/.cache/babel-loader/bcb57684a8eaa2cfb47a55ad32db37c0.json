{"ast":null,"code":"var _jsxFileName = \"D:\\\\myFishProject\\\\frontend\\\\src\\\\components\\\\Accountpage.js\",\n    _s = $RefreshSig$();\n\nimport React, { Component, useState, useRef, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { faCheck, faTimes, faInfoCircle } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst USER_REGEX = /^[A-z][A-z0-9-_]{3,23}$/;\nconst PWD_REGEX = /^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%]).{8,24}$/;\n\nconst Account = () => {\n  _s();\n\n  const userRef = useRef();\n  const errRef = useRef();\n  const [user, setUser] = useState('');\n  const [validName, setValidName] = useState(false);\n  const [userFocus, setUserFocus] = useState(false);\n  const [pwd, setPwd] = useState('');\n  const [validPwd, setValidPwd] = useState(false);\n  const [pwdFocus, setPwdFocus] = useState(false);\n  const [matchPwd, setMatchPwd] = useState('');\n  const [validMatch, setValidMatch] = useState(false);\n  const [matchFocus, setMatchFocus] = useState(false);\n  const [errMsg, setErrMsg] = useState('');\n  const [success, setSuccess] = useState(false);\n  useEffect(() => {\n    userRef.current.focus();\n  }, []);\n  useEffect(() => {\n    setValidName(USER_REGEX.test(user));\n  }, [user]);\n  useEffect(() => {\n    setValidPwd(PWD_REGEX.test(pwd));\n    setValidMatch(pwd === matchPwd);\n  }, [pwd, matchPwd]);\n  useEffect(() => {\n    setErrMsg('');\n  }, [user, pwd, matchPwd]);\n\n  const handleSubmit = async e => {\n    e.preventDefault(); // if button enabled with JS hack\n\n    const v1 = USER_REGEX.test(user);\n    const v2 = PWD_REGEX.test(pwd);\n\n    if (!v1 || !v2) {\n      setErrMsg(\"Invalid Entry\");\n      return;\n    }\n\n    try {\n      const response = await axios.post(REGISTER_URL, JSON.stringify({\n        user,\n        pwd\n      }), {\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        withCredentials: true\n      });\n      console.log(response === null || response === void 0 ? void 0 : response.data);\n      console.log(response === null || response === void 0 ? void 0 : response.accessToken);\n      console.log(JSON.stringify(response));\n      setSuccess(true); //clear state and controlled inputs\n      //need value attrib on inputs for this\n\n      setUser('');\n      setPwd('');\n      setMatchPwd('');\n    } catch (err) {\n      var _err$response;\n\n      if (!(err !== null && err !== void 0 && err.response)) {\n        setErrMsg('No Server Response');\n      } else if (((_err$response = err.response) === null || _err$response === void 0 ? void 0 : _err$response.status) === 409) {\n        setErrMsg('Username Taken');\n      } else {\n        setErrMsg('Registration Failed');\n      }\n\n      errRef.current.focus();\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: success ? /*#__PURE__*/_jsxDEV(\"section\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Success!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: /*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"#\",\n          children: \"Sign In\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(\"section\", {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"Container\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"linkClass\",\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/LoginAccount\",\n            children: \"Already Have An Account?\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 45\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"inner-box\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"acc-row1\",\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"accHeading\",\n              children: \"Create An Account Here...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 104,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"accParaDetail\",\n              children: \"Enter your details below to create an account for free\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 105,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"createAccForm\",\n            children: /*#__PURE__*/_jsxDEV(\"form\", {\n              className: \"accFormClass\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                id: \"username\",\n                ref: userRef,\n                onChange: e => setUser(e.target.value),\n                value: user,\n                placeholder: \"Enter Your Username\",\n                autoComplete: \"off\",\n                required: true,\n                \"aria-invalid\": validName ? \"false\" : \"true\",\n                \"aria-describedby\": \"uidnote\",\n                onFocus: () => setUserFocus(true),\n                onBlur: () => setUserFocus(false)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 111,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                id: \"uidnote\",\n                className: userFocus && user && !validName ? \"instructions\" : \"offscreen\",\n                children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                  icon: faInfoCircle\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 116,\n                  columnNumber: 37\n                }, this), \"4 to 24 characters.\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 117,\n                  columnNumber: 56\n                }, this), \"Must begin with a letter.\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 118,\n                  columnNumber: 62\n                }, this), \"Letters, numbers, underscores, hyphens allowed.\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 115,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"password\",\n                id: \"password\",\n                onChange: e => setPwd(e.target.value),\n                value: pwd,\n                name: \"password\",\n                placeholder: \"Enter Your Password\",\n                required: true,\n                \"aria-invalid\": validPwd ? \"false\" : \"true\",\n                \"aria-describedby\": \"pwdnote\",\n                onFocus: () => setPwdFocus(true),\n                onBlur: () => setPwdFocus(false)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 122,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                id: \"pwdnote\",\n                className: pwdFocus && !validPwd ? \"instructions\" : \"offscreen\",\n                children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                  icon: faInfoCircle\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 130,\n                  columnNumber: 37\n                }, this), \"8 to 24 characters.\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 131,\n                  columnNumber: 56\n                }, this), \"Must include uppercase and lowercase letters, a number and a special character.\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 132,\n                  columnNumber: 116\n                }, this), \"Allowed special characters: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                  \"aria-label\": \"exclamation mark\",\n                  children: \"!\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 133,\n                  columnNumber: 65\n                }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                  \"aria-label\": \"at symbol\",\n                  children: \"@\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 133,\n                  columnNumber: 110\n                }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                  \"aria-label\": \"hashtag\",\n                  children: \"#\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 133,\n                  columnNumber: 148\n                }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                  \"aria-label\": \"dollar sign\",\n                  children: \"$\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 133,\n                  columnNumber: 184\n                }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                  \"aria-label\": \"percent\",\n                  children: \"%\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 133,\n                  columnNumber: 224\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 129,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"password\",\n                id: \"confirm_pwd\",\n                required: true,\n                name: \"password\",\n                placeholder: \"Retype Your Password Again\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 136,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"accRegisterButton\",\n                children: \"Submit\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 140,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n};\n\n_s(Account, \"K2L7L9cVkNc42S3paB9KBpe33pw=\");\n\n_c = Account;\nexport default Account;\n\nvar _c;\n\n$RefreshReg$(_c, \"Account\");","map":{"version":3,"sources":["D:/myFishProject/frontend/src/components/Accountpage.js"],"names":["React","Component","useState","useRef","useEffect","Link","faCheck","faTimes","faInfoCircle","FontAwesomeIcon","axios","USER_REGEX","PWD_REGEX","Account","userRef","errRef","user","setUser","validName","setValidName","userFocus","setUserFocus","pwd","setPwd","validPwd","setValidPwd","pwdFocus","setPwdFocus","matchPwd","setMatchPwd","validMatch","setValidMatch","matchFocus","setMatchFocus","errMsg","setErrMsg","success","setSuccess","current","focus","test","handleSubmit","e","preventDefault","v1","v2","response","post","REGISTER_URL","JSON","stringify","headers","withCredentials","console","log","data","accessToken","err","status","target","value"],"mappings":";;;AAAA,OAAOA,KAAP,IAAeC,SAAf,EAA0BC,QAA1B,EAAoCC,MAApC,EAA4CC,SAA5C,QAA4D,OAA5D;AACA,SAAQC,IAAR,QAAmB,kBAAnB;AACA,SAASC,OAAT,EAAkBC,OAAlB,EAA2BC,YAA3B,QAA+C,mCAA/C;AACA,SAASC,eAAT,QAAgC,gCAAhC;AACA,OAAOC,KAAP,MAAkB,OAAlB;;;AAIA,MAAMC,UAAU,GAAG,yBAAnB;AACA,MAAMC,SAAS,GAAG,yDAAlB;;AACA,MAAMC,OAAO,GAAG,MAAM;AAAA;;AAElB,QAAMC,OAAO,GAAGX,MAAM,EAAtB;AACA,QAAMY,MAAM,GAAGZ,MAAM,EAArB;AAEA,QAAM,CAACa,IAAD,EAAOC,OAAP,IAAkBf,QAAQ,CAAC,EAAD,CAAhC;AACA,QAAM,CAACgB,SAAD,EAAYC,YAAZ,IAA4BjB,QAAQ,CAAC,KAAD,CAA1C;AACA,QAAM,CAACkB,SAAD,EAAYC,YAAZ,IAA4BnB,QAAQ,CAAC,KAAD,CAA1C;AAEA,QAAM,CAACoB,GAAD,EAAMC,MAAN,IAAgBrB,QAAQ,CAAC,EAAD,CAA9B;AACA,QAAM,CAACsB,QAAD,EAAWC,WAAX,IAA0BvB,QAAQ,CAAC,KAAD,CAAxC;AACA,QAAM,CAACwB,QAAD,EAAWC,WAAX,IAA0BzB,QAAQ,CAAC,KAAD,CAAxC;AAEA,QAAM,CAAC0B,QAAD,EAAWC,WAAX,IAA0B3B,QAAQ,CAAC,EAAD,CAAxC;AACA,QAAM,CAAC4B,UAAD,EAAaC,aAAb,IAA8B7B,QAAQ,CAAC,KAAD,CAA5C;AACA,QAAM,CAAC8B,UAAD,EAAaC,aAAb,IAA8B/B,QAAQ,CAAC,KAAD,CAA5C;AAEA,QAAM,CAACgC,MAAD,EAASC,SAAT,IAAsBjC,QAAQ,CAAC,EAAD,CAApC;AACA,QAAM,CAACkC,OAAD,EAAUC,UAAV,IAAwBnC,QAAQ,CAAC,KAAD,CAAtC;AAEAE,EAAAA,SAAS,CAAC,MAAM;AACZU,IAAAA,OAAO,CAACwB,OAAR,CAAgBC,KAAhB;AACH,GAFQ,EAEN,EAFM,CAAT;AAIAnC,EAAAA,SAAS,CAAC,MAAM;AACZe,IAAAA,YAAY,CAACR,UAAU,CAAC6B,IAAX,CAAgBxB,IAAhB,CAAD,CAAZ;AACH,GAFQ,EAEN,CAACA,IAAD,CAFM,CAAT;AAIAZ,EAAAA,SAAS,CAAC,MAAM;AACZqB,IAAAA,WAAW,CAACb,SAAS,CAAC4B,IAAV,CAAelB,GAAf,CAAD,CAAX;AACAS,IAAAA,aAAa,CAACT,GAAG,KAAKM,QAAT,CAAb;AACH,GAHQ,EAGN,CAACN,GAAD,EAAMM,QAAN,CAHM,CAAT;AAKAxB,EAAAA,SAAS,CAAC,MAAM;AACZ+B,IAAAA,SAAS,CAAC,EAAD,CAAT;AACH,GAFQ,EAEN,CAACnB,IAAD,EAAOM,GAAP,EAAYM,QAAZ,CAFM,CAAT;;AAIA,QAAMa,YAAY,GAAG,MAAOC,CAAP,IAAa;AAC9BA,IAAAA,CAAC,CAACC,cAAF,GAD8B,CAE9B;;AACA,UAAMC,EAAE,GAAGjC,UAAU,CAAC6B,IAAX,CAAgBxB,IAAhB,CAAX;AACA,UAAM6B,EAAE,GAAGjC,SAAS,CAAC4B,IAAV,CAAelB,GAAf,CAAX;;AACA,QAAI,CAACsB,EAAD,IAAO,CAACC,EAAZ,EAAgB;AACZV,MAAAA,SAAS,CAAC,eAAD,CAAT;AACA;AACH;;AACD,QAAI;AACA,YAAMW,QAAQ,GAAG,MAAMpC,KAAK,CAACqC,IAAN,CAAWC,YAAX,EACnBC,IAAI,CAACC,SAAL,CAAe;AAAElC,QAAAA,IAAF;AAAQM,QAAAA;AAAR,OAAf,CADmB,EAEnB;AACI6B,QAAAA,OAAO,EAAE;AAAE,0BAAgB;AAAlB,SADb;AAEIC,QAAAA,eAAe,EAAE;AAFrB,OAFmB,CAAvB;AAOAC,MAAAA,OAAO,CAACC,GAAR,CAAYR,QAAZ,aAAYA,QAAZ,uBAAYA,QAAQ,CAAES,IAAtB;AACAF,MAAAA,OAAO,CAACC,GAAR,CAAYR,QAAZ,aAAYA,QAAZ,uBAAYA,QAAQ,CAAEU,WAAtB;AACAH,MAAAA,OAAO,CAACC,GAAR,CAAYL,IAAI,CAACC,SAAL,CAAeJ,QAAf,CAAZ;AACAT,MAAAA,UAAU,CAAC,IAAD,CAAV,CAXA,CAYA;AACA;;AACApB,MAAAA,OAAO,CAAC,EAAD,CAAP;AACAM,MAAAA,MAAM,CAAC,EAAD,CAAN;AACAM,MAAAA,WAAW,CAAC,EAAD,CAAX;AACH,KAjBD,CAiBE,OAAO4B,GAAP,EAAY;AAAA;;AACV,UAAI,EAACA,GAAD,aAACA,GAAD,eAACA,GAAG,CAAEX,QAAN,CAAJ,EAAoB;AAChBX,QAAAA,SAAS,CAAC,oBAAD,CAAT;AACH,OAFD,MAEO,IAAI,kBAAAsB,GAAG,CAACX,QAAJ,gEAAcY,MAAd,MAAyB,GAA7B,EAAkC;AACrCvB,QAAAA,SAAS,CAAC,gBAAD,CAAT;AACH,OAFM,MAEA;AACHA,QAAAA,SAAS,CAAC,qBAAD,CAAT;AACH;;AACDpB,MAAAA,MAAM,CAACuB,OAAP,CAAeC,KAAf;AACH;AACJ,GApCD;;AAsCA,sBACI;AAAA,cACKH,OAAO,gBACJ;AAAA,8BACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,eAEI;AAAA,+BACI;AAAG,UAAA,IAAI,EAAC,GAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,cAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,YADI,gBAUR;AAAA,6BAEA;AAAK,QAAA,SAAS,EAAC,WAAf;AAAA,gCACI;AAAM,UAAA,SAAS,EAAC,WAAhB;AAAA,iCAA4B,QAAC,IAAD;AAAM,YAAA,EAAE,EAAC,eAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA5B;AAAA;AAAA;AAAA;AAAA,gBADJ,eAEQ;AAAK,UAAA,SAAS,EAAC,WAAf;AAAA,kCACI;AAAK,YAAA,SAAS,EAAC,UAAf;AAAA,oCACI;AAAI,cAAA,SAAS,EAAC,YAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADJ,eAEI;AAAG,cAAA,SAAS,EAAC,eAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,eAMI;AAAK,YAAA,SAAS,EAAC,eAAf;AAAA,mCAEI;AAAO,cAAA,SAAS,EAAC,cAAjB;AAAA,sCACI;AAAO,gBAAA,IAAI,EAAC,MAAZ;AAAmB,gBAAA,EAAE,EAAC,UAAtB;AAAkC,gBAAA,GAAG,EAAEtB,OAAvC;AAAgD,gBAAA,QAAQ,EAAG4B,CAAD,IAAOzB,OAAO,CAACyB,CAAC,CAACiB,MAAF,CAASC,KAAV,CAAxE;AACA,gBAAA,KAAK,EAAE5C,IADP;AACe,gBAAA,WAAW,EAAC,qBAD3B;AACiD,gBAAA,YAAY,EAAC,KAD9D;AACoE,gBAAA,QAAQ,MAD5E;AAC6E,gCAAcE,SAAS,GAAG,OAAH,GAAa,MADjH;AAEA,oCAAiB,SAFjB;AAE2B,gBAAA,OAAO,EAAE,MAAMG,YAAY,CAAC,IAAD,CAFtD;AAGA,gBAAA,MAAM,EAAE,MAAMA,YAAY,CAAC,KAAD;AAH1B;AAAA;AAAA;AAAA;AAAA,sBADJ,eAKI;AAAG,gBAAA,EAAE,EAAC,SAAN;AAAgB,gBAAA,SAAS,EAAED,SAAS,IAAIJ,IAAb,IAAqB,CAACE,SAAtB,GAAkC,cAAlC,GAAmD,WAA9E;AAAA,wCACI,QAAC,eAAD;AAAiB,kBAAA,IAAI,EAAEV;AAAvB;AAAA;AAAA;AAAA;AAAA,wBADJ,sCAEuB;AAAA;AAAA;AAAA;AAAA,wBAFvB,4CAG6B;AAAA;AAAA;AAAA;AAAA,wBAH7B;AAAA;AAAA;AAAA;AAAA;AAAA,sBALJ,eAYI;AAAO,gBAAA,IAAI,EAAC,UAAZ;AAAwB,gBAAA,EAAE,EAAC,UAA3B;AAAsC,gBAAA,QAAQ,EAAGkC,CAAD,IAAOnB,MAAM,CAACmB,CAAC,CAACiB,MAAF,CAASC,KAAV,CAA7D;AACA,gBAAA,KAAK,EAAEtC,GADP;AACY,gBAAA,IAAI,EAAC,UADjB;AAC6B,gBAAA,WAAW,EAAC,qBADzC;AACgE,gBAAA,QAAQ,MADxE;AAEA,gCAAcE,QAAQ,GAAG,OAAH,GAAa,MAFnC;AAGA,oCAAiB,SAHjB;AAIA,gBAAA,OAAO,EAAE,MAAMG,WAAW,CAAC,IAAD,CAJ1B;AAKA,gBAAA,MAAM,EAAE,MAAMA,WAAW,CAAC,KAAD;AALzB;AAAA;AAAA;AAAA;AAAA,sBAZJ,eAmBI;AAAG,gBAAA,EAAE,EAAC,SAAN;AAAgB,gBAAA,SAAS,EAAED,QAAQ,IAAI,CAACF,QAAb,GAAwB,cAAxB,GAAyC,WAApE;AAAA,wCACI,QAAC,eAAD;AAAiB,kBAAA,IAAI,EAAEhB;AAAvB;AAAA;AAAA;AAAA;AAAA,wBADJ,sCAEuB;AAAA;AAAA;AAAA;AAAA,wBAFvB,kGAGmF;AAAA;AAAA;AAAA;AAAA,wBAHnF,+CAIgC;AAAM,gCAAW,kBAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAJhC,oBAI6E;AAAM,gCAAW,WAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAJ7E,oBAImH;AAAM,gCAAW,SAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAJnH,oBAIuJ;AAAM,gCAAW,aAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAJvJ,oBAI+L;AAAM,gCAAW,SAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAJ/L;AAAA;AAAA;AAAA;AAAA;AAAA,sBAnBJ,eA0BI;AAAO,gBAAA,IAAI,EAAC,UAAZ;AAAuB,gBAAA,EAAE,EAAC,aAA1B;AACA,gBAAA,QAAQ,MADR;AACS,gBAAA,IAAI,EAAC,UADd;AAC0B,gBAAA,WAAW,EAAC;AADtC;AAAA;AAAA;AAAA;AAAA,sBA1BJ,eA8BI;AAAU,gBAAA,SAAS,EAAC,mBAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBA9BJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAFJ;AAAA;AAAA;AAAA;AAAA,kBANJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFR;AAAA;AAAA;AAAA;AAAA;AAAA;AAFA;AAAA;AAAA;AAAA;AAAA;AAXJ,mBADJ;AAmEH,CA9ID;;GAAMK,O;;KAAAA,O;AA+IN,eAAeA,OAAf","sourcesContent":["import React, {Component, useState, useRef, useEffect} from \"react\";\r\nimport {Link} from \"react-router-dom\";\r\nimport { faCheck, faTimes, faInfoCircle } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport axios from \"axios\";\r\n\r\n\r\n\r\nconst USER_REGEX = /^[A-z][A-z0-9-_]{3,23}$/;\r\nconst PWD_REGEX = /^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%]).{8,24}$/;\r\nconst Account = () => {\r\n\r\n    const userRef = useRef();\r\n    const errRef = useRef();\r\n\r\n    const [user, setUser] = useState('');\r\n    const [validName, setValidName] = useState(false);\r\n    const [userFocus, setUserFocus] = useState(false);\r\n\r\n    const [pwd, setPwd] = useState('');\r\n    const [validPwd, setValidPwd] = useState(false);\r\n    const [pwdFocus, setPwdFocus] = useState(false);\r\n\r\n    const [matchPwd, setMatchPwd] = useState('');\r\n    const [validMatch, setValidMatch] = useState(false);\r\n    const [matchFocus, setMatchFocus] = useState(false);\r\n\r\n    const [errMsg, setErrMsg] = useState('');\r\n    const [success, setSuccess] = useState(false);\r\n\r\n    useEffect(() => {\r\n        userRef.current.focus();\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        setValidName(USER_REGEX.test(user));\r\n    }, [user])\r\n\r\n    useEffect(() => {\r\n        setValidPwd(PWD_REGEX.test(pwd));\r\n        setValidMatch(pwd === matchPwd);\r\n    }, [pwd, matchPwd])\r\n\r\n    useEffect(() => {\r\n        setErrMsg('');\r\n    }, [user, pwd, matchPwd])\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        // if button enabled with JS hack\r\n        const v1 = USER_REGEX.test(user);\r\n        const v2 = PWD_REGEX.test(pwd);\r\n        if (!v1 || !v2) {\r\n            setErrMsg(\"Invalid Entry\");\r\n            return;\r\n        }\r\n        try {\r\n            const response = await axios.post(REGISTER_URL,\r\n                JSON.stringify({ user, pwd }),\r\n                {\r\n                    headers: { 'Content-Type': 'application/json' },\r\n                    withCredentials: true\r\n                }\r\n            );\r\n            console.log(response?.data);\r\n            console.log(response?.accessToken);\r\n            console.log(JSON.stringify(response))\r\n            setSuccess(true);\r\n            //clear state and controlled inputs\r\n            //need value attrib on inputs for this\r\n            setUser('');\r\n            setPwd('');\r\n            setMatchPwd('');\r\n        } catch (err) {\r\n            if (!err?.response) {\r\n                setErrMsg('No Server Response');\r\n            } else if (err.response?.status === 409) {\r\n                setErrMsg('Username Taken');\r\n            } else {\r\n                setErrMsg('Registration Failed')\r\n            }\r\n            errRef.current.focus();\r\n        }\r\n    }\r\n\r\n    return(\r\n        <>\r\n            {success ? (\r\n                <section>\r\n                    <h1>Success!</h1>\r\n                    <p>\r\n                        <a href=\"#\">Sign In</a>\r\n                    </p>\r\n                </section>\r\n            ) : (\r\n            \r\n\r\n            <section>\r\n            \r\n            <div className=\"Container\">\r\n                <span className=\"linkClass\"><Link to=\"/LoginAccount\">Already Have An Account?</Link></span> \r\n                    <div className=\"inner-box\">\r\n                        <div className=\"acc-row1\">\r\n                            <h1 className=\"accHeading\">Create An Account Here...</h1>\r\n                            <p className=\"accParaDetail\">Enter your details below to create an account for free</p>\r\n                        </div>\r\n                            \r\n                        <div className=\"createAccForm\">\r\n                        \r\n                            <form  className=\"accFormClass\">\r\n                                <input type=\"text\" id=\"username\"  ref={userRef} onChange={(e) => setUser(e.target.value)}\r\n                                value={user}   placeholder=\"Enter Your Username\" autoComplete=\"off\" required aria-invalid={validName ? \"false\" : \"true\"}\r\n                                aria-describedby=\"uidnote\" onFocus={() => setUserFocus(true)}\r\n                                onBlur={() => setUserFocus(false)}  />\r\n                                <p id=\"uidnote\" className={userFocus && user && !validName ? \"instructions\" : \"offscreen\"}>\r\n                                    <FontAwesomeIcon icon={faInfoCircle} />\r\n                                    4 to 24 characters.<br />\r\n                                    Must begin with a letter.<br />\r\n                                    Letters, numbers, underscores, hyphens allowed.\r\n                                </p>\r\n                                \r\n                                <input type=\"password\"  id=\"password\" onChange={(e) => setPwd(e.target.value)}\r\n                                value={pwd} name=\"password\"  placeholder=\"Enter Your Password\"  required\r\n                                aria-invalid={validPwd ? \"false\" : \"true\"}\r\n                                aria-describedby=\"pwdnote\"\r\n                                onFocus={() => setPwdFocus(true)}\r\n                                onBlur={() => setPwdFocus(false)}/>\r\n\r\n                                <p id=\"pwdnote\" className={pwdFocus && !validPwd ? \"instructions\" : \"offscreen\"}>\r\n                                    <FontAwesomeIcon icon={faInfoCircle} />\r\n                                    8 to 24 characters.<br />\r\n                                    Must include uppercase and lowercase letters, a number and a special character.<br />\r\n                                    Allowed special characters: <span aria-label=\"exclamation mark\">!</span> <span aria-label=\"at symbol\">@</span> <span aria-label=\"hashtag\">#</span> <span aria-label=\"dollar sign\">$</span> <span aria-label=\"percent\">%</span>\r\n                                </p>\r\n                                    \r\n                                <input type=\"password\" id=\"confirm_pwd\"\r\n                                required name=\"password\"  placeholder=\"Retype Your Password Again\" \r\n                                 />\r\n                                \r\n                                <button   className=\"accRegisterButton\" >Submit</button>\r\n                            </form>\r\n                        </div>\r\n                    </div>\r\n                </div> \r\n                </section>\r\n            \r\n        \r\n            )}\r\n        </>\r\n    )\r\n    \r\n\r\n}\r\nexport default Account;\r\n\r\n"]},"metadata":{},"sourceType":"module"}